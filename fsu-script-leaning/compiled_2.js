var __extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}()
  , UTMessageProcessor = function(i) {
    function UTMessageProcessor(t) {
        var e = i.call(this) || this;
        return e.id = t,
        e
    }
    return __extends(UTMessageProcessor, i),
    UTMessageProcessor.prototype.dealloc = function() {
        i.prototype.dealloc.call(this)
    }
    ,
    UTMessageProcessor
}(EAObject)
  , UTMessageChannel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMessageChannel(t) {
        var e = i.call(this) || this;
        return e.id = t,
        e.processors = new EAHashTable,
        e
    }
    return __extends(UTMessageChannel, i),
    UTMessageChannel.prototype.dealloc = function() {
        i.prototype.dealloc.call(this)
    }
    ,
    UTMessageChannel.prototype.addProcessor = function(t) {
        this.processors.set(t.id, t)
    }
    ,
    UTMessageChannel.prototype.removeProcessor = function(t) {
        this.processors.remove(t)
    }
    ,
    UTMessageChannel.prototype.transport = function(t) {
        var e = this.processors.get(t.id);
        DebugUtils.Assert(JSUtils.isValid(e), "No processor found for the given message type."),
        e && e.process(t)
    }
    ,
    UTMessageChannel
}(EAObject))
  , UTMessageMediator = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTMessageMediator() {
        var t = e.call(this) || this;
        return t.channels = new EAHashTable,
        t
    }
    return __extends(UTMessageMediator, e),
    UTMessageMediator.prototype.dealloc = function() {
        e.prototype.dealloc.call(this)
    }
    ,
    UTMessageMediator.prototype.processMessage = function(t) {
        var e = this.channels.get(t.id);
        DebugUtils.Assert(JSUtils.isValid(e), "No channel found for the given message type."),
        e && e.transport(t)
    }
    ,
    UTMessageMediator.prototype.registerChannel = function(t) {
        this.channels.set(t.id, t)
    }
    ,
    UTMessageMediator
}(EAObject))
  , EAIntervalController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function EAIntervalController(t, e, i) {
        var r = o.call(this) || this;
        return r.driftCb = i || null,
        r.interval = t,
        r.intervalCb = e,
        r
    }
    return __extends(EAIntervalController, o),
    EAIntervalController.prototype.dealloc = function() {
        this.stop(),
        this.interval = 0,
        this.expectedTimestamp = 0,
        this.intervalCb = null,
        this.driftCb = null,
        o.prototype.dealloc.call(this)
    }
    ,
    EAIntervalController.prototype.tick = function() {
        var t = Date.now() - this.expectedTimestamp;
        t > this.interval && this.driftCb && this.driftCb(),
        this.expectedTimestamp += this.interval,
        this.timeout = window.setTimeout(this.tick.bind(this), Math.max(0, this.interval - t)),
        this.intervalCb && this.intervalCb()
    }
    ,
    EAIntervalController.prototype.stop = function() {
        clearTimeout(this.timeout),
        this.timeout = 0
    }
    ,
    EAIntervalController.prototype.start = function() {
        this.stop(),
        this.expectedTimestamp = Date.now() + this.interval,
        this.timeout = window.setTimeout(this.tick.bind(this), this.interval)
    }
    ,
    EAIntervalController
}(EAObject))
  , UTMessageQueue = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTMessageQueue() {
        var t = e.call(this) || this;
        return t.queue = [],
        t.mediator = new UTMessageMediator,
        t.interval = null,
        t
    }
    return __extends(UTMessageQueue, e),
    UTMessageQueue.prototype.dealloc = function() {
        this.clearQueue(),
        this.interval = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTMessageQueue.prototype.clearQueue = function() {
        return this.queue = [],
        this
    }
    ,
    UTMessageQueue.prototype.getMediator = function() {
        return this.mediator
    }
    ,
    UTMessageQueue.prototype.enqueue = function(t) {
        this.queue.push(t),
        this.startInterval()
    }
    ,
    UTMessageQueue.prototype.dequeue = function() {
        return this.queue.shift()
    }
    ,
    UTMessageQueue.prototype.startInterval = function() {
        if (!this.interval) {
            var t = getAppMain().getConfigRepository().getConfigNumber(EAConfigurationRepository.KEY_MESSAGE_QUEUE_INTERVAL);
            this.interval = new EAIntervalController((0 < t ? t : 1) * MS_PER_SECOND,this.process.bind(this)),
            this.interval.start()
        }
    }
    ,
    UTMessageQueue.prototype.stopInterval = function() {
        this.interval && (this.interval.dealloc(),
        this.interval = null)
    }
    ,
    UTMessageQueue.prototype.process = function() {
        var e = this;
        this.queue.forEach(function(t) {
            e.mediator.processMessage(t),
            e.queue.splice(0, 1)
        }),
        0 === this.queue.length && this.stopInterval()
    }
    ,
    UTMessageQueue
}(EAObject))
  , UTStadiumMessageConsumer = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTStadiumMessageConsumer(t) {
        return e.call(this, t) || this
    }
    return __extends(UTStadiumMessageConsumer, e),
    UTStadiumMessageConsumer.prototype.process = function(t) {
        t.id === this.id && getDefaultDispatcher().notify(AppNotification.STADIUM_SAVE_INTERVAL, this)
    }
    ,
    UTStadiumMessageConsumer
}(UTMessageProcessor))
  , EAServerErrorVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function EAServerErrorVO(t, e) {
        var i = r.call(this) || this;
        return i.code = t,
        i.reason = e,
        i
    }
    return __extends(EAServerErrorVO, r),
    EAServerErrorVO.prototype.value = function() {
        return this.code
    }
    ,
    EAServerErrorVO.prototype.equals = function(t) {
        return t instanceof EAServerErrorVO && t.code === this.code
    }
    ,
    EAServerErrorVO
}(EAObject))
  , DebugUtils = function() {
    function DebugUtils() {}
    return DebugUtils.Assert = function(t, e) {}
    ,
    DebugUtils.StackTrace = function() {}
    ,
    DebugUtils.Watch = function(t, e) {}
    ,
    DebugUtils
}()
  , UTServerErrorVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTServerErrorVO(t, e) {
        var i = r.call(this, t, e) || this;
        return i.code = t,
        i.reason = e,
        i
    }
    return __extends(UTServerErrorVO, r),
    UTServerErrorVO.prototype.value = function() {
        return this.code
    }
    ,
    UTServerErrorVO.prototype.equals = function(t) {
        return t instanceof UTServerErrorVO && t.code === this.code
    }
    ,
    UTServerErrorVO
}(EAServerErrorVO))
  , UTHttpResponseDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTHttpResponseDTO() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTHttpResponseDTO, t),
    UTHttpResponseDTO
}(EAHttpResponseDTO))
  , FCServerErrorVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function FCServerErrorVO(t, e) {
        var i = r.call(this, t, e) || this;
        return i.code = t,
        i.reason = e,
        i
    }
    return __extends(FCServerErrorVO, r),
    FCServerErrorVO.prototype.value = function() {
        return this.code
    }
    ,
    FCServerErrorVO.prototype.equals = function(t) {
        return t instanceof FCServerErrorVO && t.code === this.code
    }
    ,
    FCServerErrorVO
}(EAServerErrorVO))
  , FCHttpResponseDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function FCHttpResponseDTO() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(FCHttpResponseDTO, t),
    FCHttpResponseDTO
}(EAHttpResponseDTO))
  , FCHttpRequest = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCHttpRequest(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e.doReauth = !!e.authDelegate,
        e.doRetry = !0,
        e
    }
    return __extends(FCHttpRequest, i),
    FCHttpRequest.prototype.reset = function() {
        i.prototype.reset.call(this),
        this.doReauth = !!this.authDelegate
    }
    ,
    FCHttpRequest.prototype.setPath = function(t) {
        var e, i;
        this.url = (null !== (i = null === (e = this.authDelegate) || void 0 === e ? void 0 : e.getFCASSession().url) && void 0 !== i ? i : "") + t
    }
    ,
    FCHttpRequest.prototype.setRetry = function(t) {
        this.doRetry = t
    }
    ,
    FCHttpRequest.prototype._setDefaultHeaders = function() {
        i.prototype._setDefaultHeaders.call(this),
        this.authDelegate && this.http.setRequestHeader("X-FC-SID", this.authDelegate.getFCASSession().id)
    }
    ,
    FCHttpRequest.prototype.compare = function(t) {
        var e = this.getRequestBody() === t.getRequestBody()
          , i = this.requestType === t.requestType
          , r = this.getUrl() === t.getUrl();
        return e && i && r
    }
    ,
    FCHttpRequest.prototype._handleReauth = function(t, e) {
        JSUtils.isObject(e.response) && e.response.environment !== AuthEnvironment.FCAS || (t.unobserve(this),
        e.success ? this.doRetry ? this.send() : this._notify() : (this.doReauth = !1,
        this._handleFail()))
    }
    ,
    FCHttpRequest.prototype._handleSuccess = function() {
        var t = new FCHttpResponseDTO
          , e = this._parseResponse();
        t.status = this.http.status,
        t.success = !0,
        t.response = e,
        this.responseIsLegacyError(e) && "200" !== e.code && (t.success = !1,
        t.status = parseInt(e.code, 10));
        var i = this.http.getResponseHeader("Cache-Control");
        if (i) {
            var r = i.split(/[= ,]/);
            "max-age" === r[0] && "string" == typeof r[1] && 0 < r[1].length && (t.maxAge = parseInt(r[1], 10))
        }
        this.notify(t)
    }
    ,
    FCHttpRequest.prototype.convertFCASCodeToHttpStatus = function(t) {
        switch (t) {
        case FcasErrorCode.PROFANITY:
        case FcasErrorCode.PERMISSION_DENIED:
        case FcasErrorCode.STATE_INVALID:
        case FcasErrorCode.NO_USER:
        case FcasErrorCode.NAME_EXISTS:
        case FcasErrorCode.LOGGED_IN_ON_CONSOLE:
        case FcasErrorCode.CREATE_LIMIT_EXCEEDED:
        case FcasErrorCode.LOGIN_LIMIT_EXCEEDED:
        case FcasErrorCode.ACCOUNT_BANNED:
        case FcasErrorCode.REGION_MISMATCH:
        case FcasErrorCode.ACCOUNT_MISMATCH:
        case FcasErrorCode.NO_TITLE_ID:
            return HttpStatusCode.FORBIDDEN;
        case FcasErrorCode.SERVICE_IS_DISABLED:
            return HttpStatusCode.SERVICE_UNAVAILABLE_ERROR;
        case FcasErrorCode.EVENT_EXPIRED:
            return HttpStatusCode.CONFLICT
        }
        return t
    }
    ,
    FCHttpRequest.prototype.generateErrorReason = function(t) {
        switch (t) {
        case FcasErrorCode.ACCOUNT_MISMATCH:
            return "The current EA and first-party accounts don't match each other";
        case FcasErrorCode.ACCOUNT_BANNED:
            return "The user has been banned";
        case FcasErrorCode.LOGIN_LIMIT_EXCEEDED:
            return "The user has exceeded the login request limit";
        case FcasErrorCode.LOGGED_IN_ON_CONSOLE:
            return "The user is already logged in on console";
        case FcasErrorCode.NAME_EXISTS:
            return "The request contains data that already exists";
        case FcasErrorCode.NO_TITLE_ID:
            return "The user does not have a Sony Title ID set from console login";
        case FcasErrorCode.NO_USER:
            return "The requested user data does not exist";
        case FcasErrorCode.PERMISSION_DENIED:
            return "Cannot perform actions on objects not owned by the user";
        case FcasErrorCode.PROFANITY:
            return "The request contains data flagged by the profanity filter";
        case FcasErrorCode.REGION_MISMATCH:
            return "The Sony account region doesn't match the console region";
        case FcasErrorCode.SERVICE_IS_DISABLED:
            return "The server refused the request because the service is disabled";
        case FcasErrorCode.STATE_INVALID:
            return "The state of the item is not compatible with the request";
        case FcasErrorCode.EVENT_EXPIRED:
            return "A required resource for the request has expired";
        default:
            return ""
        }
    }
    ,
    FCHttpRequest.prototype._handleFail = function() {
        this.authDelegate && this.doReauth && this.http.status === HttpStatusCode.UNAUTHORIZED ? this.authDelegate.authenticate(AuthEnvironment.FCAS).observe(this, this._handleReauth) : this._notify()
    }
    ,
    FCHttpRequest.prototype._notify = function() {
        var t = new FCHttpResponseDTO;
        if (t.status = this.convertFCASCodeToHttpStatus(this.http.status),
        JSUtils.isString(this.http.response)) {
            (e = this.http.response).match(FcasErrorReason.MULTIPLE_SESSION) ? (t.status = HttpStatusCode.FORBIDDEN,
            t.error = new FCServerErrorVO(FcasErrorCode.LOGGED_IN_ON_CONSOLE,e)) : e.match(FcasErrorReason.BANNED) ? (t.status = HttpStatusCode.FORBIDDEN,
            t.error = new FCServerErrorVO(FcasErrorCode.ACCOUNT_BANNED,e)) : e.match(FcasErrorReason.GEOIP_DENIED) ? t.status = HttpStatusCode.LEGAL_UNAVAILABLE : t.error = new FCServerErrorVO(this.http.status,e)
        } else {
            var e = this.generateErrorReason(this.http.status);
            t.error = new FCServerErrorVO(this.http.status,e)
        }
        var i = this.http.getResponseHeader("Retry-After");
        t.retryAfter = i ? parseInt(i, 10) : 0,
        this.notify(t)
    }
    ,
    FCHttpRequest.prototype.responseIsLegacyError = function(t) {
        return JSUtils.isObject(t) && JSUtils.isString(t.code)
    }
    ,
    FCHttpRequest.prototype.observe = function(t, e) {
        return i.prototype.observe.call(this, t, e)
    }
    ,
    FCHttpRequest.prototype.unobserve = function(t, e) {
        return i.prototype.unobserve.call(this, t, e)
    }
    ,
    FCHttpRequest.prototype.notify = function(t) {
        return i.prototype.notify.call(this, t)
    }
    ,
    FCHttpRequest
}(EAHttpRequest))
  , FCItemEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCItemEntity(t) {
        var e = i.call(this) || this;
        return e.assetType = t.assetType,
        e.categoryId = t.categoryId,
        e.assetName = t.clientAssetName,
        e.gameModes = t.gameModes,
        e
    }
    return __extends(FCItemEntity, i),
    FCItemEntity
}(EAObject))
  , FCRewardVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(l) {
    function FCRewardVO(t) {
        var e, i, r, o, n, a = l.call(this) || this;
        a.assetId = t.value,
        a.awardSetId = t.awardSetId,
        a.count = t.count,
        a.gameMode = t.gameMode,
        a.id = null !== (e = t.awardId) && void 0 !== e ? e : 0,
        a.priority = null !== (i = t.priority) && void 0 !== i ? i : 0,
        a.default = null !== (r = t.isDefaultOption) && void 0 !== r && r,
        a.isPremium = null !== (o = t.isPremium) && void 0 !== o && o,
        a.loan = JSUtils.isNumber(t.loan) ? t.loan : -1,
        a.loanType = JSUtils.isValid(t.loanType) ? t.loanType : LimitedUseType.NONE,
        a.subType = t.subType,
        a.tradable = !t.isUntradeable,
        a.type = t.awardType,
        a.utItem = null,
        a.fcItem = null !== (n = t.fcItem) && void 0 !== n ? n : null,
        a.value = t.value,
        a.isCoin = a.type === FCRewardType.COIN,
        a.isPack = a.type === FCRewardType.PACK;
        var s = a.gameMode == FCGameMode.FUT;
        return a.isUtItem = s && a.type == FCRewardType.ITEM,
        a.isFcVanityItem = !s && a.type == FCRewardType.ITEM,
        a.isChampionQualificationPoints = a.type == FCRewardType.CHAMPION_QUALIFICATION_POINTS,
        a.isStadiumSlotUnlock = !1,
        a.isChampionStageEntry = a.type === FCRewardType.CHAMPION_STAGE_ENTRY,
        a.packAssetId = t.packAssetId,
        a
    }
    return __extends(FCRewardVO, l),
    Object.defineProperty(FCRewardVO.prototype, "halId", {
        get: function() {
            return "reward.type" + this.type + ".id" + this.id
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "isXP", {
        get: function() {
            return this.type === FCRewardType.SEASON_XP || this.type === FCRewardType.XP || this.isSP
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "isSP", {
        get: function() {
            return this.type === FCRewardType.ITEM && JSUtils.isValid(this.utItem) && this.utItem.isFreeXp()
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "xpValue", {
        get: function() {
            var t, e;
            return this.isSP ? null !== (e = null === (t = this.utItem) || void 0 === t ? void 0 : t.amount) && void 0 !== e ? e : 0 : this.isXP ? this.value : 0
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "isCoinBoost", {
        get: function() {
            return JSUtils.isValid(this.utItem) && this.utItem.isCoinBoost()
        },
        enumerable: !1,
        configurable: !0
    }),
    FCRewardVO.prototype.setItem = function(t) {
        this.utItem = t
    }
    ,
    Object.defineProperty(FCRewardVO.prototype, "isUtVanity", {
        get: function() {
            var t, e;
            return null !== (e = null === (t = this.utItem) || void 0 === t ? void 0 : t.isVanityItem()) && void 0 !== e && e
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "isPlayer", {
        get: function() {
            return JSUtils.isValid(this.utItem) && this.utItem.isPlayer()
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(FCRewardVO.prototype, "isManager", {
        get: function() {
            return JSUtils.isValid(this.utItem) && this.utItem.isManager()
        },
        enumerable: !1,
        configurable: !0
    }),
    FCRewardVO
}(EAObject))
  , FCRewardSetEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCRewardSetEntity(t) {
        var e = i.call(this) || this;
        return e.default = t.default,
        e.id = t.id,
        e.rewards = t.rewards,
        e.priority = t.priority,
        e.isDisplayAward = t.isDisplayAward,
        e
    }
    return __extends(FCRewardSetEntity, i),
    FCRewardSetEntity.prototype.getUTItemRewards = function() {
        return this.rewards.filter(function(t) {
            return t.isUtItem && !(t.utItem instanceof UTItemEntity)
        })
    }
    ,
    FCRewardSetEntity.prototype.setUTRewards = function(r) {
        this.rewards.filter(function(t) {
            return t.isUtItem && !(t.utItem instanceof UTItemEntity)
        }).forEach(function(t) {
            var e = r.get(t.id)
              , i = null == e ? void 0 : e.utItem;
            i && t.setItem(i)
        })
    }
    ,
    FCRewardSetEntity
}(EAObject))
  , FCRewardFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function FCRewardFactory() {
        return t.call(this) || this
    }
    return __extends(FCRewardFactory, t),
    FCRewardFactory.prototype.createRewardFromAutoGrantData = function(t) {
        var e = {
            count: 1,
            subType: t.awardType === FCRewardType.COIN ? 1 : -1,
            isDefaultOption: !1,
            awardId: 0,
            isPremium: !1,
            gameSpaceId: 0,
            awardSetId: 0,
            awardType: t.awardType,
            gameMode: t.gameMode,
            isUntradeable: !1,
            value: t.value,
            priority: 0
        };
        return t.itemData && (e.itemData = t.itemData),
        this.createRewardFromCampaignLevelData(e)
    }
    ,
    FCRewardFactory.prototype.createRewardFromClaimData = function(t) {
        var e = {
            count: t.awardCount,
            subType: t.awardType === FCRewardType.COIN ? 1 : -1,
            isDefaultOption: !1,
            awardId: t.awardId,
            isPremium: !1,
            loan: t.loan,
            loanType: t.loanType,
            gameSpaceId: t.gameSpaceId,
            awardSetId: t.awardSetId,
            awardType: t.awardType,
            gameMode: t.mode,
            isUntradeable: t.untradeable,
            value: t.awardValue,
            priority: t.priority
        };
        return this.createRewardFromCampaignLevelData(e)
    }
    ,
    FCRewardFactory.prototype.createRewardFromCampaignLevelData = function(t) {
        var e = {
            count: t.count,
            subType: t.subType,
            isDefaultOption: t.isDefaultOption,
            awardId: t.awardId,
            isPremium: t.isPremium,
            loan: t.loan,
            loanType: t.loanType ? LimitedUseType[t.loanType] : LimitedUseType.NONE,
            gameSpaceId: t.gameSpaceId,
            awardSetId: t.awardSetId,
            awardType: t.awardType,
            gameMode: t.gameMode,
            isUntradeable: t.isUntradeable,
            value: t.value,
            priority: t.priority,
            packAssetId: -1
        };
        if (t.gameMode === FCGameMode.FUT && t.awardType === FCRewardType.PACK)
            switch (t.subType) {
            case FCUTRewardSubtype.PACK_BRONZE:
                e.packAssetId = PurchasePackTier.BRONZE;
                break;
            case FCUTRewardSubtype.PACK_SILVER:
                e.packAssetId = PurchasePackTier.SILVER;
                break;
            case FCUTRewardSubtype.PACK_GOLD:
                e.packAssetId = PurchasePackTier.GOLD;
                break;
            case FCUTRewardSubtype.PACK_SPECIAL:
                e.packAssetId = PurchasePackTier.SPECIAL;
                break;
            case FCUTRewardSubtype.PACK_ENCORE:
                e.packAssetId = PurchasePackTier.ENCORE;
                break;
            default:
                e.packAssetId = PurchasePackTier.GENERIC
            }
        return t.gameMode !== FCGameMode.FUT && t.awardType === FCRewardType.ITEM && t.itemData && (e.fcItem = new FCItemEntity({
            assetType: t.itemData.attributes.assettype,
            categoryId: t.itemData.attributes.catalogid,
            clientAssetName: t.itemData.attributes.clientattributename,
            gameModes: t.itemData.attributes.mode
        })),
        new FCRewardVO(e)
    }
    ,
    FCRewardFactory.prototype.createRewardSetFromCampaignLevelData = function(t) {
        var e, i = {
            default: null !== (e = t.isDefaultOption) && void 0 !== e && e,
            id: t.awardSetId,
            rewards: [this.createRewardFromCampaignLevelData(t)],
            priority: t.priority,
            isDisplayAward: !1
        };
        return new FCRewardSetEntity(i)
    }
    ,
    FCRewardFactory
}(EAObject))
  , FCCampaignEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCCampaignEntity(t) {
        var e = i.call(this) || this;
        return e.id = t.seasonId,
        e.title = t.title,
        e.subtitle = t.subtitle,
        e.startTime = t.startDateTime,
        e.endTime = t.endDateTime,
        e.nextCampaignStartTime = JSUtils.isNumber(t.nextSeasonStartDate) ? t.nextSeasonStartDate : 0,
        e.needsMilestonesAutoClaim = !1,
        e.levels = new EAHashTable,
        e.premiumLevels = new EAHashTable,
        e._xp = t.currentXP,
        e.currentLevel = t.currentLevel,
        e.hasUnseenGrant = t.hasUnseenGrant,
        e.currentLevelThreshold = t.currentLevelThreshold,
        e.modified = !1,
        e.hasPremium = !1,
        e.premiumPrices = new EAHashTable,
        e.setPrices(0, 0),
        e
    }
    return __extends(FCCampaignEntity, i),
    Object.defineProperty(FCCampaignEntity.prototype, "xp", {
        get: function() {
            return this._xp
        },
        set: function(t) {
            this._xp = t,
            this.getClaimableLevels().forEach(function(t) {
                return t.state = ObjectiveMilestoneState.NOT_REWARDED
            })
        },
        enumerable: !1,
        configurable: !0
    }),
    FCCampaignEntity.prototype.setPrices = function(t, e) {
        var i = new UTCurrencyVO(GameCurrency.COINS,t)
          , r = new UTCurrencyVO(GameCurrency.POINTS,e);
        this.premiumPrices.set(i.type, i),
        this.premiumPrices.set(r.type, r)
    }
    ,
    FCCampaignEntity.prototype.getTimeRemaining = function() {
        var t = Math.floor(Date.now() / MS_PER_SECOND);
        return Math.max(0, this.endTime - t)
    }
    ,
    FCCampaignEntity.prototype.setLevels = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.levels.set(t.id, t)
        })
    }
    ,
    FCCampaignEntity.prototype.setPremiumLevels = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.premiumLevels.set(t.id, t)
        })
    }
    ,
    FCCampaignEntity.prototype.getLevels = function() {
        return this.levels.values()
    }
    ,
    FCCampaignEntity.prototype.getPremiumLevels = function() {
        return this.premiumLevels.values()
    }
    ,
    FCCampaignEntity.prototype.getAllLevels = function() {
        var t = this.getLevels();
        return this.hasPremium ? t.concat(this.getPremiumLevels()) : t
    }
    ,
    FCCampaignEntity.prototype.getClaimableLevels = function() {
        var e = this;
        return this.getAllLevels().filter(function(t) {
            return t.isClaimable(e.xp)
        })
    }
    ,
    FCCampaignEntity.prototype.getLevelById = function(t) {
        return this.levels.get(t)
    }
    ,
    FCCampaignEntity.prototype.getPremiumLevelById = function(t) {
        return this.premiumLevels.get(t)
    }
    ,
    FCCampaignEntity.prototype.hasLevels = function() {
        return 0 < this.levels.length
    }
    ,
    FCCampaignEntity.prototype.hasPremiumLevels = function() {
        return 0 < this.premiumLevels.length
    }
    ,
    FCCampaignEntity.prototype.isLastCampaign = function() {
        return this.nextCampaignStartTime === MAX_JAVA_INT
    }
    ,
    FCCampaignEntity.prototype.inProgress = function() {
        var t = Math.floor(Date.now() / MS_PER_SECOND);
        return this.startTime <= t && this.endTime > t
    }
    ,
    FCCampaignEntity.prototype.hasStarted = function() {
        return this.startTime <= Math.floor(Date.now() / MS_PER_SECOND)
    }
    ,
    FCCampaignEntity.prototype.hasEnded = function() {
        return this.endTime <= Math.floor(Date.now() / MS_PER_SECOND)
    }
    ,
    FCCampaignEntity.prototype.hasOutstandingRewards = function() {
        return this.hasUnseenGrant
    }
    ,
    FCCampaignEntity.prototype.hasOutstandingMilestoneRewards = function() {
        return this.needsMilestonesAutoClaim
    }
    ,
    FCCampaignEntity.prototype.hasExpiredCampaignUnclaimedReward = function() {
        return this.hasOutstandingRewards() || 1 < this.getClaimableTierCount()
    }
    ,
    FCCampaignEntity.prototype.getClaimableTierCount = function() {
        return this.getClaimableLevels().length
    }
    ,
    FCCampaignEntity.prototype.hasNextCampaignStarted = function() {
        var t = Math.floor(Date.now() / MS_PER_SECOND);
        return this.hasEnded() && this.nextCampaignStartTime <= t
    }
    ,
    FCCampaignEntity.prototype.getUTItemRewards = function() {
        var i = [];
        return this.getAllLevels().forEach(function(t) {
            var e = t.getUTItemRewards();
            i = i.concat(e.filter(function(t) {
                return !i.includes(t)
            }))
        }),
        i
    }
    ,
    FCCampaignEntity.prototype.setUTRewards = function(e) {
        this.getAllLevels().map(function(t) {
            return t.setUTRewards(e)
        })
    }
    ,
    FCCampaignEntity
}(EAObject))
  , BaseObjectiveGroupEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function BaseObjectiveGroupEntity(t) {
        var e, i, r, o = n.call(this) || this;
        return o.compositeId = t.compositeId,
        o.endTime = t.endTime,
        o.groupIdsToUnlock = t.lockedBy,
        o.guidAssetId = t.guidAssetId ? t.guidAssetId : null,
        o.hasBackgroundImage = t.hasBackgroundImage,
        o.hasHeaderImage = t.hasHeaderImage,
        o.id = t.id,
        o.objectives = new EAHashTable,
        o.priority = t.priority,
        o.repeatabilityMode = t.repeatabilityMode,
        o.repeats = null !== (e = t.repeats) && void 0 !== e ? e : 0,
        o.refreshInterval = null !== (i = t.refreshInterval) && void 0 !== i ? i : o.repeatabilityMode == ObjectiveRepeatabilityMode.REFRESH ? 1 : 0,
        o.timesCompleted = null !== (r = t.timesCompleted) && void 0 !== r ? r : 0,
        o.startTime = t.startTime,
        o._state = t.state,
        o.subtitle = t.subtitle,
        o.title = t.title,
        o.visibilityTime = t.visibilityTime,
        o
    }
    return __extends(BaseObjectiveGroupEntity, n),
    Object.defineProperty(BaseObjectiveGroupEntity.prototype, "objectivesCompleted", {
        get: function() {
            return this.objectives.filter(function(t) {
                return t.state === ObjectiveProgressState.REDEEMED
            }).length
        },
        enumerable: !1,
        configurable: !0
    }),
    BaseObjectiveGroupEntity.prototype.setObjectivesCompleted = function(t) {
        var i = this;
        t.forEach(function(t) {
            var e = i.objectives.get(t);
            e && (e.state = ObjectiveProgressState.REDEEMED,
            e.progress = e.multiplier)
        })
    }
    ,
    Object.defineProperty(BaseObjectiveGroupEntity.prototype, "objectivesNumber", {
        get: function() {
            return this.objectives.length
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(BaseObjectiveGroupEntity.prototype, "objectivesReadyToRedeem", {
        get: function() {
            return this.objectives.filter(function(t) {
                return t.isCompleted() || t.isXpRedeemed()
            }).length
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(BaseObjectiveGroupEntity.prototype, "state", {
        get: function() {
            return this._state
        },
        set: function(t) {
            this._state !== t && (this._state = t,
            this.onDataUpdated.notify(this, {
                state: this._state
            }))
        },
        enumerable: !1,
        configurable: !0
    }),
    BaseObjectiveGroupEntity.prototype.hasObjectives = function() {
        return 0 < this.objectives.length
    }
    ,
    BaseObjectiveGroupEntity.prototype.getNumberOfCompletedObjectives = function() {
        return 0 < this.objectives.length ? this.objectives.filter(function(t) {
            return t.isClaimable() || t.isRedeemed()
        }).length : this.objectivesCompleted
    }
    ,
    BaseObjectiveGroupEntity.prototype.getProgress = function() {
        var t = this.getNumberOfCompletedObjectives()
          , e = this.getMinRequiredObjectivesCount();
        if (0 === e)
            return 0;
        var i = Math.round(t / e * 100);
        return JSUtils.isNumber(i) ? i : 0
    }
    ,
    BaseObjectiveGroupEntity.prototype.getMinRequiredObjectivesCount = function() {
        return 0 < this.requiredObjectivesCount ? this.requiredObjectivesCount : this.objectivesNumber
    }
    ,
    BaseObjectiveGroupEntity.prototype.getTimeRemaining = function() {
        return Math.max(0, this.endTime - Math.round(Date.now() / MS_PER_SECOND))
    }
    ,
    BaseObjectiveGroupEntity.prototype.getTimeUntilStart = function() {
        return Math.max(0, this.startTime - Math.round(Date.now() / MS_PER_SECOND))
    }
    ,
    BaseObjectiveGroupEntity.prototype.getRemainingRepeats = function() {
        return Math.max(this.repeats - this.timesCompleted, 0)
    }
    ,
    BaseObjectiveGroupEntity.prototype.hasNoRemainingRepeats = function() {
        return (this.isLimited() || this.isRefresh()) && 0 === this.getRemainingRepeats()
    }
    ,
    BaseObjectiveGroupEntity.prototype.incrementTimesCompleted = function() {
        this.timesCompleted += 1
    }
    ,
    BaseObjectiveGroupEntity.prototype.refresh = function() {
        this.isRedeemed() && this.reset(),
        this.timesCompleted = 0
    }
    ,
    BaseObjectiveGroupEntity.prototype.reset = function() {
        this.state = ObjectiveGroupStateEnum.UNDEFINED,
        this.objectives.forEach(function(t) {
            t.state = ObjectiveProgressState.INVALID,
            t.progress = 0
        })
    }
    ,
    BaseObjectiveGroupEntity.prototype.getRefreshTimeRemaining = function() {
        if (!this.isRefresh())
            return 0;
        var t = Math.floor(Date.now() / MS_PER_SECOND)
          , e = Math.max(this.refreshInterval, 1);
        return e - (t - this.startTime) % e
    }
    ,
    BaseObjectiveGroupEntity.prototype.getNextRefreshTime = function() {
        return Date.now() + this.getRefreshTimeRemaining() * MS_PER_SECOND
    }
    ,
    BaseObjectiveGroupEntity.prototype.isLimited = function() {
        return this.repeatabilityMode == ObjectiveRepeatabilityMode.LIMITED
    }
    ,
    BaseObjectiveGroupEntity.prototype.isRefresh = function() {
        return this.repeatabilityMode == ObjectiveRepeatabilityMode.REFRESH
    }
    ,
    BaseObjectiveGroupEntity.prototype.hasExpired = function() {
        return this.getTimeRemaining() <= 0
    }
    ,
    BaseObjectiveGroupEntity.prototype.isNotStarted = function() {
        return this.state === ObjectiveGroupStateEnum.UNDEFINED
    }
    ,
    BaseObjectiveGroupEntity.prototype.isInProgress = function() {
        return this.state === ObjectiveGroupStateEnum.IN_PROGRESS
    }
    ,
    BaseObjectiveGroupEntity.prototype.isRedeemed = function() {
        return this.state === ObjectiveGroupStateEnum.REWARDED
    }
    ,
    BaseObjectiveGroupEntity.prototype.isCompleted = function() {
        return this.state === ObjectiveGroupStateEnum.COMPLETED
    }
    ,
    BaseObjectiveGroupEntity.prototype.isRedeemFailure = function() {
        return this.state === ObjectiveGroupStateEnum.REDEEM_FAILURE
    }
    ,
    BaseObjectiveGroupEntity.prototype.hasUnclaimedObjectiveRewards = function() {
        return null !== this.objectives.find(function(t) {
            return !t.isRedeemed()
        })
    }
    ,
    BaseObjectiveGroupEntity.prototype.countNumberOfUnclaimedObjectives = function() {
        return this.objectives.filter(function(t) {
            return t.isClaimable()
        }).length
    }
    ,
    BaseObjectiveGroupEntity.prototype.isClaimable = function() {
        return this.isCompleted() || this.isRedeemFailure()
    }
    ,
    BaseObjectiveGroupEntity.prototype.isAnyObjectiveClaimable = function() {
        return 0 < this.countNumberOfUnclaimedObjectives() || this.isClaimable()
    }
    ,
    BaseObjectiveGroupEntity.prototype.isLockedBehindStartTime = function() {
        return 0 === this.visibilityTime && this.startTime > Math.round(Date.now() / MS_PER_SECOND)
    }
    ,
    BaseObjectiveGroupEntity.prototype.isComingSoon = function() {
        var t = Math.round(Date.now() / MS_PER_SECOND);
        return 0 < this.visibilityTime && t > this.visibilityTime && t < this.startTime
    }
    ,
    BaseObjectiveGroupEntity
}(EAObject))
  , FCCampaignGroupEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function FCCampaignGroupEntity(t) {
        var e = r.call(this, t) || this;
        e.objectives = new EAHashTable,
        e.onDataUpdated = new EAObservable,
        e.rewards = t.rewardSet,
        e.rewardFlow = t.rewardFlow,
        e.type = t.type,
        e.gameMode = t.gameMode;
        var i = {
            objectives: []
        };
        return t.objectives.map(function(t) {
            e.objectives.set(t.id, t),
            t.onDataUpdated.observe(e, e.onObjectiveUpdated),
            i.objectives && i.objectives.push({
                id: t.id
            })
        }),
        i.objectives && 0 < i.objectives.length && e.onDataUpdated.notify(e, i),
        e
    }
    return __extends(FCCampaignGroupEntity, r),
    FCCampaignGroupEntity.prototype.getObjectiveById = function(t) {
        return this.objectives.get(t)
    }
    ,
    FCCampaignGroupEntity.prototype.getObjectives = function() {
        return this.objectives.values()
    }
    ,
    FCCampaignGroupEntity.prototype.getPrioritySortedObjectives = function() {
        return this.getObjectives().sort(function(t, e) {
            return t.priority - e.priority
        })
    }
    ,
    FCCampaignGroupEntity.prototype.update = function(t) {
        var i = this
          , r = 0 < t.objectives.length ? {
            objectives: []
        } : {};
        this._state !== t.state && (this._state = t.state,
        r.state = this._state),
        t.objectives.forEach(function(t) {
            var e = i.objectives.get(t.id);
            e ? (e.onDataUpdated.unobserve(i),
            e.update(t),
            e.onDataUpdated.observe(i, i.onObjectiveUpdated),
            r.objectives && r.objectives.push({
                id: e.id,
                progress: e.progress,
                state: e.state
            })) : (i.objectives.set(t.id, t),
            t.onDataUpdated.observe(i, i.onObjectiveUpdated),
            r.objectives && r.objectives.push({
                id: t.id
            }))
        }),
        0 < Object.keys(r).length && this.onDataUpdated.notify(this, r)
    }
    ,
    FCCampaignGroupEntity.prototype.onObjectiveUpdated = function(t, e, i) {
        var r = {
            objectives: [{
                id: e.id
            }]
        };
        if (r.objectives) {
            var o = r.objectives[0];
            i.progress && (o.progress = i.progress),
            i.state && (o.state = i.state)
        }
        this.onDataUpdated.notify(this, r)
    }
    ,
    FCCampaignGroupEntity.prototype.getUTItemRewards = function() {
        var e = [];
        return this.rewards.forEach(function(t) {
            return t.getUTItemRewards().forEach(function(t) {
                e.includes(t) || e.push(t)
            })
        }),
        this.getObjectives().forEach(function(t) {
            return t.getUTItemRewards().forEach(function(t) {
                e.includes(t) || e.push(t)
            })
        }),
        e
    }
    ,
    FCCampaignGroupEntity.prototype.setUTRewards = function(e) {
        this.rewards.map(function(t) {
            return t.setUTRewards(e)
        }),
        this.getObjectives().map(function(t) {
            return t.setUTRewards(e)
        })
    }
    ,
    FCCampaignGroupEntity
}(BaseObjectiveGroupEntity))
  , BaseObjectiveTaskEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function BaseObjectiveTaskEntity(t) {
        var e = i.call(this) || this;
        return e.description = t.description,
        e.id = t.id,
        e.link = t.redirectLink,
        e.multiplier = t.multiplier || 1,
        e.onDataUpdated = new EAObservable,
        e._state = t.state,
        e._progress = t.progress,
        e.priority = t.priority,
        e.title = t.name,
        e.companion = t.companion,
        e
    }
    return __extends(BaseObjectiveTaskEntity, i),
    Object.defineProperty(BaseObjectiveTaskEntity.prototype, "progress", {
        get: function() {
            return this._progress
        },
        set: function(t) {
            this._progress !== t && (t > this.multiplier && (1 === this.multiplier ? t = 1 : t %= this.multiplier),
            this._progress = t,
            this.onDataUpdated.notify(this, {
                progress: this._progress
            }))
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(BaseObjectiveTaskEntity.prototype, "state", {
        get: function() {
            return this._state
        },
        set: function(t) {
            this._state !== t && (this._state = t,
            this.onDataUpdated.notify(this, {
                state: this._state
            }))
        },
        enumerable: !1,
        configurable: !0
    }),
    BaseObjectiveTaskEntity.prototype.getProgressPercentage = function() {
        var t = Math.round(this.progress / this.multiplier * 100);
        return JSUtils.isNumber(t) ? t : 0
    }
    ,
    BaseObjectiveTaskEntity.prototype.isNotStarted = function() {
        return this.state === ObjectiveProgressState.INVALID
    }
    ,
    BaseObjectiveTaskEntity.prototype.isInProgress = function() {
        return this.state === ObjectiveProgressState.IN_PROGRESS
    }
    ,
    BaseObjectiveTaskEntity.prototype.isXpRedeemed = function() {
        return this.state === ObjectiveProgressState.XP_REDEEMED
    }
    ,
    BaseObjectiveTaskEntity.prototype.isCompleted = function() {
        return this.state === ObjectiveProgressState.COMPLETED
    }
    ,
    BaseObjectiveTaskEntity.prototype.isRedeemed = function() {
        return this.state === ObjectiveProgressState.REDEEMED
    }
    ,
    BaseObjectiveTaskEntity.prototype.isClaimable = function() {
        return this.isXpRedeemed() || this.isCompleted()
    }
    ,
    BaseObjectiveTaskEntity.prototype.update = function(t) {
        if (this.id === t.id) {
            var e = {};
            this._progress !== t.progress && (this._progress = t.progress,
            e.progress = this._progress),
            this._state !== t.state && (this._state = t.state,
            e.state = this._state),
            0 < Object.keys(e).length && this.onDataUpdated.notify(this, e)
        }
    }
    ,
    BaseObjectiveTaskEntity.prototype.hasRedirectLink = function() {
        return this.companion && (this.link === RedirectId.AUCTION_SEARCH || this.link === RedirectId.SBC || this.link === RedirectId.SBC_SQUAD || this.link === RedirectId.SQUAD || this.link === RedirectId.TRADE_PILE)
    }
    ,
    BaseObjectiveTaskEntity
}(EAObject))
  , FCCampaignObjectiveEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCCampaignObjectiveEntity(t) {
        var e = i.call(this, t) || this;
        return e.rewards = t.rewards,
        e.rewardFlow = t.rewardFlow,
        e
    }
    return __extends(FCCampaignObjectiveEntity, i),
    FCCampaignObjectiveEntity.prototype.getUTItemRewards = function() {
        var e = [];
        return this.rewards.forEach(function(t) {
            return t.getUTItemRewards().forEach(function(t) {
                e.includes(t) || e.push(t)
            })
        }),
        e
    }
    ,
    FCCampaignObjectiveEntity.prototype.setUTRewards = function(e) {
        this.rewards.map(function(t) {
            return t.setUTRewards(e)
        })
    }
    ,
    FCCampaignObjectiveEntity
}(BaseObjectiveTaskEntity))
  , FCCampaignLevelEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(l) {
    function FCCampaignLevelEntity(t, e, i, r, o) {
        var n, a = l.call(this) || this;
        if (a.selectedRewardId = o,
        a.rewardSets = i,
        a.rewardSetFlow = e,
        a.id = t.level,
        a.isPremium = r,
        a.state = t.status ? t.status : ObjectiveMilestoneState.UNKNOWN,
        a.title = services.Localization.localize("scmp.campaign.level.title", [a.id.toString()]),
        a.xp = t.completeXP,
        a.selectedRewardId)
            a.userSelectedRewardId = a.selectedRewardId;
        else {
            var s = JSUtils.find(a.rewardSets, function(t) {
                return t.default
            });
            a.userSelectedRewardId = null !== (n = null == s ? void 0 : s.id) && void 0 !== n ? n : 0
        }
        return a
    }
    return __extends(FCCampaignLevelEntity, l),
    FCCampaignLevelEntity.prototype.isClaimable = function(t) {
        return t >= this.xp && this.state !== ObjectiveMilestoneState.REWARDED
    }
    ,
    FCCampaignLevelEntity.prototype.isClaimed = function() {
        return this.state === ObjectiveMilestoneState.REWARDED
    }
    ,
    FCCampaignLevelEntity.prototype.getClaimedReward = function() {
        var t, e = this;
        return this.isClaimed() && null !== (t = this.rewardSets.find(function(t) {
            return t.id === e.selectedRewardId
        })) && void 0 !== t ? t : null
    }
    ,
    FCCampaignLevelEntity.prototype.getSortedRewards = function() {
        return this.rewardSets.sort(this.sortRewards).slice()
    }
    ,
    FCCampaignLevelEntity.prototype.sortRewards = function(t, e) {
        if (t.default !== e.default) {
            if (t.default && !e.default)
                return -1;
            if (e.default && !t.default)
                return 1
        }
        if (t.priority !== e.priority) {
            if (t.priority < e.priority)
                return -1;
            if (e.priority < t.priority)
                return 1
        }
        return 0
    }
    ,
    FCCampaignLevelEntity.prototype.getUTItemRewards = function() {
        var e = [];
        return this.rewardSets.forEach(function(t) {
            return t.getUTItemRewards().forEach(function(t) {
                e.includes(t) || e.push(t)
            })
        }),
        e
    }
    ,
    FCCampaignLevelEntity.prototype.setUTRewards = function(e) {
        this.rewardSets.map(function(t) {
            return t.setUTRewards(e)
        })
    }
    ,
    FCCampaignLevelEntity.prototype.getUsersSelectedReward = function() {
        var t, e = this;
        return null !== (t = this.rewardSets.find(function(t) {
            return t.id === e.userSelectedRewardId
        })) && void 0 !== t ? t : null
    }
    ,
    FCCampaignLevelEntity
}(EAObject))
  , __spreadArrays = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
)
  , FCObjectivesFactory = function(i) {
    function FCObjectivesFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(FCObjectivesFactory, i),
    FCObjectivesFactory.generateCompositeGroupId = function(t, e) {
        return t + "-" + e
    }
    ,
    FCObjectivesFactory.prototype.createCampaign = function(t) {
        return new FCCampaignEntity(t)
    }
    ,
    FCObjectivesFactory.prototype.createRewardSets = function(t, i) {
        var r = this;
        void 0 === i && (i = !1);
        var o = []
          , n = FCRewardGrantType.BUNDLE
          , a = 0;
        return t.map(function(t) {
            if (n = t.awardSetType,
            a = i ? t.selectedPremiumRewardId : t.selectedRewardId,
            n === FCRewardGrantType.SINGLE || n === FCRewardGrantType.BUNDLE) {
                var e = new FCRewardSetEntity({
                    id: a = 0,
                    default: !0,
                    priority: 0,
                    rewards: r.deduplicateAwards(t.awards).map(function(t) {
                        return r.rewardFactory.createRewardFromCampaignLevelData(t)
                    }),
                    isDisplayAward: t.isDisplayAward
                });
                o.push(e)
            } else
                n === FCRewardGrantType.CHOICE && r.deduplicateAwards(t.awards).forEach(function(t) {
                    return o.push(r.rewardFactory.createRewardSetFromCampaignLevelData(t))
                })
        }),
        {
            sets: o,
            type: n,
            selected: a
        }
    }
    ,
    FCObjectivesFactory.prototype.deduplicateAwards = function(t) {
        return t.reduce(function(t, o) {
            return t.find(function(t) {
                var e, i, r;
                return void 0 !== (null === (e = null == t ? void 0 : t.itemData) || void 0 === e ? void 0 : e.defId) && (null === (i = null == t ? void 0 : t.itemData) || void 0 === i ? void 0 : i.defId) === (null === (r = null == o ? void 0 : o.itemData) || void 0 === r ? void 0 : r.defId)
            }) ? t : __spreadArrays(t, [o])
        }, [])
    }
    ,
    FCObjectivesFactory.prototype.createLevel = function(t, e) {
        var i = this.createRewardSets(t.rewards, e);
        return new FCCampaignLevelEntity(t,i.type,i.sets,e,i.selected)
    }
    ,
    FCObjectivesFactory.prototype.createGroup = function(i) {
        var t, r = this;
        if (i.awardSetList && 0 !== i.awardSetList.length && i.objectives && 0 !== i.objectives.length) {
            var e = this.createRewardSets(null !== (t = i.awardSetList) && void 0 !== t ? t : []);
            i.repeatableType === FCObjectiveRepeatabilityMode.REFRESHED && (i.repeatableType = ObjectiveRepeatabilityMode.REFRESH);
            var o = ObjectiveGroupStateEnum[i.groupStatus]
              , n = o === ObjectiveGroupStateEnum.XP_REDEEMED ? ObjectiveGroupStateEnum.COMPLETED : o
              , a = i.timesCompleted ? i.timesCompleted : 0
              , s = i.repeatableType == ObjectiveRepeatabilityMode.REFRESH
              , l = n == ObjectiveGroupStateEnum.REWARDED || n == ObjectiveGroupStateEnum.REDEEM_FAILURE
              , c = s && l && 0 === a ? ObjectiveGroupStateEnum.UNDEFINED : n
              , u = [];
            i.objectives && i.objectives.forEach(function(t) {
                var e = r.createObjective(t, c, i.repeatableType, a);
                e && u.push(e)
            });
            var p = ObjectiveGroupType[i.contentType]
              , d = {
                compositeId: FCObjectivesFactory.generateCompositeGroupId(i.contentType, i.groupId),
                endTime: i.endDateTime ? i.endDateTime : 0,
                hasBackgroundImage: i.backgroundAssetExists,
                hasHeaderImage: i.headerAssetExists,
                id: i.groupId,
                lockedBy: i.lockedByGroupIds ? i.lockedByGroupIds : [],
                objectives: u,
                priority: i.priority,
                rewardSet: e.sets,
                repeatabilityMode: i.repeatableType,
                repeats: i.repeatableCount,
                refreshInterval: i.refreshInterval,
                startTime: i.startDateTime ? i.startDateTime : 0,
                state: c,
                subtitle: i.description,
                subGroupType: i.subGroupType ? i.subGroupType : 0,
                subGroupTypeAttribute: i.subGroupTypeAttribute ? i.subGroupTypeAttribute : 0,
                timesCompleted: a,
                title: i.name,
                type: p,
                visibilityTime: i.visibleDateTime ? i.visibleDateTime : 0,
                gameMode: i.gameMode,
                rewardFlow: e.type
            };
            return i.guidAssetId && (d.guidAssetId = i.guidAssetId),
            new FCCampaignGroupEntity(d)
        }
        DebugUtils.Assert(!1, "Failed to create Objective " + i.groupId + " it has 0 rewards")
    }
    ,
    FCObjectivesFactory.prototype.createObjective = function(t, e, i, r) {
        if (t.awardSetList && 0 !== t.awardSetList.length) {
            var o = this.createRewardSets(t.awardSetList)
              , n = FCObjectiveProgressState[t.status] === FCObjectiveProgressState.REWARDED ? ObjectiveProgressState.REDEEMED : ObjectiveProgressState[t.status]
              , a = t.progressTotal || 1
              , s = JSUtils.isNumber(t.progress) ? t.progress : 0;
            n === ObjectiveProgressState.COMPLETED || n === ObjectiveProgressState.REDEEMED ? s = a : a < s && (1 === a ? s = 1 : s %= a);
            var l = i == ObjectiveRepeatabilityMode.REFRESH
              , c = e == ObjectiveGroupStateEnum.REWARDED || e == ObjectiveGroupStateEnum.REDEEM_FAILURE
              , u = l && c && 0 == r
              , p = u ? 0 : s;
            return u && n == ObjectiveProgressState.REDEEMED && (n = ObjectiveProgressState.INVALID),
            new FCCampaignObjectiveEntity({
                companion: !1,
                description: t.description,
                id: t.objectiveId,
                multiplier: a,
                name: t.name,
                priority: t.priority,
                progress: p,
                redirectLink: RedirectId.NONE,
                rewards: o.sets,
                rewardFlow: o.type,
                state: n
            })
        }
        DebugUtils.Assert(!1, "Failed to create Objective " + t.objectiveId + " it has no rewards")
    }
    ,
    FCObjectivesFactory
}(EAObject)
  , FCObjectivesDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(r) {
    function FCObjectivesDAO(t, e) {
        var i = r.call(this) || this;
        return i.authDelegate = t,
        i.rewardFactory = new FCRewardFactory,
        i.factory = new FCObjectivesFactory(i.rewardFactory),
        i.requestDelegate = e,
        i
    }
    return __extends(FCObjectivesDAO, r),
    FCObjectivesDAO.prototype.getMetaCampaignOverview = function() {
        var r = this
          , o = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.setPath("/fc/user/season/lite"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new FCHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? i.response = {
                campaign: r.factory.createCampaign(e.response)
            } : i.response = {
                campaign: null
            },
            o.notify(i)
        }),
        o
    }
    ,
    FCObjectivesDAO.prototype.getMetaCampaignDetails = function() {
        var s = this
          , l = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.setPath("/fc/user/season"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i;
            t.unobserve(s);
            var r = new FCHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, r),
            r.response = {
                levels: [],
                premiumLevels: [],
                hasPremium: !1,
                hasUnseenGrant: !1,
                coinsPrice: 0,
                pointsPrice: 0
            },
            e.response && JSUtils.isObject(e.response)) {
                var o = e.response.passes
                  , n = o.find(function(t) {
                    return t.owned && !t.purchased
                })
                  , a = o.find(function(t) {
                    return t !== n
                });
                n && (r.response.levels = n.levels.map(function(t, e) {
                    return s.factory.createLevel(t, !1)
                }),
                a && (r.response.premiumLevels = a.levels.filter(function(t) {
                    return 0 < t.rewards.length
                }).map(function(t, e) {
                    return s.factory.createLevel(t, !0)
                })),
                r.response.hasPremium = null !== (i = (null == a ? void 0 : a.owned) && (null == a ? void 0 : a.purchased)) && void 0 !== i && i,
                r.response.hasUnseenGrant = e.response.hasUnseenGrant,
                r.response.coinsPrice = e.response.coinsPrice,
                r.response.pointsPrice = e.response.pointsPrice)
            }
            l.notify(r)
        }),
        l
    }
    ,
    FCObjectivesDAO.prototype.getMetaCampaignProgress = function(t) {
        var o = this
          , n = new EAObservable
          , e = new FCHttpRequest(this.authDelegate);
        return e.setPath("/fc/season/progress"),
        e.setUrlVariables({
            seasonId: t
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            var i;
            t.unobserve(o);
            var r = new FCHttpResponseDTO;
            JSUtils.assignPropertyValues(e, r),
            r.response = null,
            e.response && JSUtils.isObject(e.response) && (r.response = {
                progressUpdate: {
                    seasonId: e.response.seasonId,
                    currentUserLevel: e.response.currentUserLevel,
                    totalUserXP: e.response.totalUserXP,
                    completedObjectiveGroups: e.response.completedObjectiveGroups,
                    completedObjectives: e.response.completedObjectives,
                    xpLimitType: null !== (i = e.response.xpLimitType) && void 0 !== i ? i : 0
                }
            }),
            n.notify(r)
        }),
        n
    }
    ,
    FCObjectivesDAO.prototype.getMetaObjectiveGroups = function() {
        var o = this
          , n = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.setPath("/fc/user/objective/list"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new FCHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i);
            var r = [];
            e.response && JSUtils.isObject(e.response) && e.response.objectiveGroups.forEach(function(t) {
                var e = o.factory.createGroup(t);
                e && r.push(e)
            }),
            i.response = {
                metaGroups: r
            },
            n.notify(i)
        }),
        n
    }
    ,
    FCObjectivesDAO.prototype.claimMetaRewards = function(t, e) {
        var l = this
          , c = new EAObservable
          , i = new FCHttpRequest(this.authDelegate);
        return i.setPath("/fc/user/season/reward/claim"),
        i.setUrlVariables({
            seasonId: t
        }),
        i.requestType = HttpRequestMethod.POST,
        i.setRequestBody({
            claimRewardRequestDtos: e
        }),
        this.requestDelegate.send(i).observe(this, function(t, e) {
            t.unobserve(l);
            var i = new FCHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.grantedAwardModels)) {
                var o = []
                  , n = !1
                  , a = !1
                  , r = e.response.grantedAwardModels
                  , s = e.response.substitutedRewardList;
                r.forEach(function(e) {
                    if (e.mode === FCGameMode.FUT)
                        a = !0;
                    else {
                        var t = null == s ? void 0 : s.find(function(t) {
                            return t.originalAward.awardId === e.awardId
                        });
                        t && (n = !0);
                        var i = t ? t.grantedReward : e
                          , r = l.rewardFactory.createRewardFromClaimData(i);
                        o.push(r)
                    }
                }),
                i.response = {
                    rewards: o,
                    hasSubstitutedRewards: n,
                    hasUTRewards: a
                }
            }
            c.notify(i)
        }),
        c
    }
    ,
    FCObjectivesDAO.prototype.claimLevel = function(t, e) {
        var i = {
            sourceId: e.id,
            source: e.isPremium ? FCObjectiveSource.SEASON_PREMIUM_PASS : FCObjectiveSource.SEASON
        };
        if (e.rewardSetFlow === FCRewardGrantType.CHOICE) {
            var r = e.getUsersSelectedReward();
            r && (i.value = r.rewards[0].value,
            i.rewardType = r.rewards[0].type)
        }
        return this.claimMetaRewards(t, [i])
    }
    ,
    FCObjectivesDAO.prototype.claimObjective = function(t, e) {
        var i = {
            sourceId: e.id,
            source: FCObjectiveSource.OBJECTIVE
        };
        return this.claimMetaRewards(t, [i])
    }
    ,
    FCObjectivesDAO.prototype.claimAllObjectiveGroup = function(t, e) {
        var i = {
            sourceId: e.id,
            source: FCObjectiveSource.OBJECTIVE_GROUP
        }
          , r = e.getObjectives().filter(function(t) {
            return t.isClaimable()
        }).map(function(t) {
            return {
                sourceId: t.id,
                source: FCObjectiveSource.OBJECTIVE
            }
        });
        return this.claimMetaRewards(t, __spreadArrays(r, [i]))
    }
    ,
    FCObjectivesDAO.prototype.getAutoGrantedRewards = function() {
        var o = this
          , n = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.requestType = HttpRequestMethod.GET,
        t.setPath("/fc/season/auto/grant"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new FCHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response)) {
                function Qk(t) {
                    return r.push.apply(r, t.fcAwards.map(function(t) {
                        return o.rewardFactory.createRewardFromAutoGrantData(t)
                    }))
                }
                var r = [];
                e.response.userSeasonAutoGrants.forEach(Qk),
                e.response.userGroupAutoGrants.forEach(Qk),
                e.response.userObjectiveAutoGrants.forEach(Qk),
                i.response = {
                    rewards: r
                }
            }
            n.notify(i)
        }),
        n
    }
    ,
    FCObjectivesDAO.prototype.resetAutoGrantedRewards = function() {
        var t = new FCHttpRequest(this.authDelegate);
        return t.requestType = HttpRequestMethod.PUT,
        t.setPath("/fc/season/auto/grant"),
        t.setUrlVariables({
            type: "ALL"
        }),
        this.requestDelegate.send(t)
    }
    ,
    FCObjectivesDAO.prototype.purchasePremiumPass = function(t, e) {
        var r = this;
        void 0 === e && (e = !1);
        var o = new EAObservable
          , i = new FCHttpRequest(this.authDelegate);
        return i.setPath(e ? "/fc/user/season/grant" : "/fc/user/season/purchase"),
        i.requestType = HttpRequestMethod.PUT,
        i.setRequestBody({
            seasonId: t,
            gameMode: FCGameMode.FUT,
            currency: GameCurrency.POINTS,
            source: FCPassUpgradeSource.SEASON
        }),
        this.requestDelegate.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new FCHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.rewards) && (i.response = {
                rewards: e.response.rewards.map(function(t) {
                    return r.rewardFactory.createRewardSetFromCampaignLevelData(t)
                })
            }),
            o.notify(i)
        }),
        o
    }
    ,
    FCObjectivesDAO
}(EAObject))
  , FCUserDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function FCUserDAO(t, e) {
        var i = r.call(this) || this;
        return i.authDelegate = t,
        i.requestDelegate = e,
        i
    }
    return __extends(FCUserDAO, r),
    FCUserDAO.prototype.getUserInfo = function() {
        var r = this
          , o = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.setPath("/fc/user"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new FCHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    FCUserDAO.prototype.createClub = function() {
        var i = this
          , r = new EAObservable
          , t = new FCHttpRequest(this.authDelegate);
        return t.setPath("/fc/user"),
        t.requestType = HttpRequestMethod.POST,
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    FCUserDAO
}(EAObject))
  , UTAcademyObjectiveEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTAcademyObjectiveEntity(t) {
        var e = i.call(this) || this;
        return e.description = t.description,
        e.id = t.id,
        e.multiplier = t.multiplier || 1,
        e.state = t.state,
        e.progress = t.currentProgress || 0,
        e.title = t.name,
        e
    }
    return __extends(UTAcademyObjectiveEntity, i),
    UTAcademyObjectiveEntity.prototype.getProgressPercentage = function() {
        var t = Math.round(this.progress / this.multiplier * 100);
        return JSUtils.isNumber(t) ? t : 0
    }
    ,
    UTAcademyObjectiveEntity.prototype.isNotStarted = function() {
        return this.state === AcademyObjectiveState.NOT_STARTED
    }
    ,
    UTAcademyObjectiveEntity.prototype.isInProgress = function() {
        return this.state === AcademyObjectiveState.IN_PROGRESS
    }
    ,
    UTAcademyObjectiveEntity.prototype.isCompleted = function() {
        return this.state === AcademyObjectiveState.COMPLETED
    }
    ,
    UTAcademyObjectiveEntity.prototype.calculateTimedEvoRemainingTime = function() {
        var t = Math.round(Date.now() / MS_PER_SECOND) - this.progress
          , e = this.multiplier - t;
        return e < 0 ? 0 : e
    }
    ,
    UTAcademyObjectiveEntity
}(EAObject))
  , UTAcademyLevelEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTAcademyLevelEntity(t) {
        var e = i.call(this) || this;
        return e.awards = t.awards,
        e.boostedPlayer = t.boostedPlayer,
        e.id = t.id,
        e.objectives = t.objectives,
        e.status = t.status,
        e
    }
    return __extends(UTAcademyLevelEntity, i),
    UTAcademyLevelEntity.prototype.isComplete = function() {
        return this.status === AcademySlotLevelState.COMPLETED
    }
    ,
    UTAcademyLevelEntity.prototype.isInProgress = function() {
        return this.status === AcademySlotLevelState.IN_PROGRESS
    }
    ,
    UTAcademyLevelEntity.prototype.isClaimable = function() {
        return this.status === AcademySlotLevelState.IN_PROGRESS && this.objectives.filter(function(t) {
            return t.isCompleted()
        }).length === this.objectives.length
    }
    ,
    UTAcademyLevelEntity.prototype.isNotStarted = function() {
        return this.status === AcademySlotLevelState.NOT_STARTED
    }
    ,
    UTAcademyLevelEntity.prototype.getVanityAward = function() {
        var t, e = null === (t = this.awards.find(function(t) {
            return t.isRarity()
        })) || void 0 === t ? void 0 : t.value;
        return e ? repositories.Rarity.getRarity(e) : null
    }
    ,
    UTAcademyLevelEntity.prototype.getCosmetics = function() {
        var t, e = this.awards.find(function(t) {
            return t.isCosmeticBonus()
        });
        return null !== (t = null == e ? void 0 : e.customLayers) && void 0 !== t ? t : []
    }
    ,
    UTAcademyLevelEntity.prototype.getTimedObjective = function() {
        return 0 < this.objectives.length ? this.objectives[0] : null
    }
    ,
    UTAcademyLevelEntity
}(EAObject))
  , UTAcademySlotEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTAcademySlotEntity(t) {
        var e, i, r = o.call(this) || this;
        return r.academyTopRewards = t.academyTopRewards,
        r.baseLevel = t.levels.find(function(t, e) {
            return 0 === e
        }),
        r.categoryId = t.categoryId,
        r.timed = t.timed,
        r.eligibilityRequirements = t.eligibilityRequirements,
        r.endTime = null !== (e = t.endTime) && void 0 !== e ? e : -1,
        r.endTimePurchaseVisibility = null !== (i = t.endTimePurchaseVisibility) && void 0 !== i ? i : -1,
        r.id = t.id,
        r.levels = t.levels.filter(function(t, e) {
            return 0 !== e
        }),
        r.player = t.player,
        r.realPlayerId = t.realPlayerId,
        r.rewardsDisplayTopCount = t.rewardsDisplayTopCount,
        r.slotDescription = t.slotDescription,
        r.slotName = t.slotName,
        r._status = t.status,
        r.subsequentStatusNotifications = [],
        r.totalRewardsCount = t.totalRewardsCount,
        r.prices = new EAHashTable,
        Array.isArray(t.currencies) && t.currencies.forEach(function(t) {
            r.prices.set(t.type, t)
        }),
        r
    }
    return __extends(UTAcademySlotEntity, o),
    Object.defineProperty(UTAcademySlotEntity.prototype, "status", {
        get: function() {
            return this._status
        },
        set: function(t) {
            var e, i, r, o;
            (this._status = t) === AcademySlotState.ACTIVE ? (this.player.setActiveInAcademy(!0),
            null === (i = null === (e = this.baseLevel) || void 0 === e ? void 0 : e.boostedPlayer) || void 0 === i || i.setActiveInAcademy(!0),
            this.levels.forEach(function(t) {
                var e;
                return null === (e = t.boostedPlayer) || void 0 === e ? void 0 : e.setActiveInAcademy(!0)
            })) : t === AcademySlotState.INACTIVE && (this.player.setActiveInAcademy(!1),
            null === (o = null === (r = this.baseLevel) || void 0 === r ? void 0 : r.boostedPlayer) || void 0 === o || o.setActiveInAcademy(!1),
            this.levels.forEach(function(t) {
                var e;
                return null === (e = t.boostedPlayer) || void 0 === e ? void 0 : e.setActiveInAcademy(!1)
            }))
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTAcademySlotEntity.prototype, "hidden", {
        get: function() {
            var t = this.status === AcademySlotState.NOT_STARTED && this.hasEnrollmentExpired()
              , e = !this.isClaimable() && this.hasEndTimeExpired();
            return t || e
        },
        enumerable: !1,
        configurable: !0
    }),
    UTAcademySlotEntity.prototype.isVanitySlot = function() {
        var t = this.getAllSlotRewards();
        return this.getTotalLevels() === t.length && t.length === t.filter(function(t) {
            return t.isRarity()
        }).length
    }
    ,
    UTAcademySlotEntity.prototype.getVanityRarityDTO = function() {
        var t, e = null === (t = this.getAllSlotRewards().slice().reverse().find(function(t) {
            return t.isRarity()
        })) || void 0 === t ? void 0 : t.value;
        return e ? repositories.Rarity.getRarity(e) : null
    }
    ,
    UTAcademySlotEntity.prototype.isLockedByPurchase = function() {
        return 0 < this.prices.length
    }
    ,
    UTAcademySlotEntity.prototype.isAvailable = function() {
        return !(this.status === AcademySlotState.DISABLED || this.isSlotComplete())
    }
    ,
    UTAcademySlotEntity.prototype.isSlotComplete = function() {
        return this.levels.filter(function(t) {
            return t.isComplete()
        }).length === this.levels.length
    }
    ,
    UTAcademySlotEntity.prototype.shouldBeRemovedAfterClaim = function() {
        return this.status === AcademySlotState.EXPIRED || this.status === AcademySlotState.DISABLED_WITH_PROGRESS || this.subsequentStatusNotifications.includes(AcademySlotState.DISABLED_WITH_PROGRESS) || this.subsequentStatusNotifications.includes(AcademySlotState.EXPIRED) || this.isSlotComplete()
    }
    ,
    UTAcademySlotEntity.prototype.isClaimable = function() {
        var t;
        if (this.timed) {
            var e = this.levels.find(function(t) {
                return t.isInProgress()
            })
              , i = null == e ? void 0 : e.objectives[0];
            return null !== (t = null == i ? void 0 : i.isCompleted()) && void 0 !== t && t
        }
        return this.hasClaimableLevel() || this.status === AcademySlotState.READY_FOR_REDEEM || this.subsequentStatusNotifications.includes(AcademySlotState.READY_FOR_REDEEM)
    }
    ,
    UTAcademySlotEntity.prototype.checkIfTimedSlotNeedUpdate = function() {
        if (this.status === AcademySlotState.NOT_STARTED)
            return !1;
        if (this.timed) {
            var t = this.levels.find(function(t) {
                return t.isInProgress()
            })
              , e = null == t ? void 0 : t.objectives[0];
            if (e && !e.isCompleted())
                return e.calculateTimedEvoRemainingTime() <= 0
        }
        return !1
    }
    ,
    UTAcademySlotEntity.prototype.hasClaimableLevel = function() {
        return 0 < this.levels.filter(function(t) {
            return t.isClaimable()
        }).length
    }
    ,
    UTAcademySlotEntity.prototype.isEmpty = function() {
        return !this.player.isValid()
    }
    ,
    UTAcademySlotEntity.prototype.hasPreviewPlayer = function() {
        return this.status === AcademySlotState.NOT_STARTED && this.player.isValid()
    }
    ,
    UTAcademySlotEntity.prototype.hasSlottedPlayer = function() {
        return this.status === AcademySlotState.ACTIVE
    }
    ,
    UTAcademySlotEntity.prototype.getPrice = function(t) {
        var e = this.prices.get(t);
        return e ? e.amount : 0
    }
    ,
    UTAcademySlotEntity.prototype.getTotalLevels = function() {
        return this.levels.length
    }
    ,
    UTAcademySlotEntity.prototype.getCurrentLevel = function() {
        var t;
        return null !== (t = this.levels.find(function(t) {
            return !t.isComplete()
        })) && void 0 !== t ? t : this.levels[this.levels.length - 1]
    }
    ,
    UTAcademySlotEntity.prototype.getCurrentLevelTimedObjective = function() {
        var t, e;
        return this.timed && null !== (e = null === (t = this.getCurrentLevel()) || void 0 === t ? void 0 : t.getTimedObjective()) && void 0 !== e ? e : null
    }
    ,
    UTAcademySlotEntity.prototype.getCurrentLevelNumber = function() {
        return this.levels.indexOf(this.getCurrentLevel()) + 1
    }
    ,
    UTAcademySlotEntity.prototype.getPreviousLevel = function() {
        var t, e = this.getCurrentLevelNumber() - 2;
        return null !== (t = this.levels[e]) && void 0 !== t ? t : this.baseLevel
    }
    ,
    UTAcademySlotEntity.prototype.getAllSlotRewards = function() {
        var i = this
          , r = [];
        return this.levels.forEach(function(t) {
            var e = i.getSlotRewardsPerLevel(t.id);
            r = r.concat(e)
        }),
        r
    }
    ,
    UTAcademySlotEntity.prototype.getSlotRewardsPerLevel = function(e) {
        var i = []
          , t = this.levels.find(function(t) {
            return e === t.id
        });
        return t && t.awards.forEach(function(t) {
            i.push(t)
        }),
        i
    }
    ,
    UTAcademySlotEntity.prototype.meetsRequirements = function(e) {
        return this.eligibilityRequirements.every(function(t) {
            return t.meetsRequirements(e)
        })
    }
    ,
    UTAcademySlotEntity.prototype.hasEnrollmentExpired = function() {
        return !(this.endTimePurchaseVisibility <= 0) && this.endTimePurchaseVisibility - Math.round(Date.now() / MS_PER_SECOND) < 0
    }
    ,
    UTAcademySlotEntity.prototype.hasEndTimeExpired = function() {
        return !(this.endTime <= 0) && this.endTime - Math.round(Date.now() / MS_PER_SECOND) < 0
    }
    ,
    UTAcademySlotEntity.prototype.hasEnrolmentExpiry = function() {
        return 0 < this.endTimePurchaseVisibility
    }
    ,
    UTAcademySlotEntity.prototype.hasExpiry = function() {
        return 0 < this.endTime
    }
    ,
    UTAcademySlotEntity.prototype.getEvolutionsTimeRemaining = function() {
        return DebugUtils.Assert(this.hasExpiry(), "We're calling getEvolutionsTimeRemaining on a slot that has no expiry"),
        Math.max(this.endTime - Math.round(Date.now() / MS_PER_SECOND), 0)
    }
    ,
    UTAcademySlotEntity.prototype.getEnrollmentTimeRemaining = function() {
        return DebugUtils.Assert(this.hasEnrolmentExpiry(), "We're calling getEnrollmentTimeRemaining on slot with no enrolement"),
        Math.max(this.endTimePurchaseVisibility - Math.round(Date.now() / MS_PER_SECOND), 0)
    }
    ,
    UTAcademySlotEntity
}(EAObject))
  , UTAcademyAwardEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTAcademyAwardEntity(t) {
        var e = i.call(this) || this;
        return e.customLayers = t.customLayers,
        e.level = t.level,
        e.type = t.id,
        e.value = t.delta,
        e.maxValue = t.maxValue,
        e.count = t.count,
        e
    }
    return __extends(UTAcademyAwardEntity, i),
    UTAcademyAwardEntity.prototype.isRarity = function() {
        return this.type === AcademyStatEnum.RARITY
    }
    ,
    UTAcademyAwardEntity.prototype.isOVR = function() {
        return this.type === AcademyStatEnum.OVR
    }
    ,
    UTAcademyAwardEntity.prototype.isRoleUpgrade = function() {
        return this.type >= AcademyStatEnum.GK_GOALKEEPER && this.type <= AcademyStatEnum.ST_TARGET_FORWARD
    }
    ,
    UTAcademyAwardEntity.prototype.isAttributeBonus = function() {
        return this.type >= AcademyStatEnum.PACE && this.type <= AcademyStatEnum.PHYSICALITY
    }
    ,
    UTAcademyAwardEntity.prototype.isSubAttributeBonus = function() {
        return this.type >= AcademyStatEnum.ACCELERATION && this.type <= AcademyStatEnum.PENALTIES
    }
    ,
    UTAcademyAwardEntity.prototype.isPositionBonus = function() {
        return this.type >= AcademyStatEnum.CB && this.type <= AcademyStatEnum.CF
    }
    ,
    UTAcademyAwardEntity.prototype.isSkillBonus = function() {
        return this.type >= AcademyStatEnum.WEAK_FOOT && this.type <= AcademyStatEnum.SKILL_MOVES
    }
    ,
    UTAcademyAwardEntity.prototype.isTraitBonus = function() {
        return this.type >= AcademyStatEnum.FINISHING_FINESSE_SHOT && this.type <= AcademyStatEnum.FINISHING_LOW_DRIVEN_SHOT && this.type !== AcademyStatEnum.COSMETIC_UPGRADE
    }
    ,
    UTAcademyAwardEntity.prototype.isWeakFoot = function() {
        return this.type === AcademyStatEnum.WEAK_FOOT
    }
    ,
    UTAcademyAwardEntity.prototype.isCosmeticBonus = function() {
        return this.type === AcademyStatEnum.COSMETIC_UPGRADE
    }
    ,
    UTAcademyAwardEntity.prototype.isPlusPlayStyle = function() {
        var t;
        return !!this.isTraitBonus() && 1 < (null !== (t = this.count) && void 0 !== t ? t : 0)
    }
    ,
    UTAcademyAwardEntity
}(EAObject))
  , UTAcademyCategoryDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(a) {
    function UTAcademyCategoryDTO(t, e, i, r, o) {
        var n = a.call(this) || this;
        return n.id = i,
        n.priority = r,
        n.count = t,
        n.description = e,
        n.slotIds = o,
        n
    }
    return __extends(UTAcademyCategoryDTO, a),
    UTAcademyCategoryDTO
}(EAObject))
  , UTLocalizationUtil = function() {
    function UTLocalizationUtil() {}
    return UTLocalizationUtil.nationIdToName = function(t, e) {
        return e.localize("search.nationName.nation" + t)
    }
    ,
    UTLocalizationUtil.nationIdToAbbr12 = function(t, e) {
        return e.localize("search.nationAbbr12.nation" + t)
    }
    ,
    UTLocalizationUtil.nationIdToAbbr3 = function(t, e) {
        return e.localize("nationAbbrvByID_" + t)
    }
    ,
    UTLocalizationUtil.leagueIdToName = function(t, e) {
        return e.localize("global.leagueabbr15." + APP_YEAR + ".league" + t)
    }
    ,
    UTLocalizationUtil.leagueIdToAbbr5 = function(t, e) {
        return e.localize("global.leagueabbr5." + APP_YEAR + ".league" + t)
    }
    ,
    UTLocalizationUtil.teamIdToAbbr15 = function(t, e) {
        return e.localize("global.teamabbr15." + APP_YEAR + ".team" + t)
    }
    ,
    UTLocalizationUtil.teamIdToAbbr3 = function(t, e) {
        return e.localize("global.teamabbr3." + APP_YEAR + ".team" + t)
    }
    ,
    UTLocalizationUtil.formationDbNameToName = function(t, e) {
        return e.localize("global.formation." + t)
    }
    ,
    UTLocalizationUtil.tacticsPresetDbNameToName = function(t, e) {
        return e.localize("IQ_SETTING_PRESET_" + t.toUpperCase())
    }
    ,
    UTLocalizationUtil.playStyleIdToName = function(t, e, i) {
        void 0 === i && (i = GrammaticalGender.NEUTER);
        var r = 0 < t ? "playstyles.playstyle" + t : "playstyles.invalid.playstyle0";
        return e.localize(r, [], {
            gender: i
        })
    }
    ,
    UTLocalizationUtil.attributeIdToHalString = function(t, e) {
        var i;
        return void 0 === e && (e = !1),
        null !== (i = (e ? ["Diving", "Handling", "Kicking", "Reflex", "Speed", "Position", "All"] : ["Pace", "Shooting", "Passing", "Dribbling", "Defend", "Heading", "All"])[t]) && void 0 !== i ? i : ""
    }
    ,
    UTLocalizationUtil.positionIdToName = function(t, e, i) {
        return void 0 === i && (i = GrammaticalGender.NEUTER),
        e.localize("extendedPlayerInfo.positions.position" + t, [], {
            gender: i
        })
    }
    ,
    UTLocalizationUtil.injuryTypeToName = function(t, e) {
        switch (t) {
        case PlayerInjury.ARM:
            return e.localize("card.desc.healing.arm");
        case PlayerInjury.BACK:
            return e.localize("card.desc.healing.back");
        case PlayerInjury.FOOT:
            return e.localize("card.desc.healing.foot");
        case PlayerInjury.HEAD:
            return e.localize("card.desc.healing.head");
        case PlayerInjury.HIP:
            return e.localize("card.desc.healing.hip");
        case PlayerInjury.LEG:
            return e.localize("card.desc.healing.leg");
        case PlayerInjury.NONE:
            return BLANK_STR;
        case PlayerInjury.SHOULDER:
            return e.localize("card.desc.healing.shoulder")
        }
    }
    ,
    UTLocalizationUtil.buildRewardString = function(t, e) {
        var i, r = "", o = t instanceof FCRewardVO ? t.utItem : t.item;
        if (t.isCoin)
            r = e.localize("card.desc.FreeCreditsDesc");
        else if (t.isChampionQualificationPoints)
            r = e.localize("rivals.rewardset.weekendleaguepoints");
        else if (t.isChampionStageEntry)
            r = e.localize("reward.type.championstageentry");
        else if (t.isXP)
            r = e.localize("scmp.rewardType.sp");
        else {
            var n = e.localize("sbc.rewards.count", [t.count.toString()]);
            if (t.isPack)
                r = n + " " + e.localize("FUT_STORE_PACK_" + t.value + "_NAME_MOBILE");
            else if (o) {
                var a = o.getStaticData()
                  , s = ""
                  , l = ""
                  , c = "";
                if (t.isCoinBoost) {
                    var u = null !== (i = null == o ? void 0 : o.definitionId) && void 0 !== i ? i : 0;
                    r = e.localize("FUT_SCMP_COIN_BOOST_" + u)
                } else {
                    if (o.isPlayerPickItem())
                        c = a.description;
                    else if (o.isAcademyUnlockToken())
                        c = e.localize(a.description);
                    else {
                        c = a.name;
                        var p = t instanceof FCRewardVO ? t.isUtVanity : t.isVanity;
                        if (o.isSpecial() || p || (l = e.localize("search.cardLevels.cardLevel" + o.getTier()) + " "),
                        o.isCommon() || p || (s = e.localize("item.raretype" + o.rareflag) + " "),
                        o.isKit())
                            c = e.localize("card.title.kit");
                        else if (o.isConsumable()) {
                            var d = e.localize("itemtype.consumable");
                            c = a.name + " " + d
                        } else if (p) {
                            var h = o.subtype.toString()
                              , y = e.localize("item.vanity.subtype" + h);
                            c = e.localize(a.name),
                            c = e.locale.isRTL() ? y + " " + c : c + " " + y
                        }
                    }
                    r = n + " " + l + s + c
                }
            } else if (t instanceof FCRewardVO && t.isFcVanityItem && t.fcItem) {
                var _ = t.fcItem.assetType;
                r = e.localize("meta.item.vanity.type" + _)
            }
            t.tradable || (r += " (" + e.localize("infopanel.context.untradeable") + ")")
        }
        return r
    }
    ,
    UTLocalizationUtil.mapTacticRoleToLocString = function(t, e) {
        return void 0 === e && (e = GrammaticalGender.NEUTER),
        services.Localization.localize("tactics.roles.role" + t, [], {
            gender: e
        })
    }
    ,
    UTLocalizationUtil
}()
  , UTEvolutionEligibilityVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTEvolutionEligibilityVO(t) {
        var e = i.call(this) || this;
        return e.attribute = t.attribute,
        e.scope = t.scope,
        e.targets = t.targets,
        e
    }
    return __extends(UTEvolutionEligibilityVO, i),
    Object.defineProperty(UTEvolutionEligibilityVO.prototype, "isCombinedRequirement", {
        get: function() {
            return 1 < this.targets.length
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTEvolutionEligibilityVO.prototype, "isValid", {
        get: function() {
            return this.attribute !== AcademyEligibilityAttribute.NONE && 0 < this.targets.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTEvolutionEligibilityVO.prototype.value = function() {
        return {
            attribute: this.attribute,
            scope: this.scope,
            targets: this.targets
        }
    }
    ,
    UTEvolutionEligibilityVO.prototype.equals = function(t) {
        return t instanceof UTEvolutionEligibilityVO && this.attribute === t.attribute && this.scope === t.scope && this.targets === t.targets
    }
    ,
    UTEvolutionEligibilityVO.prototype.meetsScopeRequirement = function(t) {
        var e = this.targets[0];
        if (this.scope === AcademyEligibilityScope.MAX)
            return t <= e;
        if (this.scope === AcademyEligibilityScope.MIN)
            return e <= t;
        if (this.scope !== AcademyEligibilityScope.BETWEEN)
            return t === e;
        DebugUtils.Assert(2 === this.targets.length, "Invalid range");
        var i = this.targets
          , r = i[0]
          , o = i[1];
        return r <= t && t <= o
    }
    ,
    UTEvolutionEligibilityVO.prototype.meetsAttributeRequirement = function(t) {
        var e = t.getAttributes()
          , i = UTAcademyUtils.getPlayerAttrByAcademyEligibilityAttr(this.attribute);
        return 0 !== e.length && !t.isGK() && this.meetsScopeRequirement(e[i])
    }
    ,
    UTEvolutionEligibilityVO.prototype.meetsSubattributeRequirement = function(t) {
        var e = t.getSubAttributes()
          , i = UTAcademyUtils.getPlayerSubAttrByAcademyEligibilityAttr(this.attribute);
        return 0 !== e.length && !t.isGK() && this.meetsScopeRequirement(e[i].rating)
    }
    ,
    UTEvolutionEligibilityVO.prototype.meetsRequirements = function(i) {
        var t = this.targets[0];
        if (DebugUtils.Assert(this.isValid, "Requirement data is invalid"),
        !i.isPlayer() || !this.isValid)
            return !1;
        switch (this.attribute) {
        case AcademyEligibilityAttribute.OVR:
            return this.meetsScopeRequirement(i.rating);
        case AcademyEligibilityAttribute.PACE:
        case AcademyEligibilityAttribute.SHOOTING:
        case AcademyEligibilityAttribute.PASSING:
        case AcademyEligibilityAttribute.DRIBBLING_MAIN:
        case AcademyEligibilityAttribute.DEFENSE:
        case AcademyEligibilityAttribute.PHYSICALITY:
            return this.meetsAttributeRequirement(i);
        case AcademyEligibilityAttribute.ACCELERATION:
        case AcademyEligibilityAttribute.SPRINT_SPEED:
        case AcademyEligibilityAttribute.AGILITY:
        case AcademyEligibilityAttribute.BALANCE:
        case AcademyEligibilityAttribute.JUMPING:
        case AcademyEligibilityAttribute.STAMINA:
        case AcademyEligibilityAttribute.STRENGTH:
        case AcademyEligibilityAttribute.REACTIONS:
        case AcademyEligibilityAttribute.AGGRESSION:
        case AcademyEligibilityAttribute.COMPOSURE:
        case AcademyEligibilityAttribute.INTERCEPTIONS:
        case AcademyEligibilityAttribute.POSITIONING:
        case AcademyEligibilityAttribute.VISION:
        case AcademyEligibilityAttribute.BALL_CONTROL:
        case AcademyEligibilityAttribute.CROSSING:
        case AcademyEligibilityAttribute.DRIBBLING_SUB:
        case AcademyEligibilityAttribute.FINISHING:
        case AcademyEligibilityAttribute.FK_ACC:
        case AcademyEligibilityAttribute.HEADING_ACC:
        case AcademyEligibilityAttribute.LONG_PASSING:
        case AcademyEligibilityAttribute.SHORT_PASSING:
        case AcademyEligibilityAttribute.DEF_AWARENESS:
        case AcademyEligibilityAttribute.SHOT_POWER:
        case AcademyEligibilityAttribute.LONG_SHOTS:
        case AcademyEligibilityAttribute.STANDING_TACKLE:
        case AcademyEligibilityAttribute.SLIDING_TACKLE:
        case AcademyEligibilityAttribute.VOLLEYS:
        case AcademyEligibilityAttribute.CURVE:
        case AcademyEligibilityAttribute.PENALTIES:
            return this.meetsSubattributeRequirement(i);
        case AcademyEligibilityAttribute.WEAK_FOOT:
            return this.meetsScopeRequirement(i.getWeakFoot());
        case AcademyEligibilityAttribute.SKILL_MOVES:
            return this.meetsScopeRequirement(i.getSkillMoves());
        case AcademyEligibilityAttribute.DEFINITION_ID:
            return this.meetsScopeRequirement(i.definitionId);
        case AcademyEligibilityAttribute.DEFINITION_ID_NEGATED:
            return !this.targets.includes(i.definitionId);
        case AcademyEligibilityAttribute.NATION:
            return this.targets.some(function(t) {
                return t === i.nationId
            });
        case AcademyEligibilityAttribute.CLUB:
            return this.targets.some(function(t) {
                return repositories.TeamConfig.compareLinkedTeamIds(t, i.teamId)
            });
        case AcademyEligibilityAttribute.LEAGUE:
            return this.targets.some(function(t) {
                return t === i.leagueId
            });
        case AcademyEligibilityAttribute.RARITY:
            return this.targets.includes(i.rareflag);
        case AcademyEligibilityAttribute.RARITY_NEGATED:
            return !this.targets.includes(i.rareflag);
        case AcademyEligibilityAttribute.POSITION:
            return i.possiblePositions.includes(t);
        case AcademyEligibilityAttribute.POSITION_NEGATED:
            return !this.targets.some(function(t) {
                return i.possiblePositions.includes(t)
            });
        case AcademyEligibilityAttribute.POSSIBLE_POSITIONS_COUNT:
            return this.meetsScopeRequirement(i.possiblePositions.length);
        case AcademyEligibilityAttribute.BASE_TRAITS_COUNT:
            return this.meetsScopeRequirement(i.getNumBasicPlayStyles());
        case AcademyEligibilityAttribute.ICON_TRAITS_COUNT:
            return this.meetsScopeRequirement(i.getNumPlusPlayStyles());
        case AcademyEligibilityAttribute.TOTAL_TRAITS_COUNT:
            return this.meetsScopeRequirement(i.getNumPlayStyles());
        case AcademyEligibilityAttribute.BASE_TRAIT_PRESENT:
            return i.hasBasePlayStyle(t);
        case AcademyEligibilityAttribute.ICON_TRAIT_PRESENT:
            return i.hasPlusPlayStyle(t);
        case AcademyEligibilityAttribute.UNTRADEABLE:
            return i.untradeable;
        case AcademyEligibilityAttribute.RARITY_GROUP:
            return this.targets.some(function(t) {
                return i.groups.includes(t)
            });
        case AcademyEligibilityAttribute.RARITY_GROUP_NEGATED:
            return !this.targets.some(function(t) {
                return i.groups.includes(t)
            });
        case AcademyEligibilityAttribute.PLAYER_ROLE_PLUS_PRESENT:
            return this.targets.some(function(e) {
                return i.getPlusRoles().some(function(t) {
                    return t.type === e
                })
            });
        case AcademyEligibilityAttribute.PLAYER_ROLE_PLUSPLUS_PRESENT:
            return this.targets.some(function(e) {
                return i.getPlusPlusRoles().some(function(t) {
                    return t.type === e
                })
            });
        case AcademyEligibilityAttribute.PLAYER_ROLE_PLUS_COUNT:
            return this.meetsScopeRequirement(i.getPlusRoles().length);
        case AcademyEligibilityAttribute.PLAYER_ROLE_PLUSPLUS_COUNT:
            return this.meetsScopeRequirement(i.getPlusPlusRoles().length);
        case AcademyEligibilityAttribute.PLAYER_ROLE_PLUS_OR_PLUSPLUS_TOTAL_COUNT:
            return this.meetsScopeRequirement(i.getPlusRoles().length + i.getPlusPlusRoles().length);
        default:
            DebugUtils.Assert(!1, "Unhandled eligibility check")
        }
        return !0
    }
    ,
    UTEvolutionEligibilityVO
}(EAObject))
  , UTItemCosmeticLayerVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTItemCosmeticLayerVO(t) {
        var e = i.call(this) || this;
        return e.type = t.type,
        e.guid = t.guid,
        e.assetId = t.assetId,
        e
    }
    return __extends(UTItemCosmeticLayerVO, i),
    UTItemCosmeticLayerVO.prototype.value = function() {
        return {
            type: this.type,
            guid: this.guid,
            assetId: this.assetId
        }
    }
    ,
    UTItemCosmeticLayerVO.prototype.equals = function(t) {
        return t instanceof UTItemCosmeticLayerVO && this.type === t.type && this.value === t.value
    }
    ,
    UTItemCosmeticLayerVO
}(EAObject))
  , __assign = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
this && this.__assign || function() {
    return (__assign = Object.assign || function(t) {
        for (var e, i = 1, r = arguments.length; i < r; i++)
            for (var o in e = arguments[i])
                Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t
    }
    ).apply(this, arguments)
}
)
  , UTAcademyFactory = (__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(r) {
    function UTAcademyFactory(t) {
        var e, i = r.call(this) || this;
        return i._skillMoveStarRatingMap = ((e = {})[AcademySkillMoveStarRating.STAR_RATING_1] = 1,
        e[AcademySkillMoveStarRating.STAR_RATING_2] = 2,
        e[AcademySkillMoveStarRating.STAR_RATING_3] = 3,
        e[AcademySkillMoveStarRating.STAR_RATING_4] = 4,
        e[AcademySkillMoveStarRating.STAR_RATING_5] = 5,
        e),
        i.itemFactory = t,
        i
    }
    return __extends(UTAcademyFactory, r),
    UTAcademyFactory.prototype.createBasePlayer = function(t) {
        var e;
        return t && ((e = __assign({}, t)).academyAttributes = []),
        this.itemFactory.createItem(e)
    }
    ,
    UTAcademyFactory.prototype.createBoostedPlayer = function(t, e, i, r) {
        var o, n;
        void 0 === r && (r = !1);
        var a = e.filter(function(t) {
            return t.id !== AcademyStatEnum.COSMETIC_UPGRADE
        })
          , s = e.find(function(t) {
            return t.id === AcademyStatEnum.COSMETIC_UPGRADE
        })
          , l = i ? (null !== (o = t.academyAttributes) && void 0 !== o ? o : []).concat(a) : a;
        return r && (l = __spreadArrays(l, [{
            id: AcademyStatEnum.LOCKED_IN_ACADEMY,
            totalBonus: 1
        }])),
        t && (n = __assign(__assign({}, t), {
            academyAttributes: l
        }),
        s && (n.cosmetics = s.stringValue)),
        this.itemFactory.createItem(n)
    }
    ,
    UTAcademyFactory.prototype.createRequirements = function(t) {
        return JSUtils.groupBy(t, function(t) {
            return t.eligibilitySlot
        }).map(function(t) {
            var e = AcademyEligibilityAttribute.NONE
              , i = AcademyEligibilityScope.EXACT
              , r = [];
            return t.forEach(function(t) {
                t.type === AcademyEligibilityType.PLAYER_ATTRIBUTE ? e = t.eligibilityValue : t.type === AcademyEligibilityType.ACADEMY_PLAYER_SLOTTING ? r.push(t.eligibilityValue) : t.type === AcademyEligibilityType.SCOPE ? i = t.eligibilityValue : t.type === AcademyEligibilityType.ADDITIONAL_TARGET_VALUE && r.push(t.eligibilityValue)
            }),
            DebugUtils.Assert(e !== AcademyEligibilityAttribute.NONE, "No attribute found for eligibility requirement"),
            e === AcademyEligibilityAttribute.SKILL_MOVES && (r = r.map(function(t) {
                return t++
            })),
            {
                attribute: e,
                targets: r,
                scope: i
            }
        }).map(function(t) {
            return new UTEvolutionEligibilityVO(t)
        })
    }
    ,
    UTAcademyFactory.prototype.createObjective = function(t) {
        var e = {
            id: t.objectiveId,
            name: t.name,
            description: t.description,
            difficulty: t.difficulty,
            state: t.state,
            currentProgress: t.currentProgress,
            multiplier: t.multiplier,
            priority: t.priority
        };
        return new UTAcademyObjectiveEntity(e)
    }
    ,
    UTAcademyFactory.prototype.createAward = function(i, t) {
        var e, r = {
            id: i.value,
            delta: i.count,
            level: null != t ? t : -1,
            maxValue: i.maxValue,
            count: null !== (e = i.count) && void 0 !== e ? e : 0,
            customLayers: []
        };
        i.value === AcademyStatEnum.SKILL_MOVES && (r.maxValue = i.maxValue ? this._skillMoveStarRatingMap[i.maxValue] : void 0),
        i.guidAssetId && i.guidAssetId.split("|").forEach(function(t) {
            var e = t.split(":");
            3 === e.length ? r.customLayers.push(new UTItemCosmeticLayerVO({
                type: Number(e[0]),
                guid: e[1],
                assetId: e[2]
            })) : DebugUtils.Assert(!1, "Invalid customisation guid " + i.guidAssetId)
        });
        return new UTAcademyAwardEntity(r)
    }
    ,
    UTAcademyFactory.prototype.createLevel = function(e, t) {
        var i, r, o, n = this;
        if (t) {
            var a = t.academyBonusesPerLevel[e.level].filter(function(t) {
                return t.id !== AcademyStatEnum.ACTIVE_IN_ACADEMY
            })
              , s = t.itemData;
            o = this.createBoostedPlayer(s, a, !0)
        } else
            o = new UTNullItemEntity;
        var l = {
            awards: e.awards.map(function(t) {
                return n.createAward(t, e.level)
            }),
            boostedPlayer: o,
            id: e.level,
            objectives: null !== (r = null === (i = e.objectives) || void 0 === i ? void 0 : i.map(function(t) {
                return n.createObjective(t)
            })) && void 0 !== r ? r : [],
            status: e.levelState
        };
        return new UTAcademyLevelEntity(l)
    }
    ,
    UTAcademyFactory.prototype.createSlot = function(t) {
        var e, i, r, o, n, a = this, s = null;
        t.player && t.slottedPlayerPreview && (s = {
            itemData: t.player,
            academyBonusesPerLevel: t.slottedPlayerPreview.academyBonusesPerLevel
        });
        var l = t.levels.map(function(t) {
            return a.createLevel(t, s)
        })
          , c = {
            academyTopRewards: null !== (i = null === (e = t.academyTopRewards) || void 0 === e ? void 0 : e.map(function(t) {
                return a.createAward(t)
            })) && void 0 !== i ? i : [],
            categoryId: t.categoryId,
            timed: t.timed,
            currencies: t.currencies ? t.currencies.map(function(t) {
                return new UTCurrencyVO(t.name,t.funds)
            }) : [],
            eligibilityRequirements: this.createRequirements(t.elgReqs),
            endTime: t.endTime,
            endTimePurchaseVisibility: t.endTimePurchaseVisibility,
            id: t.id,
            levels: l,
            player: t.player ? this.createBasePlayer(t.player) : new UTNullItemEntity,
            slotDescription: t.slotDescription,
            slotName: t.slotName,
            status: t.status,
            realPlayerId: null !== (r = t.realPlayerId) && void 0 !== r ? r : -1,
            rewardsDisplayTopCount: null !== (o = t.rewardsDisplayTopCount) && void 0 !== o ? o : -1,
            totalRewardsCount: null !== (n = t.totalRewardsCount) && void 0 !== n ? n : -1
        };
        return new UTAcademySlotEntity(c)
    }
    ,
    UTAcademyFactory.prototype.createSlots = function(t) {
        var e = this;
        return t.filter(function(t) {
            var e = 2 <= t.levels.length;
            return DebugUtils.Assert(e, "Slot ID " + t.id + " has an invalid level count and will be ignored."),
            e
        }).map(function(t) {
            return e.createSlot(t)
        })
    }
    ,
    UTAcademyFactory.prototype.createCategories = function(t) {
        return t.map(function(t) {
            return new UTAcademyCategoryDTO(t.count,t.description,t.id,t.priority,t.slotIds)
        })
    }
    ,
    UTAcademyFactory
}(EAObject))
  , UTAcademyDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__assign = this && this.__assign || function() {
    return (__assign = Object.assign || function(t) {
        for (var e, i = 1, r = arguments.length; i < r; i++)
            for (var o in e = arguments[i])
                Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t
    }
    ).apply(this, arguments)
}
,
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(a) {
    function UTAcademyDAO(t, e, i, r) {
        var o = a.call(this) || this;
        o.academyRepo = i,
        o.authDelegate = t,
        o.itemRepo = r,
        o.requestDelegate = e;
        var n = new UTItemEntityFactory;
        return o.academyFactory = new UTAcademyFactory(n),
        o
    }
    return __extends(UTAcademyDAO, a),
    UTAcademyDAO.prototype.getHub = function(t) {
        var I = this
          , A = new UTAcademySlotSearchCriteriaDTO;
        A.count = t.count,
        A.offset = t.offset,
        A.sort = t.sort,
        A.slotStatus = t.slotStatus;
        var U = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , w = new UTHttpResponseDTO;
        return w.response = {
            activeSlotsCount: 0,
            activeSlotIds: [],
            activeTimedSlotIds: [],
            availableSlotsCount: 0,
            categories: [],
            disabledSlotIds: [],
            disabledWithProgressSlotIds: [],
            expiredSlotIds: [],
            inactiveSlotsCount: 0,
            inactiveSlotIds: [],
            isFull: !1,
            slots: [],
            strippedSlotIds: [],
            temporarySlots: []
        },
        this.academyRepo.isCacheExpired() || !this.academyRepo.isCachedSearch(t) && !this.academyRepo.isFull ? (e.setPath("/ut/game/" + GAME_NAME + "/academy/hub/v2"),
        e.setUrlVariables(this.getUrlParams(t)),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            var i, r, o, n, a, s, l, c, u, p, d, h, y, _, m, T;
            t.unobserve(I),
            JSUtils.assignPropertyValues(e, w);
            var f = Date.now();
            if (e.success && JSUtils.isObject(e.response)) {
                I.academyRepo.requiresHubCall = !1,
                I.academyRepo.setCacheTimestamp(f),
                I.academyRepo.totalSlotCount = e.response.activeSlotIds.length + e.response.inactiveSlotIds.length + e.response.availableSlotsCount,
                I.academyRepo.activeSlotIds = null !== (i = e.response.activeSlotIds) && void 0 !== i ? i : [],
                I.academyRepo.activeTimedSlotIds = null !== (r = e.response.activeTimedSlotIds) && void 0 !== r ? r : [],
                I.academyRepo.inactiveSlotIds = null !== (o = e.response.inactiveSlotIds) && void 0 !== o ? o : [];
                var g = null !== (n = e.response.disabledSlotIds) && void 0 !== n ? n : [];
                I.academyRepo.disabledSlotIds = __spreadArrays(g);
                var E = null !== (a = e.response.disabledWithProgressSlotIds) && void 0 !== a ? a : [];
                I.academyRepo.disabledWithProgressSlotIds = __spreadArrays(E);
                var S = null !== (s = e.response.expiredSlotIds) && void 0 !== s ? s : [];
                I.academyRepo.expiredSlotIds = __spreadArrays(S);
                var v = null !== (l = e.response.strippedSlotIds) && void 0 !== l ? l : [];
                I.academyRepo.strippedSlotIds = __spreadArrays(v);
                var b = null !== (c = e.response.rewardReadySlotIds) && void 0 !== c ? c : [];
                I.academyRepo.rewardReadySlotIds = __spreadArrays(b),
                I.academyRepo.addSlots(I.academyFactory.createSlots(e.response.slots), A),
                I.academyRepo.setCategories(I.academyFactory.createCategories(null !== (u = e.response.categories) && void 0 !== u ? u : []));
                var C = 0 < e.response.activeSlotIds.length || 0 < e.response.inactiveSlotIds.length;
                A.slotStatus = C ? AcademySlotState.STARTED : AcademySlotState.NOT_STARTED,
                w.response = {
                    activeSlotsCount: e.response.activeSlotsCount,
                    activeSlotIds: null !== (p = e.response.activeSlotIds) && void 0 !== p ? p : [],
                    activeTimedSlotIds: null !== (d = e.response.activeTimedSlotIds) && void 0 !== d ? d : [],
                    availableSlotsCount: e.response.availableSlotsCount,
                    categories: I.academyRepo.getCategories(),
                    disabledSlotIds: null !== (h = e.response.disabledSlotIds) && void 0 !== h ? h : [],
                    disabledWithProgressSlotIds: null !== (y = e.response.disabledWithProgressSlotIds) && void 0 !== y ? y : [],
                    expiredSlotIds: null !== (_ = e.response.expiredSlotIds) && void 0 !== _ ? _ : [],
                    inactiveSlotsCount: e.response.inactiveSlotsCount,
                    inactiveSlotIds: null !== (m = e.response.inactiveSlotIds) && void 0 !== m ? m : [],
                    isFull: I.academyRepo.isFull,
                    slots: I.academyRepo.getSlots(A),
                    strippedSlotIds: null !== (T = e.response.strippedSlotIds) && void 0 !== T ? T : [],
                    temporarySlots: e.response.extraNotificationSlots ? I.academyFactory.createSlots(e.response.extraNotificationSlots) : []
                }
            }
            U.notify(w)
        })) : (w.success = !0,
        w.status = HttpStatusCode.NOT_MODIFIED,
        w.response.slots = this.academyRepo.getSlots(A),
        w.response.isFull = this.academyRepo.isFull,
        U.notify(w)),
        U
    }
    ,
    UTAcademyDAO.prototype.cancelTimedSlotEvolution = function(t) {
        var o = this
          , n = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        e.requestType = HttpRequestMethod.POST,
        e.setPath("/ut/game/" + GAME_NAME + "/academy/cancel/" + t);
        var a = new UTHttpResponseDTO;
        return this.requestDelegate.send(e).observe(this, function(t, e) {
            var i;
            if (t.unobserve(o),
            JSUtils.assignPropertyValues(e, a),
            e.success && JSUtils.isObject(e.response)) {
                var r = null !== (i = e.response.originalPlayer) && void 0 !== i ? i : [];
                o.itemRepo.update(r)
            }
            n.notify(a)
        }),
        n
    }
    ,
    UTAcademyDAO.prototype.getSlottedSlots = function(t) {
        var h = this
          , y = new UTAcademySlotSearchCriteriaDTO;
        y.count = t.count,
        y.offset = t.offset,
        y.sort = t.sort,
        y.slotStatus = t.slotStatus;
        var _ = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , m = new UTHttpResponseDTO;
        return m.response = {
            slots: [],
            isFull: !1
        },
        this.academyRepo.isCacheExpired() || !this.academyRepo.isCachedSearch(t) && !this.academyRepo.isFull ? (e.setPath("/ut/game/" + GAME_NAME + "/academy/active"),
        e.setUrlVariables(this.getUrlParams(t)),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            var i, r, o, n, a;
            t.unobserve(h),
            JSUtils.assignPropertyValues(e, m);
            var s = Date.now();
            if (e.success && JSUtils.isObject(e.response)) {
                h.academyRepo.setCacheTimestamp(s);
                var l = null !== (i = e.response.disabledSlotIds) && void 0 !== i ? i : [];
                h.academyRepo.disabledSlotIds = __spreadArrays(l);
                var c = null !== (r = e.response.disabledWithProgressSlotIds) && void 0 !== r ? r : [];
                h.academyRepo.disabledWithProgressSlotIds = __spreadArrays(c);
                var u = null !== (o = e.response.expiredSlotIds) && void 0 !== o ? o : [];
                h.academyRepo.expiredSlotIds = __spreadArrays(u);
                var p = null !== (n = e.response.strippedSlotIds) && void 0 !== n ? n : [];
                h.academyRepo.strippedSlotIds = __spreadArrays(p);
                var d = null !== (a = e.response.rewardReadySlotIds) && void 0 !== a ? a : [];
                h.academyRepo.rewardReadySlotIds = __spreadArrays(d),
                h.academyRepo.addSlots(h.academyFactory.createSlots(e.response.slots), y),
                m.response = {
                    slots: h.academyRepo.getSlots(y),
                    isFull: h.academyRepo.isFull
                }
            }
            _.notify(m)
        })) : (m.success = !0,
        m.status = HttpStatusCode.NOT_MODIFIED,
        m.response.slots = this.academyRepo.getSlots(y),
        m.response.isFull = this.academyRepo.isFull,
        _.notify(m)),
        _
    }
    ,
    UTAcademyDAO.prototype.getActiveSlotIds = function() {
        var t;
        return null !== (t = this.academyRepo.activeSlotIds) && void 0 !== t ? t : []
    }
    ,
    UTAcademyDAO.prototype.getActiveTimedSlotIds = function() {
        var t;
        return null !== (t = this.academyRepo.activeTimedSlotIds) && void 0 !== t ? t : []
    }
    ,
    UTAcademyDAO.prototype.getInactiveSlotIds = function() {
        var t;
        return null !== (t = this.academyRepo.inactiveSlotIds) && void 0 !== t ? t : []
    }
    ,
    UTAcademyDAO.prototype.getCategories = function() {
        return this.academyRepo.getCategories()
    }
    ,
    UTAcademyDAO.prototype.addToSlot = function(t, a, e) {
        var s = this
          , r = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return i.setRequestBody({
            slotId: t,
            itemId: a,
            currency: e
        }),
        i.requestType = HttpRequestMethod.POST,
        i.setPath("/ut/game/" + GAME_NAME + "/academy/slots"),
        this.requestDelegate.send(i).observe(this, function(t, e) {
            t.unobserve(s);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response)) {
                var o = []
                  , n = [];
                e.response.activeSlots && e.response.activeSlots.forEach(function(t) {
                    var e, i = s.academyRepo.getSlotById(t.id);
                    if (t.player && i) {
                        i.status = t.status,
                        i.player = s.academyFactory.createBoostedPlayer(__assign(__assign({}, t.player), {
                            id: a,
                            pile: ItemPile.CLUB
                        }), null !== (e = t.player.academyAttributes) && void 0 !== e ? e : [], !1),
                        s.itemRepo.update(i.player);
                        var r = s.itemRepo.getClub().getItem(ItemType.PLAYER, ItemSubType.PLAYER, a);
                        i && (r && (i.player = r),
                        o.push(i))
                    }
                }),
                e.response.inactiveSlots && e.response.inactiveSlots.forEach(function(t) {
                    var e, i = s.academyRepo.getSlotById(t.id);
                    if (t.player && i) {
                        i.status = t.status,
                        i.player = s.academyFactory.createBoostedPlayer(__assign(__assign({}, t.player), {
                            id: a,
                            pile: ItemPile.CLUB
                        }), null !== (e = t.player.academyAttributes) && void 0 !== e ? e : [], !1),
                        s.itemRepo.update(i.player);
                        var r = s.itemRepo.getClub().getItem(ItemType.PLAYER, ItemSubType.PLAYER, a);
                        i && (r && (i.player = r),
                        n.push(i))
                    }
                }),
                i.response = {
                    activeSlots: o,
                    inactiveSlots: n,
                    isMaximumNumberOfSlotsReached: e.response.isMaximumNumberOfSlotsReached,
                    updatedItem: s.itemRepo.getClub().getItem(ItemType.PLAYER, ItemSubType.PLAYER, a)
                }
            } else
                i.response = {
                    activeSlots: [],
                    inactiveSlots: [],
                    isMaximumNumberOfSlotsReached: !1,
                    updatedItem: null
                };
            r.notify(i)
        }),
        r
    }
    ,
    UTAcademyDAO.prototype.getSlotPreview = function(c, u) {
        var p = this
          , d = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/academy/slots/reward/preview/" + c + "/" + u),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i, r, o;
            t.unobserve(p);
            var n = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, n);
            var a = p.academyRepo.getSlotById(c);
            if (e.success && JSUtils.isObject(e.response) && a) {
                e.response.itemData.id = u;
                var s = e.response.itemData;
                a.player = p.academyFactory.createBasePlayer(s);
                var l = e.response.academyBonusesPerLevel;
                a.baseLevel && (a.baseLevel.boostedPlayer = p.academyFactory.createBoostedPlayer(s, l[a.baseLevel.id], !0)),
                a.levels.forEach(function(t) {
                    t.boostedPlayer = p.academyFactory.createBoostedPlayer(s, l[t.id], !0, a.timed)
                }),
                null === (r = null === (i = null == a ? void 0 : a.baseLevel) || void 0 === i ? void 0 : i.boostedPlayer) || void 0 === r || r.setActiveInTimedEvo(a.timed),
                p.academyRepo.setSlot(a),
                n.response = {
                    updatedSlot: null !== (o = p.academyRepo.getSlotById(a.id)) && void 0 !== o ? o : null
                }
            } else
                n.response = {
                    updatedSlot: null
                };
            d.notify(n)
        }),
        d
    }
    ,
    UTAcademyDAO.prototype.getSlotsByCategory = function(t) {
        var o = this
          , n = new UTAcademySlotSearchCriteriaDTO;
        n.count = t.count,
        n.offset = t.offset,
        n.sort = t.sort,
        n.categoryId = t.categoryId;
        var a = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , s = new UTHttpResponseDTO;
        return s.response = {
            slots: [],
            isFull: !1
        },
        e.setPath("/ut/game/" + GAME_NAME + "/academy/category/" + t.categoryId),
        e.setUrlVariables(this.getUrlParams(t)),
        !this.academyRepo.isCacheExpired() && this.academyRepo.isCachedSearch(t) && this.academyRepo.isFull ? (s.success = !0,
        s.status = HttpStatusCode.NOT_MODIFIED,
        s.response.slots = this.academyRepo.getSlots(n),
        a.notify(s)) : this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(o),
            JSUtils.assignPropertyValues(e, s);
            var i = Date.now();
            if (e.success && JSUtils.isObject(e.response)) {
                o.academyRepo.setCacheTimestamp(i);
                var r = o.academyFactory.createSlots(e.response.slots);
                o.academyRepo.addSlots(r, n),
                s.response = {
                    slots: o.academyRepo.getSlots(n),
                    isFull: o.academyRepo.isFull
                }
            } else
                s.response = {
                    slots: [],
                    isFull: !1
                };
            a.notify(s)
        }),
        a
    }
    ,
    UTAcademyDAO.prototype.claimSlot = function(E) {
        var S = this
          , v = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/academy/slots/reward/" + E),
        t.requestType = HttpRequestMethod.POST,
        t.setUrlVariables({
            slotReview: !0
        }),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i, r, o;
            t.unobserve(S);
            var n = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, n);
            var a = S.academyRepo.getSlotById(E);
            if (e.success && JSUtils.isObject(e.response)) {
                var s = null
                  , l = null
                  , c = null
                  , u = null !== (i = e.response.isCanceled) && void 0 !== i && i;
                if (a && a.hasClaimableLevel() && (null == a ? void 0 : a.realPlayerId)) {
                    var p = null !== (r = e.response.academyBonusesPerLevel) && void 0 !== r ? r : []
                      , d = p[a.getCurrentLevel().id]
                      , h = p[a.getPreviousLevel().id]
                      , y = e.response.playerBeforeSlot
                      , _ = e.response.rewardedSlot.player;
                    if (d && y && _) {
                        var m = __assign(__assign({}, y), {
                            id: null == a ? void 0 : a.realPlayerId,
                            pile: ItemPile.CLUB
                        });
                        c = S.academyFactory.createBoostedPlayer(m, h, !1);
                        var T = __assign(__assign({}, _), {
                            id: null == a ? void 0 : a.realPlayerId,
                            pile: ItemPile.CLUB
                        });
                        l = S.academyFactory.createBoostedPlayer(T, [], !0, e.response.rewardedSlot.status !== AcademySlotState.COMPLETE && a.timed),
                        S.itemRepo.update(l),
                        DebugUtils.Assert(null != c, "Original item is null"),
                        DebugUtils.Assert(null != l, "Upgraded item is null")
                    }
                }
                var f = e.response.rewardedSlot;
                (null == a ? void 0 : a.shouldBeRemovedAfterClaim()) || f.status === AcademySlotState.COMPLETE || u ? S.academyRepo.removeSlotById(E) : f && S.academyRepo.setSlot(S.academyFactory.createSlot(f));
                var g = e.response.activatedSlot;
                g && (S.academyRepo.setSlot(S.academyFactory.createSlot(g)),
                s = null !== (o = S.academyRepo.getSlotById(g.id)) && void 0 !== o ? o : null),
                n.response = {
                    rewardedSlot: null != a ? a : null
                },
                c && (n.response.originalPlayer = c),
                l && (n.response.upgradedPlayer = l),
                s && (n.response.activatedSlot = s),
                n.response.isCancelled = u
            } else
                n.response = {
                    rewardedSlot: null
                };
            v.notify(n)
        }),
        v
    }
    ,
    UTAcademyDAO.prototype.getUrlParams = function(t) {
        var e = {
            offset: t.offset,
            count: t.count,
            sortOrder: t.sort
        };
        return t.slotStatus !== AcademySlotState.UNKNOWN && (e.slotStatus = t.slotStatus),
        e
    }
    ,
    UTAcademyDAO.prototype.resumeSlot = function(t) {
        var s = this
          , l = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/academy/resume/" + t),
        e.requestType = HttpRequestMethod.POST,
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(s);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response)) {
                var r = s.itemRepo.getClub();
                if (e.response.activatedSlotId) {
                    var o = s.academyRepo.getSlotById(e.response.activatedSlotId);
                    if (o) {
                        var n = r.getItem(ItemType.PLAYER, ItemSubType.PLAYER, o.realPlayerId);
                        o.status = AcademySlotState.ACTIVE,
                        null == n || n.setActiveInAcademy(!0)
                    }
                }
                if (e.response.pausedSlotId) {
                    var a = s.academyRepo.getSlotById(e.response.pausedSlotId);
                    if (a) {
                        n = r.getItem(ItemType.PLAYER, ItemSubType.PLAYER, a.realPlayerId);
                        a.status = AcademySlotState.INACTIVE,
                        null == n || n.setActiveInAcademy(!1)
                    }
                }
                i.response = {
                    activatedSlotId: e.response.activatedSlotId,
                    pausedSlotId: e.response.pausedSlotId
                }
            } else
                i.response = {
                    activatedSlotId: 0,
                    pausedSlotId: 0
                };
            l.notify(i)
        }),
        l
    }
    ,
    UTAcademyDAO
}(EAObject))
  , UTAnalyticsDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTAnalyticsDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e
    }
    return __extends(UTAnalyticsDAO, i),
    UTAnalyticsDAO.prototype.sendAnalytics = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        e.setRetry(!1);
        var i = {
            data: t,
            type: "COMPANION"
        };
        return e.setPath("/ut/game/" + GAME_NAME + "/appstats"),
        e.setRequestType(HttpRequestMethod.POST),
        e.setRequestBody(i),
        e.observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            i.success = e.success,
            i.status = e.status,
            i.response = {},
            o.notify(i)
        }),
        e.send(),
        o
    }
    ,
    UTAnalyticsDAO
}(EAObject))
  , UTChampionsEventPrizeTiersEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChampionsEventPrizeTiersEntity(t) {
        var e = i.call(this) || this;
        return e.rewardSetId = t.rewardSetId,
        e.competitionId = t.competitionId,
        e.eventRewardSet = t.eventRewardSet,
        e.tierEnd = t.tierEnd,
        e.tierLevel = t.tierLevel,
        e.tierType = t.tierType,
        e.tierStart = t.tierStart,
        e
    }
    return __extends(UTChampionsEventPrizeTiersEntity, i),
    Object.defineProperty(UTChampionsEventPrizeTiersEntity.prototype, "points", {
        get: function() {
            return Math.max(this.tierEnd - this.tierStart, 1)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTChampionsEventPrizeTiersEntity.prototype.calculateProgress = function(t) {
        return t >= this.tierEnd ? 100 : Math.max(t - this.tierStart, 0) / this.points * 100
    }
    ,
    UTChampionsEventPrizeTiersEntity
}(EAObject))
  , UTChampionsEventEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTChampionsEventEntity(e) {
        var t, i, r = n.call(this) || this, o = e.userProgress.find(function(t) {
            return t.stageEventId === e.currentStageId
        });
        return r.currentPoints = null !== (t = null == o ? void 0 : o.pointsProgress) && void 0 !== t ? t : 0,
        r.currentStageId = e.currentStageId,
        r.currentTime = e.currentTime,
        r.gamesPlayed = null !== (i = null == o ? void 0 : o.gamesPlayed) && void 0 !== i ? i : 0,
        r.hasProgress = JSUtils.isValid(o) && 0 < r.currentStageId,
        r.nextStageId = e.nextStageId,
        r.previousStageId = e.previousStageId,
        r.qualifiedToNextStage = e.qualifiedToNextStage,
        r.rewardReady = e.rewardReady,
        r.stages = e.stages,
        r
    }
    return __extends(UTChampionsEventEntity, n),
    UTChampionsEventEntity.prototype.hasOutStandingRewards = function() {
        return this.rewardReady
    }
    ,
    UTChampionsEventEntity.prototype.hasProgression = function() {
        return 0 < this.stages.length && 0 < this.currentStageId
    }
    ,
    UTChampionsEventEntity.prototype.getStageById = function(e) {
        var t;
        return null !== (t = this.stages.find(function(t) {
            return t.stageEventId === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTChampionsEventEntity.prototype.getFirstStage = function() {
        var t;
        return null !== (t = this.stages.find(function(t) {
            return 1 === t.stageLevel
        })) && void 0 !== t ? t : null
    }
    ,
    UTChampionsEventEntity.prototype.getCurrentStage = function() {
        return this.getStageById(this.currentStageId)
    }
    ,
    UTChampionsEventEntity.prototype.getPrizeTierByRewardSetId = function(t) {
        var e, i, r = null !== (e = this.getCurrentStage()) && void 0 !== e ? e : this.getFirstStage();
        return null !== (i = null == r ? void 0 : r.getPrizeTierByRewardSetId(t)) && void 0 !== i ? i : null
    }
    ,
    UTChampionsEventEntity
}(EAObject))
  , UTChampionsEventStageEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChampionsEventStageEntity(t) {
        var e = i.call(this) || this;
        return e.championQualificationPointRequirement = t.championQualificationPointRequirement,
        e.endTime = t.endTime,
        e.maxGames = t.maxGames,
        e.pointsPerLoss = t.pointsPerLoss,
        e.pointsPerWin = t.pointsPerWin,
        e.prizeTiers = t.prizeTiers,
        e.stageEventId = t.stageEventId,
        e.stageLevel = t.stageLevel,
        e.startTime = t.startTime,
        e
    }
    return __extends(UTChampionsEventStageEntity, i),
    UTChampionsEventStageEntity.prototype.getFirstTier = function() {
        return 0 === this.prizeTiers.length ? null : this.prizeTiers.reduce(function(t, e) {
            return e.tierStart < t.tierStart ? e : t
        })
    }
    ,
    UTChampionsEventStageEntity.prototype.getPrizeTierByRewardSetId = function(e) {
        var t;
        return null !== (t = this.prizeTiers.find(function(t) {
            return t.rewardSetId === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTChampionsEventStageEntity.prototype.getCurrentTier = function(e) {
        var t = this.prizeTiers.find(function(t) {
            return e >= t.tierStart && e < t.tierEnd
        });
        return null != t ? t : null
    }
    ,
    UTChampionsEventStageEntity.prototype.progressTowardFirstTier = function(t) {
        var e = this.getFirstTier();
        return e ? t >= e.tierStart ? 100 : t / e.tierStart * 100 : 0
    }
    ,
    UTChampionsEventStageEntity.prototype.progressTowardTier = function(e, t) {
        var i = this.prizeTiers.find(function(t) {
            return t.tierLevel === e + 1
        });
        return i ? i.calculateProgress(t) : this.progressTowardFirstTier(t)
    }
    ,
    UTChampionsEventStageEntity
}(EAObject))
  , UTChampionsEventEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChampionsEventEntityFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(UTChampionsEventEntityFactory, i),
    UTChampionsEventEntityFactory.prototype.createChampionsEvent = function(t) {
        var e, i, r, o, n = this, a = null !== (i = null === (e = t.stages) || void 0 === e ? void 0 : e.map(function(t) {
            return n.createStageEntity(t)
        })) && void 0 !== i ? i : [], s = {
            currentStageId: t.currentStageId,
            currentTime: t.currentTime,
            nextStageId: t.nextStageId,
            previousStageId: null !== (r = t.previousStageId) && void 0 !== r ? r : -1,
            qualifiedToNextStage: t.qualifiedToNextStage,
            rewardReady: t.rewardReady,
            stages: a,
            userProgress: null !== (o = t.userProgress) && void 0 !== o ? o : []
        };
        return new UTChampionsEventEntity(s)
    }
    ,
    UTChampionsEventEntityFactory.prototype.createStageEntity = function(t) {
        var e = this
          , i = t.prizeTiers.map(function(t) {
            return e.createPrizeTierEntity(t)
        })
          , r = {
            championQualificationPointRequirement: t.championQualificationPointRequirement,
            endTime: t.endTime,
            maxGames: t.maxGames,
            pointsPerLoss: t.pointsPerLoss,
            pointsPerWin: t.pointsPerWin,
            prizeTiers: i,
            stageEventId: t.stageEventId,
            stageLevel: t.stageLevel,
            startTime: t.startTime
        };
        return new UTChampionsEventStageEntity(r)
    }
    ,
    UTChampionsEventEntityFactory.prototype.createPrizeTierEntity = function(t) {
        var e = this.rewardFactory.createRewardSetFromChampionsData(t)
          , i = {
            rewardSetId: t.awardSetId,
            competitionId: t.competitionId,
            eventRewardSet: e,
            tierEnd: t.tierEnd,
            tierLevel: t.tierLevel,
            tierType: t.tierType,
            tierStart: t.tierStart
        };
        return new UTChampionsEventPrizeTiersEntity(i)
    }
    ,
    UTChampionsEventEntityFactory
}(EAObject))
  , UTCareerEntryDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTCareerEntryDTO(t) {
        var e = i.call(this) || this;
        return e.endYear = t.e,
        e.goals = t.g,
        e.matches = t.m,
        e.startYear = t.s,
        e.teamId = t.t,
        e
    }
    return __extends(UTCareerEntryDTO, i),
    UTCareerEntryDTO
}(EAObject))
  , UTLegendsBioDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTLegendsBioDTO(t) {
        var e = i.call(this) || this;
        return e.clubCareer = t && Array.isArray(t.c) ? t.c.map(function(t) {
            return new UTCareerEntryDTO(t)
        }) : [],
        e.nationalCareer = t && Array.isArray(t.n) ? t.n.map(function(t) {
            return new UTCareerEntryDTO(t)
        }) : [],
        e
    }
    return __extends(UTLegendsBioDTO, i),
    UTLegendsBioDTO
}(EAObject))
  , UTPlayerSubAttributeVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTPlayerSubAttributeVO(t, e, i) {
        void 0 === i && (i = !1);
        var r = o.call(this) || this;
        return r.type = t,
        r.rating = e,
        r.highlight = i,
        r
    }
    return __extends(UTPlayerSubAttributeVO, o),
    UTPlayerSubAttributeVO.prototype.value = function() {
        return this.rating
    }
    ,
    UTPlayerSubAttributeVO.prototype.equals = function(t) {
        return t instanceof UTPlayerSubAttributeVO && this.type === t.type && this.rating === t.rating
    }
    ,
    UTPlayerSubAttributeVO
}(EAObject))
  , UTStaticItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTStaticItemDataDTO() {
        var t = e.call(this) || this;
        return t.assetId = 0,
        t.assetType = "",
        t.assetYear = -1,
        t.amount = 0,
        t.name = BLANK_STR,
        t.firstName = BLANK_STR,
        t.lastName = BLANK_STR,
        t.knownAs = BLANK_STR,
        t.description = "",
        t.manufacturer = "",
        t.trainedAttribute = -1,
        t.trainPosFrom = "",
        t.trainPosTo = "",
        t.goldBoost = 0,
        t.silverBoost = 0,
        t.bronzeBoost = 0,
        t
    }
    return __extends(UTStaticItemDataDTO, e),
    UTStaticItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        var i = e;
        this.amount = i.amount || 0
    }
    ,
    UTStaticItemDataDTO.prototype.generateNameData = function(t, e, i) {
        this.firstName = t || BLANK_STR,
        this.lastName = e || BLANK_STR,
        this.knownAs = i || BLANK_STR,
        this.name = this.knownAs === BLANK_STR ? this.lastName : this.knownAs
    }
    ,
    UTStaticItemDataDTO.prototype.getFullName = function() {
        return this.knownAs === BLANK_STR ? this.firstName + " " + this.lastName : this.knownAs
    }
    ,
    UTStaticItemDataDTO.prototype.hasLoanPackDescription = function() {
        return "FreeLoanPackDesc" === this.description
    }
    ,
    UTStaticItemDataDTO
}(EAObject))
  , UTStaticPlayerItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTStaticPlayerItemDataDTO() {
        return i.call(this) || this
    }
    return __extends(UTStaticPlayerItemDataDTO, i),
    UTStaticPlayerItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        i.prototype.parseDynamicItemData.call(this, t, e),
        this.generateNameData(e.firstName, e.lastName, e.knownAs)
    }
    ,
    UTStaticPlayerItemDataDTO.prototype.hasNameData = function() {
        return this.firstName !== BLANK_STR || this.lastName !== BLANK_STR || this.knownAs !== BLANK_STR
    }
    ,
    UTStaticPlayerItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticManagerItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTStaticManagerItemDataDTO() {
        return i.call(this) || this
    }
    return __extends(UTStaticManagerItemDataDTO, i),
    UTStaticManagerItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        i.prototype.parseDynamicItemData.call(this, t, e),
        this.firstName = e.firstName || BLANK_STR,
        this.lastName = e.lastName || BLANK_STR,
        this.knownAs = e.commonname || BLANK_STR,
        this.lastName !== BLANK_STR && !JSUtils.isEmpty(this.lastName.trim()) || (this.knownAs = this.firstName),
        this.amount = e.negotiation || 0,
        this.firstName === BLANK_STR && this.lastName === BLANK_STR && this.knownAs === BLANK_STR ? this.name = BLANK_STR : this.name = this.knownAs === BLANK_STR ? this.firstName.charAt(0) + ". " + this.lastName : this.knownAs
    }
    ,
    UTStaticManagerItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticBadgeItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTStaticBadgeItemDataDTO() {
        var t = i.call(this) || this;
        return t.name = services.Localization.localize("card.title.badge"),
        t
    }
    return __extends(UTStaticBadgeItemDataDTO, i),
    UTStaticBadgeItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        i.prototype.parseDynamicItemData.call(this, t, e),
        this.assetId = e.assetId || 0
    }
    ,
    UTStaticBadgeItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticKitItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(a) {
    function UTStaticKitItemDataDTO() {
        var t = a.call(this) || this;
        return t.kitType = KitType.HOME,
        t
    }
    return __extends(UTStaticKitItemDataDTO, a),
    UTStaticKitItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        var i, r;
        a.prototype.parseDynamicItemData.call(this, t, e);
        var o = e
          , n = null !== (i = e.category) && void 0 !== i ? i : 0;
        this.assetYear = null !== (r = o.year) && void 0 !== r ? r : 0,
        this.name = services.Localization.localize("clubtype.kit"),
        n === UTStaticKitItemDataDTO.CATEGORY_KIT_HOME ? (this.description = services.Localization.localize("card.desc.homekit"),
        this.assetType = AssetLocationUtils.IMAGE_TYPE_KIT_HOME,
        this.kitType = KitType.HOME) : n === UTStaticKitItemDataDTO.CATEGORY_KIT_AWAY ? (this.description = services.Localization.localize("card.desc.awaykit"),
        this.assetType = AssetLocationUtils.IMAGE_TYPE_KIT_AWAY,
        this.kitType = KitType.AWAY) : n === UTStaticKitItemDataDTO.CATEGORY_KIT_THIRD ? (this.description = services.Localization.localize("card.desc.thirdkit"),
        this.assetType = AssetLocationUtils.IMAGE_TYPE_KIT_THIRD,
        this.kitType = KitType.THIRD) : (this.description = services.Localization.localize("card.desc.homekit"),
        this.assetType = AssetLocationUtils.IMAGE_TYPE_KIT_HOME,
        this.kitType = KitType.GOALKEEPER),
        0 < this.assetYear && (this.description = services.Localization.localize("card.desc.classickit"))
    }
    ,
    UTStaticKitItemDataDTO.CATEGORY_KIT_HOME = 2,
    UTStaticKitItemDataDTO.CATEGORY_KIT_AWAY = 3,
    UTStaticKitItemDataDTO.CATEGORY_KIT_THIRD = 5,
    UTStaticKitItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticBallItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTStaticBallItemDataDTO() {
        return r.call(this) || this
    }
    return __extends(UTStaticBallItemDataDTO, r),
    UTStaticBallItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        r.prototype.parseDynamicItemData.call(this, t, e);
        var i = e;
        this.assetId = e.assetId || 0,
        this.name = services.Localization.localize("club.edit.ballLabel"),
        this.description = i.name || "BallName_" + this.assetId,
        this.manufacturer = i.manufacturer || ""
    }
    ,
    UTStaticBallItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticStadiumItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTStaticStadiumItemDataDTO() {
        return r.call(this) || this
    }
    return __extends(UTStaticStadiumItemDataDTO, r),
    UTStaticStadiumItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        r.prototype.parseDynamicItemData.call(this, t, e);
        var i = services.Localization;
        this.name = i.localize("club.edit.stadiumLabel"),
        this.assetId = e.stadiumid || e.assetId || 0,
        this.description = i.localize("global.stadiumFull." + APP_YEAR + ".stadium" + this.assetId)
    }
    ,
    UTStaticStadiumItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticTrainingItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTStaticTrainingItemDataDTO() {
        return r.call(this) || this
    }
    return __extends(UTStaticTrainingItemDataDTO, r),
    UTStaticTrainingItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        r.prototype.parseDynamicItemData.call(this, t, e);
        var i = t.subtype;
        t.isManagerLeagueModifier() ? (this.name = services.Localization.localize("card.title.leaguechange"),
        t.leagueId = this.amount) : t.isStyleModifier() ? this.name = services.Localization.localize("card.title.playstyle") : DebugUtils.Assert(!1, "Unknown item subtype: " + i)
    }
    ,
    UTStaticTrainingItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticHealingItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTStaticHealingItemDataDTO() {
        return i.call(this) || this
    }
    return __extends(UTStaticHealingItemDataDTO, i),
    UTStaticHealingItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        i.prototype.parseDynamicItemData.call(this, t, e),
        DebugUtils.Assert(t.subtype === ItemSubType.HEALING_ALL, "Unknown item subtype: " + t.subtype),
        this.name = services.Localization.localize("card.desc.contract.player"),
        this.assetId = 7
    }
    ,
    UTStaticHealingItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticMiscItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTStaticMiscItemDataDTO() {
        return r.call(this) || this
    }
    return __extends(UTStaticMiscItemDataDTO, r),
    UTStaticMiscItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        var i;
        r.prototype.parseDynamicItemData.call(this, t, e),
        this.name = (t.isPlayerPickItem() || t.isFreePack()) && e.name ? e.name : services.Localization.localize("card.title.unlock"),
        this.description = null !== (i = e.description) && void 0 !== i ? i : "",
        t.isFreePack() && (t.isBronzeRating() ? this.assetId = UTStaticMiscItemDataDTO.ASSET_ID_BRONZE_PACK : t.isSilverRating() ? this.assetId = UTStaticMiscItemDataDTO.ASSET_ID_SILVER_PACK : this.assetId = UTStaticMiscItemDataDTO.ASSET_ID_GOLD_PACK)
    }
    ,
    UTStaticMiscItemDataDTO.ASSET_ID_BRONZE_PACK = 0,
    UTStaticMiscItemDataDTO.ASSET_ID_SILVER_PACK = 1,
    UTStaticMiscItemDataDTO.ASSET_ID_GOLD_PACK = 2,
    UTStaticMiscItemDataDTO
}(UTStaticItemDataDTO))
  , UTStaticVanityItemDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(s) {
    function UTStaticVanityItemDataDTO() {
        return s.call(this) || this
    }
    return __extends(UTStaticVanityItemDataDTO, s),
    UTStaticVanityItemDataDTO.prototype.parseDynamicItemData = function(t, e) {
        var i, r, o;
        s.prototype.parseDynamicItemData.call(this, t, e);
        var n = e.assetId;
        if (t.subtype === ItemSubType.VANITY_PLAYER_CELEBRATION && (e.cardassetid ? n = e.cardassetid : e.cardAssetId && (n = e.cardAssetId)),
        this.assetId = null != n ? n : 0,
        this.description = null !== (i = e.description) && void 0 !== i ? i : "",
        t.authenticity && (null === (r = e.name) || void 0 === r ? void 0 : r.startsWith("TeamName_"))) {
            if (0 === t.teamId) {
                var a = e.name.match(/TeamName_+(\d+).*?/i);
                t.teamId = a && 2 <= a.length ? Number(a[1]) : 0
            }
            this.name = "global.teamabbr15." + APP_YEAR + ".team" + t.teamId
        } else
            this.name = null !== (o = e.name) && void 0 !== o ? o : ""
    }
    ,
    UTStaticVanityItemDataDTO
}(UTStaticItemDataDTO))
  , UTPlayerPositionCharacteristicsVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPlayerPositionCharacteristicsVO(t, e) {
        void 0 === e && (e = new Map);
        var i = r.call(this) || this;
        return i.positionGroup = t,
        i.roleVariationMap = e,
        i.possibleRoles = Array.from(e.keys()),
        i
    }
    return __extends(UTPlayerPositionCharacteristicsVO, r),
    UTPlayerPositionCharacteristicsVO.prototype.value = function() {
        return {
            possibleRoles: this.possibleRoles,
            roleVariationMap: this.roleVariationMap,
            positionGroup: this.positionGroup
        }
    }
    ,
    UTPlayerPositionCharacteristicsVO.prototype.equals = function(t) {
        return t instanceof UTPlayerPositionCharacteristicsVO && JSUtils.areArraysShallowEqual(this.possibleRoles, t.possibleRoles) && JSUtils.areMapsEqual(this.roleVariationMap, t.roleVariationMap) && this.positionGroup === t.positionGroup
    }
    ,
    UTPlayerPositionCharacteristicsVO
}(EAObject))
  , UtasPlayerRoleCharacteristicsVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UtasPlayerRoleCharacteristicsVO(t, e) {
        var i = r.call(this) || this;
        return i.role = t,
        i.position = e,
        i
    }
    return __extends(UtasPlayerRoleCharacteristicsVO, r),
    UtasPlayerRoleCharacteristicsVO.prototype.value = function() {
        return {
            role: this.role,
            position: this.position
        }
    }
    ,
    UtasPlayerRoleCharacteristicsVO.prototype.equals = function(t) {
        return t instanceof UtasPlayerRoleCharacteristicsVO && this.role === t.role && this.position === t.position
    }
    ,
    UtasPlayerRoleCharacteristicsVO
}(EAObject))
  , UTPlayerRoleVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(i) {
    function UTPlayerRoleVO(t) {
        var e = i.call(this) || this;
        return e.BS_TACTICAL_ROLE_GROUP = 12,
        e.BS_TACTICAL_ROLE_PRIMARY = 6,
        e.BM_TACTICAL_ROLE_PRIMARY = 63,
        e.BM_TACTICAL_ROLE_VARIATION = 63,
        e._positionId = t,
        e._type = UTPlayerRoleVO.getDefaultRoleForPositionId(t),
        e._variation = UTPlayerRoleVO.getDefaultVariationForPosition(t, e._type),
        e
    }
    return __extends(UTPlayerRoleVO, i),
    Object.defineProperty(UTPlayerRoleVO.prototype, "type", {
        get: function() {
            return this._type
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPlayerRoleVO.prototype, "variation", {
        get: function() {
            return this._variation
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPlayerRoleVO.prototype, "position", {
        get: function() {
            return this._positionId
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPlayerRoleVO.prototype, "role", {
        set: function(t) {
            if (t !== this._type) {
                var e = UTPlayerRoleVO.getDefaultVariationForPosition(this.position, t);
                e == TacticPlayerVariation.INVALID && DebugUtils.Assert(!1, "Expected a valid Player Role value"),
                this._variation = e,
                this._type = t
            }
        },
        enumerable: !1,
        configurable: !0
    }),
    UTPlayerRoleVO.prototype.setRoleVariation = function(t, e) {
        var i, r, o, n = (null === (o = null === (r = null === (i = UTPlayerRoleVO.positionToCharacteristicsMap.get(this.position)) || void 0 === i ? void 0 : i.roleVariationMap) || void 0 === r ? void 0 : r.get(t)) || void 0 === o ? void 0 : o.includes(e)) || !1;
        DebugUtils.Assert(n, "The Player Role and Variation are not compatiable."),
        this._type = t,
        this._variation = n ? e : UTPlayerRoleVO.getDefaultVariationForPosition(this.position, t)
    }
    ,
    UTPlayerRoleVO.prototype.parseBitwiseInteger = function(t) {
        var e = JSUtils.isNumber(t);
        if (DebugUtils.Assert(e, "Expected a 32-bit integer when assigning roles to UTPlayerRoleVO."),
        e && 0 !== t) {
            var i = t >> this.BS_TACTICAL_ROLE_PRIMARY & this.BM_TACTICAL_ROLE_PRIMARY
              , r = t & this.BM_TACTICAL_ROLE_VARIATION;
            TacticPlayerRole.hasOwnProperty(i) && TacticPlayerVariation.hasOwnProperty(r) && (this._type = i,
            this._variation = r)
        }
    }
    ,
    UTPlayerRoleVO.prototype.toBitwiseInteger = function() {
        return this.positionGroup << this.BS_TACTICAL_ROLE_GROUP | this._type << this.BS_TACTICAL_ROLE_PRIMARY | this._variation
    }
    ,
    UTPlayerRoleVO.prototype.value = function() {
        return {
            position: this.position,
            type: this._type,
            variation: this._variation
        }
    }
    ,
    UTPlayerRoleVO.prototype.equals = function(t) {
        return t instanceof UTPlayerRoleVO && (this.position === t.position && this._type === t.type && this._variation === t.variation)
    }
    ,
    Object.defineProperty(UTPlayerRoleVO.prototype, "positionGroup", {
        get: function() {
            var t, e;
            return null !== (e = null === (t = UTPlayerRoleVO.positionToCharacteristicsMap.get(this.position)) || void 0 === t ? void 0 : t.positionGroup) && void 0 !== e ? e : PlayerPositionGroup.UNKNOWN
        },
        enumerable: !1,
        configurable: !0
    }),
    UTPlayerRoleVO.mapUtasRoleToPlayerRole = function(t) {
        var e, i;
        return null !== (i = null === (e = UTPlayerRoleVO.utasRoleToCharacteristicsMap.get(t)) || void 0 === e ? void 0 : e.role) && void 0 !== i ? i : TacticPlayerRole.INVALID
    }
    ,
    UTPlayerRoleVO.getPlayerPositionByUtasRole = function(t) {
        var e, i = null === (e = UTPlayerRoleVO.utasRoleToCharacteristicsMap.get(t)) || void 0 === e ? void 0 : e.position;
        return JSUtils.isValid(i) ? i : (DebugUtils.Assert(!1, "UTPlayerRoleVO.getPlayerPositionByUtasRole: Invalid UTAS role."),
        PlayerPosition.GK)
    }
    ,
    UTPlayerRoleVO.getRolesForPositionId = function(t, e) {
        var i = UTPlayerRoleVO.positionToCharacteristicsMap.get(t);
        return i ? Array.isArray(e) && 0 < e.length ? i.possibleRoles.filter(function(t) {
            return e.includes(t)
        }) : i.possibleRoles : []
    }
    ,
    UTPlayerRoleVO.getDefaultRoleForPositionId = function(t) {
        var e = UTPlayerRoleVO.getRolesForPositionId(t);
        return DebugUtils.Assert(0 < e.length, "Unable to map position to any roles"),
        e ? e[0] : TacticPlayerRole.INVALID
    }
    ,
    UTPlayerRoleVO.getDefaultVariationForPosition = function(t, e) {
        var i = UTPlayerRoleVO.getRolesForPositionId(t);
        if (DebugUtils.Assert(0 < i.length, "Unable to map position to any roles"),
        i.length < 1)
            return TacticPlayerVariation.INVALID;
        var r = e || i[0]
          , o = this.getVariationsForRoleAndPositionId(t, r);
        return o.length < 1 ? TacticPlayerVariation.INVALID : o[0]
    }
    ,
    UTPlayerRoleVO.getVariationsForRoleAndPositionId = function(t, e) {
        var i, r, o;
        return null !== (o = null === (r = null === (i = UTPlayerRoleVO.positionToCharacteristicsMap.get(t)) || void 0 === i ? void 0 : i.roleVariationMap) || void 0 === r ? void 0 : r.get(e)) && void 0 !== o ? o : []
    }
    ,
    UTPlayerRoleVO.getTacticsRoleIndex = function(e, i, r) {
        return UTPlayerRoleVO.roleCombinations.findIndex(function(t) {
            return t.position === e && t.type === i && t.variation === r
        })
    }
    ,
    UTPlayerRoleVO.getTacticsRoleIndexWithinPositionGroup = function(e) {
        return UTPlayerRoleVO.roleCombinations.findIndex(function(t) {
            return t.position === e
        })
    }
    ,
    UTPlayerRoleVO.getTacticsRoleGroupStartingIndex = function(e) {
        return UTPlayerRoleVO.roleCombinations.findIndex(function(t) {
            return t.position === e
        })
    }
    ,
    UTPlayerRoleVO.gkCombinations = [{
        position: PlayerPositionGroup.GK,
        type: TacticPlayerRole.GOALKEEPER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.GK,
        type: TacticPlayerRole.GOALKEEPER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.GK,
        type: TacticPlayerRole.SWEEPER_KEEPER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.GK,
        type: TacticPlayerRole.SWEEPER_KEEPER,
        variation: TacticPlayerVariation.BUILD_UP
    }],
    UTPlayerRoleVO.fbCombinations = [{
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.FULLBACK,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.FULLBACK,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.WINGBACK,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.WINGBACK,
        variation: TacticPlayerVariation.SUPPORT
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.FALSEBACK,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.FALSEBACK,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.OFFENSIVE_WINGBACK,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.FB,
        type: TacticPlayerRole.OFFENSIVE_WINGBACK,
        variation: TacticPlayerVariation.ATTACK
    }],
    UTPlayerRoleVO.cbCombinations = [{
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.DEFENDER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.DEFENDER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.STOPPER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.STOPPER,
        variation: TacticPlayerVariation.AGGRESIVE
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.BALL_PLAYING_DEFENDER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.BALL_PLAYING_DEFENDER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.CB,
        type: TacticPlayerRole.BALL_PLAYING_DEFENDER,
        variation: TacticPlayerVariation.AGGRESIVE
    }],
    UTPlayerRoleVO.dmCombinations = [{
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.CENTRE_HALF,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.HOLDING,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.HOLDING,
        variation: TacticPlayerVariation.BALL_WINNING
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.HOLDING,
        variation: TacticPlayerVariation.ROAMING
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.DEEP_LYING_PLAYMAKER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.DEEP_LYING_PLAYMAKER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.DEEP_LYING_PLAYMAKER,
        variation: TacticPlayerVariation.ROAMING
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.WIDE_HALF,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.DM,
        type: TacticPlayerRole.WIDE_HALF,
        variation: TacticPlayerVariation.BUILD_UP
    }],
    UTPlayerRoleVO.cmCombinations = [{
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.BOX_TO_BOX,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.HOLDING,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.HOLDING,
        variation: TacticPlayerVariation.BALL_WINNING
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.DEEP_LYING_PLAYMAKER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.DEEP_LYING_PLAYMAKER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.PLAYMAKER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.PLAYMAKER,
        variation: TacticPlayerVariation.ROAMING
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.HALF_WINGER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.CM,
        type: TacticPlayerRole.HALF_WINGER,
        variation: TacticPlayerVariation.BALANCED
    }],
    UTPlayerRoleVO.wmCombinations = [{
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WINGER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WINGER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WIDE_PLAYMAKER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WIDE_PLAYMAKER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WIDE_MIDFIELDER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.WIDE_MIDFIELDER,
        variation: TacticPlayerVariation.DEFEND
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.INSIDE_FORWARD,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.WM,
        type: TacticPlayerRole.INSIDE_FORWARD,
        variation: TacticPlayerVariation.ATTACK
    }],
    UTPlayerRoleVO.amCombinations = [{
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.PLAYMAKER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.PLAYMAKER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.PLAYMAKER,
        variation: TacticPlayerVariation.ROAMING
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.SHADOW_STRIKER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.HALF_WINGER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.HALF_WINGER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.CLASSIC10,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.AM,
        type: TacticPlayerRole.CLASSIC10,
        variation: TacticPlayerVariation.WIDE
    }],
    UTPlayerRoleVO.wgCombinations = [{
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.INSIDE_FORWARD,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.INSIDE_FORWARD,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.INSIDE_FORWARD,
        variation: TacticPlayerVariation.ROAMING
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.WINGER,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.WINGER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.WIDE_PLAYMAKER,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.WG,
        type: TacticPlayerRole.WIDE_PLAYMAKER,
        variation: TacticPlayerVariation.ATTACK
    }],
    UTPlayerRoleVO.stCombinations = [{
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.TARGET_FORWARD,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.TARGET_FORWARD,
        variation: TacticPlayerVariation.BALANCED
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.TARGET_FORWARD,
        variation: TacticPlayerVariation.WIDE
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.FALSE9,
        variation: TacticPlayerVariation.BUILD_UP
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.POACHER,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.POACHER,
        variation: TacticPlayerVariation.SUPPORT
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.ADVANCE_FORWARD,
        variation: TacticPlayerVariation.ATTACK
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.ADVANCE_FORWARD,
        variation: TacticPlayerVariation.SUPPORT
    }, {
        position: PlayerPositionGroup.ST,
        type: TacticPlayerRole.ADVANCE_FORWARD,
        variation: TacticPlayerVariation.COMPLETE
    }],
    UTPlayerRoleVO.roleCombinations = __spreadArrays(UTPlayerRoleVO.gkCombinations, UTPlayerRoleVO.fbCombinations, UTPlayerRoleVO.cbCombinations, UTPlayerRoleVO.dmCombinations, UTPlayerRoleVO.cmCombinations, UTPlayerRoleVO.wmCombinations, UTPlayerRoleVO.amCombinations, UTPlayerRoleVO.wgCombinations, UTPlayerRoleVO.stCombinations),
    UTPlayerRoleVO.defendAndBalancedVariations = [TacticPlayerVariation.DEFEND, TacticPlayerVariation.BALANCED],
    UTPlayerRoleVO.balancedAndAttackVariations = [TacticPlayerVariation.BALANCED, TacticPlayerVariation.ATTACK],
    UTPlayerRoleVO.goalkeeperRoleVariationMap = new Map([[TacticPlayerRole.GOALKEEPER, UTPlayerRoleVO.defendAndBalancedVariations], [TacticPlayerRole.SWEEPER_KEEPER, [TacticPlayerVariation.BALANCED, TacticPlayerVariation.BUILD_UP]]]),
    UTPlayerRoleVO.backRoleVariationMap = new Map([[TacticPlayerRole.FULLBACK, UTPlayerRoleVO.defendAndBalancedVariations], [TacticPlayerRole.FALSEBACK, UTPlayerRoleVO.defendAndBalancedVariations], [TacticPlayerRole.WINGBACK, [TacticPlayerVariation.BALANCED, TacticPlayerVariation.SUPPORT]], [TacticPlayerRole.OFFENSIVE_WINGBACK, UTPlayerRoleVO.balancedAndAttackVariations]]),
    UTPlayerRoleVO.centerBackRoleVariationMap = new Map([[TacticPlayerRole.DEFENDER, UTPlayerRoleVO.defendAndBalancedVariations], [TacticPlayerRole.STOPPER, [TacticPlayerVariation.BALANCED, TacticPlayerVariation.AGGRESIVE]], [TacticPlayerRole.BALL_PLAYING_DEFENDER, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.BUILD_UP, TacticPlayerVariation.AGGRESIVE]]]),
    UTPlayerRoleVO.defensiveMidRoleVariationMap = new Map([[TacticPlayerRole.HOLDING, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.ROAMING, TacticPlayerVariation.BALL_WINNING]], [TacticPlayerRole.CENTRE_HALF, [TacticPlayerVariation.DEFEND]], [TacticPlayerRole.DEEP_LYING_PLAYMAKER, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.ROAMING, TacticPlayerVariation.BUILD_UP]], [TacticPlayerRole.WIDE_HALF, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.BUILD_UP]]]),
    UTPlayerRoleVO.centerMidRoleVariationMap = new Map([[TacticPlayerRole.BOX_TO_BOX, [TacticPlayerVariation.BALANCED]], [TacticPlayerRole.HOLDING, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.BALL_WINNING]], [TacticPlayerRole.DEEP_LYING_PLAYMAKER, [TacticPlayerVariation.DEFEND, TacticPlayerVariation.BUILD_UP]], [TacticPlayerRole.PLAYMAKER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.ROAMING]], [TacticPlayerRole.HALF_WINGER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BUILD_UP]]]),
    UTPlayerRoleVO.midRoleVariationMap = new Map([[TacticPlayerRole.WINGER, UTPlayerRoleVO.balancedAndAttackVariations], [TacticPlayerRole.INSIDE_FORWARD, UTPlayerRoleVO.balancedAndAttackVariations], [TacticPlayerRole.WIDE_MIDFIELDER, [TacticPlayerVariation.BALANCED, TacticPlayerVariation.DEFEND]], [TacticPlayerRole.WIDE_PLAYMAKER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BUILD_UP]]]),
    UTPlayerRoleVO.attackingMidRoleVariationMap = new Map([[TacticPlayerRole.PLAYMAKER, [TacticPlayerVariation.BALANCED, TacticPlayerVariation.ROAMING, TacticPlayerVariation.BUILD_UP]], [TacticPlayerRole.SHADOW_STRIKER, [TacticPlayerVariation.ATTACK]], [TacticPlayerRole.HALF_WINGER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BALANCED]], [TacticPlayerRole.CLASSIC10, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.WIDE]]]),
    UTPlayerRoleVO.wingRoleVariationMap = new Map([[TacticPlayerRole.WINGER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BALANCED]], [TacticPlayerRole.INSIDE_FORWARD, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BALANCED, TacticPlayerVariation.ROAMING]], [TacticPlayerRole.WIDE_PLAYMAKER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BUILD_UP]]]),
    UTPlayerRoleVO.strikeRoleVariationMap = new Map([[TacticPlayerRole.ADVANCE_FORWARD, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.SUPPORT, TacticPlayerVariation.COMPLETE]], [TacticPlayerRole.POACHER, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.SUPPORT]], [TacticPlayerRole.FALSE9, [TacticPlayerVariation.BUILD_UP]], [TacticPlayerRole.TARGET_FORWARD, [TacticPlayerVariation.ATTACK, TacticPlayerVariation.BALANCED, TacticPlayerVariation.WIDE]]]),
    UTPlayerRoleVO.positionToCharacteristicsMap = new Map([[PlayerPosition.GK, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.GK,UTPlayerRoleVO.goalkeeperRoleVariationMap)], [PlayerPosition.SW, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.GK)], [PlayerPosition.LB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.FB,UTPlayerRoleVO.backRoleVariationMap)], [PlayerPosition.RB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.FB,UTPlayerRoleVO.backRoleVariationMap)], [PlayerPosition.LWB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.FB)], [PlayerPosition.RWB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.FB)], [PlayerPosition.CB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CB,UTPlayerRoleVO.centerBackRoleVariationMap)], [PlayerPosition.RCB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CB,UTPlayerRoleVO.centerBackRoleVariationMap)], [PlayerPosition.LCB, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CB,UTPlayerRoleVO.centerBackRoleVariationMap)], [PlayerPosition.CDM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.DM,UTPlayerRoleVO.defensiveMidRoleVariationMap)], [PlayerPosition.LDM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.DM,UTPlayerRoleVO.defensiveMidRoleVariationMap)], [PlayerPosition.RDM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.DM,UTPlayerRoleVO.defensiveMidRoleVariationMap)], [PlayerPosition.CM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CM,UTPlayerRoleVO.centerMidRoleVariationMap)], [PlayerPosition.LCM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CM,UTPlayerRoleVO.centerMidRoleVariationMap)], [PlayerPosition.RCM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.CM,UTPlayerRoleVO.centerMidRoleVariationMap)], [PlayerPosition.RM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WM,UTPlayerRoleVO.midRoleVariationMap)], [PlayerPosition.LM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WM,UTPlayerRoleVO.midRoleVariationMap)], [PlayerPosition.CAM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.AM,UTPlayerRoleVO.attackingMidRoleVariationMap)], [PlayerPosition.RAM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.AM,UTPlayerRoleVO.attackingMidRoleVariationMap)], [PlayerPosition.LAM, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.AM,UTPlayerRoleVO.attackingMidRoleVariationMap)], [PlayerPosition.RW, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WG,UTPlayerRoleVO.wingRoleVariationMap)], [PlayerPosition.LW, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WG,UTPlayerRoleVO.wingRoleVariationMap)], [PlayerPosition.RF, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WG)], [PlayerPosition.LF, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WG)], [PlayerPosition.CF, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.WG)], [PlayerPosition.ST, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.ST,UTPlayerRoleVO.strikeRoleVariationMap)], [PlayerPosition.RS, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.ST,UTPlayerRoleVO.strikeRoleVariationMap)], [PlayerPosition.LS, new UTPlayerPositionCharacteristicsVO(PlayerPositionGroup.ST,UTPlayerRoleVO.strikeRoleVariationMap)]]),
    UTPlayerRoleVO.utasRoleToCharacteristicsMap = new Map([[UtasTacticPlayerRole.GOALKEEPER_GK_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.GOALKEEPER,PlayerPosition.GK)], [UtasTacticPlayerRole.GOALKEEPER_GK_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.GOALKEEPER,PlayerPosition.GK)], [UtasTacticPlayerRole.SWEEPER_KEEPER_GK_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.SWEEPER_KEEPER,PlayerPosition.GK)], [UtasTacticPlayerRole.SWEEPER_KEEPER_GK_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.SWEEPER_KEEPER,PlayerPosition.GK)], [UtasTacticPlayerRole.FULLBACK_RB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FULLBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.FALSEBACK_RB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSEBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.WINGBACK_RB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.OFFENSIVE_WINGBACK_RB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.OFFENSIVE_WINGBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.FULLBACK_RB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FULLBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.FALSEBACK_RB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSEBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.WINGBACK_RB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.OFFENSIVE_WINGBACK_RB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.OFFENSIVE_WINGBACK,PlayerPosition.RB)], [UtasTacticPlayerRole.FULLBACK_LB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FULLBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.FALSEBACK_LB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSEBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.WINGBACK_LB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.OFFENSIVE_WINGBACK_LB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.OFFENSIVE_WINGBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.FULLBACK_LB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FULLBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.FALSEBACK_LB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSEBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.WINGBACK_LB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.OFFENSIVE_WINGBACK_LB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.OFFENSIVE_WINGBACK,PlayerPosition.LB)], [UtasTacticPlayerRole.DEFENDER_CB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEFENDER,PlayerPosition.CB)], [UtasTacticPlayerRole.STOPPER_CB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.STOPPER,PlayerPosition.CB)], [UtasTacticPlayerRole.BALL_PLAYING_DEFENDER_CB_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.BALL_PLAYING_DEFENDER,PlayerPosition.CB)], [UtasTacticPlayerRole.DEFENDER_CB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEFENDER,PlayerPosition.CB)], [UtasTacticPlayerRole.STOPPER_CB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.STOPPER,PlayerPosition.CB)], [UtasTacticPlayerRole.BALL_PLAYING_DEFENDER_CB_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.BALL_PLAYING_DEFENDER,PlayerPosition.CB)], [UtasTacticPlayerRole.HOLDING_CDM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HOLDING,PlayerPosition.CDM)], [UtasTacticPlayerRole.CENTRE_HALF_CDM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.CENTRE_HALF,PlayerPosition.CDM)], [UtasTacticPlayerRole.DEEP_LYING_PLAYMAKER_CDM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEEP_LYING_PLAYMAKER,PlayerPosition.CDM)], [UtasTacticPlayerRole.WIDE_HALF_CDM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INVALID,PlayerPosition.CDM)], [UtasTacticPlayerRole.HOLDING_CDM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HOLDING,PlayerPosition.CDM)], [UtasTacticPlayerRole.CENTRE_HALF_CDM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.CENTRE_HALF,PlayerPosition.CDM)], [UtasTacticPlayerRole.DEEP_LYING_PLAYMAKER_CDM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEEP_LYING_PLAYMAKER,PlayerPosition.CDM)], [UtasTacticPlayerRole.WIDE_HALF_CDM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INVALID,PlayerPosition.CDM)], [UtasTacticPlayerRole.BOX_TO_BOX_CM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.BOX_TO_BOX,PlayerPosition.CM)], [UtasTacticPlayerRole.HOLDING_CM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HOLDING,PlayerPosition.CM)], [UtasTacticPlayerRole.DEEP_LYING_PLAYMAKER_CM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEEP_LYING_PLAYMAKER,PlayerPosition.CM)], [UtasTacticPlayerRole.PLAYMAKER_CM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.PLAYMAKER,PlayerPosition.CM)], [UtasTacticPlayerRole.HALF_WINGER_CM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HALF_WINGER,PlayerPosition.CM)], [UtasTacticPlayerRole.BOX_TO_BOX_CM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.BOX_TO_BOX,PlayerPosition.CM)], [UtasTacticPlayerRole.HOLDING_CM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HOLDING,PlayerPosition.CM)], [UtasTacticPlayerRole.DEEP_LYING_PLAYMAKER_CM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.DEEP_LYING_PLAYMAKER,PlayerPosition.CM)], [UtasTacticPlayerRole.PLAYMAKER_CM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.PLAYMAKER,PlayerPosition.CM)], [UtasTacticPlayerRole.HALF_WINGER_CM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HALF_WINGER,PlayerPosition.CM)], [UtasTacticPlayerRole.WINGER_RM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.RM)], [UtasTacticPlayerRole.WIDE_MIDFIELDER_RM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_MIDFIELDER,PlayerPosition.RM)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_RM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.RM)], [UtasTacticPlayerRole.INSIDE_FORWARD_RM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.RM)], [UtasTacticPlayerRole.WINGER_RM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.RM)], [UtasTacticPlayerRole.WIDE_MIDFIELDER_RM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_MIDFIELDER,PlayerPosition.RM)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_RM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.RM)], [UtasTacticPlayerRole.INSIDE_FORWARD_RM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.RM)], [UtasTacticPlayerRole.WINGER_LM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.LM)], [UtasTacticPlayerRole.WIDE_MIDFIELDER_LM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_MIDFIELDER,PlayerPosition.LM)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_LM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.LM)], [UtasTacticPlayerRole.INSIDE_FORWARD_LM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.LM)], [UtasTacticPlayerRole.WINGER_LM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.LM)], [UtasTacticPlayerRole.WIDE_MIDFIELDER_LM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_MIDFIELDER,PlayerPosition.LM)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_LM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.LM)], [UtasTacticPlayerRole.INSIDE_FORWARD_LM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.LM)], [UtasTacticPlayerRole.PLAYMAKER_CAM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.PLAYMAKER,PlayerPosition.CAM)], [UtasTacticPlayerRole.SHADOW_STRIKER_CAM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.SHADOW_STRIKER,PlayerPosition.CAM)], [UtasTacticPlayerRole.HALF_WINGER_CAM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HALF_WINGER,PlayerPosition.CAM)], [UtasTacticPlayerRole.CLASSIC10_CAM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INVALID,PlayerPosition.CAM)], [UtasTacticPlayerRole.PLAYMAKER_CAM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.PLAYMAKER,PlayerPosition.CAM)], [UtasTacticPlayerRole.SHADOW_STRIKER_CAM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.SHADOW_STRIKER,PlayerPosition.CAM)], [UtasTacticPlayerRole.HALF_WINGER_CAM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.HALF_WINGER,PlayerPosition.CAM)], [UtasTacticPlayerRole.CLASSIC10_CAM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INVALID,PlayerPosition.CAM)], [UtasTacticPlayerRole.WINGER_RW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.RW)], [UtasTacticPlayerRole.INSIDE_FORWARD_RW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.RW)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_RW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.RW)], [UtasTacticPlayerRole.WINGER_RW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.RW)], [UtasTacticPlayerRole.INSIDE_FORWARD_RW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.RW)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_RW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.RW)], [UtasTacticPlayerRole.WINGER_LW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.LW)], [UtasTacticPlayerRole.INSIDE_FORWARD_LW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.LW)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_LW_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.LW)], [UtasTacticPlayerRole.WINGER_LW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WINGER,PlayerPosition.LW)], [UtasTacticPlayerRole.INSIDE_FORWARD_LW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.INSIDE_FORWARD,PlayerPosition.LW)], [UtasTacticPlayerRole.WIDE_PLAYMAKER_LW_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_PLAYMAKER,PlayerPosition.LW)], [UtasTacticPlayerRole.ADVANCE_FORWARD_ST_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.ADVANCE_FORWARD,PlayerPosition.ST)], [UtasTacticPlayerRole.POACHER_ST_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.POACHER,PlayerPosition.ST)], [UtasTacticPlayerRole.FALSE9_ST_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSE9,PlayerPosition.ST)], [UtasTacticPlayerRole.TARGET_FORWARD_ST_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.TARGET_FORWARD,PlayerPosition.ST)], [UtasTacticPlayerRole.ADVANCE_FORWARD_ST_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.ADVANCE_FORWARD,PlayerPosition.ST)], [UtasTacticPlayerRole.POACHER_ST_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.POACHER,PlayerPosition.ST)], [UtasTacticPlayerRole.FALSE9_ST_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.FALSE9,PlayerPosition.ST)], [UtasTacticPlayerRole.TARGET_FORWARD_ST_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.TARGET_FORWARD,PlayerPosition.ST)], [UtasTacticPlayerRole.WIDE_HALF_CDM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_HALF,PlayerPosition.CDM)], [UtasTacticPlayerRole.WIDE_HALF_CDM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.WIDE_HALF,PlayerPosition.CDM)], [UtasTacticPlayerRole.CLASSIC10_CAM_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.CLASSIC10,PlayerPosition.CAM)], [UtasTacticPlayerRole.CLASSIC10_CAM_PLUS_PLUS, new UtasPlayerRoleCharacteristicsVO(TacticPlayerRole.CLASSIC10,PlayerPosition.CAM)]]),
    UTPlayerRoleVO
}(EAObject))
  , UTTraitVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTTraitVO(t, e) {
        var i = r.call(this) || this;
        return i.traitId = t,
        i.isIcon = e,
        i
    }
    return __extends(UTTraitVO, r),
    Object.defineProperty(UTTraitVO.prototype, "category", {
        get: function() {
            return this.traitId >= PlayerTrait.FINESSE_SHOT && this.traitId <= PlayerTrait.POWER_HEADER ? TraitDomain.FINISHING : this.traitId === PlayerTrait.LOW_DRIVEN_SHOT ? TraitDomain.FINISHING : this.traitId >= PlayerTrait.PASS_INTO_SPACE && this.traitId <= PlayerTrait.WHIPPED_CROSSES ? TraitDomain.PASSING : this.traitId >= PlayerTrait.FAST_JOCKEY && this.traitId <= PlayerTrait.BRUISER ? TraitDomain.DEFENDING : this.traitId >= PlayerTrait.TECHNICAL_DRIBBLER && this.traitId <= PlayerTrait.POSSESSION_HOLDER ? TraitDomain.BALL_CONTROL : this.traitId >= PlayerTrait.EXPLOSIVE_SPRINT_BOOST && this.traitId <= PlayerTrait.AERIAL_MASTER ? TraitDomain.PHYSICAL : this.traitId >= PlayerTrait.LONG_THROWER && this.traitId <= PlayerTrait.DEFLECTOR ? TraitDomain.GOAL_KEEPER : TraitDomain.UNDEFINED
        },
        enumerable: !1,
        configurable: !0
    }),
    UTTraitVO.prototype.value = function() {
        return {
            traitId: this.traitId,
            isIcon: this.isIcon
        }
    }
    ,
    UTTraitVO.prototype.equals = function(t) {
        return t instanceof UTTraitVO && (this.traitId === t.traitId && this.isIcon === t.isIcon)
    }
    ,
    UTTraitVO
}(EAObject))
  , UTItemEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(a) {
    function UTItemEntity(t) {
        var e, i, r, o, n = a.call(this) || this;
        return n.academy = (null == t ? void 0 : t.academyAttributes) ? t.academyAttributes : null,
        n.onDataUpdated = new EAObservable,
        n.id = t && t.id ? t.id : 0,
        n.definitionId = t && t.definitionId ? t.definitionId : 0,
        n.iconId = t && t.iconId ? t.iconId : 0,
        n.type = t && t.type ? t.type : ItemType.PLAYER,
        n._assetId = t && t.assetId ? t.assetId : ItemCardAssetId.NONE,
        n.subtype = t && t.subtype ? t.subtype : ItemSubType.NONE,
        n.gender = t && t.gender ? t.gender : GrammaticalGender.NEUTER,
        n.lastSalePrice = t && t.lastSalePrice ? t.lastSalePrice : 0,
        n.discardable = null === (e = null == t ? void 0 : t.discardable) || void 0 === e || e,
        n.discardDate = t && t.discardDate ? t.discardDate : 0,
        n.discardValue = t && t.discardValue ? t.discardValue : 0,
        n.continuationId = t && t.continuationId ? t.continuationId : "",
        n.state = t && t.state ? t.state : ItemState.FREE,
        n.untradeable = !t || !JSUtils.isBoolean(t.untradeable) || t.untradeable,
        n.untradeableCount = t && t.untradeableCount ? t.untradeableCount : 0,
        n.concept = !(!t || !JSUtils.isBoolean(t.concept)) && t.concept,
        n.teamId = t && JSUtils.isNumber(t.teamId) ? t.teamId : -1,
        n.leagueId = t && JSUtils.isNumber(t.leagueId) ? t.leagueId : -1,
        n.nationId = t && JSUtils.isNumber(t.nationId) ? t.nationId : -1,
        (null == t ? void 0 : t.loansInfo) ? (n.limitedUseType = t.loansInfo.type,
        n.limitedUseType === LimitedUseType.MATCH_LOAN ? (n.loans = t.loansInfo.value,
        n.endTime = -1) : (n.loans = -1,
        n.endTime = t.loansInfo.value)) : (t && JSUtils.isNumber(null == t ? void 0 : t.loans) ? (n.limitedUseType = LimitedUseType.MATCH_LOAN,
        n.loans = t.loans) : (n.limitedUseType = LimitedUseType.NONE,
        n.loans = -1),
        n.endTime = -1),
        n.injuryType = t && t.injuryType ? t.injuryType : PlayerInjury.NONE,
        n.injuryGames = t && t.injuryGames ? t.injuryGames : 0,
        n.preferredPosition = t && JSUtils.isNumber(t.preferredPosition) ? t.preferredPosition : -1,
        n.basePossiblePositions = t && t.possiblePositions ? t.possiblePositions : [],
        n.attributes = t && t.attributes ? t.attributes : [0, 0, 0, 0, 0, 0],
        n._lifetimeStats = t && t.lifetimeStats ? t.lifetimeStats : [0, 0, 0, 0, 0],
        n._stats = t && t.stats ? t.stats : [0, 0, 0, 0, 0],
        n._skillMoves = t && JSUtils.isNumber(t.skillMoves) ? t.skillMoves : -1,
        n._weakFoot = t && JSUtils.isNumber(t.weakFoot) ? t.weakFoot : -1,
        n._preferredFoot = t && JSUtils.isNumber(t.preferredFoot) ? t.preferredFoot : -1,
        n._auction = t && t.auction ? t.auction : new UTAuctionEntity,
        n.duplicateId = t && t.duplicateId ? t.duplicateId : 0,
        n.duplicateItemLoans = t && JSUtils.isNumber(t.duplicateItemLoans) ? t.duplicateItemLoans : -1,
        n.playStyle = t && t.chemStyle ? t.chemStyle : 0,
        n.loyaltyBonus = t && t.loyaltyBonus ? t.loyaltyBonus : 0,
        n.utasPile = t && t.pile ? t.pile : ItemPile.ANY,
        n.amount = t && t.amount ? t.amount : 0,
        n.stackCount = t && t.stackCount ? t.stackCount : 0,
        n._rareflag = t && t.rareflag ? t.rareflag : ItemRarity.NONE,
        n.groups = t && t.groups ? t.groups : [],
        n._rating = t && t.rating ? t.rating : 0,
        n.hasLevels = !(!t || !JSUtils.isBoolean(t.hasLevels)) && t.hasLevels,
        n.owners = t && t.owners ? t.owners : 0,
        n.timestamp = t && t.timestamp ? t.timestamp : 0,
        n._itemPriceLimits = t && t.itemPriceLimits ? t.itemPriceLimits : null,
        n._staticData = t && t.staticData ? t.staticData : n._generateStaticData(),
        n._marketAverage = t && t.marketAverage ? t.marketAverage : -1,
        n._metaData = t && t.metaData ? t.metaData : null,
        n.playStyles = null !== (i = null == t ? void 0 : t.playStyles) && void 0 !== i ? i : [],
        n.ballRestricted = !(!t || !JSUtils.isBoolean(t.ballRestricted)) && t.ballRestricted,
        n.bannerRestricted = !t || !JSUtils.isBoolean(t.bannerRestricted) || t.bannerRestricted,
        n.tifoRestricted = !t || !JSUtils.isBoolean(t.tifoRestricted) || t.tifoRestricted,
        n.guidAssetId = null !== (r = null == t ? void 0 : t.guidAssetId) && void 0 !== r ? r : "",
        n.rankId = t && t.rankId ? t.rankId : -1,
        n.authenticity = !(!t || !t.authenticity) && t.authenticity,
        n.keyAttributes = t && t.keyAttributes ? t.keyAttributes : null,
        n.startTime = n.isTimeLimited() ? n.timestamp : -1,
        n.duplicateCombinedEndTime = -1,
        n.duplicateEndTime = -1,
        n.basePlusRoles = t && t.plusRoles ? t.plusRoles : [],
        n.basePlusPlusRoles = t && t.plusPlusRoles ? t.plusPlusRoles : [],
        n.cosmetics = null !== (o = null == t ? void 0 : t.cosmetics) && void 0 !== o ? o : [],
        n
    }
    return __extends(UTItemEntity, a),
    Object.defineProperty(UTItemEntity.prototype, "databaseId", {
        get: function() {
            return this.definitionId & ItemIdMask.DATABASE
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemEntity.prototype, "possiblePositions", {
        get: function() {
            var t, e, i = null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.getPossiblePositionBonus()) && void 0 !== e ? e : [];
            return this.getBasePossiblePositions().filter(function(t) {
                return !i.includes(t)
            }).concat(i)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemEntity.prototype.getBasePossiblePositions = function() {
        return this.basePossiblePositions
    }
    ,
    Object.defineProperty(UTItemEntity.prototype, "pile", {
        get: function() {
            return this.utasPile === ItemPile.EVOLUTION ? ItemPile.CLUB : this.utasPile
        },
        set: function(t) {
            this.utasPile = t
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemEntity.prototype, "revisionId", {
        get: function() {
            return this.definitionId & ItemIdMask.REVISION
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemEntity.prototype.activate = function(t) {
        if (this.clearAuction(),
        this.isBadge())
            this.state = ItemState.ACTIVE_BADGE;
        else if (this.isBall())
            this.state = ItemState.ACTIVE_BALL;
        else if (this.isKit())
            switch (t) {
            case KitActivationSlot.HOME:
                this.state = ItemState.ACTIVE_HOME_KIT;
                break;
            case KitActivationSlot.AWAY:
                this.state = ItemState.ACTIVE_AWAY_KIT
            }
        else
            this.isStadium() && (this.state = ItemState.ACTIVE_STADIUM)
    }
    ,
    UTItemEntity.prototype.clearAuction = function() {
        this._auction = new UTAuctionEntity
    }
    ,
    UTItemEntity.prototype.getAssetId = function() {
        return this._assetId
    }
    ,
    UTItemEntity.prototype.getItemAssetId = function() {
        var t;
        if (this.type == ItemType.BALL)
            return this._assetId;
        if (this.authenticity && (this.subtype === ItemSubType.VANITY_STADIUM_THEME || this.isAudioItem())) {
            if (0 < this.teamId)
                return this.teamId;
            var e = null === (t = this.getStaticData().name) || void 0 === t ? void 0 : t.match(/TeamName_+(\d+).*?/i);
            if (e && 2 === e.length)
                return parseInt(e[1], 10);
            DebugUtils.Assert(!1, "Unable to find teamId on authentic item")
        }
        switch (this.subtype) {
        case ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC:
            return UTItemEntity.AUDIO_ANTHEM_ASSET;
        case ItemSubType.VANITY_AUDIO_CROWD_CHANT:
            return UTItemEntity.AUDIO_CHANT_ASSET;
        case ItemSubType.VANITY_AUDIO_GOAL_SCORE:
            return UTItemEntity.AUDIO_GOAL_ASSET;
        case ItemSubType.VANITY_AUDIO_CLUB_NICKNAME:
            return UTItemEntity.AUDIO_NICKNAME_ASSET;
        case ItemSubType.VANITY_PLAYER_CELEBRATION:
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN:
            return this.getStaticData().assetId
        }
        return this.definitionId
    }
    ,
    UTItemEntity.prototype._generateStaticData = function() {
        switch (this.type) {
        case ItemType.PLAYER:
            return new UTStaticPlayerItemDataDTO;
        case ItemType.MANAGER:
            return new UTStaticManagerItemDataDTO;
        case ItemType.BADGE:
            return new UTStaticBadgeItemDataDTO;
        case ItemType.KIT:
            return new UTStaticKitItemDataDTO;
        case ItemType.BALL:
            return new UTStaticBallItemDataDTO;
        case ItemType.STADIUM:
            return new UTStaticStadiumItemDataDTO;
        case ItemType.TRAINING:
            return new UTStaticTrainingItemDataDTO;
        case ItemType.HEALTH:
            return new UTStaticHealingItemDataDTO;
        case ItemType.MISC:
            return new UTStaticMiscItemDataDTO;
        case ItemType.VANITY:
            return new UTStaticVanityItemDataDTO;
        default:
            return new UTStaticItemDataDTO
        }
    }
    ,
    UTItemEntity.prototype.applyAcademyAttributes = function(t) {
        var e;
        null === (e = this.academy) || void 0 === e || e.applyAcademyAward(this, t);
        var i = services.Configuration.getItemRarity(this);
        i && (this.hasLevels = i.levels)
    }
    ,
    UTItemEntity.prototype.update = function(t) {
        this.duplicateId = t.duplicateId,
        this.lastSalePrice = t.lastSalePrice,
        this.owners = t.owners,
        this.utasPile = t.pile,
        this.stackCount = t.stackCount,
        this.state = t.state,
        this.timestamp = t.timestamp,
        this.untradeableCount = t.untradeableCount,
        0 !== t.id && this.getAuctionData().compareTo(t.getAuctionData()) && (this.id = t.id),
        (this.isPlayer() || this.isManager()) && (this.loans = t.loans),
        this.isPlayer() && (this.academy = t.academy,
        this.loyaltyBonus = t.loyaltyBonus,
        this.injuryType = t.injuryType,
        this.injuryGames = t.injuryGames,
        this.preferredPosition = t.preferredPosition,
        this.playStyle = t.playStyle,
        this.attributes = t.attributes,
        this.keyAttributes = t.keyAttributes,
        this._marketAverage = t._marketAverage),
        this.isManager() && (this.leagueId = t.leagueId),
        this.getAuctionData().update(t.getAuctionData())
    }
    ,
    UTItemEntity.prototype.isValid = function() {
        return (0 !== this.id || 0 !== this.definitionId) && 0 < this.stackCount
    }
    ,
    UTItemEntity.prototype.isStack = function() {
        return 1 < this.stackCount
    }
    ,
    UTItemEntity.prototype.isCustomBrick = function() {
        return !1
    }
    ,
    UTItemEntity.prototype.getItemData = function() {
        return this
    }
    ,
    UTItemEntity.prototype.getTier = function() {
        return this.isValid() ? this.isBronzeRating() ? ItemRatingTier.BRONZE : this.isSilverRating() ? ItemRatingTier.SILVER : ItemRatingTier.GOLD : ItemRatingTier.NONE
    }
    ,
    UTItemEntity.prototype.getSearchType = function() {
        switch (this.type) {
        case ItemType.PLAYER:
            return SearchType.PLAYER;
        case ItemType.MANAGER:
            return SearchType.STAFF;
        case ItemType.BADGE:
        case ItemType.KIT:
            return SearchType.CLUB_INFO;
        case ItemType.STADIUM:
            return SearchType.STADIUM;
        case ItemType.BALL:
            return SearchType.BALL;
        case ItemType.HEALTH:
            return SearchType.CONSUMABLES_DEVELOPMENT;
        case ItemType.TRAINING:
            return SearchType.CONSUMABLES_TRAINING;
        case ItemType.VANITY:
            return SearchType.VANITY;
        default:
            return DebugUtils.Assert(!1, "Unexpected item type. Defaulting to search type 'Any'."),
            SearchType.ANY
        }
    }
    ,
    UTItemEntity.prototype.isInjured = function() {
        return this.isPlayer() && 0 < this.injuryGames
    }
    ,
    UTItemEntity.prototype.isSuspended = function() {
        return this.isPlayer() && 0 < this.getCurrentRedCards()
    }
    ,
    UTItemEntity.prototype.getStaticData = function() {
        return this._staticData
    }
    ,
    UTItemEntity.prototype.setStaticData = function(t) {
        this._staticData = t
    }
    ,
    UTItemEntity.prototype.getAuctionData = function() {
        return this._auction
    }
    ,
    UTItemEntity.prototype.setAuctionData = function(t) {
        this._auction = t
    }
    ,
    UTItemEntity.prototype.getPlusRoles = function() {
        var t = this.basePlusRoles
          , e = this.getPlusRolesBonus()
          , r = this.getPlusPlusRoles().map(function(t) {
            return t.toBitwiseInteger()
        });
        if (0 < e.length) {
            var o = new Set;
            t = t.concat(e).filter(function(t) {
                var e = t.toBitwiseInteger()
                  , i = o.has(e) || r.includes(e);
                return i || o.add(e),
                !i
            })
        }
        return t
    }
    ,
    UTItemEntity.prototype.getPlusRolesBonus = function() {
        var t, e;
        return null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.plusRoles) && void 0 !== e ? e : []
    }
    ,
    UTItemEntity.prototype.hasPlusRolesForPositionRole = function(e, i) {
        var t = this.getPlusRoles().find(function(t) {
            return t.position === i && t.type === e
        });
        return JSUtils.isValid(t)
    }
    ,
    UTItemEntity.prototype.getPlusPlusRoles = function() {
        var t = this.basePlusPlusRoles
          , e = this.getPlusPlusRolesBonus();
        if (0 < e.length) {
            var r = new Set;
            t = t.concat(e).filter(function(t) {
                var e = t.toBitwiseInteger()
                  , i = r.has(e);
                return i || r.add(e),
                !i
            })
        }
        return t
    }
    ,
    UTItemEntity.prototype.getPlusPlusRolesBonus = function() {
        var t, e;
        return null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.plusPlusRoles) && void 0 !== e ? e : []
    }
    ,
    UTItemEntity.prototype.hasPlusPlusRolesForPositionRole = function(e, i) {
        var t = this.getPlusPlusRoles().find(function(t) {
            return t.position === i && t.type === e
        });
        return JSUtils.isValid(t)
    }
    ,
    UTItemEntity.prototype.getSkillMoves = function() {
        var t = this.getSkillMovesBonus();
        return JSUtils.isNumber(t) ? t : this.getBaseSkillMoves()
    }
    ,
    UTItemEntity.prototype.getSkillMovesBonus = function() {
        var t, e = null === (t = this.academy) || void 0 === t ? void 0 : t.skillMoves;
        return e ? e + 1 : void 0
    }
    ,
    UTItemEntity.prototype.getBaseSkillMoves = function() {
        return -1 < this._skillMoves ? this._skillMoves + 1 : this._metaData ? this._metaData.skillMoves + 1 : -1
    }
    ,
    UTItemEntity.prototype.getRatingBonus = function() {
        var t;
        return null === (t = this.academy) || void 0 === t ? void 0 : t.rating
    }
    ,
    Object.defineProperty(UTItemEntity.prototype, "rating", {
        get: function() {
            return JSUtils.isNumber(this.getRatingBonus()) ? Number(this.getRatingBonus()) : this.getBaseRating()
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemEntity.prototype.getBaseRating = function() {
        return this._rating
    }
    ,
    UTItemEntity.prototype.getRarityBonus = function() {
        var t;
        return null === (t = this.academy) || void 0 === t ? void 0 : t.rarity
    }
    ,
    Object.defineProperty(UTItemEntity.prototype, "rareflag", {
        get: function() {
            return JSUtils.isNumber(this.getRarityBonus()) ? Number(this.getRarityBonus()) : this.getBaseRarity()
        },
        set: function(t) {
            this._rareflag = t
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemEntity.prototype.getBaseRarity = function() {
        return this._rareflag
    }
    ,
    UTItemEntity.prototype.getMarketAverage = function() {
        return this._marketAverage
    }
    ,
    UTItemEntity.prototype.getWeakFootBonus = function() {
        var t;
        return null === (t = this.academy) || void 0 === t ? void 0 : t.weakfoot
    }
    ,
    UTItemEntity.prototype.getWeakFoot = function() {
        return JSUtils.isNumber(this.getWeakFootBonus()) ? Number(this.getWeakFootBonus()) : this.getBaseWeakFoot()
    }
    ,
    UTItemEntity.prototype.getBaseWeakFoot = function() {
        return -1 < this._weakFoot ? this._weakFoot : this._metaData ? this._metaData.weakFoot : -1
    }
    ,
    UTItemEntity.prototype.isLeftFoot = function() {
        return -1 < this._preferredFoot ? 1 !== this._preferredFoot : !!this._metaData && this._metaData.isLeftFoot
    }
    ,
    UTItemEntity.prototype.getNumPlayStyles = function() {
        return this.getPlayStyles().length
    }
    ,
    UTItemEntity.prototype.getNumBasicPlayStyles = function() {
        return this.getBasicPlayStyles().length
    }
    ,
    UTItemEntity.prototype.getNumPlusPlayStyles = function() {
        return this.getPlusPlayStyles().length
    }
    ,
    UTItemEntity.prototype.getPlayStyles = function() {
        return __spreadArrays(this.getPlusPlayStyles(), this.getBasicPlayStyles())
    }
    ,
    UTItemEntity.prototype.getBasicPlayStyles = function() {
        var t, e, o = this, n = null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.getBasicPlayStyles()) && void 0 !== e ? e : [];
        return this.playStyles.filter(function(e) {
            var t, i = null === (t = o.academy) || void 0 === t ? void 0 : t.getIconTraitById(e.traitId), r = n.some(function(t) {
                return t.equals(e)
            });
            return !1 === e.isIcon && !i && e.category != TraitDomain.UNDEFINED && !r
        }).concat(n)
    }
    ,
    UTItemEntity.prototype.getPlusPlayStyles = function() {
        var t, e, i = null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.getPlusPlayStyles()) && void 0 !== e ? e : [];
        return this.playStyles.filter(function(e) {
            var t = i.some(function(t) {
                return t.equals(e)
            });
            return !0 === e.isIcon && e.category != TraitDomain.UNDEFINED && !t
        }).concat(i)
    }
    ,
    UTItemEntity.prototype.hasPlayStyle = function(t) {
        return this.getPlayStyles().map(function(t) {
            return t.traitId
        }).includes(t)
    }
    ,
    UTItemEntity.prototype.hasBasePlayStyle = function(t) {
        return this.getBasicPlayStyles().map(function(t) {
            return t.traitId
        }).includes(t)
    }
    ,
    UTItemEntity.prototype.hasPlusPlayStyle = function(t) {
        return this.getPlusPlayStyles().map(function(t) {
            return t.traitId
        }).includes(t)
    }
    ,
    UTItemEntity.prototype.getMetaData = function() {
        return this._metaData
    }
    ,
    UTItemEntity.prototype.setMetaData = function(t) {
        DebugUtils.Assert(t instanceof UTPlayerMetaDataDTO, "Expected a PlayerMetaData DTO"),
        DebugUtils.Assert(this.isPlayer(), "Cannot assign player meta data to non-player items"),
        this.isPlayer() && t instanceof UTPlayerMetaDataDTO && (this._metaData = t)
    }
    ,
    UTItemEntity.prototype.isRecoverable = function() {
        return this.isValid() && 0 < this.discardDate
    }
    ,
    UTItemEntity.prototype.isDiscardable = function() {
        return this.isValid() && (this.discardable || this.isDuplicate()) && !this.concept && !this.isEnrolledInAcademy()
    }
    ,
    UTItemEntity.prototype.isStorable = function() {
        return this.isDuplicate() && this.isPlayer() && !this.isTradeable() && !this.isLimitedUse()
    }
    ,
    UTItemEntity.prototype.isTradeable = function() {
        return !this.untradeable
    }
    ,
    UTItemEntity.prototype.isTradeableDuplicate = function() {
        return this.isTradeable() && this.isDuplicate()
    }
    ,
    UTItemEntity.prototype.isUnTradeableDuplicate = function() {
        return !this.isTradeable() && this.isDuplicate()
    }
    ,
    UTItemEntity.prototype.isMovable = function() {
        return !this.isStorable() && !this.isDuplicate() && !this.isDuplicateLoanPlayer() && this.type !== ItemType.MISC
    }
    ,
    UTItemEntity.prototype.isDuplicate = function() {
        return !this.isConsumable() && 0 < this.duplicateId
    }
    ,
    UTItemEntity.prototype.isLimitedUse = function() {
        return this.limitedUseType !== LimitedUseType.NONE
    }
    ,
    UTItemEntity.prototype.isMatchLimited = function() {
        return this.limitedUseType === LimitedUseType.MATCH_LOAN
    }
    ,
    UTItemEntity.prototype.isGlobalTimeLimited = function() {
        return this.limitedUseType === LimitedUseType.GLOBAL_TIME_LIMIT_LOAN
    }
    ,
    UTItemEntity.prototype.isUserTimeLimited = function() {
        return this.limitedUseType === LimitedUseType.USER_TIME_LIMIT_LOAN
    }
    ,
    UTItemEntity.prototype.isTimeLimited = function() {
        return this.isGlobalTimeLimited() || this.isUserTimeLimited()
    }
    ,
    UTItemEntity.prototype.isActiveInAcademy = function() {
        var t, e;
        return null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.activeInAcademy) && void 0 !== e && e
    }
    ,
    UTItemEntity.prototype.isActiveInTimedEvolution = function() {
        var t, e;
        return null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.activeInTimedEvo) && void 0 !== e && e
    }
    ,
    UTItemEntity.prototype.setActiveInAcademy = function(t) {
        this.academy && (this.academy.activeInAcademy = t)
    }
    ,
    UTItemEntity.prototype.setActiveInTimedEvo = function(t) {
        this.academy && (this.academy.activeInTimedEvo = t)
    }
    ,
    UTItemEntity.prototype.isEnrolledInAcademy = function() {
        var t, e;
        return null !== (e = null === (t = this.academy) || void 0 === t ? void 0 : t.enrolledInAcademy) && void 0 !== e && e
    }
    ,
    UTItemEntity.prototype.isPlayer = function() {
        return this.type === ItemType.PLAYER
    }
    ,
    UTItemEntity.prototype.isLeagueHeroItem = function() {
        return this.isPlayer() && this.teamId === UTItemEntity.LEAGUE_HERO_CLUB_ID
    }
    ,
    UTItemEntity.prototype.isSuperChem = function() {
        var t, e = null !== (t = repositories.ServerSettings.getStringSettingByKey(UTServerSettingsRepository.KEY.SUPER_CHEM_RARITY_IDS)) && void 0 !== t ? t : "";
        if ("" === e)
            return !1;
        var i = e.split(",");
        return this.isPlayer() && i.includes(this.rareflag.toString())
    }
    ,
    UTItemEntity.prototype.isManager = function() {
        return this.type === ItemType.MANAGER
    }
    ,
    UTItemEntity.prototype.isPlayerBanned = function() {
        return this.isValid() && this.isPlayer() && this.isSuspended()
    }
    ,
    UTItemEntity.prototype.isDuplicateLoanPlayer = function() {
        return this.isValid() && this.isPlayer() && this.isDuplicate() && this.isLimitedUse()
    }
    ,
    UTItemEntity.prototype.isLimitedTimePlayer = function() {
        return this.isPlayer() && -1 != this.startTime && -1 != this.endTime
    }
    ,
    UTItemEntity.prototype.getAttributeWithBonus = function(t) {
        var e, i;
        return null !== (i = null === (e = this.academy) || void 0 === e ? void 0 : e.getAttributeByPlayerAttribute(t)) && void 0 !== i ? i : 0
    }
    ,
    UTItemEntity.prototype.getAttribute = function(t) {
        return this.getAttributeWithBonus(t) ? this.getAttributeWithBonus(t) : this.getBaseAttribute(t)
    }
    ,
    UTItemEntity.prototype.getBaseAttribute = function(t) {
        return this.attributes[t] || 0
    }
    ,
    UTItemEntity.prototype.getAttributes = function() {
        var i = this;
        return this.isPlayer() ? this.attributes.map(function(t, e) {
            return i.getAttribute(e)
        }) : []
    }
    ,
    UTItemEntity.prototype.getSubAttribute = function(t) {
        var e, i, r, o, n = null !== (i = null === (e = this.academy) || void 0 === e ? void 0 : e.getSubAttributeOverride(t)) && void 0 !== i ? i : null;
        return n = n || (null !== (o = null === (r = this.getMetaData()) || void 0 === r ? void 0 : r.attributes[t]) && void 0 !== o ? o : null)
    }
    ,
    UTItemEntity.prototype.getSubAttributes = function() {
        var i = this;
        return this.getBaseSubAttributes().map(function(t) {
            var e;
            return null !== (e = i.getSubAttribute(t.type)) && void 0 !== e ? e : t
        })
    }
    ,
    UTItemEntity.prototype.getBaseSubAttributes = function() {
        var t, e;
        return null !== (e = null === (t = this.getMetaData()) || void 0 === t ? void 0 : t.attributes.slice()) && void 0 !== e ? e : []
    }
    ,
    UTItemEntity.prototype.getPlayerKeySubAttributes = function() {
        var t, e, i = this;
        return null !== (e = null === (t = this.keyAttributes) || void 0 === t ? void 0 : t.map(function(t) {
            var e;
            return null !== (e = i.getSubAttribute(t.type)) && void 0 !== e ? e : t
        })) && void 0 !== e ? e : null
    }
    ,
    UTItemEntity.prototype.getSubAttributesByParent = function(t) {
        var e = [];
        switch (t) {
        case PlayerAttribute.ONE:
            e = this.isGK() ? [ItemSubAttribute.gkdiving] : [ItemSubAttribute.acceleration, ItemSubAttribute.sprintspeed];
            break;
        case PlayerAttribute.TWO:
            e = this.isGK() ? [ItemSubAttribute.gkhandling] : [ItemSubAttribute.positioning, ItemSubAttribute.finishing, ItemSubAttribute.shotpower, ItemSubAttribute.longshots, ItemSubAttribute.volleys, ItemSubAttribute.penalties];
            break;
        case PlayerAttribute.THREE:
            e = this.isGK() ? [ItemSubAttribute.gkkicking] : [ItemSubAttribute.vision, ItemSubAttribute.crossing, ItemSubAttribute.freekickaccuracy, ItemSubAttribute.shortpassing, ItemSubAttribute.longpassing, ItemSubAttribute.curve];
            break;
        case PlayerAttribute.FOUR:
            e = this.isGK() ? [ItemSubAttribute.gkreflexes] : [ItemSubAttribute.agility, ItemSubAttribute.balance, ItemSubAttribute.reactions, ItemSubAttribute.ballcontrol, ItemSubAttribute.dribbling, ItemSubAttribute.composure];
            break;
        case PlayerAttribute.FIVE:
            e = this.isGK() ? [ItemSubAttribute.acceleration, ItemSubAttribute.sprintspeed] : [ItemSubAttribute.interceptions, ItemSubAttribute.headingaccuracy, ItemSubAttribute.marking, ItemSubAttribute.standingtackle, ItemSubAttribute.slidingtackle];
            break;
        case PlayerAttribute.SIX:
            e = this.isGK() ? [ItemSubAttribute.gkpositioning] : [ItemSubAttribute.jumping, ItemSubAttribute.stamina, ItemSubAttribute.strength, ItemSubAttribute.aggression]
        }
        return e
    }
    ,
    UTItemEntity.prototype.getStats = function() {
        return this.isPlayer() || this.isManager() ? this._stats.slice() : []
    }
    ,
    UTItemEntity.prototype.getGamesPlayed = function() {
        return this.isPlayer() || this.isManager() ? this._stats[0] : 0
    }
    ,
    UTItemEntity.prototype.getGoals = function() {
        return this.isPlayer() ? this._stats[1] : 0
    }
    ,
    UTItemEntity.prototype.getWinAtCurrentClub = function() {
        return this.isManager() ? this._stats[1] : 0
    }
    ,
    UTItemEntity.prototype.getYellowCards = function() {
        return this.isPlayer() ? this._stats[2] : 0
    }
    ,
    UTItemEntity.prototype.getDrawsAtCurrentClub = function() {
        return this.isManager() ? this._stats[2] : 0
    }
    ,
    UTItemEntity.prototype.getRedCards = function() {
        return this.isPlayer() ? this._stats[3] : 0
    }
    ,
    UTItemEntity.prototype.getLossesAtCurrentClub = function() {
        return this.isManager() ? this._stats[3] : 0
    }
    ,
    UTItemEntity.prototype.getCurrentRedCards = function() {
        return this.isPlayer() ? this._stats[4] : 0
    }
    ,
    UTItemEntity.prototype.getCleanSheetsAtCurrentClub = function() {
        return this.isManager() ? this._stats[4] : 0
    }
    ,
    UTItemEntity.prototype.getLifetimeStats = function() {
        return this.isPlayer() || this.isManager() ? this._lifetimeStats.slice() : []
    }
    ,
    UTItemEntity.prototype.getLoyaltyRequiredGames = function() {
        return 10
    }
    ,
    UTItemEntity.prototype.getTotalGamesPlayed = function() {
        return this.isPlayer() || this.isManager() ? this._lifetimeStats[0] : 0
    }
    ,
    UTItemEntity.prototype.getTotalGoals = function() {
        return this.isPlayer() ? this._lifetimeStats[1] : 0
    }
    ,
    UTItemEntity.prototype.getTotalWins = function() {
        return this.isManager() ? this._lifetimeStats[1] : 0
    }
    ,
    UTItemEntity.prototype.getTotalYellowCards = function() {
        return this.isPlayer() ? this._lifetimeStats[2] : 0
    }
    ,
    UTItemEntity.prototype.getTotalDraws = function() {
        return this.isManager() ? this._lifetimeStats[2] : 0
    }
    ,
    UTItemEntity.prototype.getTotalRedCards = function() {
        return this.isPlayer() ? this._lifetimeStats[3] : 0
    }
    ,
    UTItemEntity.prototype.getTotalLosses = function() {
        return this.isManager() ? this._lifetimeStats[3] : 0
    }
    ,
    UTItemEntity.prototype.getTotalCleanSheets = function() {
        return this.isManager() ? this._lifetimeStats[4] : 0
    }
    ,
    UTItemEntity.prototype.isGK = function() {
        return 0 === this.preferredPosition
    }
    ,
    UTItemEntity.prototype.isTraining = function() {
        return this.type === ItemType.TRAINING
    }
    ,
    UTItemEntity.prototype.isStyleModifier = function() {
        return this.isTraining() && (this._assetId === ItemCardAssetId.PLAYSTYLE_PLAYER || this._assetId === ItemCardAssetId.PLAYSTYLE_GK)
    }
    ,
    UTItemEntity.prototype.isPlayerStyleModifier = function() {
        return this.isTraining() && this._assetId === ItemCardAssetId.PLAYSTYLE_PLAYER
    }
    ,
    UTItemEntity.prototype.isGKStyleModifier = function() {
        return this.isTraining() && this._assetId === ItemCardAssetId.PLAYSTYLE_GK
    }
    ,
    UTItemEntity.prototype.isManagerLeagueModifier = function() {
        return this.isTraining() && this._assetId === ItemCardAssetId.MANAGER_LEAGUE
    }
    ,
    UTItemEntity.prototype.isManagerConsumable = function() {
        return this.isManagerLeagueModifier()
    }
    ,
    UTItemEntity.prototype.isHealth = function() {
        return this.type === ItemType.HEALTH
    }
    ,
    UTItemEntity.prototype.isInjuryHealing = function() {
        return this.isHealth() && this._assetId === ItemCardAssetId.HEALING
    }
    ,
    UTItemEntity.prototype.isConsumable = function() {
        return this.isTraining() || this.isHealth()
    }
    ,
    UTItemEntity.prototype.isClubConsumable = function() {
        return this.isConsumable() && this.pile === ItemPile.CLUB
    }
    ,
    UTItemEntity.prototype.isBadge = function() {
        return this.type === ItemType.BADGE
    }
    ,
    UTItemEntity.prototype.isBall = function() {
        return this.type === ItemType.BALL
    }
    ,
    UTItemEntity.prototype.isKit = function() {
        return this.type === ItemType.KIT
    }
    ,
    UTItemEntity.prototype.isStadium = function() {
        return this.type === ItemType.STADIUM
    }
    ,
    UTItemEntity.prototype.isStadiumTierUnlock = function() {
        return this.type === ItemType.MYSTADIUM_TIER
    }
    ,
    UTItemEntity.prototype.isVanityItem = function() {
        return this.type === ItemType.VANITY
    }
    ,
    UTItemEntity.prototype.isAudioItem = function() {
        return this.isVanityItem() && (this.subtype === ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC || this.subtype === ItemSubType.VANITY_AUDIO_CLUB_NICKNAME || this.subtype === ItemSubType.VANITY_AUDIO_CROWD_CHANT || this.subtype === ItemSubType.VANITY_AUDIO_GOAL_SCORE)
    }
    ,
    UTItemEntity.prototype.isClubItem = function() {
        return this.isBadge() || this.isBall() || this.isKit() || this.isStadium() || this.isVanityItem()
    }
    ,
    UTItemEntity.prototype.isActiveBall = function() {
        return this.isBall() && this.state === ItemState.ACTIVE_BALL
    }
    ,
    UTItemEntity.prototype.isActiveBadge = function() {
        return this.isBadge() && this.state === ItemState.ACTIVE_BADGE
    }
    ,
    UTItemEntity.prototype.isActiveAwayKit = function() {
        return this.isKit() && this.state === ItemState.ACTIVE_AWAY_KIT
    }
    ,
    UTItemEntity.prototype.isActiveHomeKit = function() {
        return this.isKit() && this.state === ItemState.ACTIVE_HOME_KIT
    }
    ,
    UTItemEntity.prototype.isActiveStadium = function() {
        return this.isStadium() && this.state === ItemState.ACTIVE_STADIUM
    }
    ,
    UTItemEntity.prototype.isActiveClubItem = function() {
        return this.isActiveBall() || this.isActiveBadge() || this.isActiveAwayKit() || this.isActiveHomeKit() || this.isActiveStadium()
    }
    ,
    UTItemEntity.prototype.isMiscItem = function() {
        return this.type === ItemType.MISC
    }
    ,
    UTItemEntity.prototype.isFreeCoins = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.FREE_COINS
    }
    ,
    UTItemEntity.prototype.isCoinBoost = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.COIN_BOOST
    }
    ,
    UTItemEntity.prototype.isFreeXp = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.FREE_XP
    }
    ,
    UTItemEntity.prototype.isFreePack = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.FREE_PACK
    }
    ,
    UTItemEntity.prototype.isDraftToken = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.DRAFT_TOKEN
    }
    ,
    UTItemEntity.prototype.isAcademyUnlockToken = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.ACADEMY_UNLOCK_TOKEN
    }
    ,
    UTItemEntity.prototype.isPlayerPickItem = function() {
        return this.isMiscItem() && this.subtype === ItemSubType.PLAYER_PICK_ITEM
    }
    ,
    UTItemEntity.prototype.isCommon = function() {
        return this.rareflag === ItemRarity.NONE
    }
    ,
    UTItemEntity.prototype.isRare = function() {
        return this.rareflag === ItemRarity.RARE
    }
    ,
    UTItemEntity.prototype.isSpecial = function() {
        return !this.isCommon() && !this.isRare()
    }
    ,
    UTItemEntity.prototype.isLegend = function() {
        return this.teamId === UTItemEntity.LEGENDS_CLUB_ID || this.leagueId === UTItemEntity.LEGENDS_LEAGUE_ID
    }
    ,
    UTItemEntity.prototype.isCarson = function() {
        return this.definitionId == UTItemEntity.CARSON_PICKETT_ID
    }
    ,
    UTItemEntity.prototype.belongsToGroup = function(t) {
        return -1 < this.groups.indexOf(t)
    }
    ,
    UTItemEntity.prototype.hasRank = function() {
        return 0 <= this.rankId
    }
    ,
    UTItemEntity.prototype.hasQualityTiers = function() {
        return this.hasLevels
    }
    ,
    UTItemEntity.prototype.isBronzeRating = function() {
        return this.rating <= 64
    }
    ,
    UTItemEntity.prototype.isSilverRating = function() {
        return this.rating <= 74 && 64 < this.rating
    }
    ,
    UTItemEntity.prototype.isGoldRating = function() {
        return 74 < this.rating
    }
    ,
    UTItemEntity.prototype.prefersDefensePosition = function() {
        return !!this.isPlayer() && 0 <= this.possiblePositions.findIndex(function(t) {
            return t >= PlayerPosition.RWB && t <= PlayerPosition.LWB
        })
    }
    ,
    UTItemEntity.prototype.prefersMidfieldPosition = function() {
        return !!this.isPlayer() && 0 <= this.possiblePositions.findIndex(function(t) {
            return t >= PlayerPosition.RDM && t <= PlayerPosition.LAM
        })
    }
    ,
    UTItemEntity.prototype.prefersAttackerPosition = function() {
        return !!this.isPlayer() && 0 <= this.possiblePositions.findIndex(function(t) {
            return t >= PlayerPosition.RF
        })
    }
    ,
    UTItemEntity.prototype.compareTo = function(t) {
        var e = this.getAuctionData()
          , i = t.getAuctionData();
        return e.isValid() && i.isValid() ? e.compareTo(i) : this.id === t.id
    }
    ,
    UTItemEntity.prototype.compareResourceTo = function(t, e) {
        return e ? JSUtils.isValid(this.academy) === JSUtils.isValid(t.academy) && this.definitionId === t.definitionId : this.isLegend() && t.isLegend() && 0 < this.iconId && 0 < t.iconId ? this.iconId === t.iconId : this.databaseId === t.databaseId
    }
    ,
    UTItemEntity.prototype.setItemPriceLimits = function(t) {
        this._itemPriceLimits = t
    }
    ,
    UTItemEntity.prototype.hasPriceLimits = function() {
        return null !== this._itemPriceLimits
    }
    ,
    UTItemEntity.prototype.getPriceLimits = function() {
        return this._itemPriceLimits
    }
    ,
    UTItemEntity.prototype.hasCosmetics = function() {
        return 0 < this.cosmetics.length
    }
    ,
    UTItemEntity.prototype.getCosmeticLayers = function() {
        return this.cosmetics.slice()
    }
    ,
    UTItemEntity.prototype.getCosmeticLayerByType = function(e) {
        var t;
        return null !== (t = this.cosmetics.find(function(t) {
            return t.type === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTItemEntity.prototype.increaseStackCount = function(t) {
        return void 0 === t && (t = 1),
        this.isClubConsumable() && (this.stackCount = this.stackCount + t,
        this._updateUntradeableState()),
        this.stackCount
    }
    ,
    UTItemEntity.prototype.decreaseStackCount = function(t) {
        if (void 0 === t && (t = 1),
        !this.isClubConsumable())
            return this.stackCount;
        if (this.stackCount >= t) {
            var e = this.stackCount - this.untradeableCount;
            0 < this.untradeableCount && e < t && (this.untradeableCount = this.untradeableCount + (e - t)),
            this.stackCount -= t
        } else
            this.stackCount = 0,
            this.untradeable && (this.untradeableCount = 0);
        return this._updateUntradeableState(),
        this.untradeable && (this.discardValue = 0),
        this.stackCount
    }
    ,
    UTItemEntity.prototype._updateUntradeableState = function() {
        this.untradeable = 0 < this.untradeableCount && this.stackCount <= this.untradeableCount
    }
    ,
    UTItemEntity.prototype.compareDream = function(t) {
        return this.databaseId === t.databaseId && this.concept !== t.concept
    }
    ,
    UTItemEntity.prototype.compareType = function(t) {
        return this.type === t.type
    }
    ,
    UTItemEntity.prototype.canApplyTo = function(t) {
        return !(!this.isConsumable() || t.isConsumable()) && (this.isPlayerStyleModifier() ? t.isPlayer() && !t.isGK() && t.playStyle !== this.subtype : this.isGKStyleModifier() ? t.isGK() && t.playStyle !== this.subtype : this.isManagerLeagueModifier() ? t.isManager() && t.leagueId !== this.leagueId : !!this.isInjuryHealing() && (t.isInjured() && this._canApplyToInjury()))
    }
    ,
    UTItemEntity.prototype._canApplyToInjury = function() {
        return this.subtype === ItemSubType.HEALING_ALL
    }
    ,
    UTItemEntity.CARSON_PICKETT_ID = 267240,
    UTItemEntity.AUDIO_ANTHEM_ASSET = 6871e3,
    UTItemEntity.AUDIO_GOAL_ASSET = 6872e3,
    UTItemEntity.AUDIO_NICKNAME_ASSET = 6873e3,
    UTItemEntity.AUDIO_CHANT_ASSET = 6874e3,
    UTItemEntity.DEFAULT_ASSET_ID = 0,
    UTItemEntity.DEFAULT_BALL_ASSET_ID = 1e3,
    UTItemEntity.DEFAULT_MOWPATTERN_ASSET_ID = 1e3,
    UTItemEntity.DEFAULT_BRONZE_ASSET_ID = 20000001,
    UTItemEntity.DEFAULT_SILVER_ASSET_ID = 20000002,
    UTItemEntity.DEFAULT_GOLD_ASSET_ID = 20000003,
    UTItemEntity.LEGENDS_LEAGUE_ID = 2118,
    UTItemEntity.LEGENDS_CLUB_ID = 112658,
    UTItemEntity.LEAGUE_HERO_CLUB_ID = 114605,
    UTItemEntity
}(EAObject))
  , UTCustomBrickItemEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTCustomBrickItemEntity(t) {
        return e.call(this, t) || this
    }
    return __extends(UTCustomBrickItemEntity, e),
    UTCustomBrickItemEntity.prototype.activate = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.clearAuction = function() {}
    ,
    UTCustomBrickItemEntity.prototype._generateStaticData = function() {
        return new UTStaticItemDataDTO
    }
    ,
    UTCustomBrickItemEntity.prototype.update = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.isValid = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.isCustomBrick = function() {
        return !0
    }
    ,
    UTCustomBrickItemEntity.prototype.isInjured = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.isSuspended = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.setStaticData = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.setAuctionData = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.setMetaData = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.isMovable = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.getAttribute = function(t) {
        return 0
    }
    ,
    UTCustomBrickItemEntity.prototype.getBaseAttribute = function(t) {
        return 0
    }
    ,
    UTCustomBrickItemEntity.prototype.getAttributes = function() {
        return []
    }
    ,
    UTCustomBrickItemEntity.prototype.getStats = function() {
        return []
    }
    ,
    UTCustomBrickItemEntity.prototype.hasQualityTiers = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.compareTo = function(t) {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.compareResourceTo = function(t, e) {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.setItemPriceLimits = function(t) {}
    ,
    UTCustomBrickItemEntity.prototype.increaseStackCount = function() {
        return 0
    }
    ,
    UTCustomBrickItemEntity.prototype.decreaseStackCount = function() {
        return 0
    }
    ,
    UTCustomBrickItemEntity.prototype._updateUntradeableState = function() {}
    ,
    UTCustomBrickItemEntity.prototype.compareDream = function(t) {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.compareType = function(t) {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype.canApplyTo = function(t) {
        return !1
    }
    ,
    UTCustomBrickItemEntity.prototype._canApplyToInjury = function() {
        return !1
    }
    ,
    UTCustomBrickItemEntity
}(UTItemEntity))
  , UTNullItemEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTNullItemEntity() {
        return t.call(this, {
            type: ItemType.NONE
        }) || this
    }
    return __extends(UTNullItemEntity, t),
    UTNullItemEntity.prototype.activate = function(t) {}
    ,
    UTNullItemEntity.prototype.clearAuction = function() {}
    ,
    UTNullItemEntity.prototype._generateStaticData = function() {
        return new UTStaticItemDataDTO
    }
    ,
    UTNullItemEntity.prototype.update = function(t) {}
    ,
    UTNullItemEntity.prototype.isValid = function() {
        return !1
    }
    ,
    UTNullItemEntity.prototype.isInjured = function() {
        return !1
    }
    ,
    UTNullItemEntity.prototype.isSuspended = function() {
        return !1
    }
    ,
    UTNullItemEntity.prototype.setStaticData = function(t) {}
    ,
    UTNullItemEntity.prototype.setAuctionData = function(t) {}
    ,
    UTNullItemEntity.prototype.setMetaData = function(t) {}
    ,
    UTNullItemEntity.prototype.isMovable = function() {
        return !1
    }
    ,
    UTNullItemEntity.prototype.getAttribute = function(t) {
        return 0
    }
    ,
    UTNullItemEntity.prototype.getBaseAttribute = function(t) {
        return 0
    }
    ,
    UTNullItemEntity.prototype.getAttributes = function() {
        return []
    }
    ,
    UTNullItemEntity.prototype.getStats = function() {
        return []
    }
    ,
    UTNullItemEntity.prototype.hasQualityTiers = function() {
        return !1
    }
    ,
    UTNullItemEntity.prototype.compareTo = function(t) {
        return !1
    }
    ,
    UTNullItemEntity.prototype.compareResourceTo = function(t, e) {
        return !1
    }
    ,
    UTNullItemEntity.prototype.setItemPriceLimits = function(t) {}
    ,
    UTNullItemEntity.prototype.increaseStackCount = function() {
        return 0
    }
    ,
    UTNullItemEntity.prototype.decreaseStackCount = function() {
        return 0
    }
    ,
    UTNullItemEntity.prototype._updateUntradeableState = function() {}
    ,
    UTNullItemEntity.prototype.compareDream = function(t) {
        return !1
    }
    ,
    UTNullItemEntity.prototype.compareType = function(t) {
        return !1
    }
    ,
    UTNullItemEntity.prototype.canApplyTo = function(t) {
        return !1
    }
    ,
    UTNullItemEntity.prototype._canApplyToInjury = function() {
        return !1
    }
    ,
    UTNullItemEntity
}(UTItemEntity))
  , UTPlayerAttributeVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPlayerAttributeVO(t, e) {
        var i = r.call(this) || this;
        return i.type = t,
        i.rating = e,
        i
    }
    return __extends(UTPlayerAttributeVO, r),
    UTPlayerAttributeVO.prototype.value = function() {
        return this.rating
    }
    ,
    UTPlayerAttributeVO.prototype.equals = function(t) {
        return t instanceof UTPlayerAttributeVO && this.type === t.type && this.rating === t.rating
    }
    ,
    UTPlayerAttributeVO
}(EAObject))
  , UTAcademyUtils = function() {
    function UTAcademyUtils() {}
    return UTAcademyUtils.getPlayerSubAttributeByAcademyEnum = function(t) {
        switch (t) {
        case AcademyStatEnum.ACCELERATION:
            return ItemSubAttribute.acceleration;
        case AcademyStatEnum.SPRINT_SPEED:
            return ItemSubAttribute.sprintspeed;
        case AcademyStatEnum.AGILITY:
            return ItemSubAttribute.agility;
        case AcademyStatEnum.BALANCE:
            return ItemSubAttribute.balance;
        case AcademyStatEnum.JUMPING:
            return ItemSubAttribute.jumping;
        case AcademyStatEnum.STAMINA:
            return ItemSubAttribute.stamina;
        case AcademyStatEnum.STRENGTH:
            return ItemSubAttribute.strength;
        case AcademyStatEnum.REACTIONS:
            return ItemSubAttribute.reactions;
        case AcademyStatEnum.AGGRESSION:
            return ItemSubAttribute.aggression;
        case AcademyStatEnum.COMPOSURE:
            return ItemSubAttribute.composure;
        case AcademyStatEnum.INTERCEPTIONS:
            return ItemSubAttribute.interceptions;
        case AcademyStatEnum.POSITIONING:
            return ItemSubAttribute.positioning;
        case AcademyStatEnum.VISION:
            return ItemSubAttribute.vision;
        case AcademyStatEnum.BALL_CONTROL:
            return ItemSubAttribute.ballcontrol;
        case AcademyStatEnum.CROSSING:
            return ItemSubAttribute.crossing;
        case AcademyStatEnum.DRIBBLING_SUB:
            return ItemSubAttribute.dribbling;
        case AcademyStatEnum.FINISHING:
            return ItemSubAttribute.finishing;
        case AcademyStatEnum.FK_ACC:
            return ItemSubAttribute.freekickaccuracy;
        case AcademyStatEnum.HEADING_ACC:
            return ItemSubAttribute.headingaccuracy;
        case AcademyStatEnum.LONG_PASSING:
            return ItemSubAttribute.longpassing;
        case AcademyStatEnum.SHORT_PASSING:
            return ItemSubAttribute.shortpassing;
        case AcademyStatEnum.DEF_AWARENESS:
            return ItemSubAttribute.marking;
        case AcademyStatEnum.SHOT_POWER:
            return ItemSubAttribute.shotpower;
        case AcademyStatEnum.LONG_SHOTS:
            return ItemSubAttribute.longshots;
        case AcademyStatEnum.STANDING_TACKLE:
            return ItemSubAttribute.standingtackle;
        case AcademyStatEnum.SLIDING_TACKLE:
            return ItemSubAttribute.slidingtackle;
        case AcademyStatEnum.VOLLEYS:
            return ItemSubAttribute.volleys;
        case AcademyStatEnum.CURVE:
            return ItemSubAttribute.curve;
        case AcademyStatEnum.PENALTIES:
            return ItemSubAttribute.penalties;
        default:
            return DebugUtils.Assert(!1, "Unknown Evo sub-attribute stat: " + t),
            ItemSubAttribute.acceleration
        }
    }
    ,
    UTAcademyUtils.getPlayerAttributeByAcademyEnum = function(t) {
        switch (t) {
        case AcademyStatEnum.PACE:
            return PlayerAttribute.ONE;
        case AcademyStatEnum.SHOOTING:
            return PlayerAttribute.TWO;
        case AcademyStatEnum.PASSING:
            return PlayerAttribute.THREE;
        case AcademyStatEnum.DRIBBLING_MAIN:
            return PlayerAttribute.FOUR;
        case AcademyStatEnum.DEFENSE:
            return PlayerAttribute.FIVE;
        case AcademyStatEnum.PHYSICALITY:
            return PlayerAttribute.SIX;
        default:
            return -1
        }
    }
    ,
    UTAcademyUtils.getPlayerAttrByAcademyEligibilityAttr = function(t) {
        switch (t) {
        case AcademyEligibilityAttribute.PACE:
            return PlayerAttribute.ONE;
        case AcademyEligibilityAttribute.SHOOTING:
            return PlayerAttribute.TWO;
        case AcademyEligibilityAttribute.PASSING:
            return PlayerAttribute.THREE;
        case AcademyEligibilityAttribute.DRIBBLING_MAIN:
            return PlayerAttribute.FOUR;
        case AcademyEligibilityAttribute.DEFENSE:
            return PlayerAttribute.FIVE;
        case AcademyEligibilityAttribute.PHYSICALITY:
            return PlayerAttribute.SIX;
        default:
            return -1
        }
    }
    ,
    UTAcademyUtils.getPlayerSubAttrByAcademyEligibilityAttr = function(t) {
        switch (t) {
        case AcademyEligibilityAttribute.ACCELERATION:
            return ItemSubAttribute.acceleration;
        case AcademyEligibilityAttribute.SPRINT_SPEED:
            return ItemSubAttribute.sprintspeed;
        case AcademyEligibilityAttribute.AGILITY:
            return ItemSubAttribute.agility;
        case AcademyEligibilityAttribute.BALANCE:
            return ItemSubAttribute.balance;
        case AcademyEligibilityAttribute.JUMPING:
            return ItemSubAttribute.jumping;
        case AcademyEligibilityAttribute.STAMINA:
            return ItemSubAttribute.stamina;
        case AcademyEligibilityAttribute.STRENGTH:
            return ItemSubAttribute.strength;
        case AcademyEligibilityAttribute.REACTIONS:
            return ItemSubAttribute.reactions;
        case AcademyEligibilityAttribute.AGGRESSION:
            return ItemSubAttribute.aggression;
        case AcademyEligibilityAttribute.COMPOSURE:
            return ItemSubAttribute.composure;
        case AcademyEligibilityAttribute.INTERCEPTIONS:
            return ItemSubAttribute.interceptions;
        case AcademyEligibilityAttribute.POSITIONING:
            return ItemSubAttribute.positioning;
        case AcademyEligibilityAttribute.VISION:
            return ItemSubAttribute.vision;
        case AcademyEligibilityAttribute.BALL_CONTROL:
            return ItemSubAttribute.ballcontrol;
        case AcademyEligibilityAttribute.CROSSING:
            return ItemSubAttribute.crossing;
        case AcademyEligibilityAttribute.DRIBBLING_SUB:
            return ItemSubAttribute.dribbling;
        case AcademyEligibilityAttribute.FINISHING:
            return ItemSubAttribute.finishing;
        case AcademyEligibilityAttribute.FK_ACC:
            return ItemSubAttribute.freekickaccuracy;
        case AcademyEligibilityAttribute.HEADING_ACC:
            return ItemSubAttribute.headingaccuracy;
        case AcademyEligibilityAttribute.LONG_PASSING:
            return ItemSubAttribute.longpassing;
        case AcademyEligibilityAttribute.SHORT_PASSING:
            return ItemSubAttribute.shortpassing;
        case AcademyEligibilityAttribute.DEF_AWARENESS:
            return ItemSubAttribute.marking;
        case AcademyEligibilityAttribute.SHOT_POWER:
            return ItemSubAttribute.shotpower;
        case AcademyEligibilityAttribute.LONG_SHOTS:
            return ItemSubAttribute.longshots;
        case AcademyEligibilityAttribute.STANDING_TACKLE:
            return ItemSubAttribute.standingtackle;
        case AcademyEligibilityAttribute.SLIDING_TACKLE:
            return ItemSubAttribute.slidingtackle;
        case AcademyEligibilityAttribute.VOLLEYS:
            return ItemSubAttribute.volleys;
        case AcademyEligibilityAttribute.CURVE:
            return ItemSubAttribute.curve;
        case AcademyEligibilityAttribute.PENALTIES:
            return ItemSubAttribute.penalties;
        default:
            return -1
        }
    }
    ,
    UTAcademyUtils.getTraitByAcademyEnum = function(t) {
        switch (t) {
        case AcademyStatEnum.FINISHING_FINESSE_SHOT:
            return PlayerTrait.FINESSE_SHOT;
        case AcademyStatEnum.FINISHING_CHIP_SHOT:
            return PlayerTrait.CHIP_SHOT;
        case AcademyStatEnum.FINISHING_POWER_SHOT:
            return PlayerTrait.POWER_SHOT;
        case AcademyStatEnum.FINISHING_FK_SPECIALIST:
            return PlayerTrait.FK_SPECIALIST;
        case AcademyStatEnum.FINISHING_POWER_HEADER:
            return PlayerTrait.POWER_HEADER;
        case AcademyStatEnum.PASSING_PASS_INTO_SPACE:
            return PlayerTrait.PASS_INTO_SPACE;
        case AcademyStatEnum.PASSING_BULLET_PASSES:
            return PlayerTrait.BULLET_PASSES;
        case AcademyStatEnum.PASSING_LOB_PASS_MASTER:
            return PlayerTrait.LOB_PASS_MASTER;
        case AcademyStatEnum.PASSING_TIKI_TAKA_MASTER:
            return PlayerTrait.TIKI_TAKA_MASTER;
        case AcademyStatEnum.PASSING_WHIPPED_CROSSES:
            return PlayerTrait.WHIPPED_CROSSES;
        case AcademyStatEnum.DEFENDING_FAST_JOCKEY:
            return PlayerTrait.FAST_JOCKEY;
        case AcademyStatEnum.DEFENDING_BRICK_WALL:
            return PlayerTrait.BRICK_WALL;
        case AcademyStatEnum.DEFENDING_INTERCEPTOR:
            return PlayerTrait.INTERCEPTER;
        case AcademyStatEnum.DEFENDING_TACKLE_VISION:
            return PlayerTrait.TACKLE_VISION;
        case AcademyStatEnum.DEFENDING_SLIDE_TACKLER:
            return PlayerTrait.SLIDE_TACKLER;
        case AcademyStatEnum.DEFENDING_BRUISER:
            return PlayerTrait.BRUISER;
        case AcademyStatEnum.BALL_CONTROL_TECHNICAL_DRIBBLER:
            return PlayerTrait.TECHNICAL_DRIBBLER;
        case AcademyStatEnum.BALL_CONTROL_SPEED_DRIBBLER:
            return PlayerTrait.SPEED_DRIBBLER;
        case AcademyStatEnum.BALL_CONTROL_FLAIR:
            return PlayerTrait.FLAIR;
        case AcademyStatEnum.BALL_CONTROL_TRAP_MASTER:
            return PlayerTrait.TRAP_MASTER;
        case AcademyStatEnum.BALL_CONTROL_TRICKSTER:
            return PlayerTrait.TRICKSTER;
        case AcademyStatEnum.BALL_CONTROL_POSSESSION_HOLDER:
            return PlayerTrait.POSSESSION_HOLDER;
        case AcademyStatEnum.PHYSICAL_EXPLOSIVE_SPRINT_BOOST:
            return PlayerTrait.EXPLOSIVE_SPRINT_BOOST;
        case AcademyStatEnum.PHYSICAL_RELENTLESS:
            return PlayerTrait.RELENTLESS;
        case AcademyStatEnum.PHYSICAL_OUTSIDE_FOOT:
            return PlayerTrait.OUTSIDE_FOOT;
        case AcademyStatEnum.PHYSICAL_ACROBATIC:
            return PlayerTrait.ACROBATIC;
        case AcademyStatEnum.PHYSICAL_THROW_IN_SPECIALIST:
            return PlayerTrait.THROW_IN_SPECIALIST;
        case AcademyStatEnum.PHYSICAL_AERIAL_MASTER:
            return PlayerTrait.AERIAL_MASTER;
        case AcademyStatEnum.GOAL_KEEPER_LONG_THROWER:
            return PlayerTrait.LONG_THROWER;
        case AcademyStatEnum.GOAL_KEEPER_SAVE_WITH_FOOT:
            return PlayerTrait.SAVE_WITH_FOOT;
        case AcademyStatEnum.GOAL_KEEPER_COMES_FOR_CROSSES:
            return PlayerTrait.COMES_FOR_CROSSES;
        case AcademyStatEnum.GOAL_KEEPER_RUSHES_OUT_OF_GOAL:
            return PlayerTrait.RUSHES_OUT_OF_GOAL;
        case AcademyStatEnum.GOAL_KEEPER_FAR_REACH:
            return PlayerTrait.FAR_REACH;
        case AcademyStatEnum.GOAL_KEEPER_DEFLECTOR:
            return PlayerTrait.DEFLECTOR;
        case AcademyStatEnum.FINISHING_LOW_DRIVEN_SHOT:
            return PlayerTrait.LOW_DRIVEN_SHOT;
        default:
            return -1
        }
    }
    ,
    UTAcademyUtils.mapAttributeIdToLocString = function(t) {
        var e = services.Localization;
        switch (t) {
        case AcademyStatEnum.OVR:
            return e.localize("extendedPlayerInfo.general.overall");
        case AcademyStatEnum.RARITY:
            return e.localize("extendedPlayerInfo.general.rarity");
        case AcademyStatEnum.PACE:
            return e.localize("extendedPlayerInfo.stats.pace");
        case AcademyStatEnum.SHOOTING:
            return e.localize("extendedPlayerInfo.stats.shooting");
        case AcademyStatEnum.PASSING:
            return e.localize("extendedPlayerInfo.stats.passing");
        case AcademyStatEnum.DRIBBLING_MAIN:
            return e.localize("extendedPlayerInfo.stats.dribbling");
        case AcademyStatEnum.DEFENSE:
            return e.localize("extendedPlayerInfo.stats.defending");
        case AcademyStatEnum.PHYSICALITY:
            return e.localize("extendedPlayerInfo.stats.heading");
        case AcademyStatEnum.ACCELERATION:
        case AcademyStatEnum.SPRINT_SPEED:
        case AcademyStatEnum.AGILITY:
        case AcademyStatEnum.BALANCE:
        case AcademyStatEnum.JUMPING:
        case AcademyStatEnum.STAMINA:
        case AcademyStatEnum.STRENGTH:
        case AcademyStatEnum.REACTIONS:
        case AcademyStatEnum.AGGRESSION:
        case AcademyStatEnum.COMPOSURE:
        case AcademyStatEnum.INTERCEPTIONS:
        case AcademyStatEnum.POSITIONING:
        case AcademyStatEnum.VISION:
        case AcademyStatEnum.BALL_CONTROL:
        case AcademyStatEnum.CROSSING:
        case AcademyStatEnum.DRIBBLING_SUB:
        case AcademyStatEnum.FINISHING:
        case AcademyStatEnum.FK_ACC:
        case AcademyStatEnum.HEADING_ACC:
        case AcademyStatEnum.LONG_PASSING:
        case AcademyStatEnum.SHORT_PASSING:
        case AcademyStatEnum.DEF_AWARENESS:
        case AcademyStatEnum.SHOT_POWER:
        case AcademyStatEnum.LONG_SHOTS:
        case AcademyStatEnum.STANDING_TACKLE:
        case AcademyStatEnum.SLIDING_TACKLE:
        case AcademyStatEnum.VOLLEYS:
        case AcademyStatEnum.CURVE:
        case AcademyStatEnum.PENALTIES:
            var i = UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(t);
            return e.localize("item.subattribute." + ItemSubAttribute[i]);
        case AcademyStatEnum.SKILL_MOVES:
            return e.localize("item.subattribute.skillmove");
        case AcademyStatEnum.WEAK_FOOT:
            return e.localize("item.subattribute.weakfoot");
        case AcademyStatEnum.CB:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CB, e);
        case AcademyStatEnum.RB:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RB, e);
        case AcademyStatEnum.RWB:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RWB, e);
        case AcademyStatEnum.LB:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LB, e);
        case AcademyStatEnum.LWB:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LWB, e);
        case AcademyStatEnum.CDM:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CDM, e);
        case AcademyStatEnum.CM:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CM, e);
        case AcademyStatEnum.CAM:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CAM, e);
        case AcademyStatEnum.LM:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LM, e);
        case AcademyStatEnum.RM:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RM, e);
        case AcademyStatEnum.LW:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LW, e);
        case AcademyStatEnum.RW:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RW, e);
        case AcademyStatEnum.ST:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.ST, e);
        case AcademyStatEnum.CF:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CF, e);
        case AcademyStatEnum.FINISHING_FINESSE_SHOT:
        case AcademyStatEnum.FINISHING_CHIP_SHOT:
        case AcademyStatEnum.FINISHING_POWER_SHOT:
        case AcademyStatEnum.FINISHING_FK_SPECIALIST:
        case AcademyStatEnum.FINISHING_POWER_HEADER:
        case AcademyStatEnum.PASSING_PASS_INTO_SPACE:
        case AcademyStatEnum.PASSING_BULLET_PASSES:
        case AcademyStatEnum.PASSING_LOB_PASS_MASTER:
        case AcademyStatEnum.PASSING_TIKI_TAKA_MASTER:
        case AcademyStatEnum.PASSING_WHIPPED_CROSSES:
        case AcademyStatEnum.DEFENDING_FAST_JOCKEY:
        case AcademyStatEnum.DEFENDING_BRICK_WALL:
        case AcademyStatEnum.DEFENDING_INTERCEPTOR:
        case AcademyStatEnum.DEFENDING_TACKLE_VISION:
        case AcademyStatEnum.DEFENDING_SLIDE_TACKLER:
        case AcademyStatEnum.DEFENDING_BRUISER:
        case AcademyStatEnum.BALL_CONTROL_TECHNICAL_DRIBBLER:
        case AcademyStatEnum.BALL_CONTROL_SPEED_DRIBBLER:
        case AcademyStatEnum.BALL_CONTROL_FLAIR:
        case AcademyStatEnum.BALL_CONTROL_TRAP_MASTER:
        case AcademyStatEnum.BALL_CONTROL_TRICKSTER:
        case AcademyStatEnum.BALL_CONTROL_POSSESSION_HOLDER:
        case AcademyStatEnum.PHYSICAL_EXPLOSIVE_SPRINT_BOOST:
        case AcademyStatEnum.PHYSICAL_RELENTLESS:
        case AcademyStatEnum.PHYSICAL_OUTSIDE_FOOT:
        case AcademyStatEnum.PHYSICAL_ACROBATIC:
        case AcademyStatEnum.PHYSICAL_THROW_IN_SPECIALIST:
        case AcademyStatEnum.PHYSICAL_AERIAL_MASTER:
        case AcademyStatEnum.GOAL_KEEPER_LONG_THROWER:
        case AcademyStatEnum.GOAL_KEEPER_SAVE_WITH_FOOT:
        case AcademyStatEnum.GOAL_KEEPER_COMES_FOR_CROSSES:
        case AcademyStatEnum.GOAL_KEEPER_RUSHES_OUT_OF_GOAL:
        case AcademyStatEnum.GOAL_KEEPER_FAR_REACH:
        case AcademyStatEnum.GOAL_KEEPER_DEFLECTOR:
        case AcademyStatEnum.FINISHING_LOW_DRIVEN_SHOT:
            var r = UTAcademyUtils.getTraitByAcademyEnum(t);
            return e.localize("extendedPlayerInfo.signatureAbility.name." + r);
        case AcademyStatEnum.GK_GOALKEEPER:
        case AcademyStatEnum.GK_SWEEPER_KEEPER:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.GK, e);
        case AcademyStatEnum.RB_FULLBACK:
        case AcademyStatEnum.RB_FALSEBACK:
        case AcademyStatEnum.RB_WINGBACK:
        case AcademyStatEnum.RB_OFFENSIVE_WINGBACK:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RB, e);
        case AcademyStatEnum.LB_FULLBACK:
        case AcademyStatEnum.LB_FALSEBACK:
        case AcademyStatEnum.LB_WINGBACK:
        case AcademyStatEnum.LB_OFFENSIVE_WINGBACK:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LB, e);
        case AcademyStatEnum.CB_DEFENDER:
        case AcademyStatEnum.CB_STOPPER:
        case AcademyStatEnum.CB_BALL_PLAYING_DEFENDER:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CB, e);
        case AcademyStatEnum.CDM_HOLDING:
        case AcademyStatEnum.CDM_CENTRE_HALF:
        case AcademyStatEnum.CDM_DEEP_LYING_PLAYMAKER:
        case AcademyStatEnum.CDM_WIDE_HALF:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CDM, e);
        case AcademyStatEnum.CM_BOX_TO_BOX:
        case AcademyStatEnum.CM_HOLDING:
        case AcademyStatEnum.CM_DEEP_LYING_PLAYMAKER:
        case AcademyStatEnum.CM_PLAYMAKER:
        case AcademyStatEnum.CM_HALF_WINGER:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CM, e);
        case AcademyStatEnum.RM_WINGER:
        case AcademyStatEnum.RM_WIDE_MIDFIELDER:
        case AcademyStatEnum.RM_WIDE_PLAYMAKER:
        case AcademyStatEnum.RM_INSIDE_FORWARD:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RM, e);
        case AcademyStatEnum.LM_WINGER:
        case AcademyStatEnum.LM_WIDE_MIDFIELDER:
        case AcademyStatEnum.LM_WIDE_PLAYMAKER:
        case AcademyStatEnum.LM_INSIDE_FORWARD:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LM, e);
        case AcademyStatEnum.CAM_PLAYMAKER:
        case AcademyStatEnum.CAM_SHADOW_STRIKER:
        case AcademyStatEnum.CAM_HALF_WINGER:
        case AcademyStatEnum.CAM_CLASSIC10:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.CAM, e);
        case AcademyStatEnum.RW_WINGER:
        case AcademyStatEnum.RW_INSIDE_FORWARD:
        case AcademyStatEnum.RW_WIDE_PLAYMAKER:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.RW, e);
        case AcademyStatEnum.LW_WINGER:
        case AcademyStatEnum.LW_INSIDE_FORWARD:
        case AcademyStatEnum.LW_WIDE_PLAYMAKER:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.LW, e);
        case AcademyStatEnum.ST_ADVANCE_FORWARD:
        case AcademyStatEnum.ST_POACHER:
        case AcademyStatEnum.ST_FALSE_9:
        case AcademyStatEnum.ST_TARGET_FORWARD:
            return UTLocalizationUtil.positionIdToName(PlayerPosition.ST, e);
        case AcademyStatEnum.COSMETIC_UPGRADE:
            return e.localize("item.customisation.reward")
        }
        return DebugUtils.Assert(!1, "UTAcademyUtils.mapAttributeIdToLocString: Unrecognised academy stat enum"),
        BLANK_STR
    }
    ,
    UTAcademyUtils.getPlayerPositionFromAcademyStateEnum = function(t) {
        switch (t) {
        case AcademyStatEnum.GK_GOALKEEPER:
        case AcademyStatEnum.GK_SWEEPER_KEEPER:
            return PlayerPosition.GK;
        case AcademyStatEnum.RB_FULLBACK:
        case AcademyStatEnum.RB_FALSEBACK:
        case AcademyStatEnum.RB_WINGBACK:
        case AcademyStatEnum.RB_OFFENSIVE_WINGBACK:
            return PlayerPosition.RB;
        case AcademyStatEnum.LB_FULLBACK:
        case AcademyStatEnum.LB_FALSEBACK:
        case AcademyStatEnum.LB_WINGBACK:
        case AcademyStatEnum.LB_OFFENSIVE_WINGBACK:
            return PlayerPosition.LB;
        case AcademyStatEnum.CB_DEFENDER:
        case AcademyStatEnum.CB_STOPPER:
        case AcademyStatEnum.CB_BALL_PLAYING_DEFENDER:
            return PlayerPosition.CB;
        case AcademyStatEnum.CDM_HOLDING:
        case AcademyStatEnum.CDM_CENTRE_HALF:
        case AcademyStatEnum.CDM_DEEP_LYING_PLAYMAKER:
        case AcademyStatEnum.CDM_WIDE_HALF:
            return PlayerPosition.CDM;
        case AcademyStatEnum.CM_BOX_TO_BOX:
        case AcademyStatEnum.CM_HOLDING:
        case AcademyStatEnum.CM_DEEP_LYING_PLAYMAKER:
        case AcademyStatEnum.CM_PLAYMAKER:
        case AcademyStatEnum.CM_HALF_WINGER:
            return PlayerPosition.CM;
        case AcademyStatEnum.RM_WINGER:
        case AcademyStatEnum.RM_WIDE_MIDFIELDER:
        case AcademyStatEnum.RM_WIDE_PLAYMAKER:
        case AcademyStatEnum.RM_INSIDE_FORWARD:
            return PlayerPosition.RM;
        case AcademyStatEnum.LM_WINGER:
        case AcademyStatEnum.LM_WIDE_MIDFIELDER:
        case AcademyStatEnum.LM_WIDE_PLAYMAKER:
        case AcademyStatEnum.LM_INSIDE_FORWARD:
            return PlayerPosition.LM;
        case AcademyStatEnum.CAM_PLAYMAKER:
        case AcademyStatEnum.CAM_SHADOW_STRIKER:
        case AcademyStatEnum.CAM_HALF_WINGER:
        case AcademyStatEnum.CAM_CLASSIC10:
            return PlayerPosition.CAM;
        case AcademyStatEnum.RW_WINGER:
        case AcademyStatEnum.RW_INSIDE_FORWARD:
        case AcademyStatEnum.RW_WIDE_PLAYMAKER:
            return PlayerPosition.RW;
        case AcademyStatEnum.LW_WINGER:
        case AcademyStatEnum.LW_INSIDE_FORWARD:
        case AcademyStatEnum.LW_WIDE_PLAYMAKER:
            return PlayerPosition.LW;
        case AcademyStatEnum.ST_ADVANCE_FORWARD:
        case AcademyStatEnum.ST_POACHER:
        case AcademyStatEnum.ST_FALSE_9:
        case AcademyStatEnum.ST_TARGET_FORWARD:
            return PlayerPosition.ST;
        default:
            return DebugUtils.Assert(!1, "UTAcademyUtils.getPlayerPositionFromAcademyStateEnum: Unrecognised academy stat enum " + t),
            PlayerPosition.GK
        }
    }
    ,
    UTAcademyUtils.getPlayerRoleFromAcademyStatEnum = function(t) {
        switch (t) {
        case AcademyStatEnum.GK_GOALKEEPER:
            return TacticPlayerRole.GOALKEEPER;
        case AcademyStatEnum.GK_SWEEPER_KEEPER:
            return TacticPlayerRole.SWEEPER_KEEPER;
        case AcademyStatEnum.RB_FULLBACK:
            return TacticPlayerRole.FULLBACK;
        case AcademyStatEnum.RB_FALSEBACK:
            return TacticPlayerRole.FALSEBACK;
        case AcademyStatEnum.RB_WINGBACK:
            return TacticPlayerRole.WINGBACK;
        case AcademyStatEnum.RB_OFFENSIVE_WINGBACK:
            return TacticPlayerRole.OFFENSIVE_WINGBACK;
        case AcademyStatEnum.LB_FULLBACK:
            return TacticPlayerRole.FULLBACK;
        case AcademyStatEnum.LB_FALSEBACK:
            return TacticPlayerRole.FALSEBACK;
        case AcademyStatEnum.LB_WINGBACK:
            return TacticPlayerRole.WINGBACK;
        case AcademyStatEnum.LB_OFFENSIVE_WINGBACK:
            return TacticPlayerRole.OFFENSIVE_WINGBACK;
        case AcademyStatEnum.CB_DEFENDER:
            return TacticPlayerRole.DEFENDER;
        case AcademyStatEnum.CB_STOPPER:
            return TacticPlayerRole.STOPPER;
        case AcademyStatEnum.CB_BALL_PLAYING_DEFENDER:
            return TacticPlayerRole.BALL_PLAYING_DEFENDER;
        case AcademyStatEnum.CDM_HOLDING:
            return TacticPlayerRole.HOLDING;
        case AcademyStatEnum.CDM_CENTRE_HALF:
            return TacticPlayerRole.CENTRE_HALF;
        case AcademyStatEnum.CDM_DEEP_LYING_PLAYMAKER:
            return TacticPlayerRole.DEEP_LYING_PLAYMAKER;
        case AcademyStatEnum.CDM_WIDE_HALF:
            return TacticPlayerRole.WIDE_HALF;
        case AcademyStatEnum.CM_BOX_TO_BOX:
            return TacticPlayerRole.BOX_TO_BOX;
        case AcademyStatEnum.CM_HOLDING:
            return TacticPlayerRole.HOLDING;
        case AcademyStatEnum.CM_DEEP_LYING_PLAYMAKER:
            return TacticPlayerRole.DEEP_LYING_PLAYMAKER;
        case AcademyStatEnum.CM_PLAYMAKER:
            return TacticPlayerRole.PLAYMAKER;
        case AcademyStatEnum.CM_HALF_WINGER:
            return TacticPlayerRole.HALF_WINGER;
        case AcademyStatEnum.RM_WINGER:
            return TacticPlayerRole.WINGER;
        case AcademyStatEnum.RM_WIDE_MIDFIELDER:
            return TacticPlayerRole.WIDE_MIDFIELDER;
        case AcademyStatEnum.RM_WIDE_PLAYMAKER:
            return TacticPlayerRole.WIDE_PLAYMAKER;
        case AcademyStatEnum.RM_INSIDE_FORWARD:
            return TacticPlayerRole.INSIDE_FORWARD;
        case AcademyStatEnum.LM_WINGER:
            return TacticPlayerRole.WINGER;
        case AcademyStatEnum.LM_WIDE_MIDFIELDER:
            return TacticPlayerRole.WIDE_MIDFIELDER;
        case AcademyStatEnum.LM_WIDE_PLAYMAKER:
            return TacticPlayerRole.WIDE_PLAYMAKER;
        case AcademyStatEnum.LM_INSIDE_FORWARD:
            return TacticPlayerRole.INSIDE_FORWARD;
        case AcademyStatEnum.CAM_PLAYMAKER:
            return TacticPlayerRole.PLAYMAKER;
        case AcademyStatEnum.CAM_SHADOW_STRIKER:
            return TacticPlayerRole.SHADOW_STRIKER;
        case AcademyStatEnum.CAM_HALF_WINGER:
            return TacticPlayerRole.HALF_WINGER;
        case AcademyStatEnum.CAM_CLASSIC10:
            return TacticPlayerRole.CLASSIC10;
        case AcademyStatEnum.RW_WINGER:
            return TacticPlayerRole.WINGER;
        case AcademyStatEnum.RW_INSIDE_FORWARD:
            return TacticPlayerRole.INSIDE_FORWARD;
        case AcademyStatEnum.RW_WIDE_PLAYMAKER:
            return TacticPlayerRole.WIDE_PLAYMAKER;
        case AcademyStatEnum.LW_WINGER:
            return TacticPlayerRole.WINGER;
        case AcademyStatEnum.LW_INSIDE_FORWARD:
            return TacticPlayerRole.INSIDE_FORWARD;
        case AcademyStatEnum.LW_WIDE_PLAYMAKER:
            return TacticPlayerRole.WIDE_PLAYMAKER;
        case AcademyStatEnum.ST_ADVANCE_FORWARD:
            return TacticPlayerRole.ADVANCE_FORWARD;
        case AcademyStatEnum.ST_POACHER:
            return TacticPlayerRole.POACHER;
        case AcademyStatEnum.ST_FALSE_9:
            return TacticPlayerRole.FALSE9;
        case AcademyStatEnum.ST_TARGET_FORWARD:
            return TacticPlayerRole.TARGET_FORWARD;
        default:
            return DebugUtils.Assert(!1, "UTAcademyUtils.getPlayerRoleByAcademyStatEnum: Unrecognised academy stat enum"),
            TacticPlayerRole.INVALID
        }
    }
    ,
    UTAcademyUtils.getPlayerFinalStatValue = function(t, e) {
        var i, r, o;
        return !(null == t ? void 0 : t.isValid()) || e.isRarity() ? -1 : e.isPositionBonus() ? t.possiblePositions.length : e.isTraitBonus() ? 1 < e.value ? t.getNumPlusPlayStyles() : t.getNumBasicPlayStyles() : e.isOVR() ? t.rating : e.isSkillBonus() ? t.getSkillMoves() : e.isAttributeBonus() ? null !== (i = t.getAttribute(UTAcademyUtils.getPlayerAttributeByAcademyEnum(e.type))) && void 0 !== i ? i : -1 : e.isSubAttributeBonus() ? null !== (o = null === (r = t.getSubAttribute(UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(e.type))) || void 0 === r ? void 0 : r.value()) && void 0 !== o ? o : -1 : e.isWeakFoot() ? t.getWeakFoot() : -1
    }
    ,
    UTAcademyUtils
}()
  , UTItemAcademyStatEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemAcademyStatEntity(t) {
        var n = e.call(this) || this;
        return n.activeInAcademy = !1,
        n.activeInTimedEvo = !1,
        n.enrolledInAcademy = !1,
        n._attributes = [],
        n._baseTraits = [],
        n._iconTraits = [],
        n._positions = [],
        n._subAttributes = [],
        n._plusRoles = [],
        n._plusPlusRoles = [],
        n._customLayers = [],
        t.map(function(t) {
            if (t.id === AcademyStatEnum.NICKNAME)
                DebugUtils.Assert(!1, "Unexpected AcademyStatEnum.NICKNAME");
            else if (t.id === AcademyStatEnum.ACTIVE_IN_ACADEMY)
                n.activeInAcademy = Boolean(t.totalBonus);
            else if (t.id === AcademyStatEnum.LOCKED_IN_ACADEMY)
                n.activeInTimedEvo = Boolean(t.totalBonus);
            else if (t.id === AcademyStatEnum.ENROLLED_IN_ACADEMY)
                n.enrolledInAcademy = Boolean(t.totalBonus);
            else if (t.id === AcademyStatEnum.RARITY)
                n._rarity = t.totalBonus;
            else if (t.id === AcademyStatEnum.OVR)
                n._rating = t.totalBonus;
            else if (t.id === AcademyStatEnum.SKILL_MOVES)
                n._skillMoves = t.totalBonus;
            else if (t.id >= AcademyStatEnum.PACE && t.id <= AcademyStatEnum.PHYSICALITY)
                n._attributes.push(new UTPlayerAttributeVO(UTAcademyUtils.getPlayerAttributeByAcademyEnum(t.id),t.totalBonus));
            else if (t.id >= AcademyStatEnum.ACCELERATION && t.id <= AcademyStatEnum.PENALTIES)
                n._subAttributes.push(new UTPlayerSubAttributeVO(UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(t.id),t.totalBonus));
            else if (t.id >= AcademyStatEnum.CB && t.id <= AcademyStatEnum.CF)
                n._positions.push(t.id);
            else if (t.id >= AcademyStatEnum.FINISHING_FINESSE_SHOT && t.id <= AcademyStatEnum.FINISHING_LOW_DRIVEN_SHOT) {
                if (t.totalBonus === AcademyTraitEnum.BASE) {
                    var e = UTAcademyUtils.getTraitByAcademyEnum(t.id);
                    n._baseTraits.push(new UTTraitVO(e,!1))
                } else if (t.totalBonus === AcademyTraitEnum.ICON) {
                    e = UTAcademyUtils.getTraitByAcademyEnum(t.id);
                    n._iconTraits.push(new UTTraitVO(e,!0))
                }
            } else
                t.id === AcademyStatEnum.WEAK_FOOT && (n._weakFoot = t.totalBonus);
            if (t.id >= AcademyStatEnum.GK_GOALKEEPER && t.id <= AcademyStatEnum.ST_TARGET_FORWARD) {
                var i = UTAcademyUtils.getPlayerRoleFromAcademyStatEnum(t.id)
                  , r = UTAcademyUtils.getPlayerPositionFromAcademyStateEnum(t.id)
                  , o = new UTPlayerRoleVO(r);
                o.role = i,
                t.totalBonus === AcademyTacticRoleBonusValue.PLUS ? n.plusRoles.push(o) : t.totalBonus === AcademyTacticRoleBonusValue.PLUS_PLUS && n.plusPlusRoles.push(o)
            } else
                t.id === AcademyStatEnum.COSMETIC_UPGRADE && t.stringValue && (n._customLayers = UTItemAcademyStatEntity.stringToLayers(t.stringValue))
        }),
        n
    }
    return __extends(UTItemAcademyStatEntity, e),
    UTItemAcademyStatEntity.prototype.applyAcademyAward = function(t, e) {
        var i, r, o = this;
        if (e.isRarity())
            this._rarity = e.value;
        else if (e.isOVR()) {
            var n = t.rating;
            this._rating = Math.min(Math.max(n + e.value, 0), 99)
        } else if (e.isSkillBonus()) {
            n = t.getSkillMoves();
            this._skillMoves = Math.min(Math.max(n + e.value, 0), 4)
        } else if (e.isAttributeBonus()) {
            n = t.getAttribute(UTAcademyUtils.getPlayerAttributeByAcademyEnum(e.type));
            (a = this._attributes.find(function(t) {
                return t.type === UTAcademyUtils.getPlayerAttributeByAcademyEnum(e.type)
            })) ? this._attributes[this._attributes.indexOf(a)] = new UTPlayerAttributeVO(UTAcademyUtils.getPlayerAttributeByAcademyEnum(e.type),Math.min(Math.max(n + e.value, 0), 99)) : this._attributes.push(new UTPlayerAttributeVO(UTAcademyUtils.getPlayerAttributeByAcademyEnum(e.type),Math.min(Math.max(n + e.value, 0), 99)))
        } else if (e.isSubAttributeBonus()) {
            var a;
            n = null !== (r = null === (i = t.getSubAttributes().find(function(t) {
                return t.type === UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(e.type)
            })) || void 0 === i ? void 0 : i.value()) && void 0 !== r ? r : 0;
            (a = this._subAttributes.find(function(t) {
                return t.type === UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(e.type)
            })) ? this._subAttributes[this._subAttributes.indexOf(a)] = new UTPlayerSubAttributeVO(UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(e.type),Math.min(Math.max(n + e.value, 0), 99)) : this._subAttributes.push(new UTPlayerSubAttributeVO(UTAcademyUtils.getPlayerSubAttributeByAcademyEnum(e.type),Math.min(Math.max(n + e.value, 0), 99)))
        } else if (e.isPositionBonus())
            this._positions.push(e.type);
        else if (e.isTraitBonus()) {
            if (e.value === AcademyTraitEnum.BASE) {
                var s = UTAcademyUtils.getTraitByAcademyEnum(e.type);
                this._baseTraits.push(new UTTraitVO(s,!1))
            } else if (e.value === AcademyTraitEnum.ICON) {
                s = UTAcademyUtils.getTraitByAcademyEnum(e.type);
                this._iconTraits.push(new UTTraitVO(s,!0))
            }
        } else if (e.isWeakFoot()) {
            n = t.getWeakFoot();
            this._weakFoot = Math.min(Math.max(n + e.value, 0), 100)
        } else
            e.type === AcademyStatEnum.COSMETIC_UPGRADE && e.customLayers.map(function(t) {
                return o._customLayers.push(t)
            })
    }
    ,
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "plusRoles", {
        get: function() {
            return this._plusRoles
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "plusPlusRoles", {
        get: function() {
            return this._plusPlusRoles
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "skillMoves", {
        get: function() {
            return this._skillMoves
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "rating", {
        get: function() {
            return this._rating
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "rarity", {
        get: function() {
            return this._rarity
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "weakfoot", {
        get: function() {
            return this._weakFoot
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemAcademyStatEntity.prototype, "customLayers", {
        get: function() {
            return this._customLayers
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemAcademyStatEntity.prototype.getPossiblePositionBonus = function() {
        var t = [];
        this._positions.includes(AcademyStatEnum.CB) && t.push("CB"),
        this._positions.includes(AcademyStatEnum.RB) && t.push("RB"),
        this._positions.includes(AcademyStatEnum.RWB) && t.push("RWB"),
        this._positions.includes(AcademyStatEnum.LB) && t.push("LB"),
        this._positions.includes(AcademyStatEnum.LWB) && t.push("LWB"),
        this._positions.includes(AcademyStatEnum.CDM) && t.push("CDM"),
        this._positions.includes(AcademyStatEnum.CM) && t.push("CM"),
        this._positions.includes(AcademyStatEnum.CAM) && t.push("CAM"),
        this._positions.includes(AcademyStatEnum.LM) && t.push("LM"),
        this._positions.includes(AcademyStatEnum.RM) && t.push("RM"),
        this._positions.includes(AcademyStatEnum.LW) && t.push("LW"),
        this._positions.includes(AcademyStatEnum.RW) && t.push("RW"),
        this._positions.includes(AcademyStatEnum.ST) && t.push("ST"),
        this._positions.includes(AcademyStatEnum.CF) && t.push("CF");
        var i = [];
        return t.map(function(t) {
            var e = repositories.Squad.getPositionByUniqueName(t);
            e && i.push(e.id)
        }),
        i
    }
    ,
    UTItemAcademyStatEntity.prototype.getBaseTraitById = function(e) {
        var t;
        return null !== (t = this._baseTraits.find(function(t) {
            return t.traitId === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTItemAcademyStatEntity.prototype.getBasicPlayStyles = function() {
        return this._baseTraits
    }
    ,
    UTItemAcademyStatEntity.prototype.getIconTraitById = function(e) {
        var t;
        return null !== (t = this._iconTraits.find(function(t) {
            return t.traitId === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTItemAcademyStatEntity.prototype.getPlusPlayStyles = function() {
        return this._iconTraits
    }
    ,
    UTItemAcademyStatEntity.prototype.getAttributeByPlayerAttribute = function(t) {
        for (var e = this._attributes.length - 1; 0 <= e; e--)
            if (this._attributes[e].type === t)
                return this._attributes[e].value()
    }
    ,
    UTItemAcademyStatEntity.prototype.getSubAttributeOverride = function(e) {
        var t;
        return null !== (t = this._subAttributes.find(function(t) {
            return t.type === e
        })) && void 0 !== t ? t : null
    }
    ,
    UTItemAcademyStatEntity.stringToLayers = function(t) {
        var s = [];
        return t.split("|").forEach(function(t) {
            var e = t.split(":")
              , i = e[0]
              , r = e[1]
              , o = e[2]
              , n = JSUtils.isString(r)
              , a = JSUtils.isString(o);
            DebugUtils.Assert(n, "Missing GUID in string: " + t),
            DebugUtils.Assert(a, "Missing asset ID in string: " + t),
            n && a && s.push(new UTItemCosmeticLayerVO({
                type: Number(i),
                guid: r,
                assetId: o
            }))
        }),
        s
    }
    ,
    UTItemAcademyStatEntity
}(EAObject))
  , UTKeyAttributeRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTKeyAttributeRepository() {
        var t = e.call(this) || this;
        return t.expiryTimestamp = 0,
        t.unsavedTimeSpent = 0,
        t.keyAttributes = new EAHashTable,
        t
    }
    return __extends(UTKeyAttributeRepository, e),
    UTKeyAttributeRepository.prototype.reset = function() {
        this.expiryTimestamp = 0,
        this.unsavedTimeSpent = 0,
        this.keyAttributes.clear()
    }
    ,
    UTKeyAttributeRepository.prototype.values = function() {
        return this.keyAttributes.values()
    }
    ,
    UTKeyAttributeRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTKeyAttributeRepository.prototype.getKeyAttributes = function(t) {
        return this.keyAttributes.get(t)
    }
    ,
    UTKeyAttributeRepository.prototype.add = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.setAttributes(t.getKey(), t)
        })
    }
    ,
    UTKeyAttributeRepository.prototype.setAttributes = function(t, e) {
        this.keyAttributes.set(t, e)
    }
    ,
    UTKeyAttributeRepository.prototype.setCacheTimestamp = function(t, e) {
        this.expiryTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 6e5)
    }
    ,
    UTKeyAttributeRepository
}(EAHashTable));
NamespaceManager.Register("repositories"),
repositories.KeyAttributes = new UTKeyAttributeRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemEntityFactory = function(e) {
    function UTItemEntityFactory() {
        var t = e.call(this) || this;
        return t.auctionFactory = new UTAuctionEntityFactory,
        t
    }
    return __extends(UTItemEntityFactory, e),
    UTItemEntityFactory.prototype.generateTifoTeamId = function(t) {
        return t - 7e6
    }
    ,
    UTItemEntityFactory.prototype.generateSubtype = function(t) {
        switch (t) {
        case ItemType.PLAYER:
            return ItemSubType.PLAYER;
        case ItemType.MANAGER:
            return ItemSubType.MANAGER
        }
        return DebugUtils.Assert(!1, "Unsupported item type for generating sub types: " + t),
        ItemSubType.NONE
    }
    ,
    UTItemEntityFactory.prototype.convertCardAssetIdToItemType = function(t) {
        switch (t) {
        case ItemCardAssetId.HEALING:
            return ItemType.HEALTH;
        case ItemCardAssetId.MANAGER_LEAGUE:
        case ItemCardAssetId.PLAYSTYLE_GK:
        case ItemCardAssetId.PLAYSTYLE_PLAYER:
        case ItemCardAssetId.POSITION_MODIFIER:
            return ItemType.TRAINING
        }
        return DebugUtils.Assert(!1, "Unknown cardassetid: " + t),
        ItemType.NONE
    }
    ,
    UTItemEntityFactory.prototype.normalizePayload = function(t, e) {
        if (void 0 === e && (e = !0),
        JSUtils.isNumber(t.rareFlag) && (t.rareflag = t.rareFlag,
        delete t.rareFlag),
        JSUtils.isNumber(t.teamid) && (t.teamId = t.teamid,
        delete t.teamid),
        !JSUtils.isBoolean(e) || e) {
            if (t.teamId && (!JSUtils.isNumber(t.leagueId) || t.leagueId <= 0)) {
                var i = repositories.TeamConfig.getTeam(t.teamId);
                t.leagueId = i ? i.league : -1
            }
            if (t.leagueId && (!JSUtils.isNumber(t.nation) || t.nation <= 0)) {
                var r = repositories.TeamConfig.getLeague(t.leagueId);
                t.nation = r ? r.nation : -1
            }
        }
        return t
    }
    ,
    UTItemEntityFactory.prototype.generateItemConstructorOptions = function(t) {
        var e, i, r, o, n, a = {};
        if (a.id = t.id,
        a.definitionId = t.resourceId,
        a.type = t.itemType,
        a.assetId = t.cardassetid,
        a.subtype = t.cardsubtypeid || this.generateSubtype(t.itemType),
        a.untradeable = t.untradeable,
        a.lastSalePrice = t.lastSalePrice,
        a.discardValue = t.discardValue,
        a.state = t.itemState,
        a.pile = t.pile,
        a.amount = t.amount,
        a.rating = JSUtils.isString(t.rating) ? parseInt(t.rating, 10) : t.rating,
        a.teamId = t.teamId || 0,
        a.leagueId = t.leagueId || 0,
        a.nationId = t.nation || 0,
        a.rareflag = t.rareflag,
        a.groups = t.groups,
        a.owners = t.owners,
        a.timestamp = t.timestamp,
        a.guidAssetId = t.guidAssetId,
        a.rankId = t.rankId,
        a.startTime = t.startTime,
        a.endTime = t.endTime,
        a.marketAverage = t.marketAverage,
        a.playStyles = [],
        t.baseTraits) {
            var s = t.baseTraits.map(function(t) {
                return new UTTraitVO(t,!1)
            });
            a.playStyles = a.playStyles.concat(s)
        }
        if (t.iconTraitsPriorities) {
            var l = Object.entries(t.iconTraitsPriorities).map(function(t) {
                var e = t[0]
                  , i = t[1];
                return {
                    priority: Number(i),
                    trait: e
                }
            }).sort(function(t, e) {
                return t.priority - e.priority
            }).map(function(t) {
                var e = t.trait;
                return new UTTraitVO(Number(e),!0)
            });
            a.playStyles = a.playStyles.concat(l)
        } else if (t.iconTraits) {
            s = t.iconTraits.map(function(t) {
                return new UTTraitVO(t,!0)
            });
            a.playStyles = a.playStyles.concat(s)
        }
        if (a.discardable = JSUtils.isBoolean(t.undiscardable) ? !t.undiscardable : t.itemType !== ItemType.MISC,
        (a.type === ItemType.KIT || a.type === ItemType.BADGE) && a.nationId < 1 && (a.nationId = 75),
        a.type === ItemType.STADIUM ? (a.ballRestricted = t.ballRestricted,
        a.bannerRestricted = t.bannerRestricted,
        a.tifoRestricted = t.tifoRestricted,
        t.tifoSupportType !== TifoSupportType.PLAYER && t.tifoSupportType !== TifoSupportType.BOTH && (a.tifoRestricted = !0)) : a.type === ItemType.VANITY && (a.authenticity = t.authenticity,
        t.authenticity && (a.subtype === ItemSubType.VANITY_TIFO_BASE ? a.teamId = this.generateTifoTeamId(t.resourceId) : a.subtype === ItemSubType.VANITY_STADIUM_THEME && (a.teamId = t.assetId))),
        a.stackCount = 1,
        a.untradeableCount = a.untradeable ? 1 : 0,
        a.type === ItemType.PLAYER || a.type === ItemType.MANAGER)
            if (a.concept = t.dream,
            a.gender = t.gender,
            a.lifetimeStats = t.lifetimeStatsArray,
            a.stats = t.statsArray,
            t.loansInfo && JSUtils.isString(t.loansInfo.loanType)) {
                var c = t.loansInfo.loanType
                  , u = JSUtils.isNumber(t.contract)
                  , p = "MATCH_LOAN" === c && u ? t.contract : t.loansInfo.loanValue;
                a.loansInfo = {
                    type: LimitedUseType[c],
                    value: p
                }
            } else
                JSUtils.isNumber(t.loans) && 0 < t.loans && (a.loans = null !== (e = t.contract) && void 0 !== e ? e : t.loans);
        if (a.type === ItemType.PLAYER) {
            if (a.concept) {
                var d = services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SQUAD_CONCEPT_LOYALTY_BONUS_ENABLED);
                a.loyaltyBonus = d ? 1 : 0
            } else
                a.loyaltyBonus = t.loyaltyBonus;
            a.injuryType = t.injuryType,
            a.injuryGames = t.injuryGames;
            var h = repositories.Squad.getPositionByUniqueName(t.preferredPosition);
            a.preferredPosition = null !== (i = null == h ? void 0 : h.id) && void 0 !== i ? i : 0,
            a.possiblePositions = null === (r = t.possiblePositions) || void 0 === r ? void 0 : r.map(function(t) {
                var e, i;
                return null !== (i = null === (e = repositories.Squad.getPositionByUniqueName(t)) || void 0 === e ? void 0 : e.id) && void 0 !== i ? i : 0
            }),
            t.plusRoles ? a.plusRoles = t.plusRoles.map(function(t) {
                var e = UTPlayerRoleVO.getPlayerPositionByUtasRole(t)
                  , i = UTPlayerRoleVO.mapUtasRoleToPlayerRole(t)
                  , r = new UTPlayerRoleVO(e);
                return r.role = i,
                r
            }) : a.plusRoles = [],
            t.plusPlusRoles ? a.plusPlusRoles = t.plusPlusRoles.map(function(t) {
                var e = UTPlayerRoleVO.getPlayerPositionByUtasRole(t)
                  , i = UTPlayerRoleVO.mapUtasRoleToPlayerRole(t)
                  , r = new UTPlayerRoleVO(e);
                return r.role = i,
                r
            }) : a.plusPlusRoles = [];
            var y = t.preferredPosition === PlayerPosition[PlayerPosition.GK];
            if (a.chemStyle = t.playStyle || (y ? ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_5 : DEFAULT_PLAYSTYLE_ID),
            a.attributes = t.attributeArray,
            a.teamId === UTItemEntity.LEGENDS_CLUB_ID || a.leagueId === UTItemEntity.LEGENDS_LEAGUE_ID) {
                var _ = repositories.PlayerIcon.get(a.definitionId & ItemIdMask.DATABASE);
                _ && (a.iconId = _.iconId)
            }
            a.skillMoves = t.skillmoves,
            a.weakFoot = t.weakfootabilitytypecode,
            a.preferredFoot = t.preferredfoot;
            var m = repositories.PlayerMeta.get(a.definitionId & ItemIdMask.DATABASE);
            if (m) {
                var T = [];
                if (a.metaData = m,
                a.guidAssetId && repositories.KeyAttributes.getKeyAttributes(a.guidAssetId))
                    if ((T = null === (o = repositories.KeyAttributes.getKeyAttributes(a.guidAssetId)) || void 0 === o ? void 0 : o.keyAttributes) && 0 < T.length) {
                        var f = a.metaData.attributes.filter(function(t) {
                            return !(null == T ? void 0 : T.includes(t.type))
                        }).sort(function(t, e) {
                            return e.value() - t.value()
                        })
                          , g = [];
                        T.forEach(function(t) {
                            m.attributes[t] ? g.push(new UTPlayerSubAttributeVO(t,m.attributes[t].rating,!0)) : t === ItemSubAttribute.weakfoot ? g.push(new UTPlayerSubAttributeVO(t,m.weakFoot,!0)) : t === ItemSubAttribute.skillmove && g.push(new UTPlayerSubAttributeVO(t,m.skillMoves,!0))
                        }),
                        a.keyAttributes = g.concat(f).slice(0, 5)
                    } else
                        a.keyAttributes = this.defaultSubAttributes(T, a.preferredPosition, m);
                else if ((T = null === (n = repositories.KeyAttributes.getKeyAttributes(a.preferredPosition.toString())) || void 0 === n ? void 0 : n.keyAttributes) && 0 < T.length) {
                    f = T.map(function(t) {
                        return new UTPlayerSubAttributeVO(t,m.attributes[t].rating)
                    });
                    a.keyAttributes = f
                }
            }
            t.academyAttributes && (a.academyAttributes = new UTItemAcademyStatEntity(t.academyAttributes)),
            JSUtils.isString(t.cosmetics) && (a.cosmetics = UTItemAcademyStatEntity.stringToLayers(t.cosmetics))
        }
        return JSUtils.isNumber(t.marketDataMinPrice) && JSUtils.isNumber(t.marketDataMaxPrice) && (a.itemPriceLimits = new UTValueBandVO(t.marketDataMinPrice,t.marketDataMaxPrice)),
        a
    }
    ,
    UTItemEntityFactory.prototype.generateConsumableItemConstructorOptions = function(t) {
        DebugUtils.Assert(JSUtils.isValid(t.item), "Expected item data to exist in consumable item data payload.");
        var e = t.item ? this.generateItemConstructorOptions(t.item) : {};
        return e.discardValue = t.discardValue,
        e.stackCount = t.count,
        e.definitionId = t.resourceId,
        e.untradeableCount = t.untradeableCount,
        e.untradeable = 0 < e.untradeableCount && e.stackCount <= e.untradeableCount,
        e
    }
    ,
    UTItemEntityFactory.prototype.createItem = function(t) {
        var e;
        if (!t)
            return new UTNullItemEntity;
        if (t.itemType || (t.itemType = t.cardassetid ? this.convertCardAssetIdToItemType(t.cardassetid) : ItemType.PLAYER),
        t.itemType === ItemType.MANAGER && t.presets) {
            var i = t.presets[0];
            "any" === i.formation && i && (i.formation = null !== (e = t.formation) && void 0 !== e ? e : DEFAULT_FORMATION);
            var r = factories.Squad.createTacticPreset(t.id, i);
            r && repositories.Squad.setTacticsManagerProfile(t.id, r)
        }
        if ((t = this.normalizePayload(t)).itemType === ItemType.PLAYER) {
            var o = repositories.Item.getStaticDataByDefId(t.resourceId & ItemIdMask.DATABASE);
            o && (t.firstName = o.firstName,
            t.lastName = o.lastName,
            t.knownAs = o.commonName || BLANK_STR)
        }
        var n = new UTItemEntity(this.generateItemConstructorOptions(t));
        n.getStaticData().parseDynamicItemData(n, t);
        var a = services.Configuration.getItemRarity(n);
        return a && (n.hasLevels = a.levels),
        n
    }
    ,
    UTItemEntityFactory.prototype.createConsumable = function(t) {
        if (!t || !t.item)
            return new UTNullItemEntity;
        t.item.itemType || (t.item.itemType = t.item.cardassetid ? this.convertCardAssetIdToItemType(t.item.cardassetid) : ItemType.PLAYER),
        t.item = this.normalizePayload(t.item);
        var e = new UTItemEntity(this.generateConsumableItemConstructorOptions(t));
        e.getStaticData().parseDynamicItemData(e, t.item);
        var i = services.Configuration.getItemRarity(e);
        return i && (e.hasLevels = i.levels),
        e
    }
    ,
    UTItemEntityFactory.prototype.createVanityItem = function(t) {
        if (!t)
            return new UTNullItemEntity;
        var e = {
            assetId: t.assetId,
            authenticity: t.authenticity,
            id: t.id,
            rareflag: t.rareflag ? t.rareflag : 0,
            rating: t.rating ? t.rating : 0,
            definitionId: t.resourceId,
            subtype: t.cardSubTypeId,
            stackCount: 1,
            type: t.itemType,
            teamId: t.teamId ? t.teamId : 0
        };
        e.type === ItemType.VANITY && (e.authenticity = t.authenticity,
        t.authenticity && (e.subtype === ItemSubType.VANITY_TIFO_BASE ? e.teamId = this.generateTifoTeamId(t.resourceId) : e.subtype === ItemSubType.VANITY_STADIUM_THEME && (e.teamId = t.assetId)));
        var i = new UTItemEntity(e);
        i.getStaticData().parseDynamicItemData(i, t);
        var r = services.Configuration.getItemRarity(i);
        return r && (i.hasLevels = r.levels),
        i
    }
    ,
    UTItemEntityFactory.prototype.createCustomBrickItem = function(t) {
        return t ? (t = this.normalizePayload(t, !1),
        new UTCustomBrickItemEntity(this.generateItemConstructorOptions(t))) : new UTNullItemEntity
    }
    ,
    UTItemEntityFactory.prototype.generateItemsFromItemData = function(t, r) {
        var o = this;
        return t.map(function(t) {
            var e = function(t) {
                return JSUtils.isValid(t.count)
            }(t) ? o.createConsumable(t) : o.createItem(t);
            if (r) {
                var i = JSUtils.find(r, function(t) {
                    return t.itemId === e.id
                });
                i && (e.duplicateId = i.duplicateItemId,
                i.duplicateItemLoans && (e.duplicateItemLoans = i.duplicateItemLoans),
                JSUtils.isNumber(i.combinedEndTime) && (e.duplicateCombinedEndTime = i.combinedEndTime),
                JSUtils.isNumber(i.duplicateEndTime) && (e.duplicateEndTime = i.duplicateEndTime))
            }
            return e
        }, this)
    }
    ,
    UTItemEntityFactory.prototype.generateItemsFromAuctionData = function(t, o) {
        var n = this;
        return t.map(function(t) {
            var e = n.createItem(t.itemData)
              , i = n.auctionFactory.createFromUtasObject(t);
            if (e.setAuctionData(i),
            0 === e.id && (e.id = "Trade" + i.tradeId),
            !e.isConsumable() && o) {
                var r = JSUtils.find(o, function(t) {
                    return t.itemId === e.id
                });
                r && (e.duplicateId = r.duplicateItemId)
            }
            return e
        }, this)
    }
    ,
    UTItemEntityFactory.prototype.generateItemsFromDiscardData = function(t) {
        var i = this;
        return t.map(function(t) {
            var e = i.generateItemsFromItemData([t.itemData])[0];
            return e.discardDate = t.discardedDate,
            e.continuationId = t.key,
            e
        })
    }
    ,
    UTItemEntityFactory.prototype.defaultSubAttributes = function(t, e, i) {
        var r, o = [];
        if (t = null === (r = repositories.KeyAttributes.getKeyAttributes(e.toString())) || void 0 === r ? void 0 : r.keyAttributes)
            for (var n = 0; n < t.length; n++)
                o.push(new UTPlayerSubAttributeVO(t[n],i.attributes[t[n]].rating,!1));
        return o
    }
    ,
    UTItemEntityFactory
}(EAObject);
NamespaceManager.Register("factories"),
factories.Item = new UTItemEntityFactory;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTRewardSetEntity = function(i) {
    function UTRewardSetEntity(t) {
        var e = i.call(this) || this;
        return e.default = t.default,
        e.hidden = t.hidden,
        e.id = t.id,
        e.rewards = t.rewards,
        e
    }
    return __extends(UTRewardSetEntity, i),
    Object.defineProperty(UTRewardSetEntity.prototype, "awards", {
        get: function() {
            return this.rewards
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTRewardSetEntity.prototype, "count", {
        get: function() {
            return this.rewards.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTRewardSetEntity
}(EAObject)
  , UTRewardFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRewardFactory(t) {
        var e = i.call(this) || this;
        return e.itemFactory = t,
        e
    }
    return __extends(UTRewardFactory, i),
    UTRewardFactory.prototype.createRewardItem = function(t, e, i) {
        if (!t.loansInfo) {
            var r = JSUtils.isNumber(e) && JSUtils.isString(i) ? LimitedUseType[i] : LimitedUseType.NONE;
            if (JSUtils.isNumber(e) && JSUtils.isString(i))
                if (r === LimitedUseType.USER_TIME_LIMIT_LOAN) {
                    var o = Math.floor(Date.now() / MS_PER_SECOND) + e;
                    t.loansInfo = {
                        loanType: i,
                        loanValue: o
                    }
                } else
                    r !== LimitedUseType.MATCH_LOAN || JSUtils.isValid(t.contract) ? r !== LimitedUseType.NONE && (t.loansInfo = {
                        loanType: i,
                        loanValue: e
                    }) : (t.loansInfo = {
                        loanType: i,
                        loanValue: e
                    },
                    0 < e && (!JSUtils.isNumber(t.contract) || 0 === t.contract) && (t.contract = e))
        }
        var n = this.itemFactory.createItem(t);
        return n.playStyle = n.isGK() ? ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_5 : ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_1,
        n
    }
    ,
    UTRewardFactory.prototype.createRewardFromObjectiveData = function(t) {
        var e = {
            assetId: JSUtils.isNumber(t.assetId) ? t.assetId : t.halId,
            count: t.count,
            tradable: !t.untradeable,
            type: t.awardType,
            value: t.value
        };
        return t.itemDataReduced ? e.item = this.createRewardItem(t.itemDataReduced) : t.itemData && (e.item = this.createRewardItem(t.itemData)),
        t.nameLoc && (e.halId = t.nameLoc),
        new UTRewardVO(e)
    }
    ,
    UTRewardFactory.prototype.createRewardFromLoyaltyData = function(t) {
        var e = RewardType.ITEM;
        switch (t.rewardType) {
        case LoyaltyRewardType.PACKS:
            e = RewardType.PACK;
            break;
        case LoyaltyRewardType.COINS:
            e = RewardType.COIN;
            break;
        case LoyaltyRewardType.ITEMS:
            e = RewardType.ITEM;
            break;
        default:
            DebugUtils.Assert(!1, "Unsupported loyalty reward type.")
        }
        var i = {
            assetId: t.halId,
            count: t.rewardQuantity,
            tradable: !0,
            type: e,
            value: t.rewardValue
        };
        return t.itemData && (i.item = this.createRewardItem(t.itemData)),
        new UTRewardVO(i)
    }
    ,
    UTRewardFactory.prototype.createRewardFromSbcData = function(t) {
        var e = {
            assetId: t.halId,
            count: t.count,
            tradable: !t.isUntradeable,
            type: t.type,
            value: t.value
        };
        return JSUtils.isNumber(t.loan) && !JSUtils.isString(t.loanType) && (t.loanType = "MATCH_LOAN"),
        t.itemData && (e.item = this.createRewardItem(t.itemData, t.loan, t.loanType)),
        new UTRewardVO(e)
    }
    ,
    UTRewardFactory.prototype.createRewardFromRewardData = function(t) {
        var e = 0;
        t.assetId ? e = t.assetId : t.halId && (e = t.halId);
        var i = 0;
        JSUtils.isNumber(t.awardValue) ? i = t.awardValue : JSUtils.isNumber(t.value) && (i = t.value),
        JSUtils.isNumber(t.loan) && !JSUtils.isString(t.loanType) && (t.loanType = "MATCH_LOAN");
        var r = {
            assetId: e,
            count: JSUtils.isNumber(t.awardCount) ? t.awardCount : 1,
            tradable: !JSUtils.isBoolean(t.untradeable) || !t.untradeable,
            type: JSUtils.isString(t.awardType) ? t.awardType : RewardType.ITEM,
            value: i
        }
          , o = null;
        return t.itemData ? o = t.itemData : t.awardItemData ? o = t.awardItemData : t.itemDataReduced && (o = t.itemDataReduced),
        o && (r.item = this.createRewardItem(o, t.loan, t.loanType)),
        new UTRewardVO(r)
    }
    ,
    UTRewardFactory.prototype.createRewardFromPlayerPickData = function(t) {
        return new UTRewardVO({
            assetId: 0,
            count: 1,
            item: this.itemFactory.createItem(t),
            tradable: !t.untradeable,
            type: RewardType.ITEM,
            value: 0
        })
    }
    ,
    UTRewardFactory.prototype.createRewardSetFromRivalsData = function(t) {
        var e = this;
        return new UTRewardSetEntity({
            default: !1,
            hidden: !1,
            id: t.categoryId,
            rewards: t.awards.map(function(t) {
                return e.createRewardFromRewardData(t)
            })
        })
    }
    ,
    UTRewardFactory.prototype.createRewardSetFromChampionsData = function(t) {
        var e = this;
        return new UTRewardSetEntity({
            default: !1,
            hidden: !1,
            id: t.awardSetId,
            rewards: t.awards.map(function(t) {
                return e.createRewardFromRewardData(t)
            })
        })
    }
    ,
    UTRewardFactory.prototype.createRewardSetFromSquadBattlesData = function(t) {
        var e = this;
        return new UTRewardSetEntity({
            default: !1,
            hidden: !1,
            id: t.awardSetId,
            rewards: t.awards.map(function(t) {
                return e.createRewardFromRewardData(t)
            })
        })
    }
    ,
    UTRewardFactory.prototype.createRewardSetFromGameModesData = function(t) {
        var e = this;
        return new UTRewardSetEntity({
            default: !1,
            hidden: !1,
            id: t.awardSetId,
            rewards: t.awards.map(function(t) {
                return e.createRewardFromRewardData(t)
            })
        })
    }
    ,
    UTRewardFactory.prototype.createRewardSetFromRewards = function(t) {
        return new UTRewardSetEntity({
            default: !0,
            hidden: !1,
            id: 1,
            rewards: t
        })
    }
    ,
    UTRewardFactory
}(EAObject))
  , UTSquadBattlesEventTierEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadBattlesEventTierEntity(t) {
        var e = i.call(this) || this;
        return e.awardSetId = t.awardSetId,
        e.competitionId = t.competitionId,
        e.rewardSet = t.eventRewardSet,
        e.end = t.tierEnd,
        e.endPoints = t.tierEndValue,
        e.level = t.tierLevel,
        e.start = t.tierStart,
        e.previousTierStartPoints = t.previousTierStartPoints,
        e.startPoints = t.tierStartValue,
        e.type = t.tierType,
        e
    }
    return __extends(UTSquadBattlesEventTierEntity, i),
    UTSquadBattlesEventTierEntity
}(EAObject))
  , UTSquadBattlesEventEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadBattlesEventEntity(t) {
        var e, i = o.call(this) || this;
        if (i.currentTime = t.currentTime,
        i.endTime = t.endTime,
        i.gamesPlayed = t.gamesPlayed,
        i.id = t.sqbtEventId,
        i.isPrizeAvailable = t.isPrizeAvailable,
        i.maxRegularGames = t.maxRegularGames,
        i.rank = t.rank,
        i.score = t.score,
        i.startTime = t.startTime,
        i.prizeTiers = null !== (e = t.prizeTiers) && void 0 !== e ? e : [],
        -1 === t.userTierLevel && 0 < i.score && 0 === i.rank) {
            var r = -1;
            i.prizeTiers.filter(function(t) {
                return t.type === SquadBattlesTierType.POINT_TIERS
            }).forEach(function(t) {
                (-1 === r || r > t.level) && (r = t.level)
            }),
            i.userCurrentTierLevel = r
        } else
            i.userCurrentTierLevel = t.userTierLevel;
        return i
    }
    return __extends(UTSquadBattlesEventEntity, o),
    UTSquadBattlesEventEntity.prototype.isRanked = function() {
        return 0 < this.rank
    }
    ,
    UTSquadBattlesEventEntity.prototype.hasOutStandingRewards = function() {
        return this.isPrizeAvailable
    }
    ,
    UTSquadBattlesEventEntity.prototype.hasProgression = function() {
        return 0 <= this.userCurrentTierLevel || 0 < this.rank
    }
    ,
    UTSquadBattlesEventEntity
}(EAObject))
  , UTGameModesEventRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTGameModesEventRepository() {
        var t = e.call(this) || this;
        return t.currentEventCacheExpiration = 0,
        t
    }
    return __extends(UTGameModesEventRepository, e),
    UTGameModesEventRepository.prototype.reset = function() {
        this.currentEventCacheExpiration = 0
    }
    ,
    UTGameModesEventRepository.prototype.setDirty = function() {
        this.reset()
    }
    ,
    UTGameModesEventRepository.prototype.setCacheTimestamp = function(t, e) {
        var i = 6e5;
        JSUtils.isNumber(e) && (i = Math.max(Math.min(e * MS_PER_SECOND, i), 3e4)),
        this.currentEventCacheExpiration = t + i
    }
    ,
    UTGameModesEventRepository.prototype.isCacheExpired = function() {
        return this.currentEventCacheExpiration < Date.now()
    }
    ,
    UTGameModesEventRepository
}(EAObject))
  , UTChampionsEventRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTChampionsEventRepository() {
        var t = e.call(this) || this;
        return t.currentEvent = null,
        t
    }
    return __extends(UTChampionsEventRepository, e),
    UTChampionsEventRepository.prototype.reset = function() {
        this.currentEvent = null,
        e.prototype.reset.call(this)
    }
    ,
    UTChampionsEventRepository.prototype.setEvent = function(t) {
        this.currentEvent = t
    }
    ,
    UTChampionsEventRepository.prototype.getEvent = function() {
        return this.currentEvent
    }
    ,
    UTChampionsEventRepository
}(UTGameModesEventRepository));
NamespaceManager.Register("repositories"),
repositories.Champions = new UTChampionsEventRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTChampionsDAO = function(a) {
    function UTChampionsDAO(t, e, i, r) {
        var o = a.call(this) || this
          , n = new UTRewardFactory(new UTItemEntityFactory);
        return o.authDelegate = t,
        o.eventFactory = new UTChampionsEventEntityFactory(n),
        o.championsRepo = r,
        o.configDAO = i,
        o.requestDelegate = e,
        o.rewardFactory = n,
        o
    }
    return __extends(UTChampionsDAO, a),
    UTChampionsDAO.prototype.reset = function() {
        this.championsRepo.setDirty()
    }
    ,
    UTChampionsDAO.prototype.getChampsHub = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , n = new UTHttpResponseDTO
          , e = this.championsRepo.getEvent();
        return this.configDAO.isFeatureEnabled(UTServerSettingsRepository.KEY.CHAMPIONS_ENABLED) ? e && !this.championsRepo.isCacheExpired() ? (n.success = !0,
        n.status = HttpStatusCode.NOT_MODIFIED,
        n.response = {
            event: e
        },
        o.notify(n)) : (t.setPath("/ut/game/" + GAME_NAME + "/champs2/user/hub"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            JSUtils.assignPropertyValues(e, n),
            e.success && e.response && !JSUtils.isString(e.response) ? (r.championsRepo.setDirty(),
            r.championsRepo.setCacheTimestamp(Date.now()),
            r.championsRepo.setEvent(r.eventFactory.createChampionsEvent(e.response)),
            n.response = {
                event: r.championsRepo.getEvent()
            }) : ((null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && r.configDAO.setFeatureEnabled(UTServerSettingsRepository.KEY.CHAMPIONS_ENABLED, !1),
            n.response = {
                event: null
            }),
            o.notify(n)
        })) : (n.success = !1,
        n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        n.error = new UTServerErrorVO(UtasErrorCode.SERVICE_IS_DISABLED,"Feature flag is turned off"),
        n.response = {
            event: null
        },
        o.notify(n)),
        o
    }
    ,
    UTChampionsDAO.prototype.checkOutstandingRewards = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/champs2/user/rewards"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                hasOutstandingRewards: e.success
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTChampionsDAO.prototype.claimRewards = function() {
        var o = this
          , n = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/champs2/user/prize"),
        t.requestType = HttpRequestMethod.POST,
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response)) {
                var r = e.response.grantedAwards.map(function(t) {
                    return o.rewardFactory.createRewardFromRewardData(t)
                });
                i.response = {
                    rewards: [o.rewardFactory.createRewardSetFromRewards(r)]
                }
            } else
                i.response = {
                    rewards: []
                };
            o.championsRepo.setDirty(),
            n.notify(i)
        }),
        n
    }
    ,
    UTChampionsDAO
}(EAObject)
  , UTChemistryThresholdVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTChemistryThresholdVO(t, e) {
        var i = r.call(this) || this;
        return i.points = e,
        i.requirement = t,
        i
    }
    return __extends(UTChemistryThresholdVO, r),
    UTChemistryThresholdVO.prototype.value = function() {
        return this.points
    }
    ,
    UTChemistryThresholdVO.prototype.equals = function(t) {
        return t instanceof UTChemistryThresholdVO && this.requirement === t.requirement
    }
    ,
    UTChemistryThresholdVO
}(EAObject))
  , UTChemistryParameterEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTChemistryParameterEntity(t, e) {
        var i = r.call(this) || this;
        return i.abbr = t.abbr,
        i.guidAssetId = t.guid,
        i.id = t.id,
        i.name = t.name,
        i.thresholds = e.data.map(function(t) {
            return new UTChemistryThresholdVO(t.value,t.points)
        }),
        i
    }
    return __extends(UTChemistryParameterEntity, r),
    Object.defineProperty(UTChemistryParameterEntity.prototype, "requirement", {
        get: function() {
            return this.thresholds.reduce(function(t, e) {
                return Math.max(t, e.requirement)
            }, 0)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTChemistryParameterEntity
}(EAObject))
  , UTChemistryProfileRuleVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTChemistryProfileRuleVO(t, e, i) {
        var r = o.call(this) || this;
        return r.calculationType = i,
        r.contribution = e,
        r.parameterId = t,
        r
    }
    return __extends(UTChemistryProfileRuleVO, o),
    UTChemistryProfileRuleVO.prototype.value = function() {
        return this.contribution
    }
    ,
    UTChemistryProfileRuleVO.prototype.equals = function(t) {
        return t instanceof UTChemistryProfileRuleVO && this.parameterId === t.parameterId
    }
    ,
    UTChemistryProfileRuleVO
}(EAObject))
  , UTChemistryProfileEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChemistryProfileEntity(t) {
        var e = i.call(this) || this;
        return e.applicableRarityIds = [],
        e.baseOverride = t.baseOverride,
        e.iconOverride = t.iconOverride,
        e.id = t.id,
        e.heroOverride = t.heroOverride,
        e.maxChem = t.maxChem,
        e.rules = t.rules.map(function(t) {
            return new UTChemistryProfileRuleVO(t.parameterId,t.value,t.type)
        }),
        e
    }
    return __extends(UTChemistryProfileEntity, i),
    UTChemistryProfileEntity.prototype.getRuleByParamId = function(e) {
        return this.rules.find(function(t) {
            return t.parameterId === e
        })
    }
    ,
    UTChemistryProfileEntity
}(EAObject))
  , UTChemistryFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTChemistryFactory() {
        return t.call(this) || this
    }
    return __extends(UTChemistryFactory, t),
    UTChemistryFactory.prototype.generateParameter = function(t, e) {
        return new UTChemistryParameterEntity(t,e)
    }
    ,
    UTChemistryFactory.prototype.generateProfile = function(t) {
        return new UTChemistryProfileEntity(t)
    }
    ,
    UTChemistryFactory.prototype.generateUtasProfile = function(t) {
        var e = this
          , i = {
            id: t.id,
            baseOverride: t.baseOverride,
            iconOverride: t.iconOverride,
            heroOverride: t.heroOverride,
            maxChem: t.fullChemistryOnPreferredPosition,
            rules: t.rules.map(function(t) {
                return {
                    parameterId: e.mapParamTypeToEnum(t.parameterType),
                    type: e.mapCalculationTypeStringToEnum(t.calculationType),
                    value: t.value
                }
            })
        };
        return this.generateProfile(i)
    }
    ,
    UTChemistryFactory.prototype.mapParamTypeToEnum = function(t) {
        return {
            NATION: ChemistryParamId.NATION,
            LEAGUE: ChemistryParamId.LEAGUE,
            CLUB: ChemistryParamId.CLUB
        }[t]
    }
    ,
    UTChemistryFactory.prototype.mapCalculationTypeStringToEnum = function(t) {
        return {
            NORMAL: ChemistryProfileRuleCalculationType.NORMAL,
            UNIVERSAL: ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT
        }[t]
    }
    ,
    UTChemistryFactory
}(EAObject))
  , UTChemistryDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTChemistryDAO(t, e, i) {
        var r = o.call(this) || this;
        return r.chemistryRepo = i,
        r.authDelegate = t,
        r.requestDelegate = e,
        r.chemistryFactory = new UTChemistryFactory,
        r
    }
    return __extends(UTChemistryDAO, o),
    UTChemistryDAO.prototype.getChemistryProfiles = function() {
        var i = this
          , r = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , o = new UTHttpResponseDTO;
        return o.response = {
            profiles: [],
            version: 0
        },
        this.chemistryRepo.isCustomProfileCacheExpired() ? (t.setPath("/ut/game/" + GAME_NAME + "/chemistry/profiles"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(i),
            JSUtils.assignPropertyValues(e, o),
            e.success && JSUtils.isObject(e.response) && (i.chemistryRepo.setProfiles(e.response.profiles.map(function(t) {
                return i.chemistryFactory.generateUtasProfile(t)
            })),
            e.response.mappings.map(function(t) {
                return i.chemistryRepo.setProfileRarityIds(t.profileId, t.rarityIds)
            }),
            i.chemistryRepo.version = e.response.version,
            o.response = {
                profiles: i.chemistryRepo.getProfiles(),
                version: i.chemistryRepo.version
            }),
            r.notify(o)
        })) : (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.response.profiles = this.chemistryRepo.getProfiles(),
        o.response.version = this.chemistryRepo.version,
        r.notify(o)),
        r
    }
    ,
    UTChemistryDAO.prototype.getParameter = function(t) {
        return this.chemistryRepo.getParameter(t)
    }
    ,
    UTChemistryDAO.prototype.getProfileById = function(t) {
        return this.chemistryRepo.getProfile(t)
    }
    ,
    UTChemistryDAO.prototype.getProfileByRarity = function(t) {
        return this.chemistryRepo.getRarityProfile(t)
    }
    ,
    UTChemistryDAO.prototype.resetProfileCache = function() {
        this.chemistryRepo.resetCustomProfiles()
    }
    ,
    UTChemistryDAO
}(EAObject))
  , UTClubStatDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTClubStatDTO(t) {
        var e = i.call(this) || this;
        return e.type = t.type,
        e.count = t.count,
        e
    }
    return __extends(UTClubStatDTO, i),
    UTClubStatDTO.prototype.setCount = function(t) {
        this.count = t
    }
    ,
    UTClubStatDTO
}(EAObject))
  , UTLeagueDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTLeagueDTO(t, e) {
        var i = r.call(this) || this;
        return i.id = t.LeagueId,
        i.nation = t.NationId,
        i.name = UTLocalizationUtil.leagueIdToName(i.id, services.Localization),
        i.abbreviation = UTLocalizationUtil.leagueIdToAbbr5(i.id, services.Localization),
        i.sortName = TextUtils.stripSpecialCharacters(i.name).toLowerCase(),
        i.legend = !!JSUtils.isBoolean(e) && e,
        i
    }
    return __extends(UTLeagueDTO, r),
    UTLeagueDTO
}(EAObject))
  , UTNationDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTNationDTO(t) {
        var e = i.call(this) || this;
        return e.id = t,
        e.name = UTLocalizationUtil.nationIdToAbbr12(t, services.Localization),
        e.sortName = TextUtils.stripSpecialCharacters(e.name).toLowerCase(),
        e
    }
    return __extends(UTNationDTO, i),
    UTNationDTO
}(EAObject))
  , UTTeamKitDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTTeamKitDTO(t) {
        var e, i, r, o = n.call(this) || this;
        return o.localized = null !== (e = t.L) && void 0 !== e && e,
        o.year = null !== (i = t.Y) && void 0 !== i ? i : 0,
        o.type = null !== (r = t.type) && void 0 !== r ? r : KitType.HOME,
        o
    }
    return __extends(UTTeamKitDTO, n),
    UTTeamKitDTO
}(EAObject))
  , UTTeamDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTTeamDTO(t, e) {
        var i = r.call(this) || this;
        return i.id = t.TeamId,
        i.league = t.LeagueId,
        i.kits = Array.isArray(t.Kit) ? t.Kit.map(function(t) {
            return new UTTeamKitDTO(t)
        }) : [],
        i.name = UTLocalizationUtil.teamIdToAbbr15(t.TeamId, services.Localization),
        i.sortName = TextUtils.stripSpecialCharacters(i.name).toLowerCase(),
        i.legend = !!JSUtils.isBoolean(e) && e,
        i
    }
    return __extends(UTTeamDTO, r),
    UTTeamDTO
}(EAObject))
  , UTTeamLinkDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTTeamLinkDTO(t) {
        var e = i.call(this) || this;
        return e.id = t.teamId,
        e.linkedTeams = t.linkedTeams,
        e
    }
    return __extends(UTTeamLinkDTO, i),
    UTTeamLinkDTO
}(EAObject))
  , UTChemistryRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTChemistryRepository() {
        var t = e.call(this) || this;
        return t.parameters = new EAHashTable,
        t.profiles = new EAHashTable,
        t.version = 0,
        t
    }
    return __extends(UTChemistryRepository, e),
    UTChemistryRepository.prototype.getParameter = function(t) {
        return this.parameters.get(t)
    }
    ,
    UTChemistryRepository.prototype.getParameters = function() {
        return this.parameters.values()
    }
    ,
    UTChemistryRepository.prototype.setParameters = function(t) {
        var e = this;
        t.forEach(function(t) {
            e.parameters.set(t.id, t)
        })
    }
    ,
    UTChemistryRepository.prototype.getProfile = function(t) {
        return this.profiles.get(t)
    }
    ,
    UTChemistryRepository.prototype.getProfiles = function() {
        return this.profiles.values()
    }
    ,
    UTChemistryRepository.prototype.setProfiles = function(t) {
        var e = this;
        t.forEach(function(t) {
            e.profiles.set(t.id, t)
        })
    }
    ,
    UTChemistryRepository.prototype.setProfileRarityIds = function(t, e) {
        var i = this.getProfile(t);
        i && (i.applicableRarityIds = e)
    }
    ,
    UTChemistryRepository.prototype.getRarityProfile = function(e) {
        var t;
        return null !== (t = this.getProfiles().find(function(t) {
            return t.applicableRarityIds.includes(e)
        })) && void 0 !== t ? t : null
    }
    ,
    UTChemistryRepository.prototype.isCustomProfileCacheExpired = function() {
        return 0 === this.version
    }
    ,
    UTChemistryRepository.prototype.resetCustomProfiles = function() {
        var e = this;
        this.version = 0,
        this.getProfiles().forEach(function(t) {
            t.id !== ChemistryProfileId.BASE && t.id !== ChemistryProfileId.ICON && t.id !== ChemistryProfileId.HERO && e.profiles.remove(t.id)
        })
    }
    ,
    UTChemistryRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.Chemistry = new UTChemistryRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTKeyAttributeVO = function(i) {
    function UTKeyAttributeVO(t) {
        var e = i.call(this) || this;
        return e.keyAttributes = t.keyAttributes,
        e.guid = t.guid ? t.guid : "",
        t.position && (e.position = PlayerPosition[t.position]),
        e
    }
    return __extends(UTKeyAttributeVO, i),
    UTKeyAttributeVO.prototype.value = function() {
        return this.keyAttributes
    }
    ,
    UTKeyAttributeVO.prototype.equals = function(t) {
        return t instanceof UTKeyAttributeVO && this.guid === t.guid && this.keyAttributes === t.keyAttributes
    }
    ,
    UTKeyAttributeVO.prototype.getKey = function() {
        return 0 < this.guid.length && JSUtils.isNumber(this.position) ? this.guid + "-" + this.position.toString() : 0 === this.guid.length && JSUtils.isNumber(this.position) ? this.position.toString() : this.guid
    }
    ,
    UTKeyAttributeVO
}(EAObject)
  , UTObjectiveUpdateEntryVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTObjectiveUpdateEntryVO(t) {
        var e = i.call(this) || this;
        return e.categoryId = t.categoryId,
        e.groupCompositeId = t.groupCompositeId,
        e.groupId = t.groupId,
        e.groupState = t.groupState,
        e.groupType = t.groupType,
        e.objectiveId = t.objectiveId,
        e.objectiveProgress = t.objectiveProgress,
        e.objectiveState = t.objectiveState,
        e
    }
    return __extends(UTObjectiveUpdateEntryVO, i),
    UTObjectiveUpdateEntryVO.prototype.value = function() {
        return JSON.stringify(this)
    }
    ,
    UTObjectiveUpdateEntryVO.prototype.equals = function(t) {
        return t instanceof UTObjectiveUpdateEntryVO && t.categoryId === this.categoryId && t.groupId === this.groupId && t.groupState === this.groupState && t.groupType === this.groupType && t.objectiveId === this.objectiveId && t.objectiveProgress === this.objectiveProgress && t.objectiveState === this.objectiveState
    }
    ,
    UTObjectiveUpdateEntryVO
}(EAObject))
  , UTObjectivesUpdateFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTObjectivesUpdateFactory() {
        return t.call(this) || this
    }
    return __extends(UTObjectivesUpdateFactory, t),
    UTObjectivesUpdateFactory.prototype.createCompositeGroupId = function(t, e) {
        return t + "-" + e
    }
    ,
    UTObjectivesUpdateFactory.prototype.generateUpdateEntries = function(t, i) {
        var r = this
          , o = [];
        return t.forEach(function(t) {
            var e = {
                categoryId: t.categoryId,
                groupId: -1,
                groupState: -1,
                groupType: i,
                objectiveId: -1,
                objectiveState: -1,
                objectiveProgress: -1
            };
            t.scmpGroupProgressList.forEach(function(t) {
                e.groupId = t.groupId,
                e.groupState = t.state === ObjectiveGroupStateEnum.XP_REDEEMED ? ObjectiveGroupStateEnum.COMPLETED : t.state,
                t.groupType && (e.groupType = t.groupType),
                t.objectiveProgressList.forEach(function(t) {
                    e.objectiveId = t.objectiveId,
                    e.objectiveState = t.state,
                    e.objectiveProgress = JSUtils.isNumber(t.progressCount) ? t.progressCount : -1,
                    o.push(JSON.parse(JSON.stringify(e)))
                }, r)
            }, r)
        }, this),
        o.map(function(t) {
            return new UTObjectiveUpdateEntryVO({
                categoryId: t.categoryId,
                groupCompositeId: r.createCompositeGroupId(t.groupType, t.groupId),
                groupId: t.groupId,
                groupState: t.groupState,
                groupType: t.groupType,
                objectiveId: t.objectiveId,
                objectiveProgress: t.objectiveProgress,
                objectiveState: t.objectiveState
            })
        })
    }
    ,
    UTObjectivesUpdateFactory.prototype.createObjectivesUpdate = function(t) {
        var e, i, r = t && t.learningGroupProgressList ? this.generateUpdateEntries(t.learningGroupProgressList, ObjectiveGroupType.LEARNING) : [];
        return new UTObjectivesUpdateVO({
            experienceGained: JSUtils.isNumber(t.autoRedeemedXp) ? t.autoRedeemedXp : 0,
            refreshGroups: t.needsGroupsRefresh || !!t.newDailyObjectives,
            unclaimedRewards: t.needsMilestonesAutoClaim,
            utSpCapReached: null !== (e = t.xpCapReached) && void 0 !== e && e,
            utSpCapResetTime: null !== (i = t.xpCapResetTime) && void 0 !== i ? i : 0,
            updates: r
        })
    }
    ,
    UTObjectivesUpdateFactory
}(EAObject))
  , UTItemRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTItemRepository() {
        var t = r.call(this) || this;
        return t.expiryTimestamp = 0,
        t.endOfList = !1,
        t.count = -1,
        t
    }
    return __extends(UTItemRepository, r),
    UTItemRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTItemRepository.prototype.reset = function() {
        this.clear(),
        this.resetCount(),
        this.endOfList = !1,
        this.expiryTimestamp = 0
    }
    ,
    UTItemRepository.prototype.isCountSet = function() {
        return -1 < this.count
    }
    ,
    UTItemRepository.prototype.resetCount = function() {
        this.count = -1
    }
    ,
    UTItemRepository.prototype.set = function(t, e) {
        var i = r.prototype.set.call(this, t, e);
        return this.isCountSet() && (this.endOfList ? this.count = this.length : i || this.resetCount()),
        i
    }
    ,
    UTItemRepository.prototype.remove = function(t) {
        var e = r.prototype.remove.call(this, t);
        return this.isCountSet() && (this.endOfList ? this.count = this.length : e && this.resetCount()),
        e
    }
    ,
    UTItemRepository.prototype.checkVanitySearchCategory = function(t, e) {
        switch (e) {
        case SearchCategory.VANITY_AUDIO_ANTHEM_MUSIC:
            return t.subtype === ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC;
        case SearchCategory.VANITY_AUDIO_CLUB_NICKNAME:
            return t.subtype === ItemSubType.VANITY_AUDIO_CLUB_NICKNAME;
        case SearchCategory.VANITY_AUDIO_CROWD_CHANT:
            return t.subtype === ItemSubType.VANITY_AUDIO_CROWD_CHANT;
        case SearchCategory.VANITY_AUDIO_GOAL_SCORE:
            return t.subtype === ItemSubType.VANITY_AUDIO_GOAL_SCORE;
        case SearchCategory.VANITY_CROWD_CARDS:
            return t.subtype === ItemSubType.VANITY_CROWD_CARDS;
        case SearchCategory.VANITY_PLAYER_CELEBRATION:
            return t.subtype === ItemSubType.VANITY_PLAYER_CELEBRATION;
        case SearchCategory.VANITY_POLE_BANNER:
            return t.subtype === ItemSubType.VANITY_POLE_BANNER;
        case SearchCategory.VANITY_PYROTECHNICS_CONFETTI_CANNON:
            return t.subtype === ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON;
        case SearchCategory.VANITY_PYROTECHNICS_FIREWORKS_CANNON:
            return t.subtype === ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON;
        case SearchCategory.VANITY_PYROTECHNICS_FLAME_CANNON:
            return t.subtype === ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON;
        case SearchCategory.VANITY_PYROTECHNICS_SPARKLER_CANNON:
            return t.subtype === ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON;
        case SearchCategory.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE;
        case SearchCategory.VANITY_STADIUM_BASE_PITCH_LINE_COLOR:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR;
        case SearchCategory.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN;
        case SearchCategory.VANITY_STADIUM_BASE_PITCH_PROP:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP;
        case SearchCategory.VANITY_STADIUM_BASE_SEAT_COLOR:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_SEAT_COLOR;
        case SearchCategory.VANITY_STADIUM_BASE_STRUCTURE_COLOR:
            return t.subtype === ItemSubType.VANITY_STADIUM_BASE_STRUCTURE_COLOR;
        case SearchCategory.VANITY_STADIUM_THEME:
            return t.subtype === ItemSubType.VANITY_STADIUM_THEME;
        case SearchCategory.VANITY_TIFO_BASE:
            return t.subtype === ItemSubType.VANITY_TIFO_BASE;
        case SearchCategory.VANITY_TIFO_BIG:
            return t.subtype === ItemSubType.VANITY_TIFO_BIG;
        case SearchCategory.VANITY_TIFO_MOVING:
            return t.subtype === ItemSubType.VANITY_TIFO_MOVING;
        case SearchCategory.VANITY_TINTED_BANNER:
            return t.subtype === ItemSubType.VANITY_TINTED_BANNER;
        case SearchCategory.VANITY_VIP_AREA:
            return t.subtype === ItemSubType.VANITY_VIP_AREA
        }
        return !1
    }
    ,
    UTItemRepository.prototype.checkSearchTypes = function(t, e) {
        switch (e.type) {
        case SearchType.BALL:
            return t.isBall();
        case SearchType.CLUB_INFO:
            return e.category === SearchCategory.BADGE ? t.isBadge() : e.category === SearchCategory.KIT ? t.isKit() : t.isBadge() || t.isKit();
        case SearchType.CONSUMABLES_DEVELOPMENT:
        case SearchType.CONSUMABLES_TRAINING:
            return t.isConsumable();
        case SearchType.PLAYER:
            return t.isPlayer();
        case SearchType.STADIUM:
            return t.isStadium();
        case SearchType.STAFF:
            return t.isManager();
        case SearchType.VANITY:
            return e.category !== SearchCategory.ANY ? this.checkVanitySearchCategory(t, e.category) : t.isVanityItem();
        default:
            return !0
        }
    }
    ,
    UTItemRepository.prototype.search = function(a) {
        var s = this;
        return this.values().filter(function(t) {
            if (!s.checkSearchTypes(t, a))
                return !1;
            if (a.excludeLimitedUse && t.isLimitedUse())
                return !1;
            if (a.academyOnly && !t.isEnrolledInAcademy())
                return !1;
            if (a.excludeTimeEvo && t.isActiveInTimedEvolution())
                return !1;
            if (-1 !== a.academySlotId) {
                var e = repositories.Academy.getSlotById(a.academySlotId);
                if (!(null == e ? void 0 : e.meetsRequirements(t)))
                    return !1
            }
            if (a.untradeables === SearchUntradeables.ONLY && !t.untradeable || a.untradeables === SearchUntradeables.EXCLUDE && t.untradeable)
                return !1;
            if ((a.type === SearchType.BALL || a.type === SearchType.CLUB_INFO || a.type === SearchType.PLAYER || a.type === SearchType.STADIUM || a.type === SearchType.VANITY) && 0 < a.rarities.length && a.rarities.indexOf(t.rareflag) < 0)
                return !1;
            if (a.type === SearchType.PLAYER) {
                var i = repositories.Squad.getPositionByUniqueName(a.position);
                if (i && a.position !== SearchType.ANY) {
                    var r = i.id === t.preferredPosition
                      , o = t.possiblePositions.includes(i.id);
                    if (a.preferredPositionOnly && !r || !a.preferredPositionOnly && !o)
                        return !1
                } else if (-1 !== a.zone) {
                    var n = JSUtils.find(POSITION_ZONE_LOOKUP, function(t) {
                        return t.value === a.zone
                    });
                    if (n && (n.minPosId > t.preferredPosition || n.maxPosId < t.preferredPosition))
                        return !1
                }
                if (-1 !== a.playStyle && t.playStyle !== a.playStyle)
                    return !1;
                if (0 < a.excludeDefIds.length && -1 < a.excludeDefIds.indexOf(t.definitionId) || 0 < a.defId.length && a.defId.indexOf(t.definitionId) < 0 && a.defId.indexOf(t.databaseId) < 0)
                    return !1;
                if (a.ovrMin > t.rating || a.ovrMax < t.rating)
                    return !1
            } else if (a.type === SearchType.STAFF && a.category !== SearchCategory.ANY && t.isManager() && a.category !== SearchCategory.MANAGER)
                return !1;
            if (a.type !== SearchType.CONSUMABLES_DEVELOPMENT && a.type !== SearchType.CONSUMABLES_TRAINING) {
                if (a.level === SearchLevel.SPECIAL && !t.isSpecial() || a.level === SearchLevel.BRONZE && (!t.hasQualityTiers() || t.getTier() !== ItemRatingTier.BRONZE) || a.level === SearchLevel.SILVER && (!t.hasQualityTiers() || t.getTier() !== ItemRatingTier.SILVER) || a.level === SearchLevel.GOLD && (!t.hasQualityTiers() || t.getTier() !== ItemRatingTier.GOLD))
                    return !1;
                if (-1 !== a.nation && a.nation !== t.nationId || -1 !== a.league && a.league !== t.leagueId || -1 !== a.club && a.club !== t.teamId)
                    return !1
            } else if (a.type === SearchType.CONSUMABLES_DEVELOPMENT || a.type === SearchType.CONSUMABLES_TRAINING) {
                if (a.level !== SearchType.ANY && (t.getTier() === ItemRatingTier.BRONZE && a.level !== SearchLevel.BRONZE || t.getTier() === ItemRatingTier.SILVER && a.level !== SearchLevel.SILVER || t.getTier() === ItemRatingTier.GOLD && a.level !== SearchLevel.GOLD))
                    return !1;
                switch (a.category) {
                case SearchCategory.PLAYSTYLE:
                    return t.isStyleModifier();
                case SearchCategory.MANAGER_LEAGUE:
                    return t.isManagerLeagueModifier();
                case SearchCategory.HEALING:
                    return t.isInjuryHealing();
                default:
                    return t.isConsumable()
                }
            }
            return !0
        })
    }
    ,
    UTItemRepository.prototype.setCacheTimestamp = function(t, e) {
        this.expiryTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 3e5)
    }
    ,
    UTItemRepository
}(EAHashTable))
  , UTDiscardedRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTDiscardedRepository() {
        var t = e.call(this) || this;
        return t.cacheSize = 10,
        t.pages = [],
        t.endTimestamp = 0,
        t.restoresLeft = 0,
        t
    }
    return __extends(UTDiscardedRepository, e),
    UTDiscardedRepository.prototype.reset = function() {
        this.pages = [],
        this.endTimestamp = 0,
        this.restoresLeft = 0
    }
    ,
    UTDiscardedRepository.prototype.getEODFromTimestamp = function(t) {
        var e = new Date(t);
        return e.setHours(23, 59, 59, 999),
        e.getTime()
    }
    ,
    UTDiscardedRepository.prototype.getPageCacheObject = function(e, i) {
        var r = this;
        return JSUtils.find(this.pages, function(t) {
            return t.startTimestamp === r.getEODFromTimestamp(e) && t.paginationIndex === i
        })
    }
    ,
    UTDiscardedRepository.prototype.removeItem = function(e, t) {
        var i = this.getEODFromTimestamp(t - SECONDS_PER_DAY * MS_PER_SECOND)
          , r = this.pages.find(function(t) {
            return t.startTimestamp === i
        });
        if (r) {
            var o = r.items.filter(function(t) {
                return t.id !== e
            });
            this.setPageCache(r.startTimestamp, r.paginationIndex, o, Date.now() * MS_PER_SECOND, r.hasMore)
        }
    }
    ,
    UTDiscardedRepository.prototype.setPageCache = function(t, e, i, r, o) {
        var n = this.getPageCacheObject(t, e)
          , a = r + 5 * SECONDS_PER_MINUTE;
        n ? this.pages.splice(this.pages.indexOf(n), 1) : this.pages.length === this.cacheSize && this.pages.shift(),
        this.pages.push({
            startTimestamp: this.getEODFromTimestamp(t),
            paginationIndex: e,
            items: i,
            cacheTimestamp: a,
            hasMore: o
        })
    }
    ,
    UTDiscardedRepository.prototype.getPageCache = function(t, e) {
        var i = this.getPageCacheObject(t, e);
        return i ? i.items : []
    }
    ,
    UTDiscardedRepository.prototype.getAllPagesItemsForDay = function(e) {
        var i = this
          , r = [];
        return this.pages.filter(function(t) {
            return t.startTimestamp === i.getEODFromTimestamp(e)
        }).map(function(t) {
            return r = r.concat(t.items)
        }),
        r
    }
    ,
    UTDiscardedRepository.prototype.getPageCacheHasMore = function(t, e) {
        var i = this.getPageCacheObject(t, e);
        return !!i && i.hasMore
    }
    ,
    UTDiscardedRepository.prototype.isDiscardedCacheExpired = function(t, e) {
        var i = this.getPageCacheObject(t, e)
          , r = Math.round(Date.now() / MS_PER_SECOND)
          , o = this.endTimestamp < r
          , n = !i || i.cacheTimestamp < r;
        return o || n
    }
    ,
    UTDiscardedRepository
}(EAObject))
  , UTArubaTextFieldDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTArubaTextFieldDTO(t, e) {
        var i = r.call(this) || this;
        return i.text = t,
        i.colour = e,
        i
    }
    return __extends(UTArubaTextFieldDTO, r),
    UTArubaTextFieldDTO
}(EAObject))
  , UTArubaMessageEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTArubaMessageEntity(t, e) {
        var i = r.call(this) || this;
        return i.countdowns = new EAHashTable,
        i.duration = t.displayTime * MS_PER_SECOND || 5,
        i.goToLink = t.tmtLink ? t.tmtLink.toLowerCase() : RedirectId.NONE,
        i.id = t.messageId,
        i.images = new EAHashTable,
        i.priority = t.priority,
        i.screen = t.screen,
        i.textFields = new EAHashTable,
        i.trackingTag = t.trackingTag,
        i.generateFields(t, e),
        i
    }
    return __extends(UTArubaMessageEntity, r),
    Object.defineProperty(UTArubaMessageEntity.prototype, "title", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.TITLE);
            return t ? t.text : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "titleColor", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.TITLE);
            return t ? t.colour : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "titleCountdown", {
        get: function() {
            return this.countdowns.get(ArubaTextFieldEnum.TITLE) || -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "subtitle", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.SUBTITLE);
            return t ? t.text : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "subtitleColor", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.SUBTITLE);
            return t ? t.colour : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "subtitleCountdown", {
        get: function() {
            return this.countdowns.get(ArubaTextFieldEnum.SUBTITLE) || -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "info", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.INFO);
            return t ? t.text : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "infoColor", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.INFO);
            return t ? t.colour : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "infoCountdown", {
        get: function() {
            return this.countdowns.get(ArubaTextFieldEnum.SUBTITLE) || -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "body", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.BODY);
            return t ? t.text : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "bodyColor", {
        get: function() {
            var t = this.textFields.get(ArubaTextFieldEnum.BODY);
            return t ? t.colour : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "bodyCountdown", {
        get: function() {
            return this.countdowns.get(ArubaTextFieldEnum.BODY) || -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "bodyImagePath", {
        get: function() {
            return this.images.get(ArubaImageFieldEnum.BODY) || ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTArubaMessageEntity.prototype, "backgroundImagePath", {
        get: function() {
            return this.images.get(ArubaImageFieldEnum.BACKGROUND) || ""
        },
        enumerable: !1,
        configurable: !0
    }),
    UTArubaMessageEntity.prototype.generateFields = function(t, i) {
        var r = this;
        JSUtils.valToArray(t.renders).forEach(function(t) {
            var e;
            t.value && 0 !== t.value.length && ("TEXT" === t.type ? (t.name === ArubaTextFieldEnum.TITLE ? r.textFields.set(ArubaTextFieldEnum.TITLE, new UTArubaTextFieldDTO(r.replacePersonaKeys(t.value, i),t.attributes && t.attributes.colour ? r.convertToHex(t.attributes.colour) : "")) : t.name === ArubaTextFieldEnum.BODY ? r.textFields.set(ArubaTextFieldEnum.BODY, new UTArubaTextFieldDTO(TextUtils.nltobr(r.replacePersonaKeys(t.value, i)),t.attributes && t.attributes.colour ? r.convertToHex(t.attributes.colour) : "")) : t.name === ArubaTextFieldEnum.SUBTITLE ? r.textFields.set(ArubaTextFieldEnum.SUBTITLE, new UTArubaTextFieldDTO(TextUtils.nltobr(r.replacePersonaKeys(t.value, i)),t.attributes && t.attributes.colour ? r.convertToHex(t.attributes.colour) : "")) : t.name === ArubaTextFieldEnum.INFO && r.textFields.set(ArubaTextFieldEnum.INFO, new UTArubaTextFieldDTO(TextUtils.nltobr(r.replacePersonaKeys(t.value, i)),t.attributes && t.attributes.colour ? r.convertToHex(t.attributes.colour) : "")),
            t.attributes && !JSUtils.isEmpty(t.attributes.countdownTime) && -1 < t.value.indexOf(ArubaPlaceholderEnum.COUNTDOWN) && r.countdowns.set(t.name, r.generateCountdownTimestamp(null !== (e = t.attributes.countdownTime) && void 0 !== e ? e : ""))) : "IMAGE" === t.type && (t.name === ArubaImageFieldEnum.BODY ? r.images.set(ArubaImageFieldEnum.BODY, t.value) : t.name === ArubaImageFieldEnum.BACKGROUND && r.images.set(ArubaImageFieldEnum.BACKGROUND, t.value)))
        })
    }
    ,
    UTArubaMessageEntity.prototype.replacePersonaKeys = function(t, e) {
        var i = e.getCurrentClub()
          , r = i ? i.name : "";
        return t.split(ArubaPlaceholderEnum.FUT_CLUB_NAME).join(r).split(ArubaPlaceholderEnum.GAMERTAG).join(e.name)
    }
    ,
    UTArubaMessageEntity.prototype.convertToHex = function(t) {
        return 0 === t.indexOf("#") && /^[0-9a-fA-F]+$/.test(t.slice(1, 7)) ? t : "#" + JSUtils.baseToBase(10, 16, t)
    }
    ,
    UTArubaMessageEntity.prototype.generateCountdownTimestamp = function(t) {
        return JSUtils.isEmpty(t) ? 0 : new Date(parseInt(t.substr(0, 4), 10),parseInt(t.substr(4, 2), 10) - 1,parseInt(t.substr(6, 2)),parseInt(t.substr(9, 2)),parseInt(t.substr(11, 2)),parseInt(t.substr(13, 2))).getTime()
    }
    ,
    UTArubaMessageEntity.prototype.hasCountdowns = function() {
        return 0 < this.countdowns.length
    }
    ,
    UTArubaMessageEntity
}(EAObject))
  , UTDailyGiftEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTDailyGiftEntity(t) {
        var e = i.call(this) || this;
        return e.id = t.id,
        e.rewardType = t.rewardType,
        e.rewardValue = t.rewardValue,
        e.isValid = !JSUtils.isEmpty(e.rewardType) && 0 < e.rewardValue,
        e
    }
    return __extends(UTDailyGiftEntity, i),
    UTDailyGiftEntity
}(EAObject))
  , UTMessagesDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMessagesDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e
    }
    return __extends(UTMessagesDAO, i),
    UTMessagesDAO.prototype.getLiveMessageScreenName = function() {
        return isAndroid() ? ArubaScreenEnum.ANDROID_LIVE : isIOS() ? ArubaScreenEnum.IOS_LIVE : isWeb() ? ArubaScreenEnum.WEB_LIVE : ArubaScreenEnum.COMPANION_LIVE
    }
    ,
    UTMessagesDAO.prototype.getArubaMessages = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , i = this.authDelegate.getUtasSession().user
          , n = i ? i.getSelectedPersona() : null;
        return DebugUtils.Assert(JSUtils.isValid(n), "No valid persona found when retrieving live messages."),
        e.setPath("/ut/game/" + GAME_NAME + "/livemessage/template"),
        e.setUrlVariables({
            screen: t
        }),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? i.response = {
                messages: n && e.response.messageList ? e.response.messageList.map(function(t) {
                    return new UTArubaMessageEntity(t,n)
                }) : [],
                promos: e.response.promoUpdate ? e.response.promoUpdate : []
            } : i.response = {
                messages: [],
                promos: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTMessagesDAO.prototype.getLiveMessages = function() {
        return this.getArubaMessages(this.getLiveMessageScreenName())
    }
    ,
    UTMessagesDAO.prototype.getStoreMessages = function() {
        return this.getArubaMessages(ArubaScreenEnum.STORE_FEATURED)
    }
    ,
    UTMessagesDAO.prototype.readLiveMessage = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/livemessage"),
        e.setRequestType(HttpRequestMethod.PUT),
        e.setUrlVariables({
            screen: this.getLiveMessageScreenName()
        }),
        e.setRequestBody({
            idList: [t]
        }),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    UTMessagesDAO.prototype.getHubMessages = function(i) {
        var r = this
          , o = new EAObservable
          , n = new UTHttpResponseDTO
          , t = new UTHttpRequest(this.authDelegate)
          , e = this.authDelegate.getUtasSession().user
          , a = e ? e.getSelectedPersona() : null;
        if (DebugUtils.Assert(JSUtils.isValid(a), "No valid persona found when retrieving Aruba hub messages."),
        !a)
            return n.success = !1,
            n.status = HttpStatusCode.BAD_REQUEST,
            o.notify(n),
            o;
        var s = {
            nucPersId: a.id,
            screen: isWeb() ? ArubaScreenEnum.WEB_HUB : ArubaScreenEnum.COMPANION_HUB
        };
        return t.setPath("/ut/game/" + GAME_NAME + "/message/list/template"),
        t.setUrlVariables(s),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r),
            JSUtils.assignPropertyValues(e, n),
            e.success && JSUtils.isObject(e.response) ? n.response = {
                messages: a && e.response.messageList ? e.response.messageList.slice(0, i).map(function(t) {
                    return new UTArubaMessageEntity(t,a)
                }) : []
            } : n.response = {
                messages: []
            },
            o.notify(n)
        }),
        o
    }
    ,
    UTMessagesDAO.prototype.getDailyGift = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/activeMessage"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && JSUtils.isValid(e.response.activeMessage[0]) ? i.response = {
                dailyGift: new UTDailyGiftEntity(e.response.activeMessage[0])
            } : i.response = {
                dailyGift: null
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTMessagesDAO.prototype.claimDailyGift = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/activeMessage/" + t),
        e.setRequestType(HttpRequestMethod.DELETE),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    UTMessagesDAO
}(EAObject))
  , UTMyStadiumSlotEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMyStadiumSlotEntity(t) {
        var e = i.call(this) || this;
        return e.onDataUpdated = new EAObservable,
        e._locked = t.locked,
        e._item = t.item,
        e._modified = !1,
        e.active = t.active,
        e.emptiable = t.emptiable,
        e.globalId = t.globalId,
        e.home = t.home,
        e.id = t.id,
        e.name = t.name,
        e.sortOrder = t.sortOrder,
        e.stadiumArea = t.category,
        e.validSubTypes = t.vanityTypes,
        e.updateItemState(),
        e
    }
    return __extends(UTMyStadiumSlotEntity, i),
    Object.defineProperty(UTMyStadiumSlotEntity.prototype, "modified", {
        get: function() {
            return this._modified
        },
        set: function(t) {
            this._modified = t
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTMyStadiumSlotEntity.prototype, "locked", {
        get: function() {
            return this._locked
        },
        set: function(t) {
            this._locked !== t && (this._modified = !0),
            this._locked = t;
            var e = {
                id: this.id
            };
            e.locked = this.locked,
            this.onDataUpdated.notify(this, e)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTMyStadiumSlotEntity.prototype, "item", {
        get: function() {
            return this._item
        },
        set: function(t) {
            this._item !== t && (this._modified = !0),
            this._item = t;
            var e = {
                id: this.id,
                item: this.item
            };
            this.onDataUpdated.notify(this, e)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTMyStadiumSlotEntity.prototype.updateItemState = function() {
        this.item.isValid() && (this.validSubTypes.includes(ItemSubType.BADGE) ? this.item.state = ItemState.ACTIVE_BADGE : this.validSubTypes.includes(ItemSubType.BALL) ? this.item.state = ItemState.ACTIVE_BALL : this.validSubTypes.includes(ItemSubType.KIT) ? this.item.state = this.home ? ItemState.ACTIVE_HOME_KIT : ItemState.ACTIVE_AWAY_KIT : this.validSubTypes.includes(ItemSubType.STADIUM) && (this.item.state = ItemState.ACTIVE_STADIUM))
    }
    ,
    UTMyStadiumSlotEntity
}(EAObject))
  , UTMyStadiumTierEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMyStadiumTierEntity(t) {
        var e = i.call(this) || this;
        return e.onDataUpdated = new EAObservable,
        e.slots = new EAHashTable,
        e.id = t.id,
        t.slots.forEach(function(t) {
            return e.slots.set(t.id, t)
        }),
        e.setupObservers(),
        e
    }
    return __extends(UTMyStadiumTierEntity, i),
    UTMyStadiumTierEntity.prototype.setupObservers = function() {
        var e = this;
        this.slots.forEach(function(t) {
            t.onDataUpdated.observe(e, e._eMyStadiumSlotUpdated)
        })
    }
    ,
    UTMyStadiumTierEntity.prototype.isTierInProgress = function() {
        return 0 < this.slots.filter(function(t) {
            return t.locked
        }).length
    }
    ,
    UTMyStadiumTierEntity.prototype.getSlotsByCategory = function(e) {
        return this.slots.filter(function(t) {
            return t.stadiumArea === e
        })
    }
    ,
    UTMyStadiumTierEntity.prototype.getSlotById = function(t) {
        return this.slots.get(t)
    }
    ,
    UTMyStadiumTierEntity.prototype.getSlotsBySubtype = function(e) {
        return this.slots.filter(function(t) {
            return t.validSubTypes.includes(e)
        })
    }
    ,
    UTMyStadiumTierEntity.prototype.setSlotLock = function(t, e) {
        var i = this.getSlotById(t);
        i && (i.locked = e)
    }
    ,
    UTMyStadiumTierEntity.prototype.setSlotItem = function(t, e) {
        var i = this.getSlotById(t);
        i && (i.item = e)
    }
    ,
    UTMyStadiumTierEntity.prototype.getSlotsModifiedData = function() {
        return this.slots.filter(function(t) {
            return t.modified
        })
    }
    ,
    UTMyStadiumTierEntity.prototype.clearSlotsModifiedData = function() {
        this.slots.forEach(function(t) {
            return t.modified = !1
        })
    }
    ,
    UTMyStadiumTierEntity.prototype._eMyStadiumSlotUpdated = function(t, e, i) {
        var r = {
            id: this.id,
            slots: []
        }
          , o = {
            id: e.id
        };
        i.locked && (o.locked = i.locked),
        i.item && (o.item = i.item),
        r.slots = [o],
        this.onDataUpdated.notify(this, r)
    }
    ,
    UTMyStadiumTierEntity
}(EAObject))
  , UTMyStadiumEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTMyStadiumEntity(t, e) {
        var i = r.call(this) || this;
        return i.onDataUpdated = new EAObservable,
        i.tiers = new EAHashTable,
        i.name = t.name,
        i.lastUsedTierLevel = t.lastUsedTierLevel,
        i.id = t.stadiumId,
        i.user = t.user ? t.user : null,
        i.stadiumDAO = e,
        t.tiers.forEach(function(t) {
            i.tiers.set(t.id, t),
            t.onDataUpdated.observe(i, i._eMyStadiumTierUpdated)
        }),
        i
    }
    return __extends(UTMyStadiumEntity, r),
    UTMyStadiumEntity.prototype.getTier = function(t) {
        return this.tiers.get(t)
    }
    ,
    UTMyStadiumEntity.prototype.getStadiumLastTierId = function() {
        return this.tiers && 0 < this.tiers.length ? this.tiers.values()[this.tiers.length - 1].id : 0
    }
    ,
    UTMyStadiumEntity.prototype.getStadiumInProgressTier = function() {
        var t = this.tiers.find(function(t) {
            return t.isTierInProgress()
        });
        return t ? t.id : this.getStadiumLastTierId()
    }
    ,
    UTMyStadiumEntity.prototype.getTierSlotById = function(t, e) {
        var i = this.getTier(t);
        return i ? i.getSlotById(e) : null
    }
    ,
    UTMyStadiumEntity.prototype.getActiveClubItemIds = function() {
        function SX(t) {
            return t.filter(function(t) {
                return t.item.isValid()
            }).map(function(t) {
                return t.item.id
            })
        }
        var t = this.getTier(1);
        if (t) {
            var e = t.getSlotsBySubtype(ItemSubType.BADGE)
              , i = t.getSlotsBySubtype(ItemSubType.BALL)
              , r = t.getSlotsBySubtype(ItemSubType.KIT)
              , o = t.getSlotsBySubtype(ItemSubType.STADIUM);
            return SX(e).concat(SX(i), SX(r), SX(o))
        }
        return []
    }
    ,
    UTMyStadiumEntity.prototype.getSlotsBySubtype = function(t) {
        for (var e = [], i = 1; i <= this.lastUsedTierLevel; i++) {
            var r = this.getTier(i);
            r && (e = e.concat(r.getSlotsBySubtype(t)))
        }
        return e
    }
    ,
    UTMyStadiumEntity.prototype.canUseSubtype = function(t) {
        var e = !1;
        return this.getSlotsBySubtype(t).forEach(function(t) {
            t.locked || (e = !0)
        }),
        e
    }
    ,
    UTMyStadiumEntity.prototype.canAssignVanityItem = function(t) {
        return this.canUseSubtype(t.subtype)
    }
    ,
    UTMyStadiumEntity.prototype.getTierUnlockForSubType = function(t) {
        for (var e = this.tiers.keys().map(function(t) {
            return t
        }), i = Math.max.apply(Math, e), r = 1; r <= i; r++) {
            var o = this.getTier(r);
            if (o)
                if (0 < o.getSlotsBySubtype(t).length)
                    return o.id
        }
        return -1
    }
    ,
    UTMyStadiumEntity.prototype.getAreaSlots = function(t, e) {
        for (var i = [], r = 1; r <= e; r++) {
            var o = this.getTier(r);
            if (o) {
                var n = o.getSlotsByCategory(t);
                i = i.concat(n)
            }
        }
        return i
    }
    ,
    UTMyStadiumEntity.prototype.getModifiedData = function() {
        var r = {
            tiers: []
        };
        return this.tiers.forEach(function(t) {
            var e, i = t.getSlotsModifiedData();
            0 < i.length && (null === (e = r.tiers) || void 0 === e || e.push({
                id: t.id,
                slots: i
            }))
        }),
        r
    }
    ,
    UTMyStadiumEntity.prototype.clearModifiedFlag = function() {
        this.tiers.forEach(function(t) {
            return t.clearSlotsModifiedData()
        })
    }
    ,
    UTMyStadiumEntity.prototype.isStadiumModified = function() {
        var t = this.getModifiedData();
        return 0 < (t.tiers ? t.tiers : []).length
    }
    ,
    UTMyStadiumEntity.prototype.setName = function(t) {
        this.name = t,
        this.onDataUpdated.notify({
            name: this.name
        })
    }
    ,
    UTMyStadiumEntity.prototype.setLastUsedTierLevel = function(t) {
        this.lastUsedTierLevel = t,
        this.onDataUpdated.notify({
            lastUsedTierLevel: this.lastUsedTierLevel
        })
    }
    ,
    UTMyStadiumEntity.prototype.setSlotLock = function(t, e, i) {
        var r = this.getTier(e);
        r && r.setSlotLock(t, i)
    }
    ,
    UTMyStadiumEntity.prototype.setSlot = function(t, e, i) {
        var r, o, n = this.getTierSlotById(e, t);
        if (n) {
            var a = n.item;
            n.item = i || new UTNullItemEntity,
            n.updateItemState(),
            a.isActiveClubItem() && (a.state = ItemState.FREE);
            var s = null === (o = null === (r = this.user) || void 0 === r ? void 0 : r.getSelectedPersona()) || void 0 === o ? void 0 : o.getCurrentClub();
            return s && i.isValid() && i.isBadge() && s.setAssetId(i.teamId),
            getDefaultDispatcher().notify(AppNotification.ITEM_ACTIVATE, this, {
                itemIds: [Number(i.id)]
            }),
            !0
        }
        return !1
    }
    ,
    UTMyStadiumEntity.prototype.saveStadium = function() {
        var i = this
          , t = this.getModifiedData();
        if (!t.tiers || 0 === t.tiers.length) {
            var e = new EAObservable
              , r = new UTHttpResponseDTO;
            return r.status = HttpStatusCode.BAD_REQUEST,
            r.response = {
                objectiveUpdates: null
            },
            e.notify(r),
            e
        }
        var o = this.stadiumDAO.saveStadium(t.tiers).observe(this, function(t, e) {
            t.unobserve(i),
            e.success ? (i.clearModifiedFlag(),
            JSUtils.isObject(e.response) && e.response.objectiveUpdates && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, i, e.response.objectiveUpdates)) : getDefaultDispatcher().notify(AppNotification.STADIUM_SAVE_FAILED, i),
            o.notify(e)
        });
        return o
    }
    ,
    UTMyStadiumEntity.prototype._eMyStadiumTierUpdated = function(t, e, i) {
        var r = {
            tiers: []
        };
        r.tiers.push({
            slots: i.slots,
            id: i.id
        }),
        this.onDataUpdated.notify(r)
    }
    ,
    UTMyStadiumEntity
}(EAObject))
  , UTMyStadiumEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMyStadiumEntityFactory(t) {
        var e = i.call(this) || this;
        return e.stadiumDAO = t,
        e
    }
    return __extends(UTMyStadiumEntityFactory, i),
    UTMyStadiumEntityFactory.prototype.generateSlot = function(t) {
        var e = {
            active: t.activeSlot,
            category: t.stadiumArea,
            emptiable: !!t.emptiable && t.emptiable,
            globalId: t.clientSlotId,
            home: t.home,
            id: t.slotId,
            item: factories.Item.createVanityItem(t.itemData),
            locked: t.locked,
            name: t.slotName,
            sortOrder: t.sortOrder,
            vanityTypes: t.vanityTypes
        };
        return new UTMyStadiumSlotEntity(e)
    }
    ,
    UTMyStadiumEntityFactory.prototype.processSlotEntities = function(t) {
        var e = this;
        return t.map(function(t) {
            return e.generateSlot(t)
        })
    }
    ,
    UTMyStadiumEntityFactory.prototype.processStadiumTier = function(t) {
        var e = {
            id: t.tier,
            defId: t.stadiumDefinitionId,
            slots: this.processSlotEntities(t.slots)
        };
        return new UTMyStadiumTierEntity(e)
    }
    ,
    UTMyStadiumEntityFactory.prototype.createStadium = function(t, e) {
        var i = this
          , r = {
            name: t.name,
            lastUsedTierLevel: t.lastUsedTierLevel,
            stadiumId: t.stadiumId,
            tiers: t.tiers.map(function(t) {
                return i.processStadiumTier(t)
            })
        };
        return e && (r.user = e),
        new UTMyStadiumEntity(r,this.stadiumDAO)
    }
    ,
    UTMyStadiumEntityFactory
}(EAObject))
  , UTMyStadiumDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMyStadiumDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e.stadiumFactory = new UTMyStadiumEntityFactory(e),
        e.updateFactory = new UTObjectivesUpdateFactory,
        e
    }
    return __extends(UTMyStadiumDAO, i),
    UTMyStadiumDAO.prototype.getStadium = function() {
        var n = this
          , a = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/stadium"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(n);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response)) {
                var r = n.authDelegate.getUtasSession().user
                  , o = r ? n.stadiumFactory.createStadium(e.response, r) : n.stadiumFactory.createStadium(e.response);
                i.response = {
                    stadium: o
                }
            } else
                i.response = {
                    stadium: null
                };
            a.notify(i)
        }),
        a
    }
    ,
    UTMyStadiumDAO.prototype.saveStadium = function(t) {
        var o = this
          , n = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/stadium"),
        e.setRequestType(HttpRequestMethod.POST),
        e.setRequestBody({
            tiers: t.map(function(t) {
                return {
                    tier: t.id,
                    slots: t.slots.map(function(t) {
                        var e;
                        return {
                            slotId: t.id,
                            itemId: (null === (e = t.item) || void 0 === e ? void 0 : e.isValid()) ? t.item.id : null
                        }
                    })
                }
            })
        }),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response)) {
                var r = e.response.dynamicObjectivesUpdates;
                i.response = {
                    objectiveUpdates: r ? o.updateFactory.createObjectivesUpdate(r) : null
                }
            } else
                i.response = {
                    objectiveUpdates: null
                };
            n.notify(i)
        }),
        n
    }
    ,
    UTMyStadiumDAO
}(EAObject))
  , UTCampaignGroupEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTCampaignGroupEntity(t) {
        var e, i = o.call(this, t) || this;
        i.objectives = new EAHashTable,
        i.onDataUpdated = new EAObservable,
        i.rewards = t.rewardSet,
        i.subGroupType = t.subGroupType ? t.subGroupType : 0,
        i.subGroupTypeAttribute = t.subGroupTypeAttribute ? t.subGroupTypeAttribute : 0,
        i.type = t.type,
        i.requiredObjectivesCount = null !== (e = t.requiredObjectivesCount) && void 0 !== e ? e : 0;
        var r = {
            objectives: []
        };
        return t.objectives.map(function(t) {
            i.objectives.set(t.id, t),
            t.onDataUpdated.observe(i, i.onObjectiveUpdated),
            r.objectives && r.objectives.push({
                id: t.id
            })
        }),
        r.objectives && 0 < r.objectives.length && i.onDataUpdated.notify(i, r),
        i
    }
    return __extends(UTCampaignGroupEntity, o),
    UTCampaignGroupEntity.prototype.getPrioritySortedObjectives = function() {
        return this.getObjectives().sort(function(t, e) {
            return t.priority - e.priority
        })
    }
    ,
    UTCampaignGroupEntity.prototype.getObjectiveById = function(t) {
        return this.objectives.get(t)
    }
    ,
    UTCampaignGroupEntity.prototype.getObjectives = function() {
        return this.objectives.values()
    }
    ,
    UTCampaignGroupEntity.prototype.hasExpired = function() {
        return !this.isMilestone() && this.getTimeRemaining() <= 0
    }
    ,
    UTCampaignGroupEntity.prototype.isFoundation = function() {
        return this.type === ObjectiveGroupType.LEARNING
    }
    ,
    UTCampaignGroupEntity.prototype.isMilestone = function() {
        return this.type === ObjectiveGroupType.MILESTONE
    }
    ,
    UTCampaignGroupEntity.prototype.isExpiringMilestone = function() {
        return this.type === ObjectiveGroupType.EXPIRING_MILESTONE
    }
    ,
    UTCampaignGroupEntity.prototype.update = function(t) {
        var i = this;
        if (this.id === t.id && this.type === t.type) {
            var r = 0 < t.objectives.length ? {
                objectives: []
            } : {};
            this._state !== t.state && (this._state = t.state,
            r.state = this._state),
            t.objectives.forEach(function(t) {
                var e = i.objectives.get(t.id);
                e ? (e.onDataUpdated.unobserve(i),
                e.update(t),
                e.onDataUpdated.observe(i, i.onObjectiveUpdated),
                r.objectives && r.objectives.push({
                    id: e.id,
                    progress: e.progress,
                    state: e.state
                })) : (i.objectives.set(t.id, t),
                t.onDataUpdated.observe(i, i.onObjectiveUpdated),
                r.objectives && r.objectives.push({
                    id: t.id
                }))
            }),
            0 < Object.keys(r).length && this.onDataUpdated.notify(this, r)
        }
    }
    ,
    UTCampaignGroupEntity.prototype.onObjectiveUpdated = function(t, e, i) {
        var r = {
            objectives: [{
                id: e.id
            }]
        };
        if (r.objectives) {
            var o = r.objectives[0];
            i.progress && (o.progress = i.progress),
            i.state && (o.state = i.state)
        }
        this.onDataUpdated.notify(this, r)
    }
    ,
    UTCampaignGroupEntity
}(BaseObjectiveGroupEntity))
  , UTCampaignCategoryEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTCampaignCategoryEntity(t, e) {
        var i = r.call(this) || this;
        return i.groups = new EAHashTable,
        i.id = t.id,
        i.name = t.name,
        i.objectiveDao = e || null,
        i.priority = t.priority,
        t.groups.forEach(function(t) {
            return i.groups.set(t.compositeId, t)
        }),
        i
    }
    return __extends(UTCampaignCategoryEntity, r),
    UTCampaignCategoryEntity.prototype.groupClaimAll = function(t) {
        var i = this;
        if (DebugUtils.Assert(JSUtils.isValid(this.objectiveDao), "A data access object is required to claim group rewards."),
        !this.objectiveDao) {
            var e = new EAObservable
              , r = new EAHttpResponseDTO;
            return e.notify(r),
            e
        }
        var o = this.getGroup(t);
        if (DebugUtils.Assert(JSUtils.isValid(o), "Unable to find group for composite ID: " + t),
        !o) {
            e = new EAObservable;
            return (r = new EAHttpResponseDTO).status = HttpStatusCode.BAD_REQUEST,
            e.notify(r),
            e
        }
        var n = this.objectiveDao.groupClaimAll(o.id, o.type);
        return n.observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) && (o.setObjectivesCompleted(e.response.objectiveIds),
            e.response.groupClaimed && i.handleRepeatableObjsStateAfterClaim(o, e.success),
            getDefaultDispatcher().notify(AppNotification.OBJECTIVE_AVAILABLE_REWARD_COUNT_CHANGE, i))
        }),
        n
    }
    ,
    UTCampaignCategoryEntity.prototype.handleRepeatableObjsStateAfterClaim = function(t, e) {
        switch (t.repeatabilityMode) {
        case ObjectiveRepeatabilityMode.UNLIMITED:
            e ? t.reset() : t.state = ObjectiveGroupStateEnum.REDEEM_FAILURE;
            break;
        case ObjectiveRepeatabilityMode.LIMITED:
        case ObjectiveRepeatabilityMode.REFRESH:
            e ? t.hasNoRemainingRepeats() ? t.state = ObjectiveGroupStateEnum.REWARDED : t.reset() : t.state = ObjectiveGroupStateEnum.REDEEM_FAILURE;
            break;
        case ObjectiveRepeatabilityMode.NON_REPEATABLE:
            t.state = e ? ObjectiveGroupStateEnum.REWARDED : ObjectiveGroupStateEnum.REDEEM_FAILURE
        }
    }
    ,
    UTCampaignCategoryEntity.prototype.claimGroupRewards = function(t) {
        var i = this;
        if (DebugUtils.Assert(JSUtils.isValid(this.objectiveDao), "A data access object is required to claim group rewards."),
        !this.objectiveDao) {
            var e = new EAObservable
              , r = new EAHttpResponseDTO;
            return e.notify(r),
            e
        }
        var o, n = this.getGroup(t);
        if (DebugUtils.Assert(JSUtils.isValid(n), "Unable to find group for composite ID: " + t),
        !n) {
            e = new EAObservable;
            return (r = new EAHttpResponseDTO).status = HttpStatusCode.BAD_REQUEST,
            e.notify(r),
            e
        }
        switch (n.type) {
        case ObjectiveGroupType.MILESTONE:
        case ObjectiveGroupType.EXPIRING_MILESTONE:
            o = this.objectiveDao.claimLearningGroupRewards(n.id);
            break;
        default:
            o = this.objectiveDao.claimSeasonalGroupRewards(n.id)
        }
        return o.observe(this, function(t, e) {
            t.unobserve(i),
            i.handleRepeatableObjsStateAfterClaim(n, e.success),
            getDefaultDispatcher().notify(AppNotification.OBJECTIVE_AVAILABLE_REWARD_COUNT_CHANGE, i)
        }),
        o
    }
    ,
    UTCampaignCategoryEntity.prototype.claimObjectiveRewards = function(t, e) {
        var i = this;
        if (DebugUtils.Assert(JSUtils.isValid(this.objectiveDao), "A data access object is required to claim objective rewards."),
        !this.objectiveDao) {
            var r = new EAObservable
              , o = new EAHttpResponseDTO;
            return r.notify(o),
            r
        }
        var n = this.getGroup(t);
        if (DebugUtils.Assert(JSUtils.isValid(n), "Unable to find group for composite ID: " + t),
        !n) {
            r = new EAObservable;
            return (o = new EAHttpResponseDTO).status = HttpStatusCode.BAD_REQUEST,
            r.notify(o),
            r
        }
        var a, s = n.getObjectiveById(e);
        switch (DebugUtils.Assert(JSUtils.isValid(s), "Unable to find objective for ID: " + e),
        n.type) {
        case ObjectiveGroupType.MILESTONE:
        case ObjectiveGroupType.EXPIRING_MILESTONE:
            a = this.objectiveDao.claimLearningObjectiveRewards(n.id, e);
            break;
        default:
            a = this.objectiveDao.claimSeasonalObjectiveRewards(n.id, e)
        }
        return a.observe(this, function(t, e) {
            t.unobserve(i),
            e.success && s && (s.state = ObjectiveProgressState.REDEEMED,
            getDefaultDispatcher().notify(AppNotification.OBJECTIVE_AVAILABLE_REWARD_COUNT_CHANGE, i))
        }),
        a
    }
    ,
    UTCampaignCategoryEntity.prototype.getGroup = function(t) {
        return this.groups.get(t)
    }
    ,
    UTCampaignCategoryEntity.prototype.getGroups = function() {
        return this.groups.values()
    }
    ,
    UTCampaignCategoryEntity.prototype.getGroupsByType = function(e) {
        return this.groups.values().filter(function(t) {
            return t.type === e
        })
    }
    ,
    UTCampaignCategoryEntity.prototype.getLockingGroups = function(t) {
        var r = this.getGroup(t);
        if (DebugUtils.Assert(JSUtils.isValid(r), "Unable to find group with composite ID: " + t),
        !r)
            return [];
        var o = r.subGroupType === ObjectiveSubGroupType.STADIUM;
        return this.groups.filter(function(t) {
            var e = 0 <= r.groupIdsToUnlock.indexOf(t.id)
              , i = o ? t.isRedeemed() : !(t.isNotStarted() || t.isInProgress());
            return e && !i
        })
    }
    ,
    UTCampaignCategoryEntity.prototype.isFoundation = function() {
        return JSUtils.isValid(this.groups.find(function(t) {
            return t.isFoundation()
        }))
    }
    ,
    UTCampaignCategoryEntity.prototype.isMilestone = function() {
        return JSUtils.isValid(this.groups.find(function(t) {
            return t.isMilestone()
        }))
    }
    ,
    UTCampaignCategoryEntity.prototype.isExpiringMilestone = function() {
        return JSUtils.isValid(this.groups.find(function(t) {
            return t.isExpiringMilestone()
        }))
    }
    ,
    UTCampaignCategoryEntity.prototype.isGroupLockedBehindGroups = function(t) {
        return 0 < this.getLockingGroups(t).length
    }
    ,
    UTCampaignCategoryEntity.prototype.hasUnclaimedGroupReward = function() {
        return JSUtils.isValid(this.groups.find(function(t) {
            return t.isClaimable()
        }))
    }
    ,
    UTCampaignCategoryEntity.prototype.countNumberOfUnclaimedRewards = function() {
        return this.groups.values().reduce(function(t, e) {
            return t + (e.isClaimable() ? 1 : 0) + e.countNumberOfUnclaimedObjectives()
        }, 0)
    }
    ,
    UTCampaignCategoryEntity.prototype.hasUnclaimedExpiredGroup = function() {
        return JSUtils.isValid(this.groups.find(function(t) {
            return !t.isMilestone() && t.hasExpired() && t.isClaimable()
        }))
    }
    ,
    UTCampaignCategoryEntity
}(EAObject))
  , UTCampaignObjectiveEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTCampaignObjectiveEntity(t) {
        var e = i.call(this, t) || this;
        return e._state = t.state,
        e._progress = t.progress,
        e.rewards = t.rewards,
        e.title = t.name,
        e
    }
    return __extends(UTCampaignObjectiveEntity, i),
    UTCampaignObjectiveEntity
}(BaseObjectiveTaskEntity))
  , UTObjectivesFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTObjectivesFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(UTObjectivesFactory, i),
    UTObjectivesFactory.generateCompositeGroupId = function(t, e) {
        return t + "-" + e
    }
    ,
    UTObjectivesFactory.prototype.createGroup = function(t, i) {
        var r = this
          , e = this.rewardFactory.createRewardSetFromRewards(i.awardsList ? i.awardsList.map(function(t) {
            return r.rewardFactory.createRewardFromObjectiveData(t)
        }) : [])
          , o = i.groupState === ObjectiveGroupStateEnum.XP_REDEEMED ? ObjectiveGroupStateEnum.COMPLETED : i.groupState
          , n = i.timesCompleted
          , a = i.repeatabilityMode == ObjectiveRepeatabilityMode.REFRESH
          , s = o == ObjectiveGroupStateEnum.REWARDED || o == ObjectiveGroupStateEnum.REDEEM_FAILURE
          , l = a && s && 0 == n ? ObjectiveGroupStateEnum.UNDEFINED : o
          , c = [];
        i.objectives && i.objectives.filter(function(t) {
            return t.awards && 0 < t.awards.length
        }).forEach(function(t) {
            var e = r.createObjective(t, l, i.repeatabilityMode, n);
            e && c.push(e)
        });
        var u = {
            categoryIds: [t],
            compositeId: UTObjectivesFactory.generateCompositeGroupId(i.groupType, i.groupId),
            endTime: i.endTime ? i.endTime : 0,
            hasBackgroundImage: i.backgroundAssetExists,
            hasHeaderImage: i.headerAssetExists,
            id: i.groupId,
            lockedBy: i.groupIdsToUnlock ? i.groupIdsToUnlock : [],
            objectives: c,
            priority: i.priority,
            requiredObjectivesCount: i.objectivesCompletionCount,
            rewardSet: e,
            repeatabilityMode: i.repeatabilityMode,
            repeats: i.repeats,
            refreshInterval: i.refreshInterval,
            startTime: i.startTime ? i.startTime : 0,
            state: l,
            subtitle: i.subTitle,
            subGroupType: i.subGroupType ? i.subGroupType : 0,
            subGroupTypeAttribute: i.subGroupTypeAttribute ? i.subGroupTypeAttribute : 0,
            timesCompleted: n,
            title: i.title,
            type: i.groupType,
            visibilityTime: i.visibilityTime ? i.visibilityTime : 0
        };
        return i.guidAssetId && (u.guidAssetId = i.guidAssetId),
        new UTCampaignGroupEntity(u)
    }
    ,
    UTObjectivesFactory.prototype.createCategory = function(i, t) {
        var r = this
          , o = [];
        if (JSUtils.valToArray(i.groupsList).forEach(function(t) {
            var e = r.createGroup(i.categoryId, t);
            e && o.push(e)
        }),
        0 != o.length)
            return new UTCampaignCategoryEntity({
                groups: o,
                id: i.categoryId,
                name: i.name,
                priority: i.priority
            },t);
        DebugUtils.Assert(!1, "Failed to create Category " + i.categoryId + " it has no complete groups")
    }
    ,
    UTObjectivesFactory.prototype.createObjective = function(t, e, i, r) {
        var o = this;
        if (t.awards && 0 !== t.awards.length) {
            var n = this.rewardFactory.createRewardSetFromRewards(t.awards.map(function(t) {
                return o.rewardFactory.createRewardFromObjectiveData(t)
            }))
              , a = t.state ? ObjectiveProgressState[t.state] : ObjectiveProgressState.INVALID
              , s = t.multiplier || 1
              , l = JSUtils.isNumber(t.currentProgress) ? t.currentProgress : 0;
            a === ObjectiveProgressState.COMPLETED || a === ObjectiveProgressState.REDEEMED ? l = s : s < l && (1 === s ? l = 1 : l %= s),
            JSUtils.isNumber(a) || (a = ObjectiveProgressState.INVALID);
            var c = i == ObjectiveRepeatabilityMode.REFRESH
              , u = e == ObjectiveGroupStateEnum.REWARDED || e == ObjectiveGroupStateEnum.REDEEM_FAILURE
              , p = c && u && 0 == r
              , d = p ? 0 : l;
            return p && a == ObjectiveProgressState.REDEEMED && (a = ObjectiveProgressState.INVALID),
            new UTCampaignObjectiveEntity({
                companion: t.isWeb,
                description: t.description,
                id: t.objectiveId,
                multiplier: s,
                name: t.name,
                priority: t.priority,
                progress: d,
                redirectLink: t.takeMeThereLink.toLowerCase(),
                rewards: n,
                state: a
            })
        }
        DebugUtils.Assert(!1, "Failed to create Objective " + t.objectiveId + " it has no rewards")
    }
    ,
    UTObjectivesFactory
}(EAObject))
  , UTObjectivesDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTObjectivesDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e.rewardFactory = new UTRewardFactory(new UTItemEntityFactory),
        e.factory = new UTObjectivesFactory(e.rewardFactory),
        e
    }
    return __extends(UTObjectivesDAO, i),
    UTObjectivesDAO.prototype.getObjectiveClaimState = function() {
        var n = this
          , a = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/scmp/data/lite"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            var i, r;
            t.unobserve(n);
            var o = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, o),
            e.success && JSUtils.isObject(e.response) ? o.response = {
                needsMilestonesAutoClaim: e.response.needsMilestonesAutoClaim,
                utSpCapReached: null !== (i = e.response.xpCapReached) && void 0 !== i && i,
                utSpCapResetTime: null !== (r = e.response.xpCapResetTime) && void 0 !== r ? r : 0
            } : o.response = {
                needsMilestonesAutoClaim: !1,
                utSpCapReached: !1,
                utSpCapResetTime: 0
            },
            a.notify(o)
        }),
        a
    }
    ,
    UTObjectivesDAO.prototype.getCategories = function() {
        var o = this
          , n = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/scmp/objective/categories/all"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i);
            var r = [];
            Array.isArray(e.response) && e.response.forEach(function(t) {
                var e = o.factory.createCategory(t, o);
                e && r.push(e)
            }),
            i.response = {
                categories: r
            },
            n.notify(i)
        }),
        n
    }
    ,
    UTObjectivesDAO.prototype.getGroupObjectives = function(t, e, i) {
        var s = this
          , l = new EAObservable
          , r = new UTHttpRequest(this.authDelegate);
        return r.setPath("/ut/game/" + GAME_NAME + "/scmp/campaign/category/" + t + "/group/" + i),
        services.UTUtasRequestQueue.send(r).observe(this, function(t, e) {
            t.unobserve(s);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && e.response.objectives) {
                var r = [];
                e.response.objectives.forEach(function(t) {
                    var e = s.factory.createObjective(t, o, n, a);
                    e && r.push(e)
                });
                var o = e.response.groupState
                  , n = e.response.repeatabilityMode
                  , a = e.response.timesCompleted;
                i.response = {
                    objectives: r
                }
            } else
                i.response = {
                    objectives: []
                };
            l.notify(i)
        }),
        l
    }
    ,
    UTObjectivesDAO.prototype.getLearningGroupObjectives = function(t, e) {
        var s = this
          , l = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return i.setPath("/ut/game/" + GAME_NAME + "/scmp/learning/category/" + t + "/group/" + e),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(s);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && Array.isArray(e.response.objectives)) {
                var r = [];
                e.response.objectives.forEach(function(t) {
                    var e = s.factory.createObjective(t, o, n, a);
                    e && r.push(e)
                });
                var o = e.response.groupState
                  , n = e.response.repeatabilityMode
                  , a = e.response.timesCompleted;
                i.response = {
                    objectives: r
                }
            } else
                i.response = {
                    objectives: []
                };
            l.notify(i)
        }),
        l
    }
    ,
    UTObjectivesDAO.prototype.claimSeasonalGroupRewards = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/scmp/campaign/group/" + t + "/rewards"),
        e.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.groupRewards) ? i.response = {
                rewards: e.response.groupRewards.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.claimLearningGroupRewards = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/scmp/learning/group/" + t + "/rewards"),
        e.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.groupRewards) ? i.response = {
                rewards: e.response.groupRewards.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.groupClaimAll = function(t, e) {
        var a = this
          , s = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        i.setPath("/ut/game/" + GAME_NAME + "/scmp/campaign/group/" + t + "/rewards/all"),
        i.setUrlVariables({
            groupType: e
        }),
        i.requestType = HttpRequestMethod.PUT;
        return services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(a);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response)) {
                var r = !1
                  , o = []
                  , n = [];
                Array.isArray(e.response.groupRewards) && (e.response.groupRewards.forEach(function(t) {
                    o.push(a.rewardFactory.createRewardFromObjectiveData(t))
                }),
                0 < o.length && (r = !0)),
                Array.isArray(e.response.objectiveRewards) && e.response.objectiveRewards.forEach(function(t) {
                    t.awards.forEach(function(t) {
                        return o.push(a.rewardFactory.createRewardFromObjectiveData(t))
                    }),
                    n.push(t.objectiveId)
                }),
                i.response = {
                    rewards: o,
                    objectiveIds: n,
                    groupClaimed: r
                }
            } else
                i.response = {
                    rewards: [],
                    objectiveIds: [],
                    groupClaimed: !1
                };
            s.notify(i)
        }),
        s
    }
    ,
    UTObjectivesDAO.prototype.claimSeasonalObjectiveRewards = function(t, e) {
        var r = this
          , o = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return i.setPath("/ut/game/" + GAME_NAME + "/scmp/campaign/group/" + t + "/objective/" + e + "/rewards"),
        i.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.awards) ? i.response = {
                rewards: e.response.awards.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.claimLearningObjectiveRewards = function(t, e) {
        var r = this
          , o = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return i.setPath("/ut/game/" + GAME_NAME + "/scmp/learning/group/" + t + "/objective/" + e + "/rewards"),
        i.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.awards) ? i.response = {
                rewards: e.response.awards.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.claimExpiredLearningObjectiveRewards = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/scmp/learning/campaign/rewards/all"),
        t.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.awardsList) ? i.response = {
                rewards: e.response.awardsList.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.claimExpiredSeasonRewards = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/scmp/campaign/rewards/all"),
        t.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            JSUtils.isObject(e.response) && Array.isArray(e.response.awardsList) ? i.response = {
                rewards: e.response.awardsList.map(function(t) {
                    return r.rewardFactory.createRewardFromObjectiveData(t)
                })
            } : i.response = {
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.claimMetaRewards = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.requestType = HttpRequestMethod.POST,
        t.setPath("/ut/game/" + GAME_NAME + "/grant/metaRewards"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                rewards: []
            },
            e.success && Array.isArray(e.response) && (i.response.rewards = e.response.map(function(t) {
                return r.rewardFactory.createRewardFromObjectiveData(t)
            })),
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO.prototype.purchasePremiumPass = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/grant/meta/season/" + t + "/premiumPass"),
        e.requestType = HttpRequestMethod.POST,
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    UTObjectivesDAO
}(EAObject))
  , UTOnboardingDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTOnboardingDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e.rewardFactory = new UTRewardFactory(new UTItemEntityFactory),
        e
    }
    return __extends(UTOnboardingDAO, i),
    UTOnboardingDAO.prototype.responseIsValid = function(t, e) {
        return t && JSUtils.isValid(e) && !JSUtils.isString(e)
    }
    ,
    UTOnboardingDAO.prototype.getHistorical = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/user/historical"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            r.responseIsValid(e.success, e.response) ? i.response = {
                name: e.response.clubName,
                abbr: e.response.clubAbbr,
                rewards: e.response.returningUserRewards ? e.response.returningUserRewards.map(function(t) {
                    return r.rewardFactory.createRewardFromLoyaltyData(t)
                }) : []
            } : i.response = {
                name: "",
                abbr: "",
                rewards: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.createClub = function(t, e) {
        var i = this
          , r = new EAObservable
          , o = new UTHttpRequest(this.authDelegate);
        return o.setPath("/ut/game/" + GAME_NAME + "/user"),
        o.setRequestType(HttpRequestMethod.POST),
        o.setRequestBody({
            clubName: t,
            clubAbbr: e,
            purchased: !0
        }),
        services.UTUtasRequestQueue.send(o).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    UTOnboardingDAO.prototype.getState = function() {
        var i = this
          , r = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/clientdata/onboarding"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    UTOnboardingDAO.prototype.setState = function(t) {
        var i = this
          , r = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath(NaN + GAME_NAME + "/clientdata/onboarding"),
        e.setRequestType(HttpRequestMethod.PUT),
        e.setRequestBody({
            entries: [{
                key: 0,
                value: t
            }]
        }),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    UTOnboardingDAO.prototype.selectCountry = function(i) {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , n = new UTHttpResponseDTO;
        return i < 1 || 9 < i ? (n.success = !1,
        n.status = HttpStatusCode.BAD_REQUEST,
        o.notify(n)) : (t.setPath("/ut/game/" + GAME_NAME + "/user/action/ONBOARDING_COUNTRY_" + i + "_SELECTED"),
        t.requestType = HttpRequestMethod.POST,
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r),
            JSUtils.assignPropertyValues(e, n),
            n.response = {
                countryId: i
            },
            o.notify(n)
        })),
        o
    }
    ,
    UTOnboardingDAO.prototype.getBadges = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/onboarding/badges"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                badges: r.responseIsValid(e.success, e.response) ? factories.Item.generateItemsFromItemData(e.response.badgeItemDataList) : []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.selectBadge = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/onboarding/badge/" + t),
        e.setRequestType(HttpRequestMethod.POST),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                badgeId: r.responseIsValid(e.success, e.response) ? e.response.badgeId : 0
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.getKits = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/onboarding/kits"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                homeKits: r.responseIsValid(e.success, e.response) ? factories.Item.generateItemsFromItemData(e.response.homeItemDataList) : [],
                awayKits: r.responseIsValid(e.success, e.response) ? factories.Item.generateItemsFromItemData(e.response.awayItemDataList) : []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.selectKits = function(t, e) {
        var r = this
          , o = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return i.setPath("/ut/game/" + GAME_NAME + "/onboarding/kits"),
        i.setRequestType(HttpRequestMethod.POST),
        i.setRequestBody({
            homeKitId: t,
            awayKitId: e
        }),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                awayKitId: r.responseIsValid(e.success, e.response) ? e.response.awayKitId : 0,
                homeKitId: r.responseIsValid(e.success, e.response) ? e.response.homeKitId : 0
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.getLoanPlayers = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/loan/players"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                items: r.responseIsValid(e.success, e.response) ? e.response.loans.map(function(t) {
                    return factories.Item.createItem(t.itemData)
                }) : []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO.prototype.grantLoanPlayer = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/loan/player/" + t.toString()),
        e.setRequestType(HttpRequestMethod.PUT),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                item: r.responseIsValid(e.success, e.response) ? factories.Item.createItem(e.response) : null
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingDAO
}(EAObject))
  , UTPlayerHealthEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPlayerHealthEntity(t) {
        var e, i = r.call(this) || this;
        return i.enabled = null !== (e = t.userOptIn) && void 0 !== e && e,
        i.stats = new EAHashTable,
        t.stats.forEach(function(t) {
            return i.stats.set(t.id, t)
        }),
        i
    }
    return __extends(UTPlayerHealthEntity, r),
    UTPlayerHealthEntity.prototype.getStatById = function(t) {
        return this.stats.get(t)
    }
    ,
    UTPlayerHealthEntity.prototype.getCurrentPeriodValue = function(t) {
        var e = this.getStatById(t);
        return e ? e.currentPeriodValue : 0
    }
    ,
    UTPlayerHealthEntity.prototype.updateCurrentPeriodValue = function(t, e) {
        var i = this.getStatById(t);
        i && (i.currentPeriodValue += e)
    }
    ,
    UTPlayerHealthEntity.prototype.setLimit = function(t, e) {
        var i = this.getStatById(t);
        i && (i.limit = e)
    }
    ,
    UTPlayerHealthEntity.prototype.getCurrentTotalTimeSpent = function() {
        var t = this.getStatById(PlayerHealthStatId.TIME_SPENT_WEB_APP)
          , e = this.getStatById(PlayerHealthStatId.TIME_SPENT_COMP_APP)
          , i = this.getStatById(PlayerHealthStatId.TIME_SPENT_CONSOLE);
        return (t ? t.currentPeriodValue : 0) + (e ? e.currentPeriodValue : 0) + (i ? i.currentPeriodValue : 0)
    }
    ,
    UTPlayerHealthEntity.prototype.getTotalTimeSpentWeeklyAvg = function() {
        var t = this.getStatById(PlayerHealthStatId.TIME_SPENT_WEB_APP)
          , e = this.getStatById(PlayerHealthStatId.TIME_SPENT_COMP_APP)
          , i = this.getStatById(PlayerHealthStatId.TIME_SPENT_CONSOLE);
        return (t ? t.weeklyAverage : 0) + (e ? e.weeklyAverage : 0) + (i ? i.weeklyAverage : 0)
    }
    ,
    UTPlayerHealthEntity.prototype.getTotalTimeSpentPercentChange = function() {
        var t = this.getTotalTimeSpentWeeklyAvg();
        return 0 < t ? Math.round(100 * (this.getCurrentTotalTimeSpent() / t - 1)) : 0
    }
    ,
    UTPlayerHealthEntity
}(EAObject))
  , UTPlayerHealthStatEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTPlayerHealthStatEntity(t) {
        var e = i.call(this) || this;
        return e.id = t.id,
        e.previousPeriodsValue = JSUtils.isNumber(t.previousPeriodsValue) ? t.previousPeriodsValue : 0,
        e.currentPeriodValue = JSUtils.isNumber(t.currentPeriodValue) ? t.currentPeriodValue : 0,
        e.limit = JSUtils.isNumber(t.limit) ? t.limit : UTPlayerHealthStatEntity.DEFAULT_LIMIT,
        e.totalRolloverPeriods = JSUtils.isNumber(t.totalRolloverPeriods) ? t.totalRolloverPeriods : 0,
        e.nextRolloverTime = JSUtils.isNumber(t.nextRolloverTime) ? t.nextRolloverTime : 0,
        e
    }
    return __extends(UTPlayerHealthStatEntity, i),
    Object.defineProperty(UTPlayerHealthStatEntity.prototype, "weeklyAverage", {
        get: function() {
            return 0 < this.totalRolloverPeriods ? Math.round(this.previousPeriodsValue / this.totalRolloverPeriods) : 0
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPlayerHealthStatEntity.prototype, "percentChange", {
        get: function() {
            return 0 < this.weeklyAverage ? Math.round(100 * (this.currentPeriodValue / this.weeklyAverage - 1)) : 0
        },
        enumerable: !1,
        configurable: !0
    }),
    UTPlayerHealthStatEntity.prototype.isLimitReached = function() {
        return 0 <= this.limit && this.currentPeriodValue >= this.limit
    }
    ,
    UTPlayerHealthStatEntity.DEFAULT_LIMIT = -1,
    UTPlayerHealthStatEntity.MAXIMUM_LIMIT = 99999,
    UTPlayerHealthStatEntity
}(EAObject))
  , UTPlayerHealthFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTPlayerHealthFactory() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTPlayerHealthFactory, t),
    UTPlayerHealthFactory.prototype.createPlayTimeEntity = function(e) {
        var i = this
          , t = {
            stats: e.playerHealthStats.map(function(t) {
                return i.createPlayTimeStatEntity(t, e.crtServerTime)
            }),
            userOptIn: e.userOptIn,
            currentServerTime: e.crtServerTime
        };
        return new UTPlayerHealthEntity(t)
    }
    ,
    UTPlayerHealthFactory.prototype.createPlayTimeStatEntity = function(t, e) {
        var i, r, o, n, a = null !== (i = t.current) && void 0 !== i ? i : 0, s = null !== (r = t.previous) && void 0 !== r ? r : 0, l = null !== (o = t.total) && void 0 !== o ? o : 0, c = null !== (n = t.nextRolloverTime) && void 0 !== n ? n : 0;
        if (0 < e && 0 < c && c < e) {
            var u = e - c;
            l += Math.ceil(u / (SECONDS_PER_WEEK * MS_PER_SECOND)),
            s += a,
            a = 0
        }
        var p = {
            id: t.id,
            currentPeriodValue: a,
            previousPeriodsValue: s,
            limit: t.limit,
            totalRolloverPeriods: l,
            nextRolloverTime: c
        };
        return new UTPlayerHealthStatEntity(p)
    }
    ,
    UTPlayerHealthFactory
}(EAObject))
  , UTPlayerHealthDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTPlayerHealthDAO(t) {
        var e = i.call(this) || this;
        return e.authDelegate = t,
        e.factory = new UTPlayerHealthFactory,
        e
    }
    return __extends(UTPlayerHealthDAO, i),
    UTPlayerHealthDAO.prototype.read = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/playStats"),
        t.setRequestType(HttpRequestMethod.GET),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? i.response = {
                playerHealth: r.factory.createPlayTimeEntity(e.response)
            } : i.response = {
                playerHealth: null
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTPlayerHealthDAO.prototype.write = function(t, e) {
        var r = this
          , o = new EAObservable
          , i = new UTHttpRequest(this.authDelegate)
          , n = [{
            id: t,
            value: e
        }];
        return i.setPath("/ut/game/" + GAME_NAME + "/playStats"),
        i.setRequestType(HttpRequestMethod.PUT),
        i.setRequestBody(n),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    UTPlayerHealthDAO
}(EAObject))
  , UTPlayerMetaDataDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTPlayerMetaDataDAO(t, e, i) {
        var r = o.call(this) || this;
        return r.authDelegate = t,
        r.metaRepo = i,
        r.requestDelegate = e,
        r
    }
    return __extends(UTPlayerMetaDataDAO, o),
    UTPlayerMetaDataDAO.prototype.getAttributesMetaData = function(t, i) {
        var o = this
          , n = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , a = new UTHttpResponseDTO;
        a.response = {
            metas: []
        };
        var r = []
          , s = [];
        return t.forEach(function(t, e) {
            o.metaRepo.get(t) || (r.push(t),
            s[t] = i[e])
        }),
        0 === r.length ? (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        a.response.metas = [],
        n.notify(a)) : (e.setPath("/ut/game/" + GAME_NAME + "/attributes/metadata"),
        e.setUrlVariables({
            defIds: r
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            if (t.unobserve(o),
            JSUtils.assignPropertyValues(e, a),
            e.success && Array.isArray(e.response)) {
                var r = [];
                e.response.forEach(function(t) {
                    var e = o.generateIPlayerMetaEntry(s[t.defId], t.ingameattribs);
                    o.metaRepo.setIndividualData(t.defId, e);
                    var i = o.metaRepo.get(t.defId);
                    i && r.push(i)
                }),
                a.response = {
                    metas: r
                }
            }
            n.notify(a)
        })),
        n
    }
    ,
    UTPlayerMetaDataDAO.prototype.generateIPlayerMetaEntry = function(t, e) {
        var i = {
            a: e,
            b: t.birthday,
            h: t.height,
            f: t.isLeftFoot ? 0 : 1,
            w: t.weakFoot,
            s: t.skillMoves
        };
        return t.legendBio && (i.l = t.legendBio),
        i
    }
    ,
    UTPlayerMetaDataDAO
}(EAObject))
  , UTRivalsEventEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRivalsEventEntity(t) {
        var e = i.call(this) || this;
        return e.currentTime = t.currentTime,
        e.division = t.division,
        e.numDivisions = t.numDivisions,
        e.nextLBRefreshTimeStamp = t.nextLBRefreshTimeStamp,
        e.season = t.season,
        e.user = t.user,
        t.championsStageLevel && (e.championsStageLevel = t.championsStageLevel),
        t.seasonEndDetails && (e.seasonEndDetails = t.seasonEndDetails),
        t.tiers && (e.tiers = t.tiers),
        e
    }
    return __extends(UTRivalsEventEntity, i),
    UTRivalsEventEntity.prototype.hasOutStandingRewards = function() {
        return this.isWeeklyPrizeAvailable()
    }
    ,
    UTRivalsEventEntity.prototype.isWeeklyPrizeAvailable = function() {
        return this.user.weeklyPrizeAvailable
    }
    ,
    UTRivalsEventEntity.prototype.setWeeklyPrizeClaimed = function() {
        this.user.weeklyPrizeAvailable = !1
    }
    ,
    UTRivalsEventEntity.prototype.isFeatureAccessible = function() {
        return 0 < this.user.stageId
    }
    ,
    UTRivalsEventEntity.prototype.getUserCurrentRank = function() {
        var e = this
          , i = null;
        return this.division.stages.filter(function(t) {
            return t.type === RivalsStageType.REWARD
        }).forEach(function(t) {
            e.user.stageId >= t.id && (i = t)
        }),
        i
    }
    ,
    UTRivalsEventEntity.prototype.getWinStreak = function() {
        return this.user.winStreak ? this.season.winStreakNumStages : 0
    }
    ,
    UTRivalsEventEntity.prototype.getDivisionTimeRemaining = function() {
        for (var t = 0, e = Math.round(Date.now() / MS_PER_SECOND), i = 0, r = this.season.rewardTimeStamps; i < r.length; i++) {
            var o = r[i];
            if (e < o) {
                t = o;
                break
            }
        }
        return Math.max(0, t - e)
    }
    ,
    UTRivalsEventEntity.prototype.getSeasonTimeRemaining = function() {
        var t = Math.round(Date.now() / MS_PER_SECOND);
        return Math.max(0, this.season.endTime - t)
    }
    ,
    UTRivalsEventEntity
}(EAObject))
  , UTRivalsEventPrizeTierEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRivalsEventPrizeTierEntity(t) {
        var e = i.call(this) || this;
        return e.competitionId = t.competitionId,
        e.rewardSet = t.eventRewardSets,
        e.level = t.tierLevel,
        e.subLevel = t.tierSubLevel,
        e.type = t.tierType,
        e
    }
    return __extends(UTRivalsEventPrizeTierEntity, i),
    UTRivalsEventPrizeTierEntity
}(EAObject))
  , UTRivalsEventStageEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRivalsEventStageEntity(t) {
        var e = i.call(this) || this;
        return e.demotionThreshold = t.demotionThreshold,
        e.id = t.stageId,
        e.rank = t.rank,
        e.type = t.stageType,
        t.prizeTiers && (e.prizeTiers = t.prizeTiers),
        e
    }
    return __extends(UTRivalsEventStageEntity, i),
    UTRivalsEventStageEntity
}(EAObject))
  , UTRivalsEventEliteTierEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRivalsEventEliteTierEntity(t) {
        var e = i.call(this) || this;
        return e.competitionId = t.competitionId,
        e.tierEnd = t.tierEnd,
        e.tierLevel = t.tierLevel,
        e.tierStart = t.tierStart,
        e.tierStartValue = t.tierStartValue,
        e.tierSubLevel = t.tierSubLevel,
        e
    }
    return __extends(UTRivalsEventEliteTierEntity, i),
    UTRivalsEventEliteTierEntity
}(EAObject))
  , UTRivalsEventEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__assign = this && this.__assign || function() {
    return (__assign = Object.assign || function(t) {
        for (var e, i = 1, r = arguments.length; i < r; i++)
            for (var o in e = arguments[i])
                Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t
    }
    ).apply(this, arguments)
}
,
function(i) {
    function UTRivalsEventEntityFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(UTRivalsEventEntityFactory, i),
    UTRivalsEventEntityFactory.prototype.createRivalsEventEntity = function(t) {
        var i = this
          , r = t.division.stages.filter(function(t) {
            return t.stageType === RivalsStageType.REWARD
        }).length
          , e = t.division.stages.map(function(t) {
            var e = i.createRivalsStageEntity(t, r);
            return e.type === RivalsStageType.REWARD && r--,
            e
        })
          , o = {
            user: __assign({}, t.user),
            division: {
                championsPointsWin: t.division.championsPointsWin,
                championsPointsLoss: t.division.championsPointsLoss,
                championsPointsDraw: t.division.championsPointsDraw,
                divisionId: t.division.divisionId,
                divisionType: t.division.divisionType,
                nextDivisionLocalizedName: t.division.nextDivisionLocalizedName,
                localizedName: t.division.localizedName,
                stages: e
            },
            currentTime: t.currentTime,
            numDivisions: t.numDivisions,
            nextLBRefreshTimeStamp: t.nextLBRefreshTimeStamp,
            season: t.season
        };
        if (t.tiers) {
            var n = t.tiers.map(function(t) {
                return i.createRivalsTierEntity(t)
            });
            o.tiers = n
        }
        return t.championsStageLevel && (o.championsStageLevel = t.championsStageLevel),
        t.seasonEndDetails && (o.seasonEndDetails = t.seasonEndDetails),
        new UTRivalsEventEntity(o)
    }
    ,
    UTRivalsEventEntityFactory.prototype.createRivalsPrizeTierEntity = function(t) {
        var e = this
          , i = t.categoryAwardsList.map(function(t) {
            return e.rewardFactory.createRewardSetFromGameModesData(t)
        })
          , r = {
            competitionId: t.competitionId,
            eventRewardSets: i,
            tierLevel: t.tierLevel,
            tierSubLevel: t.tierSubLevel,
            tierType: t.tierType
        };
        return new UTRivalsEventPrizeTierEntity(r)
    }
    ,
    UTRivalsEventEntityFactory.prototype.createRivalsStageEntity = function(t, e) {
        var i, r = this;
        if (t.stageType === RivalsStageType.REWARD && t.prizes) {
            var o = t.prizes.prizeTiers.map(function(t) {
                return r.createRivalsPrizeTierEntity(t)
            });
            i = __assign(__assign({}, t), {
                prizeTiers: o,
                stageType: t.stageType,
                rank: e
            })
        } else
            i = __assign(__assign({}, t), {
                stageType: t.stageType,
                rank: e
            });
        return new UTRivalsEventStageEntity(i)
    }
    ,
    UTRivalsEventEntityFactory.prototype.createRivalsTierEntity = function(t) {
        return new UTRivalsEventEliteTierEntity(t)
    }
    ,
    UTRivalsEventEntityFactory
}(EAObject))
  , UTRivalsEventRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTRivalsEventRepository() {
        var t = e.call(this) || this;
        return t.currentEvent = null,
        t
    }
    return __extends(UTRivalsEventRepository, e),
    UTRivalsEventRepository.prototype.reset = function() {
        this.currentEvent = null,
        e.prototype.reset.call(this)
    }
    ,
    UTRivalsEventRepository.prototype.setEvent = function(t) {
        this.currentEvent = t
    }
    ,
    UTRivalsEventRepository.prototype.getEvent = function() {
        return this.currentEvent
    }
    ,
    UTRivalsEventRepository
}(UTGameModesEventRepository))
  , UTRivalRewardsRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTRivalRewardsRepository() {
        var t = e.call(this) || this;
        return t.expiryTimestamp = 0,
        t.weeklyRewards = new EAHashTable,
        t.seasonalRewards = new EAHashTable,
        t
    }
    return __extends(UTRivalRewardsRepository, e),
    UTRivalRewardsRepository.prototype.reset = function() {
        this.weeklyRewards.clear(),
        this.seasonalRewards.clear(),
        this.expiryTimestamp = 0
    }
    ,
    UTRivalRewardsRepository.prototype.setWeeklyRewards = function(t, e) {
        return this.weeklyRewards.set(t, e)
    }
    ,
    UTRivalRewardsRepository.prototype.addWeeklyRewards = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.weeklyRewards.set(t.id, t)
        }) : this.weeklyRewards.set(t.id, t)
    }
    ,
    UTRivalRewardsRepository.prototype.getWeeklyRewards = function() {
        return this.weeklyRewards.values()
    }
    ,
    UTRivalRewardsRepository.prototype.getWeeklyRewardById = function(t) {
        return this.weeklyRewards.get(t)
    }
    ,
    UTRivalRewardsRepository.prototype.isWeeklyRewardsEmpty = function() {
        return 0 === this.weeklyRewards.length
    }
    ,
    UTRivalRewardsRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTRivalRewardsRepository.prototype.setCacheTimestamp = function(t, e) {
        this.expiryTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 36e5)
    }
    ,
    UTRivalRewardsRepository
}(EAObject))
  , UTRivalsDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTRivalsDAO(t, e) {
        var i = r.call(this) || this;
        return i.authDelegate = t,
        i.eventRepository = new UTRivalsEventRepository,
        i.requestDelegate = e,
        i.rewardFactory = new UTRewardFactory(new UTItemEntityFactory),
        i.rewardRepository = new UTRivalRewardsRepository,
        i.rivalsEntityFactory = new UTRivalsEventEntityFactory(i.rewardFactory),
        i
    }
    return __extends(UTRivalsDAO, r),
    UTRivalsDAO.prototype.reset = function() {
        this.eventRepository.setDirty(),
        this.rewardRepository.reset()
    }
    ,
    UTRivalsDAO.prototype.getEvent = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , n = new UTHttpResponseDTO
          , e = this.eventRepository.getEvent();
        return e && !this.eventRepository.isCacheExpired() ? (n.success = !0,
        n.status = HttpStatusCode.NOT_MODIFIED,
        n.response = {
            event: e
        },
        o.notify(n)) : (t.setPath("/ut/game/" + GAME_NAME + "/rivals/v2/user/hub"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            if (t.unobserve(r),
            JSUtils.assignPropertyValues(e, n),
            e.success && e.response && !JSUtils.isString(e.response)) {
                var i = r.rivalsEntityFactory.createRivalsEventEntity(e.response);
                r.eventRepository.setDirty(),
                r.eventRepository.setCacheTimestamp(Date.now(), i.getSeasonTimeRemaining()),
                r.eventRepository.setEvent(i),
                n.response = {
                    event: i
                }
            } else
                n.response = {
                    event: null
                };
            o.notify(n)
        })),
        o
    }
    ,
    UTRivalsDAO.prototype.getWeeklyPrizeDetails = function() {
        var r = this
          , o = new EAObservable
          , n = new UTHttpResponseDTO;
        if (!this.rewardRepository.isWeeklyRewardsEmpty() && !this.rewardRepository.isCacheExpired())
            return n.success = !0,
            n.status = HttpStatusCode.OK,
            n.response = {
                unclaimedRewards: this.rewardRepository.getWeeklyRewards()
            },
            o.notify(n),
            o;
        var t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/rivals/v2/weekly/user/prizeDetails"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            if (t.unobserve(r),
            JSUtils.assignPropertyValues(e, n),
            JSUtils.isObject(e.response) && e.response.prizes) {
                var i = e.response.prizes.prizeTiers.reduce(function(t, e) {
                    return t.concat(e.categoryAwardsList.map(function(t) {
                        return r.rewardFactory.createRewardSetFromRivalsData(t)
                    }))
                }, []);
                r.rewardRepository.addWeeklyRewards(i),
                r.rewardRepository.setCacheTimestamp(Date.now(), 0 < e.maxAge ? e.maxAge : void 0),
                n.response = {
                    unclaimedRewards: i
                }
            } else
                n.response = {
                    unclaimedRewards: []
                };
            o.notify(n)
        }),
        o
    }
    ,
    UTRivalsDAO.prototype.claimById = function(t) {
        var o = this
          , n = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/rivals/v2/weekly/reward/" + t),
        e.requestType = HttpRequestMethod.PUT,
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTHttpResponseDTO
              , r = o.eventRepository.getEvent();
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && e.response.awardedPrizes ? (i.response = {
                rewards: e.response.awardedPrizes.map(function(t) {
                    return o.rewardFactory.createRewardFromRewardData(t)
                })
            },
            null == r || r.setWeeklyPrizeClaimed(),
            o.rewardRepository.reset()) : i.response = {
                rewards: []
            },
            (null == r ? void 0 : r.hasOutStandingRewards()) || o.eventRepository.setDirty(),
            n.notify(i)
        }),
        n
    }
    ,
    UTRivalsDAO
}(EAObject))
  , UTSBCEligibilityDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSBCEligibilityDTO(t) {
        var i = e.call(this) || this;
        return i.kvPairs = new EAHashTable,
        i.count = -1,
        i.scope = -1,
        t.forEach(function(t) {
            switch (t.eligibilityKey) {
            case SBCEligibilityKey.SCOPE:
                JSUtils.isNumber(t.eligibilityValue) && (i.scope = t.eligibilityValue);
                break;
            case SBCEligibilityKey.PLAYER_COUNT:
            case SBCEligibilityKey.PLAYER_COUNT_COMBINED:
                JSUtils.isNumber(t.eligibilityValue) && (i.count = t.eligibilityValue);
                break;
            case SBCEligibilityKey.TEAM_STAR_RATING:
                JSUtils.isNumber(t.eligibilityValue) && i.kvPairs.set(t.eligibilityKey, [t.eligibilityValue / 2]);
                break;
            case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
            case SBCEligibilityKey.CHEMISTRY_POINTS:
            case SBCEligibilityKey.TEAM_RATING:
            case SBCEligibilityKey.NATION_ID:
            case SBCEligibilityKey.LEAGUE_ID:
            case SBCEligibilityKey.CLUB_ID:
            case SBCEligibilityKey.PLAYER_LEVEL:
            case SBCEligibilityKey.PLAYER_RARITY:
            case SBCEligibilityKey.PLAYER_RARITY_GROUP:
            case SBCEligibilityKey.PLAYER_QUALITY:
            case SBCEligibilityKey.SAME_NATION_COUNT:
            case SBCEligibilityKey.SAME_LEAGUE_COUNT:
            case SBCEligibilityKey.SAME_CLUB_COUNT:
            case SBCEligibilityKey.NATION_COUNT:
            case SBCEligibilityKey.LEAGUE_COUNT:
            case SBCEligibilityKey.CLUB_COUNT:
            case SBCEligibilityKey.LEGEND_COUNT:
            case SBCEligibilityKey.PLAYER_MAX_OVR:
            case SBCEligibilityKey.PLAYER_MIN_OVR:
            case SBCEligibilityKey.PLAYER_EXACT_OVR:
            case SBCEligibilityKey.FIRST_OWNER_PLAYERS_COUNT:
            case SBCEligibilityKey.PLAYER_TRADABILITY:
                var e = i.kvPairs.get(t.eligibilityKey);
                e ? e.push(t.eligibilityValue) : i.kvPairs.set(t.eligibilityKey, JSUtils.valToArray(t.eligibilityValue));
                break;
            default:
                DebugUtils.Assert(!1, "Reached default case: " + t.eligibilityKey)
            }
        }, i),
        i
    }
    return __extends(UTSBCEligibilityDTO, e),
    Object.defineProperty(UTSBCEligibilityDTO.prototype, "isCombinedRequirement", {
        get: function() {
            return 1 < this.kvPairs.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSBCEligibilityDTO.prototype.keys = function() {
        return this.kvPairs.keys()
    }
    ,
    UTSBCEligibilityDTO.prototype.getValue = function(t) {
        var e = this.kvPairs.get(t);
        return e || [-1]
    }
    ,
    UTSBCEligibilityDTO.prototype.getFirstKey = function() {
        return 0 < this.kvPairs.length ? parseInt(this.kvPairs.keys()[0], 10) : (DebugUtils.Assert(!1, "UTSBCEligibilityDTO::getFirstKey. Requirement is empty or invalid."),
        -1)
    }
    ,
    UTSBCEligibilityDTO.prototype.getFirstValue = function(t) {
        var e = this.kvPairs.get(t);
        return e ? e[0] : -1
    }
    ,
    UTSBCEligibilityDTO.prototype.buildString = function() {
        var a = this
          , s = services.Localization
          , l = this.count
          , t = this.getFirstKey()
          , c = "scope" + this.scope
          , u = "sbc.requirements."
          , e = 1 === l ? u + "player." + c : u + "players." + c
          , i = ""
          , p = this.getValue(t);
        function combineValueStrings(t) {
            return t.map(function(t, e, i) {
                return e < i.length - 1 ? t + " " + s.localize("label.general.or").toUpperCase() : t
            }).join(" ")
        }
        if (this.isCombinedRequirement) {
            n = s.localize(e + ".val", [l.toString()]);
            var d = [];
            this.kvPairs.keys().forEach(function(t) {
                var e = Number(t);
                switch (p = a.getValue(e),
                e) {
                case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
                    var i = "sbc.requirements.combined.team.player-chemistry-points." + c;
                    d.push(combineValueStrings(p.map(function(t) {
                        return s.localize(i, [t.toString()])
                    })));
                    break;
                case SBCEligibilityKey.CHEMISTRY_POINTS:
                    d.push(combineValueStrings(p.map(function(t) {
                        return s.localize("sbc.requirements.combined.team.chemistry-points." + c, [t.toString()])
                    })));
                    break;
                case SBCEligibilityKey.NATION_ID:
                    d.push(combineValueStrings(p.map(function(t) {
                        return UTLocalizationUtil.nationIdToName(t, s)
                    })));
                    break;
                case SBCEligibilityKey.LEAGUE_ID:
                    d.push(combineValueStrings(p.map(function(t) {
                        return UTLocalizationUtil.leagueIdToName(t, s)
                    })));
                    break;
                case SBCEligibilityKey.CLUB_ID:
                    d.push(combineValueStrings(Array.from(new Set(p.map(function(t) {
                        return UTLocalizationUtil.teamIdToAbbr15(t, s)
                    })))));
                    break;
                case SBCEligibilityKey.PLAYER_MIN_OVR:
                    d.push(combineValueStrings(p.map(function(t) {
                        return s.localize("sbc.requirements.rating.min.val", [t.toString()])
                    })));
                    break;
                case SBCEligibilityKey.PLAYER_MAX_OVR:
                    d.push(combineValueStrings(p.map(function(t) {
                        return s.localize("sbc.requirements.rating.max.val", [t.toString()])
                    })));
                    break;
                case SBCEligibilityKey.PLAYER_EXACT_OVR:
                    d.push(combineValueStrings(p.map(function(t) {
                        return s.localize("sbc.requirements.rating.exact.val", [t.toString()])
                    })));
                    break;
                case SBCEligibilityKey.PLAYER_TRADABILITY:
                    var r = p.map(function(t) {
                        var e = "sbc.requirements." + (1 === t ? "untradable" : "tradable") + "." + c;
                        return s.localize(e, [l.toString()])
                    });
                    d.push(combineValueStrings(r));
                    break;
                case SBCEligibilityKey.PLAYER_RARITY_GROUP:
                    var o = s.localize(u + "rare." + c, [l.toString()])
                      , n = combineValueStrings(p.map(function(t) {
                        return s.localize("Player_Group_" + t)
                    }));
                    d.push(n + ": " + o);
                    break;
                default:
                    DebugUtils.Assert(!1, "Reached default case for eligibility string: " + t)
                }
            }, this),
            i = d.join(" + ") + ": " + n
        } else
            switch (t) {
            case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
                i = s.localize(u + "team.player-chemistry-points." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.CHEMISTRY_POINTS:
                i = s.localize(u + "team.chemistry-points." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.TEAM_STAR_RATING:
                i = s.localize(u + "team.rating." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.TEAM_RATING:
                i = s.localize(u + "team.rating1to100." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.PLAYER_QUALITY:
                var r = p[0];
                i = (i = s.localize("sbc.requirements.playerQuality")) + " " + s.localize(u + c),
                r === SBCEligibilityQualityType.BRONZE ? i += " " + s.localize("packtype.bronze") : r === SBCEligibilityQualityType.SILVER ? i += " " + s.localize("packtype.silver") : i += " " + s.localize("packtype.gold");
                break;
            case SBCEligibilityKey.PLAYER_LEVEL:
                var o = s.localize(u + "rare." + c, [l.toString()]);
                i = combineValueStrings(p.map(function(t) {
                    return s.localize("search.cardLevels.cardLevel" + t)
                })) + ": " + o;
                break;
            case SBCEligibilityKey.SAME_NATION_COUNT:
                i = s.localize(e, [p.toString(), s.localize(u + "subType.nation")]);
                break;
            case SBCEligibilityKey.SAME_LEAGUE_COUNT:
                i = s.localize(e, [p.toString(), s.localize(u + "subType.league")]);
                break;
            case SBCEligibilityKey.SAME_CLUB_COUNT:
                i = s.localize(e, [p.toString(), s.localize(u + "subType.club")]);
                break;
            case SBCEligibilityKey.NATION_COUNT:
                i = s.localize(u + "nations." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.LEAGUE_COUNT:
                i = s.localize(u + "leagues." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.CLUB_COUNT:
                i = s.localize(u + "clubs." + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.NATION_ID:
                var n = s.localize(e + ".val", [l.toString()]);
                i = combineValueStrings(p.map(function(t) {
                    return UTLocalizationUtil.nationIdToName(t, s)
                })) + ": " + n;
                break;
            case SBCEligibilityKey.LEAGUE_ID:
                var n = s.localize(e + ".val", [l.toString()]);
                i = combineValueStrings(p.map(function(t) {
                    return UTLocalizationUtil.leagueIdToName(t, s)
                })) + ": " + n;
                break;
            case SBCEligibilityKey.CLUB_ID:
                n = s.localize(e + ".val", [l.toString()]);
                i = combineValueStrings(Array.from(new Set(p.map(function(t) {
                    return UTLocalizationUtil.teamIdToAbbr15(t, s)
                })))) + ": " + n;
                break;
            case SBCEligibilityKey.LEGEND_COUNT:
                var h = 1 === p[0] ? "legend." : "legends.";
                i = s.localize(u + h + c, p.map(function(t) {
                    return t.toString()
                }));
                break;
            case SBCEligibilityKey.PLAYER_RARITY:
                i = combineValueStrings(p.map(function(t) {
                    return s.localize("item.raretype" + t)
                })) + ": " + (n = s.localize(u + "rare." + c, [l.toString()]));
                break;
            case SBCEligibilityKey.PLAYER_RARITY_GROUP:
                n = s.localize(u + "rare." + c, [l.toString()]);
                i = combineValueStrings(p.map(function(t) {
                    return s.localize("Player_Group_" + t)
                })) + ": " + n;
                break;
            case SBCEligibilityKey.PLAYER_MAX_OVR:
                i = s.localize(u + "rating.max." + c, [l.toString(), p[0].toString()]);
                break;
            case SBCEligibilityKey.PLAYER_MIN_OVR:
                i = s.localize(u + "rating.min." + c, [l.toString(), p[0].toString()]);
                break;
            case SBCEligibilityKey.PLAYER_EXACT_OVR:
                i = s.localize(u + "rating.exact." + c, [l.toString(), p[0].toString()]);
                break;
            case SBCEligibilityKey.FIRST_OWNER_PLAYERS_COUNT:
                i = s.localize(u + "firstowner." + c, [p[0].toString()]);
                break;
            case SBCEligibilityKey.PLAYER_TRADABILITY:
                var y = 1 === p[0] ? "untradable" : "tradable";
                i = s.localize(u + y + "." + c, [l.toString()]);
                break;
            default:
                DebugUtils.Assert(!1, "Reached default case building eligibility string: " + t)
            }
        return i
    }
    ,
    UTSBCEligibilityDTO
}(EAObject))
  , UTSBCChallengeEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSBCChallengeEntity(t) {
        var e = i.call(this) || this;
        return e.onDataChange = new EAObservable,
        e.onSave = new EAObservable,
        e.awards = t.rewards,
        e.endTime = t.endTime,
        e.id = t.id,
        e.name = t.name,
        e.description = t.description,
        e.notExpirable = 0 === e.endTime,
        e.priority = t.priority,
        e.repeatable = t.repeatable,
        e.setId = t.setId,
        e.assetId = t.assetId,
        e.formation = t.formation || "",
        e.type = t.type,
        e.status = t.status,
        e.timesCompleted = t.timesCompleted,
        e.eligibilityOperation = t.eligibilityOperation,
        e.eligibilityRequirements = t.requirements,
        e.squad = null,
        1 < e.awards.length && e.awards.sort(function(t, e) {
            return t.getPriority() < e.getPriority() ? -1 : t.getPriority() > e.getPriority() ? 1 : 0
        }),
        e
    }
    return __extends(UTSBCChallengeEntity, i),
    UTSBCChallengeEntity.prototype.reset = function() {
        this.status = SBCChallengeStatus.NOT_STARTED,
        this.squad = null,
        this.onDataChange.notify({
            status: this.status,
            squad: this.squad
        })
    }
    ,
    UTSBCChallengeEntity.prototype.hasNotStarted = function() {
        return this.status === SBCChallengeStatus.NOT_STARTED
    }
    ,
    UTSBCChallengeEntity.prototype.isInProgress = function() {
        return this.status === SBCChallengeStatus.IN_PROGRESS
    }
    ,
    UTSBCChallengeEntity.prototype.isCompleted = function() {
        return this.status === SBCChallengeStatus.COMPLETED
    }
    ,
    UTSBCChallengeEntity.prototype.isBrickChallenge = function() {
        return this.type === SBCChallengeType.BRICK || this.type === SBCChallengeType.CUSTOM_BRICK
    }
    ,
    UTSBCChallengeEntity.prototype.hasExpired = function() {
        if (this.notExpirable)
            return !1;
        var t = Math.floor(Date.now() / MS_PER_SECOND)
          , e = services.Configuration.getFeatureSetting(UTServerSettingsRepository.KEY.SBC_GRACE_PERIOD_MINUTES)
          , i = this.endTime - t;
        return this.hasNotStarted() || (i += e * SECONDS_PER_MINUTE),
        i <= 0
    }
    ,
    UTSBCChallengeEntity.prototype.getApplicableSlotsForCombinedReq = function(r) {
        var o = this
          , n = [];
        return r.keys().forEach(function(t) {
            if (o.squad) {
                var e = parseInt(t, 10)
                  , i = r.getFirstValue(e);
                switch (e) {
                case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
                    n = n.concat(o.getSlotIndiciesByChemPoints(i));
                    break;
                case SBCEligibilityKey.NATION_ID:
                    n = n.concat(o.getSlotIndicesByNation(i));
                    break;
                case SBCEligibilityKey.LEAGUE_ID:
                    n = n.concat(o.getSlotIndicesByLeague(i));
                    break;
                case SBCEligibilityKey.CLUB_ID:
                    n = n.concat(o.getSlotIndicesByClub(i));
                    break;
                case SBCEligibilityKey.PLAYER_MIN_OVR:
                    n = n.concat(o.getSlotIndicesByMinRating(i));
                    break;
                case SBCEligibilityKey.PLAYER_MAX_OVR:
                    n = n.concat(o.getSlotIndicesByMaxRating(i));
                    break;
                case SBCEligibilityKey.PLAYER_EXACT_OVR:
                    n = n.concat(o.getSlotIndicesByExactRating(i));
                    break;
                case SBCEligibilityKey.PLAYER_TRADABILITY:
                    n = n.concat(o.getSlotIndicesByTradableState(0 === i));
                    break;
                default:
                    DebugUtils.Assert(!1, "Reached invalid combined case: " + t)
                }
            }
        }, this),
        n
    }
    ,
    UTSBCChallengeEntity.prototype.hasMultipleValues = function(t, e) {
        return 1 < t.getValue(e).length
    }
    ,
    UTSBCChallengeEntity.prototype.isRequirementMet = function(t) {
        var e, i = this, r = t.keys().length, o = 0, n = 0, a = null;
        if (!this.squad || this.eligibilityRequirements.indexOf(t) < 0)
            return !1;
        if (t.isCombinedRequirement) {
            n = t.count;
            var s = {};
            this.getApplicableSlotsForCombinedReq(t).forEach(function(t) {
                s[t] ? (s[t] += 1,
                s[t] === r && o++) : s[t] = 1
            }, t)
        } else {
            if (1 !== r)
                return DebugUtils.Assert(!1, "Requirement is empty or invalid."),
                !1;
            var l = t.getFirstKey()
              , c = this.hasMultipleValues(t, l) ? t.getValue(l) : t.getFirstValue(l);
            switch (n = c,
            l) {
            case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
                o = this.getNumberOfPlayersWithChemPoints(c, t.scope),
                n = UTSquadEntity.FIELD_PLAYERS - this.squad.simpleBrickIndices.length;
                break;
            case SBCEligibilityKey.CHEMISTRY_POINTS:
                o = this.squad.getChemistry();
                break;
            case SBCEligibilityKey.TEAM_STAR_RATING:
                o = this.squad.getStarRating();
                break;
            case SBCEligibilityKey.TEAM_RATING:
                o = this.squad.getRating();
                break;
            case SBCEligibilityKey.PLAYER_QUALITY:
                var u = this.getPlayersPerQualityTier().keys().map(function(t) {
                    return parseInt(t, 10)
                });
                if (o = -1,
                0 === u.length)
                    break;
                t.scope === SBCEligibilityScope.GREATER ? o = Math.min.apply(Math, u) : t.scope === SBCEligibilityScope.LOWER ? o = Math.max.apply(Math, u) : 1 === u.length && (o = u[0]);
                break;
            case SBCEligibilityKey.PLAYER_LEVEL:
                n = t.count,
                o = this.getNumberOfPlayersByQualityTier(c);
                break;
            case SBCEligibilityKey.SAME_NATION_COUNT:
                a = this.getPlayersPerNation();
                break;
            case SBCEligibilityKey.SAME_LEAGUE_COUNT:
                a = this.getPlayersPerLeague();
                break;
            case SBCEligibilityKey.SAME_CLUB_COUNT:
                a = this.getPlayersPerClub();
                break;
            case SBCEligibilityKey.NATION_COUNT:
                o = this.getPopularNationalities().length;
                break;
            case SBCEligibilityKey.LEAGUE_COUNT:
                o = this.getPopularLeagues().length;
                break;
            case SBCEligibilityKey.CLUB_COUNT:
                o = this.getPopularClubs().length;
                break;
            case SBCEligibilityKey.NATION_ID:
                n = t.count,
                o = this.getNumberOfPlayersByNation(c);
                break;
            case SBCEligibilityKey.LEAGUE_ID:
                n = t.count,
                Array.isArray(c) ? o += c.reduce(function(t, e) {
                    return t + i.getNumberOfPlayersByLeague(e)
                }, 0) : o = this.getNumberOfPlayersByLeague(c);
                break;
            case SBCEligibilityKey.CLUB_ID:
                n = t.count,
                o = this.getNumberOfPlayersByClub(c);
                break;
            case SBCEligibilityKey.LEGEND_COUNT:
                o = this.squad.getNumberOfLegends();
                break;
            case SBCEligibilityKey.PLAYER_RARITY:
                n = t.count,
                o = this.getNumberOfPlayersByRarity(c);
                break;
            case SBCEligibilityKey.PLAYER_RARITY_GROUP:
                n = t.count,
                o = this.getNumberOfPlayersByGroup(c);
                break;
            case SBCEligibilityKey.PLAYER_EXACT_OVR:
            case SBCEligibilityKey.PLAYER_MAX_OVR:
            case SBCEligibilityKey.PLAYER_MIN_OVR:
                n = t.count,
                o = this.getNumberOfPlayersByOVR(l, t.getFirstValue(l));
                break;
            case SBCEligibilityKey.FIRST_OWNER_PLAYERS_COUNT:
                o = this.getNumberOfFirstOwnedPlayers(c);
                break;
            case SBCEligibilityKey.PLAYER_TRADABILITY:
                n = t.count,
                o = this.getNumberOfPlayersByTradability(Array.isArray(c) ? 0 === c[0] : 0 === c);
                break;
            default:
                DebugUtils.Assert(!1, "Reached default case: " + l)
            }
        }
        if (a) {
            var p = (e = []).concat.apply(e, a.values());
            o = Math.max.apply(Math, p)
        }
        return t.scope === SBCEligibilityScope.GREATER ? n <= o : t.scope === SBCEligibilityScope.LOWER ? o <= n : o === n
    }
    ,
    UTSBCChallengeEntity.prototype.meetsRequirements = function() {
        if (this.squad && !this.squad.isSquadFull())
            return !1;
        for (var t = this.eligibilityRequirements.length; 0 < t--; ) {
            var e = this.isRequirementMet(this.eligibilityRequirements[t]);
            if (!e && this.eligibilityOperation === SBCEligibilityOperation.AND)
                return !1;
            if (e && this.eligibilityOperation === SBCEligibilityOperation.OR)
                return !0
        }
        return !0
    }
    ,
    UTSBCChallengeEntity.prototype.canSubmit = function() {
        var t, e;
        return null !== (e = null === (t = this.squad) || void 0 === t ? void 0 : t.isSBCSquadEligible()) && void 0 !== e && e && this.meetsRequirements() && !this.hasExpired()
    }
    ,
    UTSBCChallengeEntity.prototype.hasUntradeableItems = function() {
        return !!this.squad && this.squad.getNonBrickSlots().some(function(t) {
            return t.item.untradeable
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getRequirementCounter = function(t) {
        var e = 0;
        if (!this.isInProgress() || !this.squad || this.eligibilityRequirements.indexOf(t) < 0)
            return -1;
        if (t.isCombinedRequirement)
            return -1;
        var i = t.getFirstKey()
          , r = this.hasMultipleValues(t, i) ? t.getValue(i) : t.getFirstValue(i);
        switch (i) {
        case SBCEligibilityKey.ALL_PLAYERS_CHEMISTRY_POINTS:
            e += this.getNumberOfPlayersWithChemPoints(r, t.scope);
            break;
        case SBCEligibilityKey.NATION_COUNT:
            e += this.getPopularNationalities().length;
            break;
        case SBCEligibilityKey.LEAGUE_COUNT:
            e += this.getPopularLeagues().length;
            break;
        case SBCEligibilityKey.CLUB_COUNT:
            e += this.getPopularClubs().length;
            break;
        case SBCEligibilityKey.NATION_ID:
            e += this.getNumberOfPlayersByNation(r);
            break;
        case SBCEligibilityKey.LEAGUE_ID:
            e += this.getNumberOfPlayersByLeague(Array.isArray(r) ? r[0] : r);
            break;
        case SBCEligibilityKey.CLUB_ID:
            e += this.getNumberOfPlayersByClub(r);
            break;
        case SBCEligibilityKey.PLAYER_LEVEL:
            e += this.getNumberOfPlayersByQualityTier(r);
            break;
        case SBCEligibilityKey.PLAYER_RARITY:
            e += this.getNumberOfPlayersByRarity(r);
            break;
        case SBCEligibilityKey.PLAYER_RARITY_GROUP:
            e += this.getNumberOfPlayersByGroup(r);
            break;
        case SBCEligibilityKey.FIRST_OWNER_PLAYERS_COUNT:
            e += this.getNumberOfFirstOwnedPlayers(r);
            break;
        case SBCEligibilityKey.PLAYER_TRADABILITY:
            e += this.getNumberOfPlayersByTradability(Array.isArray(r) ? 0 === r[0] : 0 === r);
            break;
        default:
            return -1
        }
        return e
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfRequirementsMet = function() {
        var e = this
          , i = 0;
        return this.squad && this.squad.isSquadFull() && i++,
        this.eligibilityRequirements.forEach(function(t) {
            e.isRequirementMet(t) && i++
        }, this),
        i
    }
    ,
    UTSBCChallengeEntity.prototype.getPlayersForCounters = function(t) {
        return void 0 === t && (t = !1),
        this.squad ? this.squad.getNonBrickSlots(t).filter(function(t) {
            return t.isValid()
        }) : []
    }
    ,
    UTSBCChallengeEntity.prototype.qualityCounter = function(t) {
        void 0 === t && (t = !1);
        var i = {};
        return this.getPlayersForCounters(t).forEach(function(t) {
            var e = t.getItem().getTier();
            i[e] ? i[e].push(t.getIndex()) : i[e] = [t.getIndex()]
        }, this),
        i
    }
    ,
    UTSBCChallengeEntity.prototype.leagueCounter = function(t) {
        void 0 === t && (t = !1);
        var i = {};
        return this.getPlayersForCounters(t).forEach(function(t) {
            var e = t.getItem().leagueId;
            i[e] ? i[e].push(t.getIndex()) : i[e] = [t.getIndex()]
        }, this),
        i
    }
    ,
    UTSBCChallengeEntity.prototype.clubCounter = function(t) {
        void 0 === t && (t = !1);
        var r = {};
        return this.getPlayersForCounters(t).forEach(function(t) {
            var e = t.getItem().teamId
              , i = repositories.TeamConfig.getLinkedTeam(e);
            r[i] ? r[i].push(t.getIndex()) : r[i] = [t.getIndex()]
        }, this),
        r
    }
    ,
    UTSBCChallengeEntity.prototype.nationCounter = function(t) {
        void 0 === t && (t = !1);
        var i = {};
        return this.getPlayersForCounters(t).forEach(function(t) {
            var e = t.getItem().nationId;
            i[e] ? i[e].push(t.getIndex()) : i[e] = [t.getIndex()]
        }, this),
        i
    }
    ,
    UTSBCChallengeEntity.prototype.playerCountHelper = function(t, i) {
        var r = this;
        return Array.isArray(t) ? t.reduce(function(t, e) {
            return t + i.call(r, e)
        }, 0) : i.call(this, t)
    }
    ,
    UTSBCChallengeEntity.prototype.getPlayersPerQualityTier = function() {
        var i = this.qualityCounter();
        return new EAHashTable(Object.keys(i).reduce(function(t, e) {
            return t[e] = i[e].length,
            t
        }, {}))
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByRarity = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var r = this.squad;
        return this.playerCountHelper(t, function(i) {
            return r.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && e.getItem().rareflag === i ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByGroup = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var r = this.squad;
        return this.playerCountHelper(t, function(i) {
            return r.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && e.getItem().belongsToGroup(i) ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfFirstOwnedPlayers = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var i = this.squad;
        return this.playerCountHelper(t, function(t) {
            return i.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && 1 === e.item.owners ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByTradability = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.isValid() && t.item.untradeable !== e
        }).length
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByQualityTier = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var r = this.squad;
        return this.playerCountHelper(t, function(i) {
            return r.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && e.getItem().getTier() === i ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByOVR = function(r, t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var o = this.squad;
        return this.playerCountHelper(t, function(i) {
            return o.getNonBrickSlots(e).reduce(function(t, e) {
                switch (r) {
                case SBCEligibilityKey.PLAYER_MIN_OVR:
                    return e.isValid() && e.getItem().rating >= i ? ++t : t;
                case SBCEligibilityKey.PLAYER_MAX_OVR:
                    return e.isValid() && e.getItem().rating <= i ? ++t : t;
                case SBCEligibilityKey.PLAYER_EXACT_OVR:
                    return e.isValid() && e.getItem().rating === i ? ++t : t;
                default:
                    return 0
                }
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getPlayersPerLeague = function() {
        var i = this.leagueCounter();
        return new EAHashTable(Object.keys(i).reduce(function(t, e) {
            return t[e] = i[e].length,
            t
        }, {}))
    }
    ,
    UTSBCChallengeEntity.prototype.getPopularLeagues = function() {
        return Object.keys(this.leagueCounter())
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByLeague = function(t, e) {
        return void 0 === e && (e = !1),
        this.leagueCounter(e)[t] || []
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByLeague = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var r = this.squad;
        return this.playerCountHelper(t, function(i) {
            return r.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && e.getItem().leagueId === i ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getPopularClubs = function() {
        return Object.keys(this.clubCounter())
    }
    ,
    UTSBCChallengeEntity.prototype.getPlayersPerClub = function() {
        var i = this.clubCounter();
        return new EAHashTable(Object.keys(i).reduce(function(t, e) {
            return t[e] = i[e].length,
            t
        }, {}))
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByClub = function(t, e) {
        return void 0 === e && (e = !1),
        this.clubCounter(e)[t] || []
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByTradableState = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.isValid() && t.item.untradeable !== e
        }).map(function(t) {
            return t.index
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByClub = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        if (Array.isArray(t)) {
            var i = t.map(function(t) {
                return repositories.TeamConfig.getLinkedTeam(t)
            });
            t = Array.from(new Set(t.concat(i)))
        } else {
            var r = repositories.TeamConfig.getLinkedTeam(t);
            t = Array.from(new Set([t, r]))
        }
        var o = this.squad;
        return this.playerCountHelper(t, function(r) {
            return o.getNonBrickSlots(e).reduce(function(t, e) {
                var i = repositories.TeamConfig.getLinkedTeam(e.item.teamId);
                return e.isValid() && i === r ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getPopularNationalities = function() {
        return Object.keys(this.nationCounter())
    }
    ,
    UTSBCChallengeEntity.prototype.getPlayersPerNation = function() {
        var i = this.nationCounter();
        return new EAHashTable(Object.keys(i).reduce(function(t, e) {
            return t[e] = i[e].length,
            t
        }, {}))
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByNation = function(t, e) {
        return void 0 === e && (e = !1),
        this.nationCounter(e)[t] || []
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByMinRating = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.item.rating >= e
        }).map(function(t) {
            return t.index
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByMaxRating = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.item.rating <= e
        }).map(function(t) {
            return t.index
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndicesByExactRating = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.item.rating === e
        }).map(function(t) {
            return t.index
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getSlotIndiciesByChemPoints = function(e) {
        return this.getPlayersForCounters(!1).filter(function(t) {
            return t.chemistry === e
        }).map(function(t) {
            return t.index
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersByNation = function(t, e) {
        if (void 0 === e && (e = !1),
        !this.squad)
            return 0;
        var r = this.squad;
        return this.playerCountHelper(t, function(i) {
            return r.getNonBrickSlots(e).reduce(function(t, e) {
                return e.isValid() && e.getItem().nationId === i ? ++t : t
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.getNumberOfPlayersWithChemPoints = function(t, r) {
        if (!this.squad)
            return 0;
        var e = this.squad;
        return this.playerCountHelper(t, function(i) {
            return e.getSBCSlots().reduce(function(t, e) {
                switch (r) {
                case SBCEligibilityScope.GREATER:
                    return e.chemistry >= i ? ++t : t;
                case SBCEligibilityScope.LOWER:
                    return e.chemistry <= i ? ++t : t;
                case SBCEligibilityScope.EXACT:
                    return e.chemistry === i ? ++t : t;
                default:
                    return 0
                }
            }, 0)
        })
    }
    ,
    UTSBCChallengeEntity.prototype.update = function(t) {
        this.eligibilityOperation = t.eligibilityOperation,
        this.assetId = t.assetId,
        this.status = t.status,
        this.timesCompleted = t.timesCompleted,
        this.squad && t.squad ? this.squad.update(t.squad) : this.squad = t.squad,
        this.onDataChange.notify({
            eligibilityOperation: this.eligibilityOperation,
            assetId: this.assetId,
            statut: this.status,
            timesCompleted: this.timesCompleted,
            squad: this.squad
        })
    }
    ,
    UTSBCChallengeEntity
}(EAObject))
  , UTSBCSetEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTSBCSetEntity(t) {
        var e, i, r, o = n.call(this) || this;
        return o.challenges = new EAHashTable,
        o.id = t.id,
        o.name = t.name,
        o.description = t.description,
        o.endTime = t.endTime,
        o.notExpirable = 0 === o.endTime,
        o.priority = t.priority,
        o.assetId = t.assetId,
        o.challengesCount = t.challengeCount,
        o.challengesCompletedCount = t.challengesCompleted,
        o.timesCompleted = t.timesCompleted,
        o.isFeatured = t.featured,
        o.isFavourite = t.favourite,
        o.hidden = t.hidden,
        o.previewImageId = t.previewImageId,
        o.tutorial = t.tutorial,
        o.awards = t.rewards,
        o.refreshInterval = null !== (e = t.refreshInterval) && void 0 !== e ? e : 0,
        o.repeatabilityMode = t.repeatabilityMode,
        o.repeats = null !== (i = t.repeats) && void 0 !== i ? i : 0,
        o.startTime = null !== (r = t.startTime) && void 0 !== r ? r : 0,
        o.isSingleChallenge = 1 === t.challengeCount,
        1 < o.awards.length && o.awards.sort(function(t, e) {
            return t.getPriority() < e.getPriority() ? -1 : t.getPriority() > e.getPriority() ? 1 : 0
        }),
        o
    }
    return __extends(UTSBCSetEntity, n),
    Object.defineProperty(UTSBCSetEntity.prototype, "isRepeatable", {
        get: function() {
            return this.repeatabilityMode !== SBCRepeatabilityMode.NON_REPEATABLE
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSBCSetEntity.prototype, "isLimitedRepeatable", {
        get: function() {
            return this.repeatabilityMode === SBCRepeatabilityMode.LIMITED || this.repeatabilityMode === SBCRepeatabilityMode.REFRESH
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSBCSetEntity.prototype.challengesComplete = function() {
        return this.challengesCount === this.challengesCompletedCount
    }
    ,
    UTSBCSetEntity.prototype.isComplete = function() {
        return (!this.isRepeatable || this.isLimitedRepeatable && 0 === this.getRepeatsRemaining()) && this.challengesComplete()
    }
    ,
    UTSBCSetEntity.prototype.isDisplayable = function() {
        return !this.hasExpired()
    }
    ,
    UTSBCSetEntity.prototype.getTimeRemaining = function() {
        return this.endTime - Math.floor(Date.now() / MS_PER_SECOND)
    }
    ,
    UTSBCSetEntity.prototype.hasExpired = function(t) {
        if (this.notExpirable)
            return !1;
        var e = this.getTimeRemaining();
        return t && (e += services.Configuration.getFeatureSetting(UTServerSettingsRepository.KEY.SBC_GRACE_PERIOD_MINUTES) * SECONDS_PER_MINUTE),
        e < 0
    }
    ,
    UTSBCSetEntity.prototype.getChallenge = function(t) {
        return this.challenges.get(t)
    }
    ,
    UTSBCSetEntity.prototype.getChallenges = function() {
        return this.challenges.values()
    }
    ,
    UTSBCSetEntity.prototype.getPreviewImageId = function() {
        return this.previewImageId
    }
    ,
    UTSBCSetEntity.prototype.setChallenges = function(t) {
        for (var e = 0, i = t; e < i.length; e++) {
            var r = i[e]
              , o = this.getChallenge(r.id);
            o ? o.update(r) : this.challenges.set(r.id, r)
        }
    }
    ,
    UTSBCSetEntity.prototype.getTimeSinceStart = function() {
        return Math.floor(Date.now() / MS_PER_SECOND) - this.startTime
    }
    ,
    UTSBCSetEntity.prototype.getTimeSinceRefreshPeriodStart = function() {
        return 0 < this.refreshInterval ? this.getTimeSinceStart() % this.refreshInterval : 0
    }
    ,
    UTSBCSetEntity.prototype.getRefreshPeriodStartTime = function() {
        return Math.floor(Date.now() / MS_PER_SECOND) - this.getTimeSinceRefreshPeriodStart()
    }
    ,
    UTSBCSetEntity.prototype.getRefreshPeriodEndTime = function() {
        return this.getRefreshPeriodStartTime() + this.refreshInterval
    }
    ,
    UTSBCSetEntity.prototype.getRefreshTimeRemaining = function() {
        return this.repeatabilityMode === SBCRepeatabilityMode.REFRESH ? this.refreshInterval - this.getTimeSinceRefreshPeriodStart() : 0
    }
    ,
    UTSBCSetEntity.prototype.getRepeatsRemaining = function() {
        return this.isLimitedRepeatable ? this.repeats - this.timesCompleted : 0
    }
    ,
    UTSBCSetEntity
}(EAObject))
  , UTSBCFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSBCFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(UTSBCFactory, i),
    UTSBCFactory.prototype.createCategory = function(t) {
        return new UTSBCCategoryDTO(t.categoryId,t.priority,t.name,SBCCategoryType.SERVER)
    }
    ,
    UTSBCFactory.prototype.createSet = function(t) {
        var e, i = this, r = JSUtils.isNumber(t.endTime) && 0 < t.endTime ? t.endTime + Math.round(Date.now() / 1e3) : 0, o = {
            assetId: JSUtils.isEmpty(t.setImageId) ? t.trophyId : t.setImageId,
            challengeCount: t.challengesCount,
            challengesCompleted: t.challengesCompletedCount,
            description: t.description,
            endTime: r,
            favourite: t.taggedByUser,
            featured: t.taggedByProduction,
            hidden: t.hidden,
            id: t.setId,
            name: t.name,
            previewImageId: t.rewardPreviewImageId ? t.rewardPreviewImageId : "",
            priority: t.priority,
            repeatabilityMode: t.repeatabilityMode,
            rewards: t.awards ? t.awards.map(function(t) {
                return i.rewardFactory.createRewardFromSbcData(t)
            }) : [],
            timesCompleted: null !== (e = t.timesCompletedInInterval) && void 0 !== e ? e : t.timesCompleted,
            tutorial: t.tutorial
        };
        return t.repeats && (o.repeats = t.repeats),
        t.repeatRefreshInterval && (o.refreshInterval = t.repeatRefreshInterval),
        t.startTime && (o.startTime = t.startTime),
        new UTSBCSetEntity(o)
    }
    ,
    UTSBCFactory.prototype.createChallenge = function(t) {
        var e = this
          , i = JSUtils.isNumber(t.endTime) && 0 < t.endTime ? t.endTime + Math.round(Date.now() / 1e3) : 0
          , r = {
            assetId: JSUtils.isEmpty(t.challengeImageId) ? t.trophyId : t.challengeImageId,
            description: t.description,
            eligibilityOperation: t.elgOperation ? t.elgOperation : SBCEligibilityOperation.AND,
            endTime: i,
            formation: t.formation ? t.formation : "",
            id: t.challengeId,
            name: t.name,
            priority: t.priority,
            repeatable: t.repeatable,
            requirements: this.createRequirements(t.elgReq),
            rewards: t.awards ? t.awards.map(function(t) {
                return e.rewardFactory.createRewardFromSbcData(t)
            }) : [],
            setId: t.setId,
            status: t.status,
            timesCompleted: t.timesCompleted,
            type: t.type
        };
        return new UTSBCChallengeEntity(r)
    }
    ,
    UTSBCFactory.prototype.createSetsFromCategories = function(t) {
        var r = this
          , e = []
          , o = [];
        return t.forEach(function(t) {
            var i = r.createCategory(t);
            e.push(i),
            t.sets.forEach(function(t) {
                var e = r.createSet(t);
                i.setIds.push(e.id),
                o.push(e)
            }, r)
        }, this),
        {
            categories: e,
            sets: o
        }
    }
    ,
    UTSBCFactory.prototype.createSetChallenges = function(t) {
        var e = this;
        return t.map(function(t) {
            return e.createChallenge(t)
        }, this)
    }
    ,
    UTSBCFactory.prototype.createRequirements = function(t) {
        var i = new EAHashTable;
        return t.forEach(function(e) {
            if (i.has(e.eligibilitySlot)) {
                var t = i.get(e.eligibilitySlot);
                if (t)
                    e.eligibilityKey == SBCEligibilityKey.CLUB_ID && t.some(function(t) {
                        return e.eligibilityKey == t.eligibilityKey && e.eligibilitySlot == t.eligibilitySlot && e.eligibilityValue == t.eligibilityValue
                    }) || t.push(e)
            } else
                i.set(e.eligibilitySlot, [e])
        }),
        i.values().map(function(t) {
            return new UTSBCEligibilityDTO(t)
        })
    }
    ,
    UTSBCFactory
}(EAObject))
  , UTSBCCategoryDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTSBCCategoryDTO(t, e, i, r) {
        var o = n.call(this) || this;
        return o.id = t,
        o.priority = e,
        o.name = i,
        o.setIds = [],
        o.displayable = !1,
        o.isAll = r === SBCCategoryType.CUSTOM_ALL,
        o.isFavourite = r === SBCCategoryType.CUSTOM_FAVOURITE,
        o.type = r,
        o
    }
    return __extends(UTSBCCategoryDTO, n),
    UTSBCCategoryDTO
}(EAObject))
  , UTSquadBuildingChallengeDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadBuildingChallengeDAO(t) {
        var e = o.call(this) || this
          , i = new UTItemEntityFactory
          , r = new UTRewardFactory(i);
        return e.authDelegate = t,
        e.factory = new UTSBCFactory(r),
        e.updateFactory = new UTObjectivesUpdateFactory,
        e
    }
    return __extends(UTSquadBuildingChallengeDAO, o),
    UTSquadBuildingChallengeDAO.prototype.getSets = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/sbs/sets"),
        services.UTUtasRequestQueue.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) ? i.response = r.factory.createSetsFromCategories(e.response.categories) : i.response = {
                categories: [],
                sets: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTSquadBuildingChallengeDAO.prototype.getChallengesForSet = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/sbs/setId/" + t + "/challenges"),
        services.UTUtasRequestQueue.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) && (i.response = {
                challenges: r.factory.createSetChallenges(e.response.challenges)
            }),
            o.notify(i)
        }),
        o
    }
    ,
    UTSquadBuildingChallengeDAO.prototype.loadChallenge = function(t, e) {
        var r = this
          , o = new EAObservable
          , i = new UTHttpRequest(this.authDelegate);
        return e ? i.setPath("/ut/game/" + GAME_NAME + "/sbs/challenge/" + t + "/squad") : (i.setPath("/ut/game/" + GAME_NAME + "/sbs/challenge/" + t),
        i.setRequestType(HttpRequestMethod.POST)),
        services.UTUtasRequestQueue.send(i).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) ? i.response = {
                squad: factories.Squad.createSBCSquad(e.response.squad, r.factory, e.response.playerRequirements)
            } : i.response = {
                squad: null
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTSquadBuildingChallengeDAO.prototype.saveChallenge = function(t, e) {
        var i = this
          , r = new EAObservable
          , o = new UTHttpRequest(this.authDelegate);
        return o.setPath("/ut/game/" + GAME_NAME + "/sbs/challenge/" + t + "/squad"),
        o.requestType = HttpRequestMethod.PUT,
        o.setRequestBody({
            players: e.getPlayers().map(function(t) {
                var e = t.getItem();
                return {
                    index: t.getIndex(),
                    itemData: {
                        id: e.id,
                        dream: e.concept
                    }
                }
            })
        }),
        services.UTUtasRequestQueue.send(o).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    UTSquadBuildingChallengeDAO.prototype.submitChallenge = function(t, e, i) {
        var r = this
          , o = new EAObservable
          , n = new UTHttpRequest(this.authDelegate);
        n.setPath("/ut/game/" + GAME_NAME + "/sbs/challenge/" + t),
        n.requestType = HttpRequestMethod.PUT;
        var a = {
            skipUserSquadValidation: e
        };
        return i && (a.chemistryProfilesVersion = i),
        n.setUrlVariables(a),
        services.UTUtasRequestQueue.send(n).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) && (e.response.squads ? (i.status = HttpStatusCode.CONFLICT,
            i.success = !1,
            i.response = {
                itemViolations: e.response.squads.reduce(function(t, e) {
                    var i = e.playerList.filter(function(t) {
                        return 0 < t
                    });
                    return 0 < i.length && t.push({
                        name: e.squad,
                        itemIds: i
                    }),
                    t
                }, [])
            }) : i.response = {
                challengeId: e.response.challengeId,
                credits: e.response.credits ? e.response.credits : 0,
                grantedChallengeAwards: e.response.grantedChallengeAwards ? e.response.grantedChallengeAwards : [],
                objectiveUpdates: e.response.dynamicObjectivesUpdates ? r.updateFactory.createObjectivesUpdate(e.response.dynamicObjectivesUpdates) : null,
                preOrderPacks: e.response.preOrderPacks ? e.response.preOrderPacks : 0,
                recoveredPacks: e.response.recoveredPacks ? e.response.recoveredPacks : 0,
                setId: e.response.setId
            }),
            o.notify(i)
        }),
        o
    }
    ,
    UTSquadBuildingChallengeDAO.prototype.setFavouriteTag = function(t, e) {
        var i = this
          , r = new EAObservable
          , o = new UTHttpRequest(this.authDelegate);
        return o.setPath("/ut/game/" + GAME_NAME + "/sbs/sets/tag"),
        o.setRequestType(HttpRequestMethod.PUT),
        o.setRequestBody({
            sets: [{
                setId: t,
                tagged: e
            }]
        }),
        services.UTUtasRequestQueue.send(o).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e)
        }),
        r
    }
    ,
    UTSquadBuildingChallengeDAO
}(EAObject))
  , UTStoreRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTStoreRepository() {
        var t = e.call(this) || this;
        return t.catalogArticles = new EAHashTable,
        t.expiryTimestamp = 0,
        t.myPacks = new EAIterator([]),
        t
    }
    return __extends(UTStoreRepository, e),
    UTStoreRepository.prototype.reset = function() {
        this.catalogArticles.clear(),
        this.expiryTimestamp = 0,
        this.myPacks.resetCollection([])
    }
    ,
    UTStoreRepository.prototype.values = function() {
        return this.myPacks.values().concat(this.catalogArticles.values())
    }
    ,
    UTStoreRepository.prototype.isEmpty = function() {
        return this.catalogArticles.length < 1 && this.catalogArticles.length < 1
    }
    ,
    UTStoreRepository.prototype.setDirty = function() {
        this.reset()
    }
    ,
    UTStoreRepository.prototype.setCacheTimestamp = function(t, e) {
        void 0 === e && (e = 5 * SECONDS_PER_MINUTE),
        this.expiryTimestamp = t + e * MS_PER_SECOND
    }
    ,
    UTStoreRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTStoreRepository.prototype.setArticles = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.setArticle(t.id, t)
        })
    }
    ,
    UTStoreRepository.prototype.getArticle = function(e) {
        var t = this.myPacks.values().find(function(t) {
            return t.id.toString() === e
        });
        return t || this.catalogArticles.get(e)
    }
    ,
    UTStoreRepository.prototype.setArticle = function(t, e) {
        e instanceof UTStoreItemPackEntity && e.isMyPack ? this.myPacks.add(e) : this.catalogArticles.set(t, e)
    }
    ,
    UTStoreRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.Store = new UTStoreRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTStoreXrayItemPackEntity = function(n) {
    function UTStoreXrayItemPackEntity(t, e, i, r) {
        var o = n.call(this, t, e, i, r) || this;
        return o.isDuplicateChecked = !1,
        o.duplicateIds = [],
        o.itemCollection = [],
        o.previewItem = t.previewItem,
        o.previewCreateTime = t.previewCreateTime,
        o.previewExpireTime = t.previewExpireTime,
        o.wasRefreshed = t.wasRefreshed,
        o
    }
    return __extends(UTStoreXrayItemPackEntity, n),
    UTStoreXrayItemPackEntity.prototype.isPreviewed = function() {
        return this.isPreviewExpired() && this.resetPack(),
        !(this.isPreviewExpired() || this.previewItem instanceof UTNullItemEntity)
    }
    ,
    UTStoreXrayItemPackEntity.prototype.isPreviewExpired = function() {
        return Date.now() / MS_PER_SECOND > this.previewExpireTime
    }
    ,
    UTStoreXrayItemPackEntity.prototype.shouldRequestServerPreview = function() {
        return (this.isPreviewExpired() || this.isArticleExpired()) && this.resetPack(),
        0 === this.itemCollection.length
    }
    ,
    UTStoreXrayItemPackEntity.prototype.isCollectionCached = function() {
        return !this.shouldRequestServerPreview()
    }
    ,
    UTStoreXrayItemPackEntity.prototype.resetPack = function() {
        this.isDuplicateChecked = !1,
        this.duplicateIds = [],
        this.itemCollection = [],
        this.previewItem = new UTNullItemEntity,
        this.previewCreateTime = 0,
        this.previewExpireTime = 0,
        this.wasRefreshed = !1
    }
    ,
    UTStoreXrayItemPackEntity.prototype.setDuplicateCollection = function(t) {
        this.duplicateIds = t
    }
    ,
    UTStoreXrayItemPackEntity.prototype.setPreviewCollection = function(t) {
        this.itemCollection = t
    }
    ,
    UTStoreXrayItemPackEntity.prototype.getPreviewItem = function() {
        return this.previewItem
    }
    ,
    UTStoreXrayItemPackEntity.prototype.isRefreshed = function() {
        return this.wasRefreshed
    }
    ,
    UTStoreXrayItemPackEntity.prototype.getPreviewCollection = function() {
        var t = new EAObservable
          , e = new UTHttpResponseDTO;
        return this.shouldRequestServerPreview() ? this.previewPack() : (e.success = !0,
        e.status = HttpStatusCode.NOT_MODIFIED,
        e.response = {
            items: this.itemCollection,
            previewItem: this.previewItem,
            previewCreateTime: this.previewCreateTime,
            previewExpireTime: this.previewExpireTime,
            wasRefreshed: !1
        },
        t.notify(e),
        t)
    }
    ,
    UTStoreXrayItemPackEntity.prototype.previewPack = function() {
        var o = this
          , t = this.storeDAO.previewArticle(this.id, this.isPreviewed());
        return t.observe(this, function(t, e) {
            var i, r;
            t.unobserve(o),
            e.success && e.response && !JSUtils.isString(e.response) ? (o.previewItem = e.response.previewItem,
            o.previewCreateTime = e.response.previewCreateTime,
            o.previewExpireTime = e.response.previewExpireTime,
            o.setPreviewCollection(null !== (i = e.response.items) && void 0 !== i ? i : []),
            o.wasRefreshed = e.response.wasRefreshed) : (null === (r = e.error) || void 0 === r ? void 0 : r.code) === UtasErrorCode.SERVICE_IS_DISABLED && (repositories.Store.setDirty(),
            o.setPreviewCollection([]),
            services.Store.setStorePreviewsEnabled(!1))
        }),
        t
    }
    ,
    UTStoreXrayItemPackEntity.prototype.getPreviewDuplicates = function() {
        var t = new EAObservable
          , e = new UTHttpResponseDTO;
        return this.isDuplicateChecked ? (e.success = !0,
        e.status = HttpStatusCode.NOT_MODIFIED,
        e.response = {
            duplicateIds: this.duplicateIds
        },
        t.notify(e),
        t) : this.duplicateCheckPack()
    }
    ,
    UTStoreXrayItemPackEntity.prototype.duplicateCheckPack = function() {
        var r = this
          , t = this.storeDAO.duplicateCheckPreview(this.id);
        return t.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            e.success && e.response && !JSUtils.isString(e.response) ? (r.isDuplicateChecked = !0,
            r.setDuplicateCollection(e.response.duplicateIds)) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && (repositories.Store.setDirty(),
            r.setDuplicateCollection([]),
            r.isDuplicateChecked = !1,
            services.Store.setStoreDuplicateChecksEnabled(!1))
        }),
        t
    }
    ,
    UTStoreXrayItemPackEntity
}(UTStoreItemPackEntity)
  , UTStoreArticleEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__assign = this && this.__assign || function() {
    return (__assign = Object.assign || function(t) {
        for (var e, i = 1, r = arguments.length; i < r; i++)
            for (var o in e = arguments[i])
                Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t
    }
    ).apply(this, arguments)
}
,
function(i) {
    function UTStoreArticleEntityFactory(t) {
        var e = i.call(this) || this;
        return e.storeDAO = t,
        e
    }
    return __extends(UTStoreArticleEntityFactory, i),
    UTStoreArticleEntityFactory.prototype.generateStoreArticleOptions = function(t) {
        var e, i, r, o, n, a, s = {
            assetId: t.assetId,
            categoryList: {
                categoryId: null !== (i = null === (e = t.categoryList) || void 0 === e ? void 0 : e.categoryId) && void 0 !== i ? i : 0,
                orderInCategory: null !== (o = null === (r = t.categoryList) || void 0 === r ? void 0 : r.orderInCategory) && void 0 !== o ? o : 0
            },
            dealType: t.dealType,
            displayGroup: {
                priority: t.displayGroup.priority,
                value: t.displayGroup.value
            },
            displayGroupAssetId: t.displayGroupAssetId,
            displayGroupUseDefaultImage: t.displayGroupUseDefaultImage,
            globalAvailableQuantity: null !== (n = t.globalAvailableQuantity) && void 0 !== n ? n : -1,
            id: t.id,
            isSegmented: t.isSegmented,
            packType: t.packType,
            quantity: t.quantity,
            saleType: t.saleType,
            sortPriority: t.sortPriority,
            state: t.state,
            subArticleId: t.subArticleId,
            userAvailableQuantity: null !== (a = t.purchaseLimit) && void 0 !== a ? a : -1
        };
        return t.guidAssetId && (s.guidAssetId = t.guidAssetId),
        s
    }
    ,
    UTStoreArticleEntityFactory.prototype.generateStorePurchasableArticleOptions = function(t) {
        var e, i, r, o, n = this.generateStoreArticleOptions(t);
        return __assign(__assign({}, n), {
            currencies: null !== (e = t.currencies) && void 0 !== e ? e : [],
            dealType: null !== (i = t.dealType) && void 0 !== i ? i : PurchaseDealType.REGULAR,
            end: null !== (r = t.end) && void 0 !== r ? r : 0,
            start: null !== (o = t.start) && void 0 !== o ? o : 0,
            tradable: !JSUtils.isBoolean(t.untradeable) || !t.untradeable
        })
    }
    ,
    UTStoreArticleEntityFactory.prototype.generateStoreItemPackOptions = function(t) {
        var e, i, r, o, n, a = PurchaseArticleContentType.UNKNOWN;
        if (JSUtils.isValid(t.packContentInfo)) {
            var s = t.packContentInfo.contentType
              , l = Object.values(PurchaseArticleContentType).includes(s);
            DebugUtils.Assert(l, "Unexpected store article content type: " + s),
            l && (a = s)
        }
        var c = this.generateStorePurchasableArticleOptions(t)
          , u = __assign(__assign({}, c), {
            packContentInfo: {
                contentType: a,
                itemQuantity: null !== (i = null === (e = t.packContentInfo) || void 0 === e ? void 0 : e.itemQuantity) && void 0 !== i ? i : 0,
                rareQuantity: null !== (o = null === (r = t.packContentInfo) || void 0 === r ? void 0 : r.rareQuantity) && void 0 !== o ? o : 0
            },
            playerPickPack: null !== (n = t.isPlayerPickPack) && void 0 !== n && n
        });
        return t.packOdds && (u.packOdds = t.packOdds),
        u
    }
    ,
    UTStoreArticleEntityFactory.prototype.generateStoreXrayItemPackOptions = function(t) {
        var e, i, r, o = this.generateStoreItemPackOptions(t);
        return __assign(__assign({}, o), {
            previewCreateTime: null !== (e = t.previewCreateTime) && void 0 !== e ? e : 0,
            previewExpireTime: null !== (i = t.previewExpireTime) && void 0 !== i ? i : 0,
            previewItem: factories.Item.createItem(t.previewItem),
            wasRefreshed: null !== (r = t.wasRefreshed) && void 0 !== r && r
        })
    }
    ,
    UTStoreArticleEntityFactory.prototype.generateStorePointsPackOptions = function(t) {
        var e, i, r, o, n, a, s, l = null !== (e = getAppMain().getConfigRepository().getConfigObject(EAConfigurationRepository.KEY_MTX_SETTINGS)) && void 0 !== e ? e : {}, c = this.generateStoreArticleOptions(t), u = __assign(__assign({}, c), {
            firstPartyStoreId: null !== (i = t.firstPartyStoreId) && void 0 !== i ? i : 0,
            points: null !== (r = t.points) && void 0 !== r ? r : 0,
            productId: t.productId,
            isBestValue: l.bestValue === t.points,
            isMostPopular: l.mostPopular === t.points
        });
        return t.extPrice && (u.extPrice = {
            originalPrice: {
                groupName: null !== (n = null === (o = t.extPrice) || void 0 === o ? void 0 : o.originalPrice.groupName) && void 0 !== n ? n : "",
                productId: null !== (s = null === (a = t.extPrice) || void 0 === a ? void 0 : a.originalPrice.productId) && void 0 !== s ? s : ""
            }
        },
        t.extPrice.finalPrice && (u.extPrice.finalPrice = {
            groupName: t.extPrice.finalPrice.groupName,
            productId: t.extPrice.finalPrice.productId
        })),
        u
    }
    ,
    UTStoreArticleEntityFactory.prototype.generateStoreBundleOptions = function(t) {
        var e, i, r, o = this.generateStorePurchasableArticleOptions(t);
        return __assign(__assign({}, o), {
            assetId: null !== (e = t.assetId) && void 0 !== e ? e : 0,
            bundleItems: this.createBundleItemEntities(null !== (i = t.bundleItems) && void 0 !== i ? i : []),
            dealType: null !== (r = t.dealType) && void 0 !== r ? r : PurchaseDealType.REGULAR,
            tradable: !JSUtils.isBoolean(t.untradeable) || !t.untradeable
        })
    }
    ,
    UTStoreArticleEntityFactory.prototype.createStoreItemPack = function(t, e, i) {
        return new UTStoreItemPackEntity(this.generateStoreItemPackOptions(t),this.storeDAO,e,i)
    }
    ,
    UTStoreArticleEntityFactory.prototype.createStoreXrayItemPack = function(t, e, i) {
        return new UTStoreXrayItemPackEntity(this.generateStoreXrayItemPackOptions(t),this.storeDAO,e,i)
    }
    ,
    UTStoreArticleEntityFactory.prototype.createStorePointsPack = function(t) {
        return new UTStorePointsPackEntity(this.generateStorePointsPackOptions(t),this.storeDAO)
    }
    ,
    UTStoreArticleEntityFactory.prototype.createStoreBundle = function(t) {
        return new UTStoreBundleEntity(this.generateStoreBundleOptions(t),this.storeDAO)
    }
    ,
    UTStoreArticleEntityFactory.prototype.createStoreArticles = function(t, r, e, o) {
        var n = this
          , a = []
          , s = new Map(null == e ? void 0 : e.map(function(t) {
            return [t.packId, t.score]
        }));
        return t.forEach(function(t) {
            Array.isArray(t.categoryList) && (t.categoryList = t.categoryList[0]);
            var e = t.packType;
            if (e === PurchasePackType.CARDPACK) {
                var i = s.get(t.id);
                !function(t) {
                    var e;
                    return (null === (e = t.isPreviewable) || void 0 === e || e) && t.packType === PurchasePackType.CARDPACK && t.displayGroup.value !== PurchaseDisplayGroup.MYPACKS && r
                }(t) ? a.push(n.createStoreItemPack(t, i, o)) : a.push(n.createStoreXrayItemPack(t, i, o))
            } else
                e === PurchasePackType.POINTSPACK ? a.push(n.createStorePointsPack(t)) : e === PurchasePackType.VANITYBUNDLE ? a.push(n.createStoreBundle(t)) : DebugUtils.Assert(!1, "Unsupported " + e + " PurchasePackType found in UTStoreArticleEntityFactory.createStoreArticles")
        }),
        a
    }
    ,
    UTStoreArticleEntityFactory.prototype.createBundleItemEntities = function(t) {
        var e = [];
        return t.forEach(function(t) {
            e.push(factories.Item.createVanityItem(t))
        }),
        e
    }
    ,
    UTStoreArticleEntityFactory
}(EAObject))
  , UTTransfersDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTTransfersDAO(t, e) {
        var i = r.call(this) || this;
        return i.authDelegate = t,
        i.itemFactory = new UTItemEntityFactory,
        i.marketRepository = new UTTransferMarketRepository,
        i.requestDelegate = e,
        i.updateFactory = new UTObjectivesUpdateFactory,
        i
    }
    return __extends(UTTransfersDAO, r),
    UTTransfersDAO.prototype.clearCache = function() {
        this.marketRepository.reset()
    }
    ,
    UTTransfersDAO.prototype.getAuctionData = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , i = [];
        return t.forEach(function(t) {
            var e = t.getAuctionData();
            e.isValid() && (e.isUpdating = !0,
            i.push(e.tradeId))
        }),
        DebugUtils.Assert(0 < i.length, "Expected one or more items to retrieve auction data."),
        e.cache = !1,
        e.setPath("/ut/game/" + GAME_NAME + "/trade/status/lite"),
        e.setUrlVariables({
            tradeIds: i.join(",")
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? i.response = {
                items: factories.Item.generateItemsFromAuctionData(e.response.auctionInfo, e.response.duplicateItemIdList)
            } : i.response = {
                items: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTTransfersDAO.prototype.bid = function(n, t) {
        var a = this
          , s = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , i = n.getAuctionData().tradeId;
        return e.requestType = HttpRequestMethod.PUT,
        e.setPath("/ut/game/" + GAME_NAME + "/trade/" + i + "/bid"),
        e.setRequestBody({
            bid: t
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(a);
            var i = new UTHttpResponseDTO
              , r = null
              , o = [];
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? (o = a.itemFactory.generateItemsFromAuctionData(e.response.auctionInfo, e.response.duplicateItemIdList),
            e.response.dynamicObjectivesUpdates && (r = a.updateFactory.createObjectivesUpdate(e.response.dynamicObjectivesUpdates)),
            i.response = {
                coins: e.response.credits,
                items: o
            },
            0 < o.length ? n.update(o[0]) : n.getAuctionData().setStale(!0)) : i.response = {
                coins: 0,
                items: []
            },
            s.notify(i),
            0 < o.length && getDefaultDispatcher().notify(AppNotification.ITEM_BID, a, {
                itemIds: o.map(function(t) {
                    return t.id
                })
            }),
            r && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, a, r)
        }),
        s
    }
    ,
    UTTransfersDAO.prototype.removeSold = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , i = null != t ? t : "sold";
        return e.requestType = HttpRequestMethod.DELETE,
        e.setPath("/ut/game/" + GAME_NAME + "/trade/" + i),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            o.notify(i)
        }),
        o
    }
    ,
    UTTransfersDAO.prototype.relistExpiredAuctions = function() {
        var o = this
          , n = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.requestType = HttpRequestMethod.PUT,
        t.setPath("/ut/game/" + GAME_NAME + "/auctionhouse/relist"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i = new UTHttpResponseDTO
              , r = null;
            t.unobserve(o),
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) ? (r = e.response.dynamicObjectivesUpdates ? o.updateFactory.createObjectivesUpdate(e.response.dynamicObjectivesUpdates) : null,
            i.response = {
                auctionIds: e.response.tradeIdList ? e.response.tradeIdList.map(function(t) {
                    return t.idStr
                }) : []
            }) : i.response = {
                auctionIds: []
            },
            n.notify(i),
            r && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, o, r)
        }),
        n
    }
    ,
    UTTransfersDAO.prototype.watchItems = function(o) {
        var n = this
          , a = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , e = o.map(function(t) {
            return {
                id: t.getAuctionData().tradeId
            }
        });
        return t.requestType = HttpRequestMethod.PUT,
        t.setPath("/ut/game/" + GAME_NAME + "/watchlist"),
        t.setRequestBody({
            auctionInfo: e
        }),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i = new UTHttpResponseDTO
              , r = o.map(function(t) {
                return t.id
            });
            t.unobserve(n),
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                itemIds: r
            },
            e.success && (o.forEach(function(t) {
                return t.getAuctionData().watched = !0
            }),
            getDefaultDispatcher().notify(AppNotification.ITEM_WATCH, n, {
                itemIds: r
            })),
            a.notify(i)
        }),
        a
    }
    ,
    UTTransfersDAO.prototype.unwatchItems = function(o) {
        var n = this
          , a = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , e = o.map(function(t) {
            return t.getAuctionData().tradeId
        });
        return t.requestType = HttpRequestMethod.DELETE,
        t.setPath("/ut/game/" + GAME_NAME + "/watchlist"),
        t.setUrlVariables({
            tradeId: e.join(",")
        }),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            var i = new UTHttpResponseDTO
              , r = o.map(function(t) {
                return t.id
            });
            t.unobserve(n),
            JSUtils.assignPropertyValues(e, i),
            i.response = {
                itemIds: r
            },
            e.success && (o.forEach(function(t) {
                return t.getAuctionData().watched = !1
            }),
            getDefaultDispatcher().notify(AppNotification.ITEM_UNWATCH, n, {
                itemIds: r
            })),
            a.notify(i)
        }),
        a
    }
    ,
    UTTransfersDAO.prototype.getItemMarketDataByDefId = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/marketdata/pricelimits"),
        e.setUrlVariables({
            defId: t.join(",")
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && Array.isArray(e.response) ? i.response = {
                marketData: e.response.map(function(t) {
                    return {
                        defId: t.defId,
                        itemId: t.itemId,
                        priceLimits: new UTValueBandVO(t.minPrice,t.maxPrice)
                    }
                })
            } : i.response = {
                marketData: []
            },
            o.notify(i)
        }),
        o
    }
    ,
    UTTransfersDAO.prototype.getItemMarketDataById = function(t) {
        var i = this
          , r = new EAObservable
          , o = new UTHttpResponseDTO;
        0 === t.length && (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.response = {
            marketData: []
        },
        r.notify(o));
        var e = new UTHttpRequest(this.authDelegate);
        return e.setPath("/ut/game/" + GAME_NAME + "/marketdata/item/pricelimits"),
        e.setUrlVariables({
            itemIdList: t.join(",")
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(i),
            JSUtils.assignPropertyValues(e, o),
            e.success && Array.isArray(e.response) ? o.response = {
                marketData: e.response.map(function(t) {
                    return {
                        defId: t.defId,
                        itemId: t.itemId,
                        priceLimits: new UTValueBandVO(t.minPrice,t.maxPrice)
                    }
                })
            } : o.response = {
                marketData: []
            },
            r.notify(o)
        }),
        r
    }
    ,
    UTTransfersDAO
}(EAObject))
  , UTPersonaClubDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTPersonaClubDTO(t) {
        var e = i.call(this) || this;
        return e.abbr = t.clubAbbr,
        e.name = t.clubName,
        e.established = t.established,
        e.lastAccessTime = t.lastAccessTime,
        e.assetId = t.assetId,
        e.sku = t.sku,
        e.platform = FUTDataUtils.mapSkuToPlatform(e.sku),
        e.year = t.year,
        e.isXbox = e.platform === GamePlatform.XBL,
        e.isPlaystation = e.platform === GamePlatform.PSN,
        e.isPC = e.platform === GamePlatform.PC,
        e.isSwitch = e.platform === GamePlatform.SWI,
        e
    }
    return __extends(UTPersonaClubDTO, i),
    UTPersonaClubDTO.prototype.setAssetId = function(t) {
        this.assetId = t
    }
    ,
    UTPersonaClubDTO
}(EAObject))
  , UTPersonaEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPersonaEntity(t) {
        var e, i, l = r.call(this) || this;
        l._sku = GameSku.UNKNOWN,
        l.id = t.personaId,
        l.name = t.personaName,
        l.hasOnlineAccess = t.onlineAccess,
        l.isReturningUser = 1 === t.returningUser,
        l.isAccessTrial = t.trial,
        l.isFreeTrial = t.trialFree,
        l.isShowcaseFreeToTry = null !== (e = t.freeToTry) && void 0 !== e && e,
        l.isNewTrial = (l.isAccessTrial || l.isFreeTrial) && !l.isReturningUser,
        l.state = null !== (i = t.userState) && void 0 !== i ? i : PersonaUserState.NONE,
        l.clubs = new EAHashTable;
        var c = 0;
        return t.userClubList.forEach(function(t) {
            var e, i = APP_YEAR, r = i - 1, o = parseInt(t.year, 10);
            if ((o === i || o === r) && (l.isReturningUser || o !== r)) {
                var n = GameSku.UNKNOWN;
                if (t.skuAccessList) {
                    for (var a in t.skuAccessList)
                        if (t.skuAccessList.hasOwnProperty(a) && Object.values(GameSku).includes(a) && t.skuAccessList[a] > (null !== (e = t.skuAccessList[n]) && void 0 !== e ? e : 0) && (n = a,
                        t.skuAccessList[a] === t.lastAccessTime))
                            break;
                    var s = new UTPersonaClubDTO({
                        clubAbbr: t.clubAbbr,
                        clubName: t.clubName,
                        established: t.established,
                        lastAccessTime: t.lastAccessTime,
                        assetId: t.assetId,
                        platform: t.platform,
                        sku: n,
                        year: o
                    });
                    l.clubs.set(s.sku, s),
                    (s.year === APP_YEAR || !l.hasClubForCurrentYear) && s.lastAccessTime > c && (c = s.lastAccessTime,
                    l.sku = s.sku)
                }
            }
        }, l),
        DebugUtils.Assert(l.sku !== GameSku.UNKNOWN, "This account has no sku."),
        l.hasOriginAccess = !1,
        l.loyaltyRewards = [],
        l.isClubOwner = !1,
        l.isFounder = !1,
        l
    }
    return __extends(UTPersonaEntity, r),
    Object.defineProperty(UTPersonaEntity.prototype, "sku", {
        get: function() {
            return this._sku
        },
        set: function(t) {
            this.clubs.has(t) && (this._sku = t)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "hasFUT", {
        get: function() {
            return 0 < this.clubs.length
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "hasClubForCurrentYear", {
        get: function() {
            return JSUtils.isValid(this.clubs.find(function(t) {
                return t.year === APP_YEAR
            }))
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "hasFullAccess", {
        get: function() {
            return this.hasOnlineAccess && this.hasClubForCurrentYear
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "hasPartialAccess", {
        get: function() {
            return this.isShowcaseFreeToTry && this.hasClubForCurrentYear
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isEligibleForMobileStart", {
        get: function() {
            return !!this.isReturningUser && (!this.hasClubForCurrentYear || (this.sku === GameSku.PREV_XBO && !this.clubs.has(GameSku.XBO) && !this.clubs.has(GameSku.XBX) || this.sku === GameSku.PREV_PS4 && !this.clubs.has(GameSku.PS4) && !this.clubs.has(GameSku.PS5) || this.sku === GameSku.PREV_PC && !this.clubs.has(GameSku.PC) || this.sku === GameSku.PREV_STEAM && !this.clubs.has(GameSku.STEAM) || this.sku === GameSku.PREV_SWI && !this.clubs.has(GameSku.SWI)))
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "platform", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return t ? t.platform : GamePlatform.NONE
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isXbox", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return !!t && t.isXbox
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isPlaystation", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return !!t && t.isPlaystation
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isPC", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return !!t && t.isPC
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isSwitch", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return !!t && t.isSwitch
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "isG5", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return t && (t.isPlaystation && t.sku === GameSku.PS5 || t.isXbox && t.sku === GameSku.XBX) || !1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTPersonaEntity.prototype, "lastAccessTime", {
        get: function() {
            var t = this.clubs.get(this.sku);
            return t ? t.lastAccessTime : 0
        },
        enumerable: !1,
        configurable: !0
    }),
    UTPersonaEntity.prototype.eligibleForCompanionAccess = function(t) {
        if (t)
            return (this.hasOnlineAccess || this.isShowcaseFreeToTry) && (this.hasClubForCurrentYear || this.isReturningUser);
        var e = !this.isAccessTrial && !this.isFreeTrial;
        return this.isReturningUser || e && this.hasClubForCurrentYear
    }
    ,
    UTPersonaEntity.prototype.getValidClubs = function() {
        var r = this;
        return this.clubs.filter(function(t) {
            var e = APP_YEAR - 1
              , i = !r.hasClubForCurrentYear && r.isReturningUser && r.state !== PersonaUserState.RETURNING_USER_EXPIRED && t.year === e;
            return t.year === APP_YEAR || i
        }, this)
    }
    ,
    UTPersonaEntity.prototype.getCurrentClub = function() {
        return this.clubs.get(this.sku)
    }
    ,
    UTPersonaEntity.prototype.createClub = function(t, e) {
        var u = this
          , p = new EAObservable;
        return this.hasClubForCurrentYear || !this.isReturningUser || this.state === PersonaUserState.RETURNING_USER_EXPIRED ? p.notify({
            success: !1,
            status: HttpStatusCode.FORBIDDEN,
            data: null
        }) : accessobjects.Onboarding.createClub(t, e).observe(this, function(t, e) {
            if (t.unobserve(u),
            e.success && e.response && !JSUtils.isString(e.response)) {
                var i = e.response
                  , r = FUTDataUtils.mapSkuToCurrentYear(u.sku)
                  , o = JSUtils.find(i.login.actives, function(t) {
                    return JSUtils.isValid(t.header) && "Badge" === t.header
                })
                  , n = o ? o.assetId : -1
                  , a = new UTPersonaClubDTO({
                    clubAbbr: i.login.clubAbbr,
                    clubName: i.login.clubName,
                    established: parseInt(i.login.established, 10),
                    lastAccessTime: parseInt(i.login.established, 10),
                    assetId: n,
                    platform: u.platform,
                    sku: r,
                    year: APP_YEAR
                });
                u.clubs.set(a.sku, a),
                u.sku = a.sku;
                var s = i.starterPack.map(function(t) {
                    return factories.Item.createItem(t)
                })
                  , l = s.filter(function(t) {
                    return t.isPlayer()
                })
                  , c = null;
                0 < l.length ? l.forEach(function(t) {
                    (!c || c.rating < t.rating) && (c = t)
                }) : s.forEach(function(t) {
                    (!c || c.discardValue < t.discardValue) && (c = t)
                }),
                p.notify({
                    success: !0,
                    status: e.status,
                    data: {
                        items: s,
                        highestRated: c
                    }
                })
            } else
                p.notify({
                    success: !1,
                    status: e.status,
                    data: null
                })
        }),
        p
    }
    ,
    UTPersonaEntity.prototype.setLoyaltyRewards = function(t) {
        this.loyaltyRewards = t
    }
    ,
    UTPersonaEntity.prototype.getLoyaltyRewards = function() {
        return this.loyaltyRewards
    }
    ,
    UTPersonaEntity
}(EAObject))
  , UTUserFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTUserFactory() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTUserFactory, t),
    UTUserFactory.prototype.personaHasSupportedClubYear = function(t) {
        var e = 1 === t.returningUser ? [APP_YEAR, APP_YEAR - 1] : [APP_YEAR];
        return 0 < t.userClubList.filter(function(t) {
            return e.includes(Number(t.year))
        }).length
    }
    ,
    UTUserFactory.prototype.generatePersonaEntity = function(t) {
        return new UTPersonaEntity(t)
    }
    ,
    UTUserFactory.prototype.generatePersonaEntities = function(t) {
        return t.filter(this.personaHasSupportedClubYear).map(this.generatePersonaEntity)
    }
    ,
    UTUserFactory
}(EAObject))
  , RevenueSDKWrapperImpl = function() {
    function RevenueSDKWrapperImpl() {
        this.initialized = !1
    }
    return Object.defineProperty(RevenueSDKWrapperImpl.prototype, "disabled", {
        get: function() {
            return !getAppMain().getConfigRepository().getConfigBoolean(EAConfigurationRepository.KEY_REVENUE_SDK_ENABLED)
        },
        enumerable: !1,
        configurable: !0
    }),
    RevenueSDKWrapperImpl.prototype.initialize = function(t, e) {
        var i = this;
        if (this.disabled)
            return console.debug("[RevenueSDK] RevenueSDK is disabled"),
            void t();
        var r = getAppMain().getConfigRepository().getConfigObject(EAConfigurationRepository.KEY_REVENUE_SDK_CONFIG);
        if (!JSUtils.isValid(r))
            return console.error("[RevenueSDK] Configs not found in EAConfigurationRepository"),
            void e();
        window.plugins.revenueSDK.initialize(r[EAConfigurationRepository.KEY_REVENUE_SDK_GLU_CENTRAL_CONFIG], r[EAConfigurationRepository.KEY_REVENUE_SDK_GLU_ANALYTICS_CONFIG], r[EAConfigurationRepository.KEY_REVENUE_SDK_GLU_TRACKING_CONFIG], function() {
            i.initialized = !0,
            i.revenueSDK = window.plugins.revenueSDK,
            console.debug("[RevenueSDK] Inititalized Successfully"),
            t(),
            i.setUsageSharingConsent(services.UserSettings.getUsageSharingEnabled())
        }, function() {
            console.error("[RevenueSDK] Initialization failed"),
            e()
        })
    }
    ,
    RevenueSDKWrapperImpl.prototype.setUserId = function(t) {
        this.isInitializedAndEnabled() && this.revenueSDK.setUserId(t)
    }
    ,
    RevenueSDKWrapperImpl.prototype.logEvent = function(t, e) {
        this.isInitializedAndEnabled() && this.revenueSDK.logEvent(t, e)
    }
    ,
    RevenueSDKWrapperImpl.prototype.trackRevenue = function(e) {
        if (this.isInitializedAndEnabled()) {
            var t = services.MTX.getNimbleMTXItems().find(function(t) {
                return t.sku === e
            });
            void 0 !== t && this.revenueSDK.trackRevenue(t.currency, t.price, {
                sku: t.sku
            }, function() {}, function() {})
        }
    }
    ,
    RevenueSDKWrapperImpl.prototype.setUsageSharingConsent = function(t) {
        this.isInitializedAndEnabled() && this.revenueSDK.setUsageSharingConsent(t, function() {
            console.debug("[RevenueSDK] Usage sharing consent set successfully")
        }, function() {
            console.error("[RevenueSDK] Usage sharing consent set failed")
        })
    }
    ,
    RevenueSDKWrapperImpl.prototype.isInitializedAndEnabled = function() {
        if (this.disabled)
            return console.debug("[RevenueSDK] RevenueSDK is disabled"),
            !1;
        if (this.initialized)
            return !0;
        var t = "[RevenueSDK] Inititlaize the SDK first";
        return window.plugins.eadpSdk.reportAssert(function() {}, function() {}, t),
        console.error(t),
        !1
    }
    ,
    RevenueSDKWrapperImpl
}()
  , RevenueSDKWrapperNOOPImpl = function() {
    function RevenueSDKWrapperNOOPImpl() {
        this.initialized = !1
    }
    return RevenueSDKWrapperNOOPImpl.prototype.initialize = function(t, e) {
        console.warn("RevenueSDKWrapperImpl.initialize is NOOP for futweb"),
        setTimeout(t, 0)
    }
    ,
    RevenueSDKWrapperNOOPImpl.prototype.setUserId = function(t) {
        console.warn("RevenueSDKWrapperImpl.setUserId(" + t + ") is NOOP for futweb")
    }
    ,
    RevenueSDKWrapperNOOPImpl.prototype.logEvent = function(t, e) {
        console.warn("RevenueSDKWrapperImpl.logEvent(" + t + ") is NOOP for futweb")
    }
    ,
    RevenueSDKWrapperNOOPImpl.prototype.trackRevenue = function(t) {
        console.warn("RevenueSDKWrapperImpl.trackRevenue(" + t + ") is NOOP for futweb")
    }
    ,
    RevenueSDKWrapperNOOPImpl.prototype.setUsageSharingConsent = function(t) {
        console.warn("RevenueSDKWrapperImpl.setUsageSharingConsent(" + t + ") is NOOP for futweb")
    }
    ,
    RevenueSDKWrapperNOOPImpl
}()
  , EALocaleVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(a) {
    function EALocaleVO(t, e, i, r, o) {
        var n = a.call(this) || this;
        return n.direction = o,
        n.language = e,
        n.name = r,
        n.region = t,
        n.variant = i,
        n
    }
    return __extends(EALocaleVO, a),
    EALocaleVO.prototype.value = function() {
        return this.toString()
    }
    ,
    EALocaleVO.prototype.equals = function(t) {
        return t instanceof EALocaleVO && this.language === t.language && this.region === t.region && this.variant === t.variant
    }
    ,
    EALocaleVO.prototype.toString = function() {
        return this.variant !== LanguageVariantEnum.NONE ? this.language + "_" + this.variant + "_" + this.region : this.language + "_" + this.region
    }
    ,
    EALocaleVO.prototype.toBCPString = function(t) {
        return void 0 === t && (t = !1),
        t && this.variant !== LanguageVariantEnum.NONE ? this.language + "-" + this.variant + "-" + this.region : this.language + "-" + this.region
    }
    ,
    EALocaleVO.prototype.toEAFIFAString = function() {
        var t = this.language
          , e = this.region;
        return t === LanguageEnum.NORWEGIAN_BOKMAL && (t = LanguageEnum.NORWEGIAN),
        e === RegionEnum.TAIWAN && (e = RegionEnum.HONGKONG),
        t + "-" + e
    }
    ,
    EALocaleVO.prototype.toEANetworkString = function() {
        var t = this.language;
        return t === LanguageEnum.NORWEGIAN_BOKMAL && (t = LanguageEnum.NORWEGIAN),
        t + "_" + this.region
    }
    ,
    EALocaleVO.prototype.isValid = function() {
        return this.language !== LanguageEnum.UNKNOWN && this.region !== RegionEnum.UNKNOWN
    }
    ,
    EALocaleVO.prototype.isRTL = function() {
        return this.direction === LanguageDirectionEnum.RTL
    }
    ,
    EALocaleVO.prototype.usesLatinAlphabet = function() {
        return this.language !== LanguageEnum.JAPANESE && this.language !== LanguageEnum.KOREAN && this.language !== LanguageEnum.CHINESE && this.language !== LanguageEnum.ARABIC && this.language !== LanguageEnum.RUSSIAN
    }
    ,
    EALocaleVO
}(EAObject))
  , EALocaleFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function EALocaleFactory() {
        return t.call(this) || this
    }
    return __extends(EALocaleFactory, t),
    EALocaleFactory.prototype.stringToLanguage = function(t) {
        switch (t) {
        case LanguageEnum.FRENCH:
            return LanguageEnum.FRENCH;
        case LanguageEnum.ITALIAN:
            return LanguageEnum.ITALIAN;
        case LanguageEnum.GERMAN:
            return LanguageEnum.GERMAN;
        case LanguageEnum.SPANISH:
            return LanguageEnum.SPANISH;
        case LanguageEnum.DUTCH:
            return LanguageEnum.DUTCH;
        case LanguageEnum.PORTUGUESE:
            return LanguageEnum.PORTUGUESE;
        case LanguageEnum.POLISH:
            return LanguageEnum.POLISH;
        case LanguageEnum.ARABIC:
            return LanguageEnum.ARABIC;
        case LanguageEnum.RUSSIAN:
            return LanguageEnum.RUSSIAN;
        case LanguageEnum.TURKISH:
            return LanguageEnum.TURKISH;
        case LanguageEnum.JAPANESE:
            return LanguageEnum.JAPANESE;
        case LanguageEnum.KOREAN:
            return LanguageEnum.KOREAN;
        case LanguageEnum.CHINESE:
            return LanguageEnum.CHINESE;
        case LanguageEnum.SWEDISH:
            return LanguageEnum.SWEDISH;
        case LanguageEnum.NORWEGIAN:
        case LanguageEnum.NORWEGIAN_BOKMAL:
        case LanguageEnum.NORWEGIAN_NYNORSK:
            return LanguageEnum.NORWEGIAN_BOKMAL;
        case LanguageEnum.DANISH:
            return LanguageEnum.DANISH;
        case LanguageEnum.CZECH:
            return LanguageEnum.CZECH;
        default:
            return LanguageEnum.ENGLISH
        }
    }
    ,
    EALocaleFactory.prototype.stringToLanguageVariant = function(t) {
        switch (t) {
        case LanguageVariantEnum.CHINESE_SIMPLIFIED:
            return LanguageVariantEnum.CHINESE_SIMPLIFIED;
        case LanguageVariantEnum.CHINESE_TRADITIONAL:
            return LanguageVariantEnum.CHINESE_TRADITIONAL;
        default:
            return LanguageVariantEnum.NONE
        }
    }
    ,
    EALocaleFactory.prototype.stringToRegion = function(t, e) {
        switch (t) {
        case RegionEnum.FRANCE:
            return RegionEnum.FRANCE;
        case RegionEnum.ITALY:
            return RegionEnum.ITALY;
        case RegionEnum.GERMANY:
            return RegionEnum.GERMANY;
        case RegionEnum.SPAIN:
            return RegionEnum.SPAIN;
        case RegionEnum.MEXICO:
            return RegionEnum.MEXICO;
        case RegionEnum.NETHERLANDS:
            return RegionEnum.NETHERLANDS;
        case RegionEnum.BRAZIL:
            return RegionEnum.BRAZIL;
        case RegionEnum.POLAND:
            return RegionEnum.POLAND;
        case RegionEnum.SAUDI_ARABIA:
            return RegionEnum.SAUDI_ARABIA;
        case RegionEnum.RUSSIA:
            return RegionEnum.RUSSIA;
        case RegionEnum.TURKEY:
            return RegionEnum.TURKEY;
        case RegionEnum.JAPAN:
            return RegionEnum.JAPAN;
        case RegionEnum.KOREA:
            return RegionEnum.KOREA;
        case RegionEnum.HONGKONG:
        case RegionEnum.TAIWAN:
            return RegionEnum.HONGKONG;
        case RegionEnum.CHINA:
            return RegionEnum.CHINA;
        case RegionEnum.SWEDEN:
            return RegionEnum.SWEDEN;
        case RegionEnum.NORWAY:
            return RegionEnum.NORWAY;
        case RegionEnum.DENMARK:
            return RegionEnum.DENMARK;
        case RegionEnum.CZECH:
            return RegionEnum.CZECH;
        case RegionEnum.PORTUGAL:
            return RegionEnum.PORTUGAL;
        default:
            if (e) {
                var i = e === LanguageEnum.CHINESE ? LanguageVariantEnum.CHINESE_SIMPLIFIED : LanguageVariantEnum.NONE;
                return this.getRegionFromLanguage(e, i)
            }
            return RegionEnum.USA
        }
    }
    ,
    EALocaleFactory.prototype.getVariantFromRegion = function(t) {
        switch (t) {
        case RegionEnum.HONGKONG:
        case RegionEnum.TAIWAN:
            return LanguageVariantEnum.CHINESE_TRADITIONAL;
        case RegionEnum.CHINA:
            return LanguageVariantEnum.CHINESE_SIMPLIFIED;
        default:
            return LanguageVariantEnum.NONE
        }
    }
    ,
    EALocaleFactory.prototype.getRegionFromLanguage = function(t, e) {
        switch (t) {
        case LanguageEnum.ENGLISH:
            return RegionEnum.USA;
        case LanguageEnum.FRENCH:
            return RegionEnum.FRANCE;
        case LanguageEnum.ITALIAN:
            return RegionEnum.ITALY;
        case LanguageEnum.GERMAN:
            return RegionEnum.GERMANY;
        case LanguageEnum.SPANISH:
            return RegionEnum.SPAIN;
        case LanguageEnum.DUTCH:
            return RegionEnum.NETHERLANDS;
        case LanguageEnum.PORTUGUESE:
            return RegionEnum.PORTUGAL;
        case LanguageEnum.POLISH:
            return RegionEnum.POLAND;
        case LanguageEnum.ARABIC:
            return RegionEnum.SAUDI_ARABIA;
        case LanguageEnum.RUSSIAN:
            return RegionEnum.RUSSIA;
        case LanguageEnum.TURKISH:
            return RegionEnum.TURKEY;
        case LanguageEnum.JAPANESE:
            return RegionEnum.JAPAN;
        case LanguageEnum.KOREAN:
            return RegionEnum.KOREA;
        case LanguageEnum.SWEDISH:
            return RegionEnum.SWEDEN;
        case LanguageEnum.NORWEGIAN:
        case LanguageEnum.NORWEGIAN_BOKMAL:
        case LanguageEnum.NORWEGIAN_NYNORSK:
            return RegionEnum.NORWAY;
        case LanguageEnum.DANISH:
            return RegionEnum.DENMARK;
        case LanguageEnum.CZECH:
            return RegionEnum.CZECH;
        case LanguageEnum.CHINESE:
            return e === LanguageVariantEnum.CHINESE_TRADITIONAL ? RegionEnum.HONGKONG : RegionEnum.CHINA;
        default:
            return RegionEnum.USA
        }
    }
    ,
    EALocaleFactory.prototype.getLanguageName = function(t, e, i) {
        switch (e) {
        case LanguageEnum.ENGLISH:
            return "English";
        case LanguageEnum.FRENCH:
            return "Franais";
        case LanguageEnum.ITALIAN:
            return "Italiano";
        case LanguageEnum.GERMAN:
            return "Deutsch";
        case LanguageEnum.SPANISH:
            return t === RegionEnum.MEXICO ? "Espaol (Amrica Latina)" : "Espaol";
        case LanguageEnum.DUTCH:
            return "Nederlands";
        case LanguageEnum.PORTUGUESE:
            return t === RegionEnum.PORTUGAL ? "Portugus" : "Portugus do Brasil";
        case LanguageEnum.POLISH:
            return "Polski";
        case LanguageEnum.ARABIC:
            return "";
        case LanguageEnum.RUSSIAN:
            return "";
        case LanguageEnum.TURKISH:
            return "Trke";
        case LanguageEnum.JAPANESE:
            return "";
        case LanguageEnum.KOREAN:
            return "";
        case LanguageEnum.SWEDISH:
            return "Svenska";
        case LanguageEnum.NORWEGIAN_BOKMAL:
            return "Norsk";
        case LanguageEnum.DANISH:
            return "Dansk";
        case LanguageEnum.CZECH:
            return "etina";
        case LanguageEnum.CHINESE:
            return i === LanguageVariantEnum.CHINESE_TRADITIONAL ? "" : "";
        default:
            return ""
        }
    }
    ,
    EALocaleFactory.prototype.getLanguageDirection = function(t) {
        switch (t) {
        case LanguageEnum.ARABIC:
            return LanguageDirectionEnum.RTL;
        default:
            return LanguageDirectionEnum.LTR
        }
    }
    ,
    EALocaleFactory.prototype.createLocale = function(t, e, i) {
        var r = this.stringToLanguage(t.toLowerCase())
          , o = this.stringToRegion(e.toUpperCase(), r)
          , n = i ? this.stringToLanguageVariant(i) : this.getVariantFromRegion(o);
        return new EALocaleVO(o,r,n,this.getLanguageName(o, r, n),this.getLanguageDirection(r))
    }
    ,
    EALocaleFactory.prototype.createLocaleFromLanguage = function(t, e) {
        var i = this.stringToLanguage(t.toLowerCase())
          , r = e || i !== LanguageEnum.CHINESE ? this.stringToLanguageVariant(e) : this.stringToLanguageVariant(LanguageVariantEnum.CHINESE_SIMPLIFIED)
          , o = this.getRegionFromLanguage(i, r);
        return new EALocaleVO(o,i,r,this.getLanguageName(o, i, r),this.getLanguageDirection(i))
    }
    ,
    EALocaleFactory
}(EAObject))
  , EALocalizationRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function EALocalizationRepository() {
        var t = e.call(this) || this;
        return t.catalog = new EAHashTable,
        t.defaultLanguage = LanguageEnum.UNKNOWN,
        t
    }
    return __extends(EALocalizationRepository, e),
    EALocalizationRepository.prototype.setCatalog = function(e) {
        var i = this
          , t = Object.keys(e.strings);
        this.defaultLanguage = e.defaultLanguage,
        t.forEach(function(t) {
            return i.catalog.set(t, e.strings[t])
        })
    }
    ,
    EALocalizationRepository.prototype.getCatalogEntry = function(t, e) {
        var i = this.catalog.get(t);
        if (i) {
            var r = i.pluralization[e.toBCPString()]
              , o = i.pluralization[e.language];
            if (r)
                return r;
            if (o)
                return o;
            if (this.defaultLanguage !== LanguageEnum.UNKNOWN)
                return i.pluralization[this.defaultLanguage]
        }
        return null
    }
    ,
    EALocalizationRepository
}(EAHashTable))
  , EALocalizationService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function EALocalizationService(t) {
        var e = i.call(this) || this;
        return e.configDAO = t,
        e.factory = new EALocaleFactory,
        e.locale = e.factory.createLocale(LanguageEnum.ENGLISH, RegionEnum.USA),
        e.localizationEnabled = !0,
        e.repository = new EALocalizationRepository,
        e.rtlLanguages = [LanguageEnum.ARABIC],
        e.storeLocRetrieved = !1,
        e.supportedLanguages = [LanguageEnum.ENGLISH, LanguageEnum.FRENCH, LanguageEnum.ITALIAN, LanguageEnum.GERMAN, LanguageEnum.SPANISH, LanguageEnum.DUTCH, LanguageEnum.PORTUGUESE, LanguageEnum.ARABIC, LanguageEnum.TURKISH, LanguageEnum.POLISH, LanguageEnum.RUSSIAN, LanguageEnum.JAPANESE, LanguageEnum.KOREAN, LanguageEnum.CHINESE, LanguageEnum.SWEDISH, LanguageEnum.NORWEGIAN_BOKMAL, LanguageEnum.DANISH, LanguageEnum.CZECH],
        e
    }
    return __extends(EALocalizationService, i),
    Object.defineProperty(EALocalizationService.prototype, "storeLocLoaded", {
        get: function() {
            return this.storeLocRetrieved
        },
        enumerable: !1,
        configurable: !0
    }),
    EALocalizationService.prototype.setLocale = function(t, e, i) {
        this.locale = this.factory.createLocale(t, e, i)
    }
    ,
    EALocalizationService.prototype.setLocaleFromLanguage = function(t, e) {
        this.locale = this.factory.createLocaleFromLanguage(t, e)
    }
    ,
    EALocalizationService.prototype.setLocaleFromString = function(t) {
        var e = 0 < t.indexOf("_") ? t.split("_") : t.split("-");
        2 < e.length ? this.setLocale(e[0], e[2], e[1]) : 2 === e.length ? this.setLocale(e[0], e[1]) : this.setLocaleFromLanguage(e[0])
    }
    ,
    EALocalizationService.prototype.getSupportedLocales = function() {
        return [this.factory.createLocale(LanguageEnum.ENGLISH, RegionEnum.USA), this.factory.createLocale(LanguageEnum.FRENCH, RegionEnum.FRANCE), this.factory.createLocale(LanguageEnum.ITALIAN, RegionEnum.ITALY), this.factory.createLocale(LanguageEnum.GERMAN, RegionEnum.GERMANY), this.factory.createLocale(LanguageEnum.SPANISH, RegionEnum.SPAIN), this.factory.createLocale(LanguageEnum.DUTCH, RegionEnum.NETHERLANDS), this.factory.createLocale(LanguageEnum.PORTUGUESE, RegionEnum.PORTUGAL), this.factory.createLocale(LanguageEnum.PORTUGUESE, RegionEnum.BRAZIL), this.factory.createLocale(LanguageEnum.POLISH, RegionEnum.POLAND), this.factory.createLocale(LanguageEnum.ARABIC, RegionEnum.SAUDI_ARABIA), this.factory.createLocale(LanguageEnum.RUSSIAN, RegionEnum.RUSSIA), this.factory.createLocale(LanguageEnum.TURKISH, RegionEnum.TURKEY), this.factory.createLocale(LanguageEnum.SPANISH, RegionEnum.MEXICO), this.factory.createLocale(LanguageEnum.JAPANESE, RegionEnum.JAPAN), this.factory.createLocale(LanguageEnum.KOREAN, RegionEnum.KOREA), this.factory.createLocale(LanguageEnum.CHINESE, RegionEnum.CHINA, LanguageVariantEnum.CHINESE_SIMPLIFIED), this.factory.createLocale(LanguageEnum.CHINESE, RegionEnum.HONGKONG, LanguageVariantEnum.CHINESE_TRADITIONAL), this.factory.createLocale(LanguageEnum.SWEDISH, RegionEnum.SWEDEN), this.factory.createLocale(LanguageEnum.NORWEGIAN_BOKMAL, RegionEnum.NORWAY), this.factory.createLocale(LanguageEnum.DANISH, RegionEnum.DENMARK), this.factory.createLocale(LanguageEnum.CZECH, RegionEnum.CZECH)]
    }
    ,
    EALocalizationService.prototype.isLanguageSupported = function(t) {
        return 0 <= this.supportedLanguages.indexOf(t.toLowerCase())
    }
    ,
    EALocalizationService.prototype.addLocalizationStrings = function(t) {
        for (var e in t)
            t.hasOwnProperty(e) && this.repository.set(e, t[e])
    }
    ,
    EALocalizationService.prototype.localize = function(t, e, i) {
        var r = t;
        if (null == i ? void 0 : i.number) {
            var o = GrammaticalNumber[i.number]
              , n = this.repository.getCatalogEntry(t, this.locale)
              , a = n ? n[o] : null;
            a || i.number !== GrammaticalNumber.PLURAL_FEW && i.number !== GrammaticalNumber.PLURAL_MANY && i.number !== GrammaticalNumber.PLURAL_TWO || (a = n ? n[GrammaticalNumber[GrammaticalNumber.PLURAL]] : null),
            a && (r = a)
        }
        (null == i ? void 0 : i.gender) === GrammaticalGender.FEMININE && (r = "IWL_" + r);
        var s = this.repository.get(r);
        return s ? (Array.isArray(e) && 0 < e.length && e.forEach(function(t, e) {
            s = s && s.replace("%" + (e + 1).toString(), t)
        }),
        s) : "*" + r
    }
    ,
    EALocalizationService.prototype.localizeNumberShort = function(t, e) {
        void 0 === e && (e = 2),
        DebugUtils.Assert(0 < e, "if supplied - localizeNumberShort decimalPlaces must be positive number");
        function _qa(t) {
            return t / 1e9
        }
        function ara(t) {
            return t / 1e6
        }
        function bra(t) {
            return t / 1e3
        }
        var i = t;
        if (t < 0 && (i = -1 * t),
        t < 1e3)
            return this.localizeNumber(i);
        if (1e9 <= t) {
            var r = 0 < e ? _qa(i).toFixed(e) : _qa(i).toString();
            return this.localize("number.abbreviation.billion", [r])
        }
        if (1e6 <= t) {
            r = 0 < e ? ara(i).toFixed(e) : ara(i).toString();
            return this.localize("number.abbreviation.million", [r])
        }
        r = 0 < e ? bra(i).toFixed(e) : bra(i).toString();
        return this.localize("number.abbreviation.thousand", [r])
    }
    ,
    EALocalizationService.prototype.localizeNumber = function(t) {
        return this.locale.language === LanguageEnum.ARABIC ? t.toLocaleString(LanguageEnum.ENGLISH + "-" + RegionEnum.USA) : this.locale.language === LanguageEnum.RUSSIAN && t < 1e4 ? t.toLocaleString(this.locale.toBCPString(), {
            useGrouping: !1
        }) : t.toLocaleString(this.locale.toBCPString())
    }
    ,
    EALocalizationService.prototype.localizeDate = function(t) {
        return this.localize("date.mmddyyyy", [TextUtils.formatToTwoDigits(t.getMonth() + 1), TextUtils.formatToTwoDigits(t.getDate()), t.getFullYear().toString()])
    }
    ,
    EALocalizationService.prototype.localizeEstablishedDate = function(t) {
        if (t.valueOf() < 12411612e5)
            return this.localize("controlbar.FUTFounder");
        var e = this.localize(MONTH_NAMES[t.getMonth()])
          , i = t.getFullYear().toString();
        return this.localize("controlbar.clubinfo.established", [this.localize("date.mmyy", [e, i])])
    }
    ,
    EALocalizationService.prototype.localizeTimeRemaining = function(t) {
        DebugUtils.Assert(0 <= t, "Expected argument to be a positive integer.");
        var e = Math.floor(t / SECONDS_PER_DAY)
          , i = Math.floor(t / SECONDS_PER_HOUR)
          , r = Math.floor(t / SECONDS_PER_MINUTE)
          , o = Math.floor(t - (e * SECONDS_PER_DAY + i * SECONDS_PER_HOUR + r * SECONDS_PER_MINUTE));
        if (0 < e)
            return i = Math.floor((t - e * SECONDS_PER_DAY) / SECONDS_PER_HOUR),
            this.localize("timespan.dayshours", [this.localizeNumber(e), i.toString()]);
        if (0 < i)
            return r = Math.floor((t - i * SECONDS_PER_HOUR) / SECONDS_PER_MINUTE),
            this.localize("timespan.hoursminutes", [i.toString(), r.toString()]);
        if (0 < r)
            return this.localize("timespan.minutesseconds", [r.toString(), o.toString()]);
        var n = 1 === o ? GrammaticalNumber.SINGULAR : GrammaticalNumber.PLURAL;
        return this.localize("timespan.second", [o.toString()], {
            number: n
        })
    }
    ,
    EALocalizationService.prototype.localizePromoTimeRemaining = function(t) {
        if (DebugUtils.Assert(0 <= t, "Expected argument to be a positive integer."),
        t < 0)
            return this.localize("timespan.listview.seconds");
        var e = Math.floor(t / SECONDS_PER_DAY)
          , i = Math.floor(t / SECONDS_PER_HOUR)
          , r = Math.floor(t / SECONDS_PER_MINUTE);
        return 0 < e ? (i = Math.floor((t - e * SECONDS_PER_DAY) / SECONDS_PER_HOUR),
        this.localize("timespan.dayshours", [e.toString(), i.toString()])) : 0 < i ? (r = Math.floor((t - i * SECONDS_PER_HOUR) / SECONDS_PER_MINUTE),
        this.localize("timespan.hoursminutes", [i.toString(), r.toString()])) : 0 < r ? 1 === r ? "1 " + this.localize("timespan.minute") : this.localize("timespan.minutes", [r.toString()]) : this.localize("timespan.listview.seconds")
    }
    ,
    EALocalizationService.prototype.localizeAuctionTimeRemaining = function(t) {
        DebugUtils.Assert(0 <= t, "Expected argument to be a positive integer.");
        var e = Math.floor(t / SECONDS_PER_DAY)
          , i = Math.floor(t / SECONDS_PER_HOUR)
          , r = Math.floor(t / SECONDS_PER_MINUTE);
        return t = Math.floor(t - (e * SECONDS_PER_DAY + i * SECONDS_PER_HOUR + r * SECONDS_PER_MINUTE)),
        0 < e ? 1 === e ? "1 " + this.localize("timespan.day") : this.localize("timespan.days", [e.toString()]) : 0 < i ? 1 === i ? "1 " + this.localize("timespan.hour") : this.localize("timespan.hours", [i.toString()]) : 0 < r ? 1 === r ? "1 " + this.localize("timespan.minute") : this.localize("timespan.minutes", [r.toString()]) : 30 < t ? this.localize("timespan.listview.seconds") : 15 < t ? this.localize("timespan.listview.underseconds", ["30"]) : 5 < t ? this.localize("timespan.listview.underseconds", ["15"]) : this.localize("timespan.listview.underseconds", ["5"])
    }
    ,
    EALocalizationService.prototype.addObfuscatedLocalizationStrings = function(t) {
        function Cra(t) {
            return decodeURIComponent(atob(t).split("").map(function(t) {
                return "%" + ("00" + t.charCodeAt(0).toString(16)).slice(-2)
            }).join(""))
        }
        for (var e in t)
            t.hasOwnProperty(e) && this.repository.set(Cra(e), Cra(t[e]))
    }
    ,
    EALocalizationService.prototype.requestLocalization = function() {
        var i = this
          , t = this.configDAO.getLocalization(this.locale);
        return services.Module.set(3221229568),
        t.observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) && i.addLocalizationStrings(e.response)
        }),
        this.configDAO.getStringCatalog().observe(this, function(t, e) {
            t.unobserve(i),
            DebugUtils.Assert(e.success, "Failed to load the string catalog."),
            e.success && JSUtils.isObject(e.response) && i.repository.setCatalog(e.response)
        }),
        t
    }
    ,
    EALocalizationService.prototype.requestStoreLocalization = function() {
        var i = this
          , t = this.configDAO.getStoreLocalization();
        return t.observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) && (function(t) {
                return DOMKit.HTMLCollectionToArray(t.getElementsByTagName("trans-unit")).reduce(function(t, e) {
                    var i = e.attributes.resname;
                    if (i && i.value) {
                        var r = e.getElementsByTagName("source")[0];
                        t.push({
                            key: i.value,
                            value: r.textContent || ""
                        })
                    }
                    return t
                }, [])
            }(e.response).forEach(function(t) {
                i.repository.set(t.key, t.value)
            }),
            i.storeLocRetrieved = !0)
        }),
        t
    }
    ,
    EALocalizationService
}(EAObject))
  , UTNimbleMTXItemRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTNimbleMTXItemRepository(t) {
        var e = i.call(this) || this;
        return e.catalogItems = new EAHashTable,
        t && e.add(t),
        e
    }
    return __extends(UTNimbleMTXItemRepository, i),
    UTNimbleMTXItemRepository.prototype.reset = function() {
        this.catalogItems.clear()
    }
    ,
    UTNimbleMTXItemRepository.prototype.add = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.catalogItems.set(t.sku, t)
        }) : this.catalogItems.set(t.sku, t)
    }
    ,
    UTNimbleMTXItemRepository.prototype.get = function(t) {
        return this.catalogItems.get(t)
    }
    ,
    UTNimbleMTXItemRepository.prototype.values = function() {
        return this.catalogItems.values()
    }
    ,
    UTNimbleMTXItemRepository.prototype.isEmpty = function() {
        return this.catalogItems.length < 1
    }
    ,
    UTNimbleMTXItemRepository
}(EAObject))
  , UTMTXService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMTXService(t) {
        var e = i.call(this) || this;
        return e.transactions = new EAHashTable,
        e.nimbleMTXDisableFlag = !1,
        e.mtxRepository = new UTNimbleMTXItemRepository,
        e.configService = t,
        e
    }
    return __extends(UTMTXService, i),
    UTMTXService.prototype.reset = function() {
        this.transactions.clear(),
        this.nimbleMTXDisableFlag = !1,
        this.mtxRepository.reset()
    }
    ,
    UTMTXService.prototype.hasUnverifiedTransactions = function() {
        return 0 < this.transactions.length
    }
    ,
    UTMTXService.prototype.isNimbleMTXEnabled = function() {
        return !this.nimbleMTXDisableFlag
    }
    ,
    UTMTXService.prototype.isMobileMTXEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.COMMERCE_ENABLED)
    }
    ,
    UTMTXService.prototype.setMobileMTXEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.COMMERCE_ENABLED, t)
    }
    ,
    UTMTXService.prototype.isMTXEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.MTX_ENABLED)
    }
    ,
    UTMTXService.prototype.setMTXEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.MTX_ENABLED, t)
    }
    ,
    UTMTXService.prototype.isEntitlementRecoveryEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.COMMERCE_RECOVERY_ENABLED)
    }
    ,
    UTMTXService.prototype.getEntitlementRecoveryDelay = function() {
        return this.configService.getFeatureSetting(UTServerSettingsRepository.KEY.COMMERCE_RECOVERY_DELAY) * MS_PER_SECOND
    }
    ,
    UTMTXService.prototype.disableNimbleMTX = function() {
        this.nimbleMTXDisableFlag = !0
    }
    ,
    UTMTXService.prototype.storeNimbleMTXItems = function(t) {
        this.mtxRepository.reset(),
        this.mtxRepository.add(t)
    }
    ,
    UTMTXService.prototype.getNimbleMTXItems = function() {
        return this.mtxRepository.values()
    }
    ,
    UTMTXService.prototype.hasNimbleMTXItems = function() {
        return !this.mtxRepository.isEmpty()
    }
    ,
    UTMTXService.prototype.beginTransaction = function(t) {
        var e = new EAObservable
          , i = new UTServiceResponseDTO;
        return window.plugins.cordovaNimble.startMTXPurchase(t, function() {
            i.success = !0,
            e.notify(i)
        }, function() {
            e.notify(i)
        }),
        e
    }
    ,
    UTMTXService.prototype.verifyTransaction = function(r) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return a.data = {
            verified: !1
        },
        this.transactions.set(r.id, r),
        this.isMobileMTXEnabled() ? accessobjects.FirstPartyStore.verifyAndRecordPurchase(r).observe(this, function(t, e) {
            var i;
            t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.data = {
                verified: e.success || e.status === HttpStatusCode.CONFLICT
            },
            a.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && o.setMobileMTXEnabled(!1),
            a.data.verified && o.transactions.remove(r.id),
            n.notify(a)
        }) : (a.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.notify(a)),
        n
    }
    ,
    UTMTXService.prototype.verifyStoredTransactions = function() {
        var t = new EAObservable
          , e = new UTServiceResponseDTO;
        if (!this.hasUnverifiedTransactions())
            return DebugUtils.Assert(!1, "No transactions to verify."),
            t.notify(e),
            t;
        var i = this.transactions.values()[0];
        return this.verifyTransaction(i)
    }
    ,
    UTMTXService.prototype.consumeEntitlements = function(t, e) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return accessobjects.FirstPartyStore.consumeEntitlements(t, e).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.data = JSUtils.isObject(e.response) ? e.response : {
                entitlementAwarded: !1
            },
            n.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && (isWeb() ? r.setMTXEnabled(!1) : r.setMobileMTXEnabled(!1)),
            o.notify(n)
        }),
        o
    }
    ,
    UTMTXService
}(EAObject))
  , UINotificationDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UINotificationDTO(t, e) {
        var i = r.call(this) || this;
        return i.message = t,
        i.type = e,
        i
    }
    return __extends(UINotificationDTO, r),
    UINotificationDTO
}(EAObject));
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
NamespaceManager.Register("services");
var EANotificationService = function(e) {
    function EANotificationService() {
        var t = e.call(this) || this;
        return t.display = new EAObservable,
        t.notificationTimer = 0,
        t.notificationQueue = [],
        t
    }
    return __extends(EANotificationService, e),
    EANotificationService.prototype.clearAll = function() {
        window.clearInterval(this.notificationTimer),
        this.notificationTimer = 0,
        this.notificationQueue.length = 0
    }
    ,
    EANotificationService.prototype.queue = function() {
        for (var i = this, t = [], e = 0; e < arguments.length; e++)
            t[e] = arguments[e];
        t.forEach(function(t) {
            if (Array.isArray(t)) {
                var e = new UINotificationDTO(t[0],t[1]);
                i.notificationQueue.push(e)
            } else
                t instanceof UINotificationDTO && i.notificationQueue.push(t)
        }),
        this.notificationTimer <= 0 && this.pushNotification()
    }
    ,
    EANotificationService.prototype.pushNotification = function() {
        var t = this;
        if (0 < this.notificationQueue.length) {
            this.notificationTimer <= 0 && (this.notificationTimer = window.setInterval(function() {
                return t.pushNotification()
            }, 2 * MS_PER_SECOND));
            var e = this.notificationQueue.shift();
            this.display.notify(e)
        } else
            0 === this.notificationQueue.length && (window.clearInterval(this.notificationTimer),
            this.notificationTimer = 0)
    }
    ,
    EANotificationService
}(EAObject);
services.Notification = new EANotificationService;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTOnboardingService = function(i) {
    function UTOnboardingService(t) {
        var e = i.call(this) || this;
        return e.dao = t,
        e
    }
    return __extends(UTOnboardingService, i),
    UTOnboardingService.prototype.getCountries = function() {
        var t = new EAObservable
          , e = new UTServiceResponseDTO;
        return e.success = !0,
        e.status = HttpStatusCode.OK,
        e.data = {
            countries: [Country.ENGLAND, Country.BRAZIL, Country.FRANCE, Country.ARGENTINA, Country.GERMANY, Country.ITALY, Country.SPAIN, Country.PORTUGAL, Country.NETHERLANDS]
        },
        t.notify(e),
        t
    }
    ,
    UTOnboardingService.prototype.selectCountry = function(t) {
        var e = FUTDataUtils.mapNationIdToOnboardingCountryId(t);
        return this.dao.selectCountry(e)
    }
    ,
    UTOnboardingService.prototype.getBadges = function() {
        var o = this
          , n = new EAObservable;
        return this.dao.getBadges().observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTServiceResponseDTO
              , r = JSUtils.isObject(e.response) ? e.response.badges : [];
            i.success = e.success,
            i.status = e.status,
            i.data = {
                badges: r
            },
            i.error = e.error,
            n.notify(i)
        }),
        n
    }
    ,
    UTOnboardingService.prototype.selectBadge = function(i) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return i.isBadge() ? this.dao.selectBadge(i.definitionId).observe(this, function(t, e) {
            t.unobserve(r),
            e.success && (i.state = ItemState.ACTIVE_BADGE,
            i.pile = ItemPile.CLUB,
            repositories.Item.add(i)),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            JSUtils.isObject(e.response) && (n.data = {
                badgeId: e.response.badgeId
            }),
            o.notify(n)
        }) : (DebugUtils.Assert(!1, "Expected a badge item when selecting a badge."),
        n.success = !1,
        n.status = HttpStatusCode.BAD_REQUEST,
        o.notify(n)),
        o
    }
    ,
    UTOnboardingService.prototype.getKits = function() {
        var r = this
          , o = new EAObservable;
        return this.dao.getKits().observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTServiceResponseDTO;
            i.success = e.success,
            i.status = e.status,
            i.error = e.error,
            JSUtils.isObject(e.response) && (i.data = {
                homeKits: e.response.homeKits || [],
                awayKits: e.response.awayKits || []
            }),
            o.notify(i)
        }),
        o
    }
    ,
    UTOnboardingService.prototype.selectKits = function(i, r) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return i.isKit() && r.isKit() ? this.dao.selectKits(i.definitionId, r.definitionId).observe(this, function(t, e) {
            t.unobserve(o),
            e.success && (i.state = ItemState.ACTIVE_HOME_KIT,
            i.pile = ItemPile.CLUB,
            r.state = ItemState.ACTIVE_AWAY_KIT,
            r.pile = ItemPile.CLUB,
            repositories.Item.add([i, r])),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            JSUtils.isObject(e.response) && (a.data = {
                awayKitId: e.response.awayKitId,
                homeKitId: e.response.homeKitId
            }),
            n.notify(a)
        }) : (DebugUtils.Assert(i.isKit(), "Expected a kit item when selecting a home kit."),
        DebugUtils.Assert(r.isKit(), "Expected a kit item when selecting an away kit."),
        a.success = !1,
        a.status = HttpStatusCode.BAD_REQUEST,
        n.notify(a)),
        n
    }
    ,
    UTOnboardingService.prototype.getLoanPlayers = function() {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return this.dao.getLoanPlayers().observe(this, function(t, e) {
            t.unobserve(r);
            var i = JSUtils.isObject(e.response) ? e.response.items : [];
            n.success = e.success,
            n.status = e.status,
            n.data = {
                items: i
            },
            n.error = e.error,
            o.notify(n)
        }),
        o
    }
    ,
    UTOnboardingService.prototype.grantLoanPlayer = function(t) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return t.isLimitedUse() ? this.dao.grantLoanPlayer(t.definitionId).observe(this, function(t, e) {
            t.unobserve(r);
            var i = JSUtils.isObject(e.response) ? e.response.item : null;
            n.data = {
                item: i
            },
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            o.notify(n)
        }) : (n.success = !1,
        n.status = HttpStatusCode.BAD_REQUEST,
        o.notify(n)),
        o
    }
    ,
    UTOnboardingService.prototype.createClub = function() {
        function Kua(t, e) {
            t.unobserve(a),
            l.success = e.success,
            l.status = e.status,
            e.success && (l.data = e.data),
            s.notify(l)
        }
        var a = this
          , s = new EAObservable
          , l = new UTServiceResponseDTO;
        return this.dao.getHistorical().observe(this, function(t, e) {
            var i, r;
            if (t.unobserve(a),
            e.success && JSUtils.isObject(e.response)) {
                var o = e.response
                  , n = null === (r = null === (i = services.Authentication.getUtasSession()) || void 0 === i ? void 0 : i.user) || void 0 === r ? void 0 : r.getSelectedPersona();
                n ? (n.setLoyaltyRewards(o.rewards),
                n.createClub(o.name, o.abbr).observe(a, Kua)) : (l.success = !1,
                l.status = HttpStatusCode.BAD_REQUEST,
                s.notify(l))
            } else
                l.success = e.success,
                l.status = e.status,
                s.notify(l)
        }),
        s
    }
    ,
    UTOnboardingService
}(EAObject)
  , FCOnboardingService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function FCOnboardingService(t) {
        var e = i.call(this) || this;
        return e.dao = t,
        e
    }
    return __extends(FCOnboardingService, i),
    FCOnboardingService.prototype.createClub = function() {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.dao.createClub().observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            e.success && (o.data = e.data,
            services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !0),
            services.Authentication.getFCASSession().resetSessionEntityState()),
            r.notify(o)
        }),
        r
    }
    ,
    FCOnboardingService
}(EAObject));
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
NamespaceManager.Register("services");
var EAURLService = function(e) {
    function EAURLService() {
        var t = e.call(this) || this;
        return t.deeplinks = new EAHashTable,
        t.deepLinkURL = "",
        t
    }
    return __extends(EAURLService, e),
    EAURLService.prototype.registerDeepLinkID = function(t, e) {
        this.deeplinks.set(t, e)
    }
    ,
    EAURLService.prototype.findValidDeepLinkID = function(t) {
        var e = this
          , i = JSUtils.find(t, function(t) {
            return e.isValidDeepLinkID(t)
        });
        return null != i ? i : DeepLinkSection.NONE
    }
    ,
    EAURLService.prototype.setDeepLinkURL = function(t, e) {
        if (!JSUtils.isEmpty(t)) {
            var i = decodeURIComponent(t).trim();
            0 !== i.indexOf(EAURLService.DEEP_LINK_PROTOCOL) && (i = EAURLService.DEEP_LINK_PROTOCOL + EAURLService.DEEP_LINK_FEATURE_FUT + "/" + t,
            e && (i += "/" + e)),
            this.deepLinkURL = i
        }
    }
    ,
    EAURLService.prototype.getDeepLinkURL = function() {
        return this.deepLinkURL
    }
    ,
    EAURLService.prototype.clearDeepLinkURL = function() {
        this.deepLinkURL = ""
    }
    ,
    EAURLService.prototype.hasDeepLinkURL = function() {
        return !JSUtils.isEmpty(this.deepLinkURL)
    }
    ,
    EAURLService.prototype.processDeepLinkURL = function() {
        if (!this.hasDeepLinkURL())
            return !1;
        var t = this.process(this.getDeepLinkURL());
        return t && this.clearDeepLinkURL(),
        t
    }
    ,
    EAURLService.prototype.process = function(t) {
        var e;
        if (0 === (t = decodeURIComponent(t).trim()).indexOf(EAURLService.DEEP_LINK_PROTOCOL)) {
            if (!this.checkAuth())
                return !1;
            var i = t.substr(EAURLService.DEEP_LINK_PROTOCOL.length).split("/").filter(function(t) {
                return 0 < t.length
            })
              , r = i.shift()
              , o = null !== (e = i.shift()) && void 0 !== e ? e : "";
            if (r !== EAURLService.DEEP_LINK_FEATURE_FUT || !this.isValidDeepLinkID(o))
                return DebugUtils.Assert(!1, "[services.URL::process] Unable to process unknown deep link: " + t),
                !1;
            var n = this.deeplinks.get(o);
            n && n(i)
        } else {
            if (!(0 === t.indexOf(EAURLService.SECURE_LINK_PROTOCOL) || 0 === t.indexOf(EAURLService.INSECURE_LINK_PROTOCOL) || isAndroid() && t.indexOf(EAURLService.GOOGLE_PLAY_PROTOCOL) || isIOS() && t.indexOf(EAURLService.APPLE_STORE_PROTOCOL)))
                return DebugUtils.Assert(!1, "Unable to process unknown or unsupported URL structure: " + t),
                !1;
            isAndroid() || isIOS() ? cordova.InAppBrowser.open(t, "_system") : window.open(t, "_system")
        }
        return !0
    }
    ,
    EAURLService.prototype.isValidDeepLinkID = function(t) {
        return this.deeplinks.has(t)
    }
    ,
    EAURLService.prototype.checkAuth = function() {
        var t = services.Authentication.getUtasSession()
          , e = t.user
          , i = null == e ? void 0 : e.getSelectedPersona();
        return t.isAuthenticated() ? e ? i && i.hasFUT ? !i.isNewTrial || (getAppMain().getRootViewController().showGettingStartedView(GettingStartedTypes.FIFA),
        !1) : (getAppMain().getRootViewController().showGettingStartedView(GettingStartedTypes.FUT),
        !1) : (getAppMain().getRootViewController().showGettingStartedView(GettingStartedTypes.FIFA),
        !1) : (t.state === AuthenticationState.UNAUTHENTICATED && t.statusCode === UtasErrorCode.LOGGED_IN_ON_CONSOLE && getAppMain().getRootViewController().showLoggedOnConsoleView(),
        !1)
    }
    ,
    EAURLService.SECURE_LINK_PROTOCOL = "https://",
    EAURLService.INSECURE_LINK_PROTOCOL = "http://",
    EAURLService.GOOGLE_PLAY_PROTOCOL = "market://",
    EAURLService.APPLE_STORE_PROTOCOL = "itms-apps://",
    EAURLService.DEEP_LINK_PROTOCOL = "easfc://",
    EAURLService.DEEP_LINK_FEATURE_FUT = "fut",
    EAURLService
}(EAObject);
services.URL = new EAURLService;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var FCServiceResponseDTO = function(e) {
    function FCServiceResponseDTO() {
        var t = e.call(this) || this;
        return t.data = null,
        t.error = null,
        t.status = HttpStatusCode.UNKNOWN,
        t.success = !1,
        t
    }
    return __extends(FCServiceResponseDTO, e),
    FCServiceResponseDTO
}(EAObject)
  , UTScreenLoadDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTScreenLoadDTO() {
        var t = e.call(this) || this;
        return t.originScreen = "",
        t.destinationScreen = "",
        t.originTimestamp = 0,
        t.destinationTimestamp = 0,
        t.apiCalls = [],
        t.apiReturns = [],
        t
    }
    return __extends(UTScreenLoadDTO, e),
    UTScreenLoadDTO
}(EAObject));
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
NamespaceManager.Register("services");
var UTMetricsService = function(e) {
    function UTMetricsService() {
        var t = e.call(this) || this;
        return t.requestMetrics = [],
        t.screenLoadStats = [],
        t.startTimestamp = 0,
        t
    }
    return __extends(UTMetricsService, e),
    UTMetricsService.prototype.reset = function() {
        this.screenLoadStats = []
    }
    ,
    UTMetricsService.prototype.startSession = function() {
        this.requestMetrics = [],
        this.startTimestamp = Date.now()
    }
    ,
    UTMetricsService.prototype.getSessionDuration = function() {
        return Math.ceil((Date.now() - this.startTimestamp) / MS_PER_SECOND)
    }
    ,
    UTMetricsService.prototype.addRequestMetrics = function(t) {
        this.requestMetrics.push(t)
    }
    ,
    UTMetricsService.prototype.getRequestCount = function() {
        return this.requestMetrics.length
    }
    ,
    UTMetricsService.prototype.getRequestData = function() {
        return this.requestMetrics.map(function(t) {
            return {
                requestType: t.destinationMethod,
                timestamp: t.timestamp,
                url: t.destinationURL
            }
        })
    }
    ,
    UTMetricsService.prototype.getRequestsPerSecond = function() {
        return this.getRequestCount() / this.getSessionDuration()
    }
    ,
    UTMetricsService.prototype.getRequestCountByDestination = function(e) {
        return this.requestMetrics.filter(function(t) {
            return t.destination === e
        }).length
    }
    ,
    UTMetricsService.prototype.getTotalDataSent = function() {
        return this.requestMetrics.reduce(function(t, e) {
            return t + e.payloadSentSize
        }, 0)
    }
    ,
    UTMetricsService.prototype.getDataSentByDestination = function(e) {
        return this.requestMetrics.filter(function(t) {
            return t.destination === e
        }).reduce(function(t, e) {
            return t + e.payloadSentSize
        }, 0)
    }
    ,
    UTMetricsService.prototype.getTotalDataReceived = function() {
        return this.requestMetrics.reduce(function(t, e) {
            return t + e.payloadReceivedSize
        }, 0)
    }
    ,
    UTMetricsService.prototype.getDataReceivedByDestination = function(e) {
        return this.requestMetrics.filter(function(t) {
            return t.destination === e
        }).reduce(function(t, e) {
            return t + e.payloadReceivedSize
        }, 0)
    }
    ,
    UTMetricsService.prototype.getLastRequestTimeByDestination = function(e) {
        var t = this.requestMetrics.filter(function(t) {
            return t.destination === e
        })
          , i = t[t.length - 1];
        return i ? i.timestamp : 0
    }
    ,
    UTMetricsService.prototype.getStartTime = function() {
        return new Date(this.startTimestamp).toLocaleTimeString()
    }
    ,
    UTMetricsService.prototype.getLastServerCallTime = function() {
        var t = this.requestMetrics[this.requestMetrics.length - 1];
        return t ? new Date(t.timestamp).toLocaleTimeString() : "00:00:00"
    }
    ,
    UTMetricsService.prototype.getListByAPI = function() {
        var e = {};
        return this.requestMetrics.forEach(function(t) {
            e.hasOwnProperty(t.destinationURL) || (e[t.destinationURL] = []),
            e[t.destinationURL].push(t)
        }),
        e
    }
    ,
    UTMetricsService.prototype.getTotalRPUPS = function() {
        return this.calculateRPUPS(this.getRequestCount())
    }
    ,
    UTMetricsService.prototype.getRPUPSByDestination = function(t) {
        return this.calculateRPUPS(this.getRequestCountByDestination(t))
    }
    ,
    UTMetricsService.prototype.getRPUPSPerAPI = function(t) {
        return this.calculateRPUPS(t.length)
    }
    ,
    UTMetricsService.prototype.calculateRPUPS = function(t) {
        return t / ((this.requestMetrics[this.requestMetrics.length - 1].timestamp - this.startTimestamp) / MS_PER_SECOND)
    }
    ,
    UTMetricsService.prototype.registerOriginScreen = function(t, e) {
        var i = new UTScreenLoadDTO;
        i.originScreen = t,
        i.originTimestamp = e,
        this.screenLoadStats.push(i)
    }
    ,
    UTMetricsService.prototype.registerHttpRequest = function(o) {
        var n = this
          , t = this.screenLoadStats.length - 1
          , e = {
            url: o.getUrl(),
            timestamp: Date.now()
        };
        if (0 <= t) {
            this.screenLoadStats[t].apiCalls.push(e)
        } else {
            var i = new UTScreenLoadDTO;
            i.originScreen = "Orphaned Request",
            i.originTimestamp = Date.now(),
            i.apiCalls.push(e),
            this.screenLoadStats.push(i)
        }
        o.observe(this, function(t, e) {
            t.unobserve(n);
            var i = {
                url: 0 < t.getUrl().length ? o.getUrl() : o.getResponseUrl(),
                timestamp: Date.now()
            }
              , r = n.screenLoadStats.length - 1;
            0 <= r && n.screenLoadStats[r].apiReturns.push(i)
        })
    }
    ,
    UTMetricsService.prototype.registerDestinationScreen = function(t, e) {
        var i = this.screenLoadStats.length - 1;
        if (0 <= i) {
            var r = this.screenLoadStats[i];
            r.destinationScreen = t,
            r.destinationTimestamp = e
        }
    }
    ,
    UTMetricsService.prototype.getScreenLoadData = function() {
        var o = "[" + new Date + "]\n";
        return this.screenLoadStats.forEach(function(t) {
            var e = t.originScreen + ", " + t.destinationScreen + ", " + (t.destinationTimestamp - t.originTimestamp) / 1e3 + "s";
            o += e + "\n";
            for (var i = 0; i < t.apiCalls.length; i++)
                if (t.apiReturns[i] && t.apiCalls[i]) {
                    var r = (t.apiReturns[i].timestamp - t.apiCalls[i].timestamp) / 1e3;
                    o += e + ", " + t.apiReturns[i].url + ", " + r + "s\n"
                } else
                    console.warn("[WARN] Mismatch between api calls and returns!"),
                    console.log("Calls made: ", t.apiCalls),
                    console.log("Calls completed: ", t.apiReturns)
        }),
        this.reset(),
        o
    }
    ,
    UTMetricsService
}(EAObject);
services.Metrics = new UTMetricsService;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var FCFcasRequestQueueService = function(e) {
    function FCFcasRequestQueueService() {
        var t = e.call(this) || this;
        return t.currentRequests = [],
        t.queue = [],
        t
    }
    return __extends(FCFcasRequestQueueService, e),
    Object.defineProperty(FCFcasRequestQueueService.prototype, "maxConcurrentRequests", {
        get: function() {
            var t = UTServerSettingsRepository.KEY.MAX_CONCURRENT_REQUESTS
              , e = services.Configuration.getFeatureSetting(t);
            return 0 < e ? e : 5
        },
        enumerable: !1,
        configurable: !0
    }),
    FCFcasRequestQueueService.prototype.send = function(e) {
        var t = new UTRequestMetricsVO
          , i = this.currentRequests.concat(this.queue.map(function(t) {
            return t.request
        })).find(function(t) {
            return t.compare(e)
        });
        return i || (t.destination = e.getBaseUrl(),
        t.destinationURL = e.getUrl(),
        t.destinationMethod = e.requestType,
        this.queue.push({
            request: e,
            metrics: t
        }),
        this.currentRequests.length < this.maxConcurrentRequests && this.next(),
        e)
    }
    ,
    FCFcasRequestQueueService.prototype.next = function() {
        var i = this;
        if (!(this.queue.length < 1)) {
            var r = this.queue.shift();
            r && (r.metrics.timestamp = Date.now(),
            r.request.observe(this, function(t, e) {
                return i.onRequestFinished(t, e, r.metrics)
            }),
            r.request.send(),
            this.currentRequests.push(r.request))
        }
    }
    ,
    FCFcasRequestQueueService.prototype.onRequestFinished = function(t, e, i) {
        var r, o = "";
        t.unobserve(this),
        o = JSUtils.isObject(e.response) ? JSON.stringify(e.response) : null !== (r = e.response) && void 0 !== r ? r : "",
        i.payloadSentSize = t.getRequestBody().length,
        i.payloadReceivedSize = o.length,
        services.Metrics.addRequestMetrics(i),
        this.currentRequests.splice(this.currentRequests.indexOf(t), 1),
        this.next()
    }
    ,
    FCFcasRequestQueueService
}(EAObject)
  , UTAcademyRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTAcademyRepository() {
        var t = e.call(this) || this;
        return t.cacheExpiration = 0,
        t.cachedSearches = [],
        t.requiresHubCall = !0,
        t.slots = new Map,
        t.categories = new EAHashTable,
        t.totalSlotCount = 0,
        t.activeSlotIds = [],
        t.disabledSlotIds = [],
        t.disabledWithProgressSlotIds = [],
        t.expiredSlotIds = [],
        t.inactiveSlotIds = [],
        t.rewardReadySlotIds = [],
        t.strippedSlotIds = [],
        t
    }
    return __extends(UTAcademyRepository, e),
    UTAcademyRepository.prototype.reset = function() {
        this.cacheExpiration = 0,
        this.cachedSearches = [],
        this.requiresHubCall = !0,
        this.slots.clear(),
        this.categories.clear(),
        this.totalSlotCount = 0,
        this.activeSlotIds = [],
        this.disabledSlotIds = [],
        this.disabledWithProgressSlotIds = [],
        this.expiredSlotIds = [],
        this.inactiveSlotIds = [],
        this.rewardReadySlotIds = [],
        this.strippedSlotIds = []
    }
    ,
    UTAcademyRepository.prototype.setCacheTimestamp = function(t, e) {
        var i = 6e5;
        JSUtils.isNumber(e) && (i = Math.max(Math.min(e * MS_PER_SECOND, i), 3e4)),
        this.cacheExpiration = t + i
    }
    ,
    UTAcademyRepository.prototype.isCacheExpired = function() {
        return this.cacheExpiration < Date.now()
    }
    ,
    UTAcademyRepository.prototype.isCachedSearch = function(e) {
        return JSUtils.isValid(this.cachedSearches.find(function(t) {
            return t.compare(e)
        }))
    }
    ,
    Object.defineProperty(UTAcademyRepository.prototype, "isFull", {
        get: function() {
            return this.getSlots().length === this.totalSlotCount
        },
        enumerable: !1,
        configurable: !0
    }),
    UTAcademyRepository.prototype.addSlots = function(t, e) {
        var i = this;
        t.forEach(function(t) {
            i.disabledSlotIds.includes(t.id) && !t.subsequentStatusNotifications.includes(AcademySlotState.DISABLED) && (t.subsequentStatusNotifications.push(AcademySlotState.DISABLED),
            i.disabledSlotIds.splice(i.disabledSlotIds.indexOf(t.id), 1)),
            i.disabledWithProgressSlotIds.includes(t.id) && !t.subsequentStatusNotifications.includes(AcademySlotState.DISABLED_WITH_PROGRESS) && (t.subsequentStatusNotifications.push(AcademySlotState.DISABLED_WITH_PROGRESS),
            i.disabledWithProgressSlotIds.splice(i.disabledWithProgressSlotIds.indexOf(t.id), 1)),
            i.expiredSlotIds.includes(t.id) && !t.subsequentStatusNotifications.includes(AcademySlotState.EXPIRED) && (t.subsequentStatusNotifications.push(AcademySlotState.EXPIRED),
            i.expiredSlotIds.splice(i.expiredSlotIds.indexOf(t.id), 1)),
            i.strippedSlotIds.includes(t.id) && !t.subsequentStatusNotifications.includes(AcademySlotState.STRIPPED) && (t.subsequentStatusNotifications.push(AcademySlotState.STRIPPED),
            i.strippedSlotIds.splice(i.strippedSlotIds.indexOf(t.id), 1)),
            i.rewardReadySlotIds.includes(t.id) && !t.subsequentStatusNotifications.includes(AcademySlotState.READY_FOR_REDEEM) && (t.subsequentStatusNotifications.push(AcademySlotState.READY_FOR_REDEEM),
            i.rewardReadySlotIds.splice(i.rewardReadySlotIds.indexOf(t.id), 1)),
            i.slots.set(t.id, t)
        }),
        this.cachedSearches.push(e)
    }
    ,
    UTAcademyRepository.prototype.setSlot = function(t) {
        this.slots.set(t.id, t)
    }
    ,
    UTAcademyRepository.prototype.getSlots = function(e) {
        var i = [];
        return this.slots.forEach(function(t) {
            i.push(t)
        }),
        e && (i = i.filter(function(t) {
            return e.slotStatus === AcademySlotState.NOT_STARTED ? t.status === AcademySlotState.NOT_STARTED || t.status === AcademySlotState.STRIPPED || t.status === AcademySlotState.LOCKED : t.status === AcademySlotState.ACTIVE || t.status === AcademySlotState.INACTIVE || t.isClaimable()
        }),
        null !== e.categoryId && (i = i.filter(function(t) {
            return t.categoryId === e.categoryId
        }))),
        i
    }
    ,
    UTAcademyRepository.prototype.getSlotById = function(t) {
        return this.slots.get(t)
    }
    ,
    UTAcademyRepository.prototype.getNotStartedSlotsByCategory = function(e) {
        var i = [];
        return this.slots.forEach(function(t) {
            i.push(t)
        }),
        i.filter(function(t) {
            return t.categoryId === e && t.status === AcademySlotState.NOT_STARTED
        })
    }
    ,
    UTAcademyRepository.prototype.removeSlotById = function(t) {
        this.slots.delete(t)
    }
    ,
    UTAcademyRepository.prototype.setBulkSlotsStatus = function(t, i) {
        var r = this;
        t.map(function(t) {
            var e = r.slots.get(t);
            e && e.subsequentStatusNotifications.push(i)
        })
    }
    ,
    UTAcademyRepository.prototype.setCategories = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.categories.set(t.id, t)
        })
    }
    ,
    UTAcademyRepository.prototype.getCategories = function() {
        return this.categories.values()
    }
    ,
    UTAcademyRepository.prototype.checkTimedSlotNeedUpdate = function() {
        this.requiresHubCall = Array.from(this.slots.values()).some(function(t) {
            return t.checkIfTimedSlotNeedUpdate()
        })
    }
    ,
    UTAcademyRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.Academy = new UTAcademyRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTAcademyService = function(i) {
    function UTAcademyService(t) {
        var e = i.call(this) || this;
        return e.academyDAO = t,
        e.unreadNotifications = 0,
        e
    }
    return __extends(UTAcademyService, i),
    UTAcademyService.prototype.init = function() {
        i.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.ACADEMY_UPDATE, this, this.handleUpdate)
    }
    ,
    UTAcademyService.prototype.dealloc = function() {
        i.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.ACADEMY_UPDATE, this)
    }
    ,
    UTAcademyService.prototype.reset = function() {
        repositories.Academy.reset()
    }
    ,
    UTAcademyService.prototype.hasUnreadNotifications = function() {
        return 0 < this.unreadNotifications
    }
    ,
    UTAcademyService.prototype.getUnreadNotifications = function() {
        return this.unreadNotifications
    }
    ,
    UTAcademyService.prototype.isFull = function() {
        return repositories.Academy.isFull
    }
    ,
    UTAcademyService.prototype.requiresHubCall = function() {
        return repositories.Academy.requiresHubCall || repositories.Academy.checkTimedSlotNeedUpdate(),
        repositories.Academy.requiresHubCall
    }
    ,
    UTAcademyService.prototype.isFeatureEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED)
    }
    ,
    UTAcademyService.prototype.requestAcademyHub = function(t) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.academyDAO.getHub(t).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED ? services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1) : JSUtils.isObject(e.response) && (n.data = e.response),
            o.notify(n)
        }) : (n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        o.notify(n)),
        o
    }
    ,
    UTAcademyService.prototype.cancelTimedEvolution = function(t) {
        var i = this
          , e = this.academyDAO.cancelTimedSlotEvolution(t);
        return e.observe(this, function(t, e) {
            t.unobserve(i),
            e.success && i.reset()
        }),
        e
    }
    ,
    UTAcademyService.prototype.getSlottedSlots = function(t) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.academyDAO.getSlottedSlots(t).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED ? services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1) : JSUtils.isObject(e.response) && (n.data = e.response),
            o.notify(n)
        }) : (n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        o.notify(n)),
        o
    }
    ,
    UTAcademyService.prototype.requestSlotsByCategory = function(t) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.academyDAO.getSlotsByCategory(t).observe(this, function(t, e) {
            var i, r;
            t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.STATE_INVALID ? services.Notification.queue([services.Localization.localize("notification.academy.category.failedToLoad"), UINotificationType.NEGATIVE]) : (null === (r = e.error) || void 0 === r ? void 0 : r.code) === UtasErrorCode.SERVICE_IS_DISABLED ? services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1) : JSUtils.isObject(e.response) && (a.data = e.response),
            n.notify(a)
        }) : (a.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        n.notify(a)),
        n
    }
    ,
    UTAcademyService.prototype.getSlotPreview = function(t, e) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return n.data = {
            updatedSlot: null
        },
        this.isFeatureEnabled() ? this.academyDAO.getSlotPreview(t, e).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED ? services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1) : JSUtils.isObject(e.response) && (n.data = e.response),
            o.notify(n)
        }) : (n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        o.notify(n)),
        o
    }
    ,
    UTAcademyService.prototype.addItemToSlot = function(t, o, e) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return s.data = {
            activeSlots: [],
            inactiveSlots: [],
            isMaximumNumberOfSlotsReached: !1,
            updatedItem: null
        },
        this.isFeatureEnabled() ? this.academyDAO.addToSlot(t, o, e).observe(this, function(t, e) {
            var i;
            if (t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED)
                services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1);
            else if (JSUtils.isObject(e.response)) {
                s.data = e.response;
                var r = e.response.updatedItem;
                null != r && n.updateSquadItem(r, o)
            }
            a.notify(s)
        }) : (s.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        a.notify(s)),
        a
    }
    ,
    UTAcademyService.prototype.claimSlot = function(t) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return a.data = {
            rewardedSlot: null
        },
        this.isFeatureEnabled() ? this.academyDAO.claimSlot(t).observe(this, function(t, e) {
            var i;
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED)
                services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1);
            else if (JSUtils.isObject(e.response)) {
                var r = e.response.upgradedPlayer;
                null != r && o.updateSquadItem(r, r.id),
                a.data = e.response
            }
            n.notify(a)
        }) : (a.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        n.notify(a)),
        n
    }
    ,
    UTAcademyService.prototype.updateSquadItem = function(t, i) {
        var e = services.User.getUser();
        if (t && e) {
            var r = services.Squad.getActiveSquadId()
              , o = repositories.Squad.getSquadById(e.selectedPersona, r)
              , n = null == o ? void 0 : o.getSlots().find(function(t) {
                var e;
                return (null === (e = t.item) || void 0 === e ? void 0 : e.id) === i
            });
            n && (n.item = t)
        }
    }
    ,
    UTAcademyService.prototype.handleUpdate = function(t, e, i) {
        this.unreadNotifications = i.unread
    }
    ,
    UTAcademyService.prototype.resumeSlot = function(t) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return n.data = {
            activatedSlotId: 0,
            pausedSlotId: 0
        },
        this.isFeatureEnabled() ? this.academyDAO.resumeSlot(t).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED ? services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.ACADEMY_ENABLED, !1) : JSUtils.isObject(e.response) && (n.data = e.response),
            o.notify(n)
        }) : (n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        o.notify(n)),
        o
    }
    ,
    UTAcademyService.prototype.getActiveSlotIds = function() {
        return this.academyDAO.getActiveSlotIds()
    }
    ,
    UTAcademyService.prototype.getActiveTimedSlotIds = function() {
        return this.academyDAO.getActiveTimedSlotIds()
    }
    ,
    UTAcademyService.prototype.getInactiveSlotIds = function() {
        return this.academyDAO.getInactiveSlotIds()
    }
    ,
    UTAcademyService.prototype.getCategories = function() {
        return this.academyDAO.getCategories()
    }
    ,
    UTAcademyService.prototype.isTimedSlotsReachedLimit = function() {
        return repositories.ServerSettings.getSettingByKey(UTServerSettingsRepository.KEY.ACADEMY_ACTIVE_TIMED_SLOT_LIMIT) <= repositories.Academy.activeTimedSlotIds.length
    }
    ,
    UTAcademyService
}(EAObject)
  , UTChampionsService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChampionsService(t) {
        var e = i.call(this) || this;
        return e.championsDao = t,
        e
    }
    return __extends(UTChampionsService, i),
    UTChampionsService.prototype.reset = function() {
        this.championsDao.reset()
    }
    ,
    UTChampionsService.prototype.requestChampsHub = function() {
        return this.championsDao.getChampsHub()
    }
    ,
    UTChampionsService.prototype.checkOutstandingRewards = function() {
        return this.championsDao.checkOutstandingRewards()
    }
    ,
    UTChampionsService.prototype.claimRewards = function() {
        return this.championsDao.claimRewards()
    }
    ,
    UTChampionsService
}(EAObject))
  , UTChemistryService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTChemistryService(t) {
        var e = i.call(this) || this;
        return e.chemistryDAO = t,
        e
    }
    return __extends(UTChemistryService, i),
    UTChemistryService.prototype.resetCustomProfiles = function() {
        this.chemistryDAO.resetProfileCache()
    }
    ,
    UTChemistryService.prototype.getParameter = function(t) {
        return this.chemistryDAO.getParameter(t)
    }
    ,
    UTChemistryService.prototype.getProfileById = function(t) {
        return this.chemistryDAO.getProfileById(t)
    }
    ,
    UTChemistryService.prototype.getRarityProfile = function(t) {
        return this.chemistryDAO.getProfileByRarity(t)
    }
    ,
    UTChemistryService.prototype.isFeatureEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.CHEMISTRY_PROFILES_ENABLED)
    }
    ,
    UTChemistryService.prototype.requestChemistryProfiles = function() {
        var r = this
          , t = this.chemistryDAO.getChemistryProfiles();
        return t.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.CHEMISTRY_PROFILES_ENABLED, !1)
        }),
        t
    }
    ,
    UTChemistryService
}(EAObject))
  , UTClubService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTClubService(t) {
        var e = i.call(this) || this;
        return e.clubDao = t,
        e
    }
    return __extends(UTClubService, i),
    UTClubService.prototype.init = function() {
        i.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.ITEM_MOVE, this, this.onItemMoved)
    }
    ,
    UTClubService.prototype.dealloc = function() {
        i.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.ITEM_MOVE, this)
    }
    ,
    UTClubService.prototype.getStats = function() {
        return this.clubDao.getStats()
    }
    ,
    UTClubService.prototype.search = function(t) {
        return t.type === SearchType.CONSUMABLES_DEVELOPMENT || t.type === SearchType.CONSUMABLES_TRAINING ? this.clubDao.getConsumableItems(t) : this.clubDao.getClubItems(t)
    }
    ,
    UTClubService.prototype.onItemMoved = function(t, e, i) {
        i.sourcePile !== ItemPile.CLUB && i.destinationPile !== ItemPile.CLUB || (this.clubDao.resetStatsCache(),
        i.itemIds.find(function(t) {
            return repositories.Item.getClub().getItem(ItemType.MANAGER, ItemSubType.MANAGER, t)
        }) && this.clubDao.resetManagerBonusCache())
    }
    ,
    UTClubService
}(EAObject))
  , UTLeaderboardOptionDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTLeaderboardOptionDTO(t) {
        var e = i.call(this) || this;
        return e.display = t.display,
        e.groupId = "",
        e.id = t.id,
        e
    }
    return __extends(UTLeaderboardOptionDTO, i),
    UTLeaderboardOptionDTO
}(EAObject))
  , UTLeaderboardEntryDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTLeaderboardEntryDTO(t) {
        var e = i.call(this) || this;
        return e.badge = t.badge,
        e.category = "",
        e.clubName = t.clubName,
        e.est = t.est,
        e.persona = t.persona,
        e.platform = FUTDataUtils.mapSkuToPlatform(t.sku ? t.sku : GameSku.UNKNOWN),
        e.rank = t.rank,
        e.score = t.score.value,
        e.teamId = t.teamId,
        e.view = "",
        e
    }
    return __extends(UTLeaderboardEntryDTO, i),
    UTLeaderboardEntryDTO
}(EAObject))
  , UTLeaderboardPermutationDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTLeaderboardPermutationDTO() {
        var t = e.call(this) || this;
        return t.category = "competitor",
        t.period = "alltime",
        t.view = "top100",
        t.platform = "local",
        t
    }
    return __extends(UTLeaderboardPermutationDTO, e),
    UTLeaderboardPermutationDTO
}(EAObject))
  , UTLeaderboardsDAO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTLeaderboardsDAO(t, e) {
        var i = r.call(this) || this;
        return i.authDelegate = t,
        i.leaderboardEntries = new UTLeaderboardEntryRepository,
        i.requestDelegate = e,
        i
    }
    return __extends(UTLeaderboardsDAO, r),
    UTLeaderboardsDAO.prototype.getOptions = function() {
        var n = this
          , a = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/leaderboards/options"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(n);
            var i = new UTHttpResponseDTO
              , r = new UTLeaderboardPermutationDTO
              , o = [];
            JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && (e.response.selection && (r.category = e.response.selection.category,
            r.period = e.response.selection.period,
            r.view = e.response.selection.view),
            0 < e.response.options.length && (o = e.response.options.map(function(i) {
                var r = [];
                return i[i.id].forEach(function(t) {
                    var e = new UTLeaderboardOptionDTO(t);
                    e.groupId = i.id,
                    r.push(e)
                }),
                r
            }))),
            i.response = {
                options: JSUtils.flattenArray(o),
                selection: r
            },
            a.notify(i)
        }),
        a
    }
    ,
    UTLeaderboardsDAO.prototype.getLeaderboardByPermutation = function(r) {
        var o = this
          , n = new EAObservable
          , a = new UTHttpResponseDTO;
        if (!this.leaderboardEntries.isEmpty(r) && !this.leaderboardEntries.isCacheExpired(r))
            return a.success = !0,
            a.status = HttpStatusCode.NOT_MODIFIED,
            a.response = {
                entries: this.leaderboardEntries.getEntriesByPermutation(r)
            },
            n.notify(a),
            n;
        var t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/leaderboards/period/" + r.period + "/category/" + r.category + "/view/" + r.view),
        t.setUrlVariables({
            platform: r.platform
        }),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = [];
            JSUtils.assignPropertyValues(e, a),
            e.success && JSUtils.isObject(e.response) && Array.isArray(e.response.entries) && 0 < e.response.entries.length && (i = e.response.entries.map(function(t) {
                var e = new UTLeaderboardEntryDTO(t);
                return e.category = r.category,
                e.view = r.view,
                e
            }).sort(function(t, e) {
                return JSUtils.sortCompare(t.rank, e.rank)
            }),
            o.leaderboardEntries.setEntriesByPermutation(r, i),
            o.leaderboardEntries.setCacheTimestamp(r, Date.now())),
            a.response = {
                entries: i
            },
            n.notify(a)
        }),
        n
    }
    ,
    UTLeaderboardsDAO
}(EAObject))
  , UTLeaderboardEntryRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTLeaderboardEntryRepository() {
        var t = e.call(this) || this;
        return t.expiryTimestamps = new EAHashTable,
        t
    }
    return __extends(UTLeaderboardEntryRepository, e),
    UTLeaderboardEntryRepository.prototype.generateUniqueIdFromPermutation = function(t) {
        return t.category + ":" + t.view + ":" + t.period + ":" + t.platform
    }
    ,
    UTLeaderboardEntryRepository.prototype.reset = function() {
        this.clear(),
        this.expiryTimestamps.clear()
    }
    ,
    UTLeaderboardEntryRepository.prototype.setEntriesByPermutation = function(t, e) {
        this.set(this.generateUniqueIdFromPermutation(t), e)
    }
    ,
    UTLeaderboardEntryRepository.prototype.getEntriesByPermutation = function(t) {
        var e = this.get(this.generateUniqueIdFromPermutation(t));
        return Array.isArray(e) ? e : []
    }
    ,
    UTLeaderboardEntryRepository.prototype.isEmpty = function(t) {
        if (t) {
            var e = this.get(this.generateUniqueIdFromPermutation(t));
            return !Array.isArray(e) || e.length < 1
        }
        return this.values().length < 1
    }
    ,
    UTLeaderboardEntryRepository.prototype.isCacheExpired = function(t) {
        var e = this.expiryTimestamps.get(this.generateUniqueIdFromPermutation(t));
        return !e || e < Date.now()
    }
    ,
    UTLeaderboardEntryRepository.prototype.setCacheTimestamp = function(t, e, i) {
        this.expiryTimestamps.set(this.generateUniqueIdFromPermutation(t), e + (JSUtils.isNumber(i) ? i * MS_PER_SECOND : 3e5))
    }
    ,
    UTLeaderboardEntryRepository
}(EAHashTable))
  , UTLeaderboardsService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTLeaderboardsService(t) {
        var e = i.call(this) || this;
        return e.leaderboardsDao = t,
        e
    }
    return __extends(UTLeaderboardsService, i),
    UTLeaderboardsService.prototype.requestOptions = function() {
        return this.leaderboardsDao.getOptions()
    }
    ,
    UTLeaderboardsService.prototype.requestLeaderboardByPermutation = function(t) {
        return this.leaderboardsDao.getLeaderboardByPermutation(t)
    }
    ,
    UTLeaderboardsService
}(EAObject))
  , UTMessagesRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTMessagesRepository() {
        var t = e.call(this) || this;
        return t.cacheExpiration = {
            dailyGift: 0,
            hubMessages: 0,
            liveMessages: 0,
            storeMessages: 0
        },
        t.dailyGift = null,
        t.hubMessages = [],
        t
    }
    return __extends(UTMessagesRepository, e),
    UTMessagesRepository.prototype.reset = function() {
        this.resetDailyGift(),
        this.cacheExpiration.dailyGift = 0,
        this.cacheExpiration.liveMessages = 0,
        this.cacheExpiration.hubMessages = 0,
        this.cacheExpiration.storeMessages = 0,
        this.hubMessages = [],
        this.storeMessages = []
    }
    ,
    UTMessagesRepository.prototype.getDailyGift = function() {
        return this.dailyGift
    }
    ,
    UTMessagesRepository.prototype.setDailyGift = function(t) {
        this.dailyGift = t
    }
    ,
    UTMessagesRepository.prototype.getHubMessages = function() {
        return this.hubMessages
    }
    ,
    UTMessagesRepository.prototype.setHubMessages = function(t) {
        this.hubMessages = t.slice()
    }
    ,
    UTMessagesRepository.prototype.getStoreMessages = function() {
        return this.storeMessages
    }
    ,
    UTMessagesRepository.prototype.setStoreMessages = function(t) {
        this.storeMessages = t.slice()
    }
    ,
    UTMessagesRepository.prototype.resetDailyGift = function() {
        this.dailyGift = null
    }
    ,
    UTMessagesRepository.prototype.isDailyGiftExpired = function() {
        return this.cacheExpiration.dailyGift < Date.now()
    }
    ,
    UTMessagesRepository.prototype.isLiveMessagesExpired = function() {
        return this.cacheExpiration.liveMessages < Date.now()
    }
    ,
    UTMessagesRepository.prototype.isHubMessagesExpired = function() {
        return this.cacheExpiration.hubMessages < Date.now()
    }
    ,
    UTMessagesRepository.prototype.isStoreMessagesExpired = function() {
        return this.cacheExpiration.storeMessages < Date.now()
    }
    ,
    UTMessagesRepository.prototype.setHubMessagesCacheExpiration = function(t) {
        this.cacheExpiration.hubMessages = t
    }
    ,
    UTMessagesRepository.prototype.setStoreMessagesCacheExpiration = function(t) {
        this.cacheExpiration.storeMessages = t
    }
    ,
    UTMessagesRepository.prototype.setLiveMessagesCacheExpiration = function(t) {
        this.cacheExpiration.liveMessages = t
    }
    ,
    UTMessagesRepository.prototype.setDailyGiftCacheExpiration = function(t) {
        this.cacheExpiration.dailyGift = t
    }
    ,
    UTMessagesRepository
}(EAObject))
  , UTMessagesService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMessagesService(t) {
        var e = i.call(this) || this;
        return e.messagesRepository = new UTMessagesRepository,
        e.messagesDAO = t,
        e
    }
    return __extends(UTMessagesService, i),
    UTMessagesService.prototype.reset = function() {
        this.messagesRepository.reset()
    }
    ,
    UTMessagesService.prototype.setDailyGiftFromPayload = function(t) {
        this.messagesRepository.setDailyGift(new UTDailyGiftEntity(t)),
        this.messagesRepository.setDailyGiftCacheExpiration(Date.now() + 36e5)
    }
    ,
    UTMessagesService.prototype.getLiveMessages = function() {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return a.data = {
            messages: [],
            promoCoins: !1,
            promoItems: !1
        },
        services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.LIVE_MESSAGING_ENABLED) ? this.messagesRepository.isLiveMessagesExpired() ? this.messagesDAO.getLiveMessages().observe(this, function(t, e) {
            var i;
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.promos) {
                var r = e.response.promos;
                a.data = {
                    promoCoins: -1 !== r.indexOf(RewardType.COIN),
                    promoItems: -1 !== r.indexOf(RewardType.ITEM),
                    messages: e.response.messages
                },
                o.messagesRepository.setLiveMessagesCacheExpiration(Date.now() + 3e5)
            } else
                (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.LIVE_MESSAGING_ENABLED, !1);
            n.notify(a)
        }) : (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        n.notify(a)) : (a.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.notify(a)),
        n
    }
    ,
    UTMessagesService.prototype.readLiveMessage = function(t) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.LIVE_MESSAGING_ENABLED) ? this.messagesDAO.readLiveMessage(t).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            (null === (i = n.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.LIVE_MESSAGING_ENABLED, !1),
            o.notify(n)
        }) : (n.status = UtasErrorCode.SERVICE_IS_DISABLED,
        o.notify(n)),
        o
    }
    ,
    UTMessagesService.prototype.getHubMessages = function(t) {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.messagesRepository.isHubMessagesExpired() ? this.messagesDAO.getHubMessages(t).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.messages && (o.data = {
                messages: e.response.messages
            },
            i.messagesRepository.setHubMessages(e.response.messages),
            i.messagesRepository.setHubMessagesCacheExpiration(Date.now() + 3e5)),
            r.notify(o)
        }) : (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.data = {
            messages: this.messagesRepository.getHubMessages()
        },
        r.notify(o)),
        r
    }
    ,
    UTMessagesService.prototype.getStoreMessages = function() {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.messagesRepository.isStoreMessagesExpired() ? this.messagesDAO.getStoreMessages().observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.messages && (o.data = {
                messages: e.response.messages
            },
            i.messagesRepository.setStoreMessages(e.response.messages),
            i.messagesRepository.setStoreMessagesCacheExpiration(Date.now() + 3e5)),
            r.notify(o)
        }) : (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.data = {
            messages: this.messagesRepository.getStoreMessages()
        },
        r.notify(o)),
        r
    }
    ,
    UTMessagesService.prototype.getDailyGift = function() {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO
          , t = this.messagesRepository.getDailyGift();
        return t && t.isValid || !this.messagesRepository.isDailyGiftExpired() ? (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.data = {
            dailyGift: t
        },
        r.notify(o)) : this.messagesDAO.getDailyGift().observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.dailyGift ? (o.data = {
                dailyGift: e.response.dailyGift
            },
            i.messagesRepository.setDailyGift(e.response.dailyGift)) : o.data = {
                dailyGift: null
            },
            i.messagesRepository.setDailyGiftCacheExpiration(Date.now() + (o.status ? 36e5 : 6e5)),
            r.notify(o)
        }),
        r
    }
    ,
    UTMessagesService.prototype.claimDailyGift = function() {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO
          , a = this.messagesRepository.getDailyGift();
        return a && a.isValid ? this.messagesDAO.claimDailyGift(a.id).observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            e.success && (a.rewardType === RewardType.COIN ? services.User.requestCurrencies() : a.rewardType === RewardType.PACK && (null === (i = services.User.getUser()) || void 0 === i || i.incrementNumUnopenedPacks()),
            r.messagesRepository.resetDailyGift()),
            o.notify(n)
        }) : (n.success = !1,
        n.status = HttpStatusCode.BAD_REQUEST,
        o.notify(n)),
        o
    }
    ,
    UTMessagesService
}(EAObject))
  , Encoding = function() {
    function Encoding() {}
    return Encoding.stringLength = function(t) {
        if (!t)
            return 0;
        for (var e = 0, i = 0; i < t.length; ++i) {
            var r = t.charCodeAt(i);
            55296 <= r && r <= 57343 && (r = 65536 + ((1023 & r) << 10) | 1023 & t.charCodeAt(++i)),
            r <= 127 ? ++e : e += r <= 2047 ? 2 : r <= 65535 ? 3 : 4
        }
        return e
    }
    ,
    Encoding.stringToUtf8 = function(t, e) {
        if (0 === e || !t)
            return [];
        for (var i = new Array(e), r = 0, o = e, n = 0; n < t.length; ++n) {
            var a = t.charCodeAt(n);
            if (55296 <= a && a <= 57343)
                a = 65536 + ((1023 & a) << 10) | 1023 & t.charCodeAt(++n);
            if (a <= 127) {
                if (o <= r)
                    break;
                i[r++] = a
            } else if (a <= 2047) {
                if (o <= r + 1)
                    break;
                i[r++] = 192 | a >> 6,
                i[r++] = 128 | 63 & a
            } else if (a <= 65535) {
                if (o <= r + 2)
                    break;
                i[r++] = 224 | a >> 12,
                i[r++] = 128 | a >> 6 & 63,
                i[r++] = 128 | 63 & a
            } else {
                if (o <= r + 3)
                    break;
                i[r++] = 240 | a >> 18,
                i[r++] = 128 | a >> 12 & 63,
                i[r++] = 128 | a >> 6 & 63,
                i[r++] = 128 | 63 & a
            }
        }
        return i
    }
    ,
    Encoding.utf8ToString = function(t) {
        if (!t || 0 === t.length)
            return "";
        for (var e = t.length, i = "", r = 0; r < e; ) {
            var o = t[r++];
            if (128 & o) {
                var n = 63 & t[r++];
                if (192 != (224 & o)) {
                    var a = 63 & t[r++];
                    if ((o = 224 == (240 & o) ? (15 & o) << 12 | n << 6 | a : (7 & o) << 18 | n << 12 | a << 6 | 63 & t[r++]) < 65536)
                        i += String.fromCharCode(o);
                    else {
                        var s = o - 65536;
                        i += String.fromCharCode(55296 | s >> 10, 56320 | 1023 & s)
                    }
                } else
                    i += String.fromCharCode((31 & o) << 6 | n)
            } else
                i += String.fromCharCode(o)
        }
        return i
    }
    ,
    Encoding.hexToBuffer = function(t) {
        var e = [];
        if (!t)
            return e;
        for (var i = 0; i < t.length; i += 2)
            e.push(parseInt(t.substr(i, 2), 16));
        return e
    }
    ,
    Encoding.bufferToHex = function(t) {
        if (!t || 0 === t.length)
            return "";
        for (var e = new Uint8Array(t.length), i = 0; i < t.length; i++) {
            var r = t[i];
            e[i] = r
        }
        return Array.prototype.map.call(new Uint8Array(e), function(t) {
            return ("00" + t.toString(16)).slice(-2)
        }).join("")
    }
    ,
    Encoding.intToBuffer = function(t) {
        return t ? [t >> 24 & 255, t >> 16 & 255, t >> 8 & 255, 255 & t] : [0, 0, 0, 0]
    }
    ,
    Encoding.encodeBase64 = function(t) {
        if (!t || 0 === t.length)
            return "";
        for (var e = new Uint8Array(t.length), i = 0; i < t.length; i++) {
            var r = t[i];
            e[i] = r
        }
        for (var o, n, a, s, l, c, u, p = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", d = "", h = 0; h < e.length; )
            s = (o = e[h++]) >> 2,
            l = (3 & o) << 4 | (n = e[h++]) >> 4,
            c = (15 & n) << 2 | (a = e[h++]) >> 6,
            u = 63 & a,
            isNaN(n) ? c = u = 64 : isNaN(a) && (u = 64),
            d += p.charAt(s) + p.charAt(l) + p.charAt(c) + p.charAt(u);
        return d
    }
    ,
    Encoding.decodeBase64 = function(t) {
        if (!t)
            return [];
        var e, i, r, o, n, a, s = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", l = [], c = 0, u = new RegExp("[^" + s.replace(/[[\]\\\-^$]/g, "\\$&") + "]","g");
        for (t = t.replace(u, ""); c < t.length; )
            e = s.indexOf(t.charAt(c++)) << 2 | (o = -1 === (o = s.indexOf(t.charAt(c++) || "=")) ? 64 : o) >> 4,
            i = (15 & o) << 4 | (n = -1 === (n = s.indexOf(t.charAt(c++) || "=")) ? 64 : n) >> 2,
            r = (3 & n) << 6 | (a = -1 === (a = s.indexOf(t.charAt(c++) || "=")) ? 64 : a),
            l.push(e),
            64 !== n && l.push(i),
            64 !== a && l.push(r);
        return l
    }
    ,
    Encoding
}()
  , UTMyStadiumRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTMyStadiumRepository() {
        var t = e.call(this) || this;
        return t.stadiumObject = null,
        t.expiryTimestamp = 0,
        t
    }
    return __extends(UTMyStadiumRepository, e),
    UTMyStadiumRepository.prototype.reset = function() {
        this.stadiumObject = null,
        this.expiryTimestamp = 0
    }
    ,
    UTMyStadiumRepository.prototype.set = function(t) {
        this.stadiumObject = t
    }
    ,
    UTMyStadiumRepository.prototype.getFullStadium = function() {
        return this.stadiumObject
    }
    ,
    UTMyStadiumRepository.prototype.setCacheTimestamp = function(t, e) {
        this.expiryTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 5 * SECONDS_PER_MINUTE * MS_PER_SECOND)
    }
    ,
    UTMyStadiumRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTMyStadiumRepository
}(EAObject))
  , UTMyStadiumService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTMyStadiumService(t) {
        var e = i.call(this) || this;
        return e.stadiumDAO = t,
        e.stadiumRepository = new UTMyStadiumRepository,
        e
    }
    return __extends(UTMyStadiumService, i),
    UTMyStadiumService.prototype.reset = function() {
        this.stadiumRepository.reset()
    }
    ,
    UTMyStadiumService.prototype.getStadium = function() {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO
          , t = this.stadiumRepository.getFullStadium();
        a.data = {
            stadium: null
        };
        function tGa(t, e) {
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response) && e.response.stadium) {
                a.data = {
                    stadium: e.response.stadium
                };
                var i = services.Configuration.getFeatureSetting(UTServerSettingsRepository.KEY.MYSTADIUM_CACHE_TIMEOUT)
                  , r = 0 < i ? i : void 0;
                o.stadiumRepository.set(e.response.stadium),
                o.stadiumRepository.setCacheTimestamp(Date.now(), r)
            }
            n.notify(a)
        }
        return this.stadiumRepository.isCacheExpired() ? t && t.isStadiumModified() ? t.saveStadium().observe(this, function(t, e) {
            t.unobserve(o),
            e.success && o.stadiumDAO.getStadium().observe(o, tGa),
            DebugUtils.Assert(e.success, "Failed to save dirty stadium!")
        }) : this.stadiumDAO.getStadium().observe(this, tGa) : (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        a.data.stadium = t,
        n.notify(a)),
        n
    }
    ,
    UTMyStadiumService.prototype.saveStadium = function() {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO
          , t = this.stadiumRepository.getFullStadium();
        return (null == t ? void 0 : t.isStadiumModified()) ? this.getStadium().observe(this, function(t, e) {
            var i;
            if (t.unobserve(o),
            a.error = e.error,
            e.success && (null === (i = e.data) || void 0 === i ? void 0 : i.stadium)) {
                var r = e.data.stadium;
                r.isStadiumModified() ? r.saveStadium().observe(o, function(t, e) {
                    t.unobserve(o),
                    a.success = e.success,
                    a.status = e.status,
                    n.notify(a)
                }) : (a.success = !0,
                a.status = HttpStatusCode.NOT_MODIFIED,
                n.notify(a))
            } else
                a.success = !1,
                a.status = e.status,
                n.notify(a),
                getDefaultDispatcher().notify(AppNotification.STADIUM_SAVE_FAILED, o)
        }) : (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        n.notify(a)),
        n
    }
    ,
    UTMyStadiumService
}(EAObject))
  , FCObjectivesRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function FCObjectivesRepository() {
        var t = e.call(this) || this;
        return t.activeCampaign = null,
        t.campaignCacheExpiration = 0,
        t.categories = new EAHashTable,
        t.metaGroups = new EAHashTable,
        t.needsMilestonesAutoClaim = !1,
        t.utSpCapReached = !1,
        t.utSpCapResetTime = 0,
        t.fcSpCapReached = FcasCapType.NOT_SET,
        t.objectivesCacheExpiration = 0,
        t
    }
    return __extends(FCObjectivesRepository, e),
    FCObjectivesRepository.prototype.reset = function() {
        this.activeCampaign = null,
        this.campaignCacheExpiration = 0,
        this.categories.clear(),
        this.metaGroups.clear(),
        this.needsMilestonesAutoClaim = !1,
        this.utSpCapReached = !1,
        this.utSpCapResetTime = 0,
        this.fcSpCapReached = FcasCapType.NOT_SET,
        this.objectivesCacheExpiration = 0
    }
    ,
    FCObjectivesRepository.prototype.resetFcasContent = function() {
        this.activeCampaign = null,
        this.campaignCacheExpiration = 0,
        this.metaGroups.clear()
    }
    ,
    FCObjectivesRepository.prototype.setFCCampaignCacheTimestamp = function(t, e) {
        var i = 6e5;
        JSUtils.isNumber(e) && (i = Math.max(Math.min(e * MS_PER_SECOND, i), 3e4)),
        this.campaignCacheExpiration = t + i
    }
    ,
    FCObjectivesRepository.prototype.isFCCampaignCacheExpired = function() {
        return this.campaignCacheExpiration < Date.now()
    }
    ,
    FCObjectivesRepository.prototype.setUtSpCapState = function(t) {
        this.utSpCapReached = t
    }
    ,
    FCObjectivesRepository.prototype.setFcSpCapState = function(t) {
        this.fcSpCapReached = t
    }
    ,
    FCObjectivesRepository.prototype.resetUtasSpCap = function() {
        this.utSpCapReached = !1,
        this.utSpCapResetTime = 0
    }
    ,
    FCObjectivesRepository.prototype.getFcSpCapType = function() {
        return this.fcSpCapReached
    }
    ,
    FCObjectivesRepository.prototype.isSPCapReached = function() {
        return this.utSpCapReached
    }
    ,
    FCObjectivesRepository.prototype.setUtSpCapResetTimeStamp = function(t) {
        this.utSpCapResetTime = t
    }
    ,
    FCObjectivesRepository.prototype.getSpCapResetTimeStamp = function() {
        return this.utSpCapResetTime
    }
    ,
    FCObjectivesRepository.prototype.setUTObjectivesCacheTimestamp = function(t, e) {
        var i = 3e5;
        JSUtils.isNumber(e) && (i = Math.max(Math.min(e * MS_PER_SECOND, i), 3e4)),
        this.objectivesCacheExpiration = t + i
    }
    ,
    FCObjectivesRepository.prototype.setUTObjectivesDirty = function() {
        this.objectivesCacheExpiration = 0
    }
    ,
    FCObjectivesRepository.prototype.isUTObjectivesCacheExpired = function() {
        return this.objectivesCacheExpiration < Date.now()
    }
    ,
    FCObjectivesRepository.prototype.setActiveCampaign = function(t) {
        this.activeCampaign = t
    }
    ,
    FCObjectivesRepository.prototype.getActiveCampaign = function() {
        return this.activeCampaign
    }
    ,
    FCObjectivesRepository.prototype.setCategories = function(t) {
        var e = this;
        this.categories.clear(),
        t.forEach(function(t) {
            return e.categories.set(t.id, t)
        })
    }
    ,
    FCObjectivesRepository.prototype.getCategories = function() {
        return this.categories.values()
    }
    ,
    FCObjectivesRepository.prototype.getCategoryById = function(t) {
        return this.categories.get(t)
    }
    ,
    FCObjectivesRepository.prototype.setMetaGroups = function(t) {
        var e = this;
        this.metaGroups.clear(),
        t.forEach(function(t) {
            return e.metaGroups.set(t.id, t)
        })
    }
    ,
    FCObjectivesRepository.prototype.getMetaGroups = function() {
        return this.metaGroups.values()
    }
    ,
    FCObjectivesRepository.prototype.getMetaGroupById = function(t) {
        return this.metaGroups.get(t)
    }
    ,
    FCObjectivesRepository
}(EAObject))
  , FCObjectivesService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
,
function(r) {
    function FCObjectivesService(t, e) {
        var i = r.call(this) || this;
        return i.objectivesDAO = t,
        i.objectivesRepository = new FCObjectivesRepository,
        i.updateGroupIds = [],
        i.metaDAO = e,
        i
    }
    return __extends(FCObjectivesService, r),
    FCObjectivesService.prototype.init = function() {
        r.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.OBJECTIVE_UPDATE, this, this.update)
    }
    ,
    FCObjectivesService.prototype.dealloc = function() {
        r.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.OBJECTIVE_UPDATE, this)
    }
    ,
    FCObjectivesService.prototype.reset = function() {
        this.objectivesRepository.reset(),
        this.updateGroupIds = []
    }
    ,
    FCObjectivesService.prototype.resetFcasContent = function() {
        this.objectivesRepository.resetFcasContent()
    }
    ,
    FCObjectivesService.prototype.flushCategoryCache = function() {
        this.objectivesRepository.setUTObjectivesCacheTimestamp(0)
    }
    ,
    FCObjectivesService.prototype.isFeatureEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.OBJECTIVES_ENABLED)
    }
    ,
    FCObjectivesService.prototype.isMetaFeatureEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED)
    }
    ,
    FCObjectivesService.prototype.isObjectivesClaimAllEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.OBJECTIVES_CLAIM_ALL)
    }
    ,
    FCObjectivesService.prototype.setObjectivesClaimAllDisabled = function() {
        services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.OBJECTIVES_CLAIM_ALL, !1)
    }
    ,
    FCObjectivesService.prototype.isFCCampaignCacheExpired = function() {
        return this.objectivesRepository.isFCCampaignCacheExpired()
    }
    ,
    FCObjectivesService.prototype.isUTObjectivesCacheExpired = function() {
        return this.objectivesRepository.isUTObjectivesCacheExpired()
    }
    ,
    FCObjectivesService.prototype.requestMilestonesAutoClaimState = function() {
        var a = this
          , s = new EAObservable
          , l = new UTServiceResponseDTO;
        return l.data = {
            needsMilestonesAutoClaim: !1
        },
        this.isFeatureEnabled() ? this.isUTObjectivesCacheExpired() ? this.objectivesDAO.getObjectiveClaimState().observe(this, function(t, e) {
            var i, r, o;
            t.unobserve(a);
            var n = Date.now();
            l.success = e.success,
            l.status = e.status,
            l.error = e.error,
            e.success && JSUtils.isObject(e.response) ? (l.data = e.response,
            a.objectivesRepository.needsMilestonesAutoClaim = e.response.needsMilestonesAutoClaim,
            a.objectivesRepository.setUtSpCapState(null !== (i = e.response.utSpCapReached) && void 0 !== i && i),
            a.objectivesRepository.setUtSpCapResetTimeStamp(null !== (r = e.response.utSpCapResetTime) && void 0 !== r ? r : 0)) : (a.objectivesRepository.setFCCampaignCacheTimestamp(n, 30),
            (null === (o = e.error) || void 0 === o ? void 0 : o.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.OBJECTIVES_ENABLED, !1)),
            s.notify(l)
        }) : (l.success = !0,
        l.status = HttpStatusCode.NOT_MODIFIED,
        l.data.needsMilestonesAutoClaim = this.objectivesRepository.needsMilestonesAutoClaim,
        s.notify(l)) : (l.status = UtasErrorCode.SERVICE_IS_DISABLED,
        s.notify(l)),
        s
    }
    ,
    FCObjectivesService.prototype.requestActiveCampaign = function() {
        var n = this
          , a = new EAObservable
          , s = new FCServiceResponseDTO;
        return s.data = {
            campaign: null
        },
        this.isMetaFeatureEnabled() ? this.isFCCampaignCacheExpired() ? this.metaDAO.getMetaCampaignOverview().observe(this, function(t, e) {
            var i, r;
            t.unobserve(n);
            var o = Date.now();
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.campaign ? (s.data = e.response,
            n.objectivesRepository.reset(),
            n.objectivesRepository.setFCCampaignCacheTimestamp(o, e.response.campaign.endTime),
            n.objectivesRepository.setActiveCampaign(e.response.campaign)) : (n.objectivesRepository.setFCCampaignCacheTimestamp(o, 30),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) !== FcasErrorCode.SERVICE_IS_DISABLED && (null === (r = e.error) || void 0 === r ? void 0 : r.code) !== FcasErrorCode.LOGGED_IN_ON_CONSOLE && e.status !== HttpStatusCode.SERVER_ERROR || services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !1)),
            a.notify(s)
        }) : (s.success = !0,
        s.status = HttpStatusCode.NOT_MODIFIED,
        s.data.campaign = this.objectivesRepository.getActiveCampaign(),
        a.notify(s)) : (s.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        s.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
        a.notify(s)),
        a
    }
    ,
    FCObjectivesService.prototype.requestCampaignDetails = function() {
        var o = this
          , n = new EAObservable
          , a = new FCServiceResponseDTO
          , s = this.objectivesRepository.getActiveCampaign();
        if (a.data = {
            campaign: null
        },
        !this.isMetaFeatureEnabled())
            return a.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
            a.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
            n.notify(a),
            n;
        if (!this.isFCCampaignCacheExpired() && s && s.hasLevels())
            return a.success = !0,
            a.status = HttpStatusCode.NOT_MODIFIED,
            a.data.campaign = s,
            n.notify(a),
            n;
        function bIa(t, e) {
            var i, r;
            t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response) ? (s = o.objectivesRepository.getActiveCampaign()) && (s.setLevels(e.response.levels),
            s.setPremiumLevels(e.response.premiumLevels),
            s.setPrices(e.response.coinsPrice, e.response.pointsPrice),
            s.hasPremium = e.response.hasPremium,
            s.hasUnseenGrant = e.response.hasUnseenGrant,
            a.data = {
                campaign: s
            }) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) !== FcasErrorCode.SERVICE_IS_DISABLED && (null === (r = e.error) || void 0 === r ? void 0 : r.code) !== FcasErrorCode.LOGGED_IN_ON_CONSOLE && e.status !== HttpStatusCode.SERVER_ERROR || services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !1),
            n.notify(a)
        }
        return this.isFCCampaignCacheExpired() ? this.requestActiveCampaign().observe(this, function(t, e) {
            t.unobserve(o),
            o.metaDAO.getMetaCampaignDetails().observe(o, bIa)
        }) : this.metaDAO.getMetaCampaignDetails().observe(this, bIa),
        n
    }
    ,
    FCObjectivesService.prototype.requestCampaignProgress = function(t) {
        var n = this
          , a = new EAObservable
          , s = new FCServiceResponseDTO
          , l = this.objectivesRepository.getActiveCampaign();
        s.data = {
            campaign: null
        };
        return this.metaDAO.getMetaCampaignProgress(t).observe(this, function(t, e) {
            var i, r, o;
            t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response) ? (l = n.objectivesRepository.getActiveCampaign()) && e.response.progressUpdate && (l.xp = e.response.progressUpdate.totalUserXP,
            l.currentLevel = e.response.progressUpdate.currentUserLevel,
            n.setFCSpCapType(null !== (i = e.response.progressUpdate.xpLimitType) && void 0 !== i ? i : FcasCapType.NOT_SET),
            l.modified = !1,
            s.data = {
                campaign: l
            }) : (null === (r = e.error) || void 0 === r ? void 0 : r.code) !== FcasErrorCode.SERVICE_IS_DISABLED && (null === (o = e.error) || void 0 === o ? void 0 : o.code) !== FcasErrorCode.LOGGED_IN_ON_CONSOLE && e.status !== HttpStatusCode.SERVER_ERROR || services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !1),
            a.notify(s)
        }),
        a
    }
    ,
    FCObjectivesService.prototype.requestMetaObjectiveGroups = function() {
        var n = this
          , a = new EAObservable
          , s = new FCServiceResponseDTO;
        return s.data = {
            metaGroups: []
        },
        this.isMetaFeatureEnabled() ? !this.isFCCampaignCacheExpired() && 0 < this.objectivesRepository.getMetaGroups().length ? (s.success = !0,
        s.status = HttpStatusCode.NOT_MODIFIED,
        s.data.metaGroups = this.objectivesRepository.getMetaGroups(),
        a.notify(s)) : this.metaDAO.getMetaObjectiveGroups().observe(this, function(t, e) {
            var i, r;
            t.unobserve(n);
            var o = Date.now();
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response) ? (s.data = e.response,
            n.objectivesRepository.setFCCampaignCacheTimestamp(o),
            n.objectivesRepository.setMetaGroups(e.response.metaGroups)) : (n.objectivesRepository.setFCCampaignCacheTimestamp(o, 30),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) !== FcasErrorCode.SERVICE_IS_DISABLED && (null === (r = e.error) || void 0 === r ? void 0 : r.code) !== FcasErrorCode.LOGGED_IN_ON_CONSOLE && e.status !== HttpStatusCode.SERVER_ERROR || services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !1)),
            a.notify(s)
        }) : (s.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        s.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
        a.notify(s)),
        a
    }
    ,
    FCObjectivesService.prototype.requestCategories = function() {
        var o = this
          , n = new EAObservable
          , a = new UTHttpResponseDTO;
        return a.response = {
            categories: []
        },
        this.isFeatureEnabled() ? !this.isUTObjectivesCacheExpired() && 0 < this.objectivesRepository.getCategories().length ? (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        a.response.categories = this.objectivesRepository.getCategories(),
        n.notify(a)) : this.objectivesDAO.getCategories().observe(this, function(t, e) {
            var i;
            t.unobserve(o);
            var r = Date.now();
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response) ? (a.response = e.response,
            o.objectivesRepository.setUTObjectivesCacheTimestamp(r),
            o.objectivesRepository.setCategories(e.response.categories)) : (o.objectivesRepository.setUTObjectivesCacheTimestamp(r, 30),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.OBJECTIVES_ENABLED, !1)),
            n.notify(a)
        }) : (a.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        a.error = new UTServerErrorVO(UtasErrorCode.SERVICE_IS_DISABLED,""),
        n.notify(a)),
        n
    }
    ,
    FCObjectivesService.prototype.requestCategoryById = function(i) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        if (n.data = {
            category: null
        },
        !this.isUTObjectivesCacheExpired()) {
            var t = this.objectivesRepository.getCategoryById(i);
            if (t)
                return n.success = !0,
                n.status = HttpStatusCode.NOT_MODIFIED,
                n.data.category = t,
                o.notify(n),
                o
        }
        return this.requestCategories().observe(this, function(t, e) {
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            e.success && (n.data = {
                category: r.objectivesRepository.getCategoryById(i)
            }),
            o.notify(n)
        }),
        o
    }
    ,
    FCObjectivesService.prototype.requestGroup = function(r, o) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO
          , t = r.getGroup(o);
        if (DebugUtils.Assert(JSUtils.isValid(t), "Unable to find group with composite ID " + o),
        s.data = {
            group: null
        },
        !this.isFeatureEnabled())
            return s.status = UtasErrorCode.SERVICE_IS_DISABLED,
            a.notify(s),
            a;
        if (!t)
            return s.status = HttpStatusCode.BAD_REQUEST,
            a.notify(s),
            a;
        if (!this.isUTObjectivesCacheExpired() && t.hasObjectives())
            return s.success = !0,
            s.status = HttpStatusCode.NOT_MODIFIED,
            s.data.group = t,
            a.notify(s),
            a;
        function VIa(t, e) {
            if (t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            e.success && e.response && !JSUtils.isString(e.response)) {
                var i = r ? r.getGroup(o) : null;
                i && (i.update(i),
                s.data = {
                    group: i
                })
            }
            a.notify(s)
        }
        return t.isMilestone() || t.isExpiringMilestone() ? this.objectivesDAO.getLearningGroupObjectives(r.id, t.id).observe(this, VIa) : this.objectivesDAO.getGroupObjectives(r.id, t.type, t.id).observe(this, VIa),
        a
    }
    ,
    FCObjectivesService.prototype.claimLevelReward = function(t, i) {
        var r = this
          , o = new EAObservable
          , n = new FCServiceResponseDTO;
        return this.isFeatureEnabled() ? this.metaDAO.claimLevel(t, i).observe(this, function(t, e) {
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            n.data = {
                rewards: [],
                level: i,
                hasSubstitutedRewards: !1,
                hasUTRewards: !1
            },
            e.success && e.response && !JSUtils.isString(e.response) && (r.objectivesRepository.getActiveCampaign() && (i.state = ObjectiveMilestoneState.REWARDED,
            n.data.level = i),
            n.data.rewards = e.response.rewards,
            n.data.hasSubstitutedRewards = e.response.hasSubstitutedRewards,
            n.data.hasUTRewards = e.response.hasUTRewards,
            r.triggerObjectivesCountUpdate());
            o.notify(n)
        }) : (n.data = {
            rewards: [],
            level: i,
            hasSubstitutedRewards: !1,
            hasUTRewards: !1
        },
        n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        n.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
        o.notify(n)),
        o
    }
    ,
    FCObjectivesService.prototype.claimMetaGroupReward = function(t, r) {
        var o = this
          , n = new EAObservable
          , a = new FCServiceResponseDTO;
        return this.isFeatureEnabled() ? this.metaDAO.claimAllObjectiveGroup(t, r).observe(this, function(t, e) {
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            a.data = {
                rewards: [],
                group: r,
                hasSubstitutedRewards: !1,
                hasUTRewards: !1
            },
            e.success && e.response && !JSUtils.isString(e.response)) {
                var i = o.objectivesRepository.getMetaGroupById(r.id);
                i && (i.state = ObjectiveGroupStateEnum.REWARDED,
                a.data.group = i),
                a.data.rewards = e.response.rewards,
                a.data.hasSubstitutedRewards = e.response.hasSubstitutedRewards,
                a.data.hasUTRewards = e.response.hasUTRewards,
                o.triggerObjectivesCountUpdate()
            }
            n.notify(a)
        }) : (a.data = {
            rewards: [],
            group: r,
            hasSubstitutedRewards: !1,
            hasUTRewards: !1
        },
        a.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        a.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
        n.notify(a)),
        n
    }
    ,
    FCObjectivesService.prototype.claimMetaGroupTaskReward = function(t, o, n) {
        var a = this
          , s = new EAObservable
          , l = new FCServiceResponseDTO;
        return this.isFeatureEnabled() ? this.metaDAO.claimObjective(t, n).observe(this, function(t, e) {
            if (t.unobserve(a),
            l.success = e.success,
            l.status = e.status,
            l.error = e.error,
            l.data = {
                rewards: [],
                group: o,
                objective: n,
                hasSubstitutedRewards: !1,
                hasUTRewards: !1
            },
            e.success && e.response && !JSUtils.isString(e.response)) {
                var i = a.objectivesRepository.getMetaGroupById(o.id)
                  , r = null == i ? void 0 : i.getObjectiveById(n.id);
                i && r && (r.state = ObjectiveProgressState.REDEEMED,
                l.data.objective = r,
                i.isClaimable() || i.getNumberOfCompletedObjectives() !== i.getObjectives().length || (i.state = ObjectiveGroupStateEnum.COMPLETED),
                l.data.group = i,
                a.triggerObjectivesCountUpdate()),
                l.data.rewards = e.response.rewards,
                l.data.hasSubstitutedRewards = e.response.hasSubstitutedRewards,
                l.data.hasUTRewards = e.response.hasUTRewards
            }
            s.notify(l)
        }) : (l.data = {
            rewards: [],
            group: o,
            objective: n,
            hasSubstitutedRewards: !1,
            hasUTRewards: !1
        },
        l.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        l.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
        s.notify(l)),
        s
    }
    ,
    FCObjectivesService.prototype.claimMetaUTRewards = function() {
        var r = this
          , t = new EAObservable
          , o = new UTHttpResponseDTO;
        return this.isFeatureEnabled() ? this.objectivesDAO.claimMetaRewards().observe(this, function(t, e) {
            t.unobserve(r);
            var i = e.response && !JSUtils.isString(e.response) ? e.response.rewards : [];
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            o.response = {
                rewards: i
            }
        }) : (o.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
        o.error = new UTServerErrorVO(UtasErrorCode.SERVICE_IS_DISABLED,""),
        t.notify(o)),
        t
    }
    ,
    FCObjectivesService.prototype.claimExpiredRewards = function() {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        if (!this.isMetaFeatureEnabled())
            return a.status = UtasErrorCode.SERVICE_IS_DISABLED,
            n.notify(a),
            n;
        this.metaDAO.getAutoGrantedRewards().observe(this, function(t, e) {
            t.unobserve(o);
            var i = [];
            e.response && !JSUtils.isString(e.response) && (i = e.response.rewards.filter(function(t) {
                return !t.isUtItem
            })),
            r(i)
        });
        var r = function(r) {
            o.objectivesDAO.claimMetaRewards().observe(o, function(t, e) {
                t.unobserve(o);
                var i = e.response && !JSUtils.isString(e.response) ? e.response.rewards : [];
                a.success = e.success,
                a.status = e.status,
                a.error = e.error,
                a.data = {
                    rewards: __spreadArrays(i, r)
                },
                e.success ? (o.reset(),
                n.notify(a),
                getDefaultDispatcher().notify(AppNotification.OBJECTIVE_CAMPAIGN_REWARDS_CLAIM, o, {
                    type: ObjectiveCampaignType.SEASON,
                    rewards: i
                })) : n.notify(a)
            })
        };
        return n
    }
    ,
    FCObjectivesService.prototype.resetAutoGrantedRewards = function() {
        return this.metaDAO.resetAutoGrantedRewards()
    }
    ,
    FCObjectivesService.prototype.claimExpiredLearningRewards = function() {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.objectivesDAO.claimExpiredLearningObjectiveRewards().observe(this, function(t, e) {
            t.unobserve(r);
            var i = e.response && JSUtils.isObject(e.response) ? e.response.rewards : [];
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            n.data = {
                rewards: i
            },
            e.success ? (r.reset(),
            o.notify(n),
            getDefaultDispatcher().notify(AppNotification.OBJECTIVE_CAMPAIGN_REWARDS_CLAIM, r, {
                type: ObjectiveCampaignType.LEARNING,
                rewards: i
            })) : o.notify(n)
        }) : (n.status = UtasErrorCode.SERVICE_IS_DISABLED,
        o.notify(n)),
        o
    }
    ,
    FCObjectivesService.prototype.triggerUpdates = function(t, e) {
        function $Ja(t) {
            t ? a.requestCategoryById(t.categoryId).observe(a, i) : e && a.flushCategoryCache()
        }
        var a = this
          , s = t.slice()
          , l = s.shift()
          , i = function(t, e) {
            if (t.unobserve(a),
            e.success && JSUtils.isObject(e.data)) {
                var i = e.data.category;
                DebugUtils.Assert(JSUtils.isValid(i), "No objective category retrieved when attempting to parse updates."),
                DebugUtils.Assert(JSUtils.isValid(l), "No update entry found when parsing objective updates."),
                i && l && a.requestGroup(i, l.groupCompositeId).observe(a, function(t, e) {
                    t.unobserve(a);
                    var i = e.data && !JSUtils.isString(e.data) ? e.data.group : null;
                    if (l && i) {
                        var r = i.getObjectiveById(l.objectiveId)
                          , o = a.updateGroupIds.indexOf(l.groupId);
                        if (r && (r.state = l.objectiveState,
                        r.progress = l.objectiveProgress,
                        (r.isClaimable() || r.isRedeemed()) && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_COMPLETE, a, {
                            name: r.title
                        })),
                        0 <= o) {
                            a.updateGroupIds.splice(o, 1),
                            i.state = l.groupState;
                            var n = e.status == HttpStatusCode.NOT_MODIFIED;
                            i.isCompleted() && n && i.incrementTimesCompleted(),
                            (i.isClaimable() || i.isRedeemed()) && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_GROUP_COMPLETE, a, {
                                name: i.title
                            })
                        }
                    }
                    l = s.shift(),
                    $Ja(l)
                })
            }
        };
        $Ja(l)
    }
    ,
    FCObjectivesService.prototype.update = function(t, e, i) {
        var r, o, n = this;
        if (0 < i.experienceGained) {
            var a = this.objectivesRepository.getActiveCampaign();
            a && (a.xp += i.experienceGained,
            a.modified = !0)
        }
        0 < i.updates.length ? (i.updates.forEach(function(t) {
            n.updateGroupIds.indexOf(t.groupId) < 0 && n.updateGroupIds.push(t.groupId)
        }),
        this.triggerUpdates(i.updates, i.refreshGroups)) : i.refreshGroups && this.flushCategoryCache(),
        this.objectivesRepository.setUtSpCapState(null !== (r = i.utSpCapReached) && void 0 !== r && r),
        this.objectivesRepository.setUtSpCapResetTimeStamp(null !== (o = i.utSpCapResetTime) && void 0 !== o ? o : 0)
    }
    ,
    FCObjectivesService.prototype.addCampaignXp = function(t) {
        if (0 < t) {
            var e = this.objectivesRepository.getActiveCampaign();
            e && (e.xp += t,
            e.modified = !0)
        }
    }
    ,
    FCObjectivesService.prototype.populateMetaRewards = function(t) {
        var r = this
          , o = services.Item.populateMetaRewards(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTServiceResponseDTO;
            i.success = e.success,
            i.status = e.status,
            i.error = e.error,
            e.success && JSUtils.isObject(e.data) && (i.data = {
                rewards: e.data.rewards
            },
            r.updateMetaRewards(e.data.rewards)),
            o.notify(i)
        });
        return o
    }
    ,
    FCObjectivesService.prototype.updateMetaRewards = function(e) {
        var t;
        null === (t = this.objectivesRepository.getActiveCampaign()) || void 0 === t || t.setUTRewards(e),
        this.objectivesRepository.getMetaGroups().forEach(function(t) {
            return t.setUTRewards(e)
        })
    }
    ,
    FCObjectivesService.prototype.purchasePremiumPass = function(t) {
        var r = this
          , e = this.objectivesRepository.getActiveCampaign()
          , o = new EAObservable
          , n = new FCServiceResponseDTO;
        if (n.data = {
            rewards: [],
            campaign: e
        },
        !this.isMetaFeatureEnabled())
            return n.status = HttpStatusCode.SERVICE_UNAVAILABLE_ERROR,
            n.error = new FCServerErrorVO(FcasErrorCode.SERVICE_IS_DISABLED,""),
            o.notify(n),
            o;
        if (!e)
            return n.status = HttpStatusCode.NOT_FOUND,
            o.notify(n),
            o;
        function IKa(t) {
            r.metaDAO.purchasePremiumPass(e.id, t).observe(r, function(t, e) {
                if (t.unobserve(r),
                n.success = e.success,
                n.status = e.status,
                n.error = e.error,
                e.success && JSUtils.isObject(e.response) && n.data) {
                    var i = r.objectivesRepository.getActiveCampaign();
                    i && (i.hasPremium = !0,
                    n.data.rewards = e.response.rewards,
                    n.data.campaign = i)
                } else
                    e.status !== FcasErrorCode.SERVICE_IS_DISABLED && e.status !== FcasErrorCode.LOGGED_IN_ON_CONSOLE && e.status !== HttpStatusCode.SERVER_ERROR || services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.META_FCAS_ENABLED, !1);
                o.notify(n)
            })
        }
        return t === GameCurrency.POINTS ? IKa(!1) : t === GameCurrency.COINS && this.objectivesDAO.purchasePremiumPass(e.id).observe(this, function(t, e) {
            if (t.unobserve(r),
            n.success = e.success,
            e.success)
                IKa(!0);
            else if (e.status === UtasErrorCode.SERVICE_IS_DISABLED) {
                var i = r.objectivesRepository.getActiveCampaign();
                i && i.premiumPrices.set(GameCurrency.COINS, new UTCurrencyVO(GameCurrency.COINS,0)),
                n.status = FcasErrorCode.SERVICE_IS_DISABLED,
                n.error = new FCServerErrorVO(n.status,""),
                o.notify(n)
            } else
                n.status = FcasErrorCode.STATE_INVALID,
                n.error = new FCServerErrorVO(n.status,""),
                o.notify(n)
        }),
        o
    }
    ,
    FCObjectivesService.prototype.isUtasSpCapReached = function() {
        return this.objectivesRepository.isSPCapReached()
    }
    ,
    FCObjectivesService.prototype.isFcSpCapReached = function() {
        return 0 !== this.objectivesRepository.getFcSpCapType()
    }
    ,
    FCObjectivesService.prototype.getFcSpCapType = function() {
        return this.objectivesRepository.getFcSpCapType()
    }
    ,
    FCObjectivesService.prototype.setFCSpCapType = function(t) {
        this.objectivesRepository.setFcSpCapState(t)
    }
    ,
    FCObjectivesService.prototype.resetUtasSpCap = function() {
        this.objectivesRepository.resetUtasSpCap()
    }
    ,
    FCObjectivesService.prototype.getSpCapResetTime = function() {
        return this.objectivesRepository.getSpCapResetTimeStamp()
    }
    ,
    FCObjectivesService.prototype.triggerObjectivesCountUpdate = function() {
        getDefaultDispatcher().notify(AppNotification.OBJECTIVE_AVAILABLE_REWARD_COUNT_CHANGE, this)
    }
    ,
    FCObjectivesService
}(EAObject))
  , UTPlayerHealthRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPlayerHealthRepository() {
        var t = e.call(this) || this;
        return t.expiryTimestamp = 0,
        t.unsavedTimeSpent = 0,
        t
    }
    return __extends(UTPlayerHealthRepository, e),
    UTPlayerHealthRepository.prototype.reset = function() {
        this.playerHealth = null,
        this.expiryTimestamp = 0,
        this.unsavedTimeSpent = 0
    }
    ,
    UTPlayerHealthRepository.prototype.setPlayerHealth = function(t) {
        this.playerHealth = t
    }
    ,
    UTPlayerHealthRepository.prototype.getPlayerHealth = function() {
        return this.playerHealth
    }
    ,
    UTPlayerHealthRepository.prototype.setCacheTimestamp = function(t, e) {
        JSUtils.isNumber(e) || (e = 10 * SECONDS_PER_MINUTE),
        this.expiryTimestamp = t + e * MS_PER_SECOND
    }
    ,
    UTPlayerHealthRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTPlayerHealthRepository.prototype.getUnsavedTimeSpent = function() {
        return this.unsavedTimeSpent
    }
    ,
    UTPlayerHealthRepository.prototype.setUnsavedTimeSpent = function(t) {
        this.unsavedTimeSpent = t
    }
    ,
    UTPlayerHealthRepository
}(EAObject))
  , UTPlayerHealthService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTPlayerHealthService(t) {
        var e = i.call(this) || this;
        return e.playerHealthDAO = t,
        e.playerHealthRepository = new UTPlayerHealthRepository,
        e
    }
    return __extends(UTPlayerHealthService, i),
    UTPlayerHealthService.prototype.init = function() {
        i.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.PLAYER_HEALTH_UPDATE, this, this.update)
    }
    ,
    UTPlayerHealthService.prototype.dealloc = function() {
        i.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.PLAYER_HEALTH_UPDATE, this)
    }
    ,
    UTPlayerHealthService.prototype.reset = function() {
        this.playerHealthRepository.reset()
    }
    ,
    UTPlayerHealthService.prototype.isPlayerHealthCacheExpired = function() {
        return this.playerHealthRepository.isCacheExpired()
    }
    ,
    UTPlayerHealthService.prototype.isEnabledByUser = function() {
        var t, e;
        return null !== (e = null === (t = this.playerHealthRepository.getPlayerHealth()) || void 0 === t ? void 0 : t.enabled) && void 0 !== e && e
    }
    ,
    UTPlayerHealthService.prototype.isFeatureEnabled = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.PLAYER_HEALTH_ENABLED) && services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.PLAYER_HEALTH_ENABLED_PER_SKU)
    }
    ,
    UTPlayerHealthService.prototype.isTrackingEnabled = function() {
        return this.isFeatureEnabled() && this.isEnabledByUser()
    }
    ,
    UTPlayerHealthService.prototype.setFeatureEnabled = function(t) {
        services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.PLAYER_HEALTH_ENABLED, t),
        services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.PLAYER_HEALTH_ENABLED_PER_SKU, t)
    }
    ,
    UTPlayerHealthService.prototype.readPlayerHealth = function() {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return a.data = {
            playerHealth: null
        },
        this.isFeatureEnabled() ? this.isPlayerHealthCacheExpired() ? this.playerHealthDAO.read().observe(this, function(t, e) {
            var i;
            t.unobserve(o);
            var r = Date.now();
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.playerHealth ? (a.data = e.response,
            o.playerHealthRepository.reset(),
            o.playerHealthRepository.setCacheTimestamp(r),
            o.playerHealthRepository.setPlayerHealth(e.response.playerHealth)) : (o.playerHealthRepository.setCacheTimestamp(r, 30),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && o.setFeatureEnabled(!1)),
            n.notify(a)
        }) : (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        a.data.playerHealth = this.playerHealthRepository.getPlayerHealth(),
        n.notify(a)) : (a.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.notify(a)),
        n
    }
    ,
    UTPlayerHealthService.prototype.updatePlayerHealthStatLimit = function(r, o) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.playerHealthDAO.write(r, o).observe(this, function(t, e) {
            if (t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            e.success) {
                var i = n.playerHealthRepository.getPlayerHealth();
                i && i.setLimit(r, o)
            }
            a.notify(s)
        }) : (s.status = UtasErrorCode.SERVICE_IS_DISABLED,
        a.notify(s)),
        a
    }
    ,
    UTPlayerHealthService.prototype.updatePlayerHealthOptin = function(r) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return this.isFeatureEnabled() ? this.playerHealthDAO.write("userOptIn", Number(r)).observe(this, function(t, e) {
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success) {
                var i = o.playerHealthRepository.getPlayerHealth();
                i && (i.enabled = r)
            }
            n.notify(a)
        }) : (a.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.notify(a)),
        n
    }
    ,
    UTPlayerHealthService.prototype.update = function(t, e, i) {
        var r = this.playerHealthRepository.getPlayerHealth();
        r && r.updateCurrentPeriodValue(i.id, i.value)
    }
    ,
    UTPlayerHealthService.prototype.trackTimeSpent = function(t) {
        var e = this.playerHealthRepository.getUnsavedTimeSpent();
        this.playerHealthRepository.setUnsavedTimeSpent(e + t);
        var i = this.playerHealthRepository.getPlayerHealth();
        i && (isWeb() ? i.updateCurrentPeriodValue(PlayerHealthStatId.TIME_SPENT_WEB_APP, t) : (isIOS() || isAndroid()) && i.updateCurrentPeriodValue(PlayerHealthStatId.TIME_SPENT_COMP_APP, t))
    }
    ,
    UTPlayerHealthService.prototype.persistTimeSpent = function() {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO
          , t = this.playerHealthRepository.getUnsavedTimeSpent();
        if (!this.isFeatureEnabled())
            return o.status = UtasErrorCode.SERVICE_IS_DISABLED,
            r.notify(o),
            r;
        if (t <= 0)
            return o.success = !0,
            o.status = HttpStatusCode.OK,
            r.notify(o),
            r;
        var e = isWeb() ? PlayerHealthStatId.TIME_SPENT_WEB_APP : PlayerHealthStatId.TIME_SPENT_COMP_APP;
        return 0 < t && this.playerHealthDAO.write(e, t).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && i.playerHealthRepository.setUnsavedTimeSpent(0),
            r.notify(o)
        }),
        r
    }
    ,
    UTPlayerHealthService.prototype.storeUnsavedTimeSpent = function() {
        var t = this.playerHealthRepository.getUnsavedTimeSpent();
        0 < t && (services.UserSettings.setItem(UserSettingsKey.PLAYER_HEALTH_TIME_SPENT, t),
        this.playerHealthRepository.setUnsavedTimeSpent(0))
    }
    ,
    UTPlayerHealthService.prototype.trackUnsavedTimeSpent = function() {
        var t = services.UserSettings.getItem(UserSettingsKey.PLAYER_HEALTH_TIME_SPENT, "0");
        if ("0" !== t) {
            services.UserSettings.removeItem(UserSettingsKey.PLAYER_HEALTH_TIME_SPENT);
            var e = JSUtils.parseNumber(t, services.Localization.locale.toBCPString())
              , i = this.playerHealthRepository.getUnsavedTimeSpent();
            this.playerHealthRepository.setUnsavedTimeSpent(i + e)
        }
    }
    ,
    UTPlayerHealthService.prototype.storeLimitIgnoredTimestamp = function(t) {
        t === PlayerHealthStatId.PACKS_OPENED ? services.UserSettings.setItem(UserSettingsKey.PLAYER_HEALTH_PACKS_LIMIT_IGNORED, Date.now()) : t === PlayerHealthStatId.POINTS_PURCHASED && services.UserSettings.setItem(UserSettingsKey.PLAYER_HEALTH_POINTS_LIMIT_IGNORED, Date.now())
    }
    ,
    UTPlayerHealthService.prototype.retrieveLimitIgnoredTimestamp = function(t) {
        var e = "";
        return t === PlayerHealthStatId.PACKS_OPENED ? e = services.UserSettings.getItem(UserSettingsKey.PLAYER_HEALTH_PACKS_LIMIT_IGNORED, "0") : t === PlayerHealthStatId.POINTS_PURCHASED && (e = services.UserSettings.getItem(UserSettingsKey.PLAYER_HEALTH_POINTS_LIMIT_IGNORED, "0")),
        JSUtils.parseNumber(e, services.Localization.locale.toBCPString())
    }
    ,
    UTPlayerHealthService.prototype.isIgnoreLimitPeriodExpired = function(t) {
        return Date.now() - this.retrieveLimitIgnoredTimestamp(t) > SECONDS_PER_HOUR * MS_PER_SECOND
    }
    ,
    UTPlayerHealthService
}(EAObject))
  , UTPlayerMetaDataService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTPlayerMetaDataService(t) {
        var e = i.call(this) || this;
        return e.metaDAO = t,
        e
    }
    return __extends(UTPlayerMetaDataService, i),
    UTPlayerMetaDataService.prototype.updateItemPlayerMeta = function(i) {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO
          , a = [];
        return i.forEach(function(t) {
            var e = repositories.PlayerMeta.get(t.databaseId);
            e && a.push(e)
        }),
        0 === a.length ? (n.success = !1,
        n.status = HttpStatusCode.BAD_REQUEST,
        n.data = {
            items: i
        },
        o.notify(n)) : this.metaDAO.getAttributesMetaData(i.map(function(t) {
            return t.definitionId
        }), a).observe(this, function(t, e) {
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            JSUtils.isObject(e.response) && 0 < e.response.metas.length && e.response.metas.map(function(e) {
                var t = i.find(function(t) {
                    return t.definitionId === e.id
                });
                t && t.setMetaData(e)
            }),
            n.data = {
                items: i
            },
            o.notify(n)
        }),
        o
    }
    ,
    UTPlayerMetaDataService
}(EAObject))
  , UTRivalsService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRivalsService(t) {
        var e = i.call(this) || this;
        return e.rivalsDao = t,
        e
    }
    return __extends(UTRivalsService, i),
    UTRivalsService.prototype.reset = function() {
        this.rivalsDao.reset()
    }
    ,
    UTRivalsService.prototype.getWeeklyRewardsInfo = function() {
        return this.rivalsDao.getWeeklyPrizeDetails()
    }
    ,
    UTRivalsService.prototype.getEvent = function() {
        return this.rivalsDao.getEvent()
    }
    ,
    UTRivalsService.prototype.claimWeeklyRivalsRewardsById = function(t) {
        return this.rivalsDao.claimById(t)
    }
    ,
    UTRivalsService
}(EAObject))
  , UTSBCRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSBCRepository() {
        var t = e.call(this) || this;
        return t.ALL_CATEGORY = "All",
        t.FAVOURITE_CATEGORY = "Favourite",
        t.cacheExpiration = 0,
        t.categories = new EAHashTable,
        t.sets = new EAHashTable,
        t
    }
    return __extends(UTSBCRepository, e),
    UTSBCRepository.prototype.reset = function() {
        this.cacheExpiration = 0,
        this.categories.clear(),
        this.sets.clear()
    }
    ,
    UTSBCRepository.prototype.setCacheTimestamp = function(t) {
        this.cacheExpiration = t
    }
    ,
    UTSBCRepository.prototype.isCacheExpired = function() {
        return 0 === this.cacheExpiration || this.cacheExpiration < Math.round(Date.now() / 1e3)
    }
    ,
    UTSBCRepository.prototype.setCategories = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.categories.set(t.id, t)
        }),
        this.categories.set(this.ALL_CATEGORY, new UTSBCCategoryDTO(-2,-2,services.Localization.localize("sbc.categories.all"),SBCCategoryType.CUSTOM_ALL)),
        this.categories.set(this.FAVOURITE_CATEGORY, new UTSBCCategoryDTO(-1,-1,services.Localization.localize("sbc.categories.favourites"),SBCCategoryType.CUSTOM_FAVOURITE))
    }
    ,
    UTSBCRepository.prototype.setSBCSets = function(t) {
        var e = this
          , i = this.categories.get(this.ALL_CATEGORY)
          , r = this.categories.get(this.FAVOURITE_CATEGORY);
        i && (i.setIds = []),
        r && (r.setIds = []),
        i && r && t.forEach(function(t) {
            e.sets.set(t.id, t),
            i.setIds.push(t.id),
            t.isFavourite && !t.isComplete() && r.setIds.push(t.id)
        })
    }
    ,
    UTSBCRepository.prototype.addFavouriteSet = function(t) {
        var e = this.categories.get(this.FAVOURITE_CATEGORY);
        DebugUtils.Assert(JSUtils.isValid(e), "Unable to find SBC favourites category."),
        e && e.setIds.indexOf(t) < 0 && e.setIds.push(t)
    }
    ,
    UTSBCRepository.prototype.removeFavouriteSet = function(t) {
        var e = this.categories.get(this.FAVOURITE_CATEGORY)
          , i = e ? e.setIds.indexOf(t) : -1;
        DebugUtils.Assert(JSUtils.isValid(e), "Unable to find SBC favourites category."),
        e && 0 <= i && e.setIds.splice(i, 1)
    }
    ,
    UTSBCRepository.prototype.getCategories = function() {
        var r = this;
        this.categories.forEach(function(t) {
            t.displayable = !1;
            for (var e = 0; e < t.setIds.length; e++) {
                var i = r.sets.get(t.setIds[e]);
                if (i && i.isDisplayable()) {
                    t.displayable = !0;
                    break
                }
            }
        });
        var t = this.categories.get(this.FAVOURITE_CATEGORY);
        return t && (t.displayable = !0),
        this.categories.values().sort(function(t, e) {
            return JSUtils.sortCompare(t.priority, e.priority)
        })
    }
    ,
    UTSBCRepository.prototype.getSets = function() {
        return this.sets.values()
    }
    ,
    UTSBCRepository.prototype.getSetById = function(t) {
        return this.sets.get(t)
    }
    ,
    UTSBCRepository
}(EAObject))
  , UTSBCService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTSBCService(t, e) {
        var i = r.call(this) || this;
        return i.repository = new UTSBCRepository,
        i.sbcDAO = t,
        i.itemRepository = e,
        i
    }
    return __extends(UTSBCService, r),
    UTSBCService.prototype.init = function() {
        r.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.ITEM_MOVE, this, this.nItemMoved),
        getDefaultDispatcher().addObserver(AppNotification.ITEM_DISCARD, this, this.nItemDiscarded)
    }
    ,
    UTSBCService.prototype.dealloc = function() {
        r.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.ITEM_MOVE, this),
        getDefaultDispatcher().removeObserver(AppNotification.ITEM_DISCARD, this)
    }
    ,
    UTSBCService.prototype.reset = function() {
        this.repository.reset()
    }
    ,
    UTSBCService.prototype.isCacheExpired = function() {
        return this.repository.isCacheExpired()
    }
    ,
    UTSBCService.prototype.getCachedSBCSquads = function() {
        return this.repository.getSets().reduce(function(e, t) {
            var i = t.getChallenges();
            return 0 < i.length && i.forEach(function(t) {
                t.squad && e.push(t.squad)
            }),
            e
        }, [])
    }
    ,
    UTSBCService.prototype.requestSets = function() {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return n.data = {
            categories: [],
            sets: []
        },
        services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED) ? this.isCacheExpired() ? this.sbcDAO.getSets().observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            e.success && JSUtils.isObject(e.response) ? (r.repository.setCategories(e.response.categories),
            r.repository.setSBCSets(e.response.sets),
            r.repository.setCacheTimestamp(Math.round(Date.now() / MS_PER_SECOND) + 300)) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED, !1),
            n.data = {
                categories: r.repository.getCategories(),
                sets: r.repository.getSets()
            },
            o.notify(n)
        }) : (n.success = !0,
        n.status = HttpStatusCode.NOT_MODIFIED,
        n.data.categories = this.repository.getCategories(),
        n.data.sets = this.repository.getSets(),
        o.notify(n)) : (n.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.success = !1,
        o.notify(n)),
        o
    }
    ,
    UTSBCService.prototype.loadChallenge = function(n) {
        var a = this
          , s = new EAObservable
          , l = new UTServiceResponseDTO;
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED) ? !this.repository.isCacheExpired() && JSUtils.isValid(n.squad) ? (l.success = !0,
        l.status = HttpStatusCode.OK,
        l.data = {
            squad: n.squad
        },
        s.notify(l)) : this.sbcDAO.loadChallenge(n.id, n.isInProgress()).observe(this, function(t, e) {
            var i;
            if (t.unobserve(a),
            l.success = e.success,
            l.status = e.status,
            l.error = e.error,
            l.data = {
                squad: null
            },
            l.success && JSUtils.isObject(e.response)) {
                var r = e.response.squad;
                l.data.squad = r,
                n.squad = r;
                var o = {
                    squad: n.squad
                };
                n.hasNotStarted() && (n.status = SBCChallengeStatus.IN_PROGRESS),
                n.onDataChange.notify(o)
            } else
                (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED, !1);
            s.notify(l)
        }) : (l.status = UtasErrorCode.SERVICE_IS_DISABLED,
        s.notify(l)),
        s
    }
    ,
    UTSBCService.prototype.saveChallenge = function(r) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED) ? r.squad ? this.sbcDAO.saveChallenge(r.id, r.squad).observe(this, function(t, e) {
            var i;
            t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            a.data = e.response,
            a.success ? r.onSave.notify() : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED, !1),
            n.notify(a)
        }) : (a.status = HttpStatusCode.BAD_REQUEST,
        a.success = !1,
        n.notify(a)) : (a.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.notify(a)),
        n
    }
    ,
    UTSBCService.prototype.submitChallenge = function(n, a, i, r) {
        var s = this
          , l = new EAObservable
          , c = new UTServiceResponseDTO;
        if (!services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED))
            return c.status = UtasErrorCode.SERVICE_IS_DISABLED,
            l.notify(c),
            l;
        if (!n.squad)
            return c.status = HttpStatusCode.BAD_REQUEST,
            c.success = !1,
            l.notify(c),
            l;
        function AOa(t, e) {
            if (t.unobserve(s),
            c.success = e.success,
            c.status = e.status,
            c.error = e.error,
            c.success && JSUtils.isObject(e.response)) {
                var i = e.response;
                c.data = {
                    challengeId: i.challengeId,
                    credits: i.credits || 0,
                    grantedChallengeAwards: i.grantedChallengeAwards || [],
                    objectiveUpdates: i.objectiveUpdates || null,
                    preOrderPacks: i.preOrderPacks || 0,
                    recoveredPacks: i.recoveredPacks || 0,
                    setId: i.setId,
                    setCompleted: !1
                },
                n.timesCompleted++,
                n.status = SBCChallengeStatus.COMPLETED,
                n.onDataChange.notify({
                    status: n.status,
                    timesCompleted: n.timesCompleted
                }),
                a.challengesCompletedCount++,
                c.data.setCompleted = a.challengesComplete(),
                c.data.setCompleted && (a.timesCompleted++,
                a.isRepeatable && !a.isComplete() ? (a.challengesCompletedCount = 0,
                a.getChallenges().forEach(function(t) {
                    return t.reset()
                })) : a.isFavourite && s.toggleFavouriteTag(a));
                var r = u.getFieldPlayers().map(function(t) {
                    return t.item
                });
                repositories.Item.remove(r),
                services.Squad.resetSquadsCache(),
                i.objectiveUpdates && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, s, i.objectiveUpdates),
                a && a.repeatabilityMode !== SBCRepeatabilityMode.NON_REPEATABLE && 1 === a.timesCompleted && s.repository.reset()
            } else {
                var o = e.response;
                c.data = o
            }
            l.notify(c)
        }
        var u = n.squad;
        return this.saveChallenge(n).observe(this, function(t, e) {
            t.unobserve(s),
            e.success ? (r ? s.sbcDAO.submitChallenge(n.id, i, repositories.Chemistry.version) : s.sbcDAO.submitChallenge(n.id, i)).observe(s, AOa) : (c.success = e.success,
            c.status = e.status,
            c.error = e.error,
            l.notify(c))
        }),
        l
    }
    ,
    UTSBCService.prototype.toggleFavouriteTag = function(r) {
        var o = this
          , n = new EAObservable
          , a = new UTServiceResponseDTO;
        return r instanceof UTSBCSetEntity ? this.sbcDAO.setFavouriteTag(r.id, !r.isFavourite).observe(this, function(t, e) {
            var i;
            t.unobserve(o),
            e.success ? (r.isFavourite = !r.isFavourite,
            r.isFavourite ? o.repository.addFavouriteSet(r.id) : o.repository.removeFavouriteSet(r.id)) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED, !1),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            a.data = {
                setId: r.id,
                isFavourite: r.isFavourite
            },
            n.notify(a)
        }) : (DebugUtils.Assert(!1, "Expected a valid SBC set entity when toggling favourite state."),
        a.success = !1,
        a.status = HttpStatusCode.BAD_REQUEST,
        a.data = {
            setId: 0,
            isFavourite: !1
        },
        n.notify(a)),
        n
    }
    ,
    UTSBCService.prototype.toggleFavouriteTagById = function(t) {
        var e = this.repository.getSetById(t);
        if (e)
            return this.toggleFavouriteTag(e);
        var i = new EAObservable
          , r = new UTServiceResponseDTO;
        return r.success = !1,
        r.status = HttpStatusCode.BAD_REQUEST,
        r.data = null,
        i.notify(r),
        i
    }
    ,
    UTSBCService.prototype.requestChallengesForSet = function(o) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        if (s.data = {
            challenges: []
        },
        !services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED))
            return s.status = UtasErrorCode.SERVICE_IS_DISABLED,
            a.notify(s),
            a;
        var t = o.getChallenges();
        return 0 < t.length && !this.isCacheExpired() ? (s.success = !0,
        s.status = HttpStatusCode.NOT_MODIFIED,
        s.data.challenges = t,
        a.notify(s)) : this.sbcDAO.getChallengesForSet(o.id).observe(this, function(t, e) {
            var i;
            if (t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            s.data = {
                challenges: []
            },
            e.success && JSUtils.isObject(e.response)) {
                var r = n.repository.getSetById(o.id);
                s.data.challenges = e.response.challenges,
                null == r || r.setChallenges(s.data.challenges)
            } else
                (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ENABLED, !1);
            a.notify(s)
        }),
        a
    }
    ,
    UTSBCService.prototype.nItemMoved = function(t, e, i) {
        var r = this;
        if (i.itemIds && 0 < i.itemIds.length)
            if (i.destinationPile === ItemPile.CLUB) {
                var o = i.itemIds.reduce(function(t, e) {
                    var i = r.itemRepository.getClub().getItem(ItemType.PLAYER, ItemSubType.PLAYER, e);
                    return i && i.isValid() && t.push(i),
                    t
                }, []);
                this.replaceItemsInSquads(o)
            } else
                this.removeItemsById(i.itemIds)
    }
    ,
    UTSBCService.prototype.nItemDiscarded = function(t, e, i) {
        i.itemIds && 0 < i.itemIds.length && this.removeItemsById(i.itemIds)
    }
    ,
    UTSBCService.prototype.replaceItemsInSquads = function(t) {
        var e = this
          , r = this.getCachedSBCSquads();
        t.forEach(function(i) {
            r.forEach(function(t) {
                var e = t.containsDreamItem(i);
                0 <= e && t.addItemToSlot(e, i)
            }, e)
        }, this)
    }
    ,
    UTSBCService.prototype.removeItemsById = function(t) {
        var i = this.getCachedSBCSquads();
        t.forEach(function(e) {
            return i.forEach(function(t) {
                return t.removePlayerById(e)
            })
        })
    }
    ,
    UTSBCService
}(EAObject))
  , UTSocialEventEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSocialEventEntity(t) {
        var e = i.call(this) || this;
        return e.description = t.description,
        e.endTime = t.endTime,
        e.id = t.id,
        e.name = t.name,
        e.priority = t.priority,
        e.startTime = t.startTime,
        e.requirements = t.requirements,
        e
    }
    return __extends(UTSocialEventEntity, i),
    UTSocialEventEntity.prototype.hasEnded = function() {
        return this.endTime <= Math.floor(Date.now() / MS_PER_SECOND)
    }
    ,
    UTSocialEventEntity.prototype.getTimeRemaining = function() {
        return Math.max(this.endTime - Math.round(Date.now() / MS_PER_SECOND), 0)
    }
    ,
    UTSocialEventEntity
}(EAObject))
  , UTRushEligibilityVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRushEligibilityVO(t) {
        var e = i.call(this) || this;
        return e.attribute = t.attribute,
        e.scope = t.scope,
        e.targets = t.targets,
        e
    }
    return __extends(UTRushEligibilityVO, i),
    Object.defineProperty(UTRushEligibilityVO.prototype, "isCombinedRequirement", {
        get: function() {
            return 1 < this.targets.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTRushEligibilityVO.prototype.value = function() {
        return {
            attribute: this.attribute,
            scope: this.scope,
            targets: this.targets
        }
    }
    ,
    UTRushEligibilityVO.prototype.equals = function(t) {
        return t instanceof UTRushEligibilityVO && this.attribute === t.attribute && this.scope === t.scope && this.targets === t.targets
    }
    ,
    UTRushEligibilityVO
}(EAObject))
  , UTSocialEventEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTSocialEventEntityFactory() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTSocialEventEntityFactory, t),
    UTSocialEventEntityFactory.prototype.createRequirements = function(t) {
        return JSUtils.groupBy(t, function(t) {
            return t.eligibilitySlot
        }).map(function(t) {
            var e = RushEligibilityAttribute.NONE
              , i = RushEligibilityScope.EXACT
              , r = [];
            return t.forEach(function(t) {
                t.type === RushEligibilityType.PLAYER_ATTRIBUTE ? e = t.eligibilityValue : t.type === RushEligibilityType.ACADEMY_PLAYER_SLOTTING ? r.push(t.eligibilityValue) : t.type === RushEligibilityType.SCOPE ? i = t.eligibilityValue : t.type === RushEligibilityType.ADDITIONAL_TARGET_VALUE && r.push(t.eligibilityValue)
            }),
            DebugUtils.Assert(e !== RushEligibilityAttribute.NONE, "No attribute found for eligibility requirement"),
            e === RushEligibilityAttribute.SKILL_MOVES && (r = r.map(function(t) {
                return t++
            })),
            {
                attribute: e,
                targets: r,
                scope: i
            }
        }).map(function(t) {
            return new UTRushEligibilityVO(t)
        })
    }
    ,
    UTSocialEventEntityFactory.prototype.createSocialEvent = function(t) {
        var e = {
            description: t.description,
            endTime: t.endTime,
            id: t.eventId,
            name: t.eventName,
            priority: t.priority,
            startTime: t.startTime,
            requirements: t.hardRequirements ? this.createRequirements(t.hardRequirements) : []
        };
        return new UTSocialEventEntity(e)
    }
    ,
    UTSocialEventEntityFactory
}(EAObject))
  , UTSocialEventRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSocialEventRepository() {
        var t = e.call(this) || this;
        return t.currentEvents = null,
        t
    }
    return __extends(UTSocialEventRepository, e),
    UTSocialEventRepository.prototype.reset = function() {
        this.currentEvents = null,
        e.prototype.reset.call(this)
    }
    ,
    UTSocialEventRepository.prototype.setEvents = function(t) {
        this.currentEvents = t
    }
    ,
    UTSocialEventRepository.prototype.getEvents = function() {
        return this.currentEvents
    }
    ,
    UTSocialEventRepository
}(UTGameModesEventRepository));
NamespaceManager.Register("repositories"),
repositories.Social = new UTSocialEventRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSocialDAO = function(o) {
    function UTSocialDAO(t, e, i) {
        var r = o.call(this) || this;
        return r.authDelegate = t,
        r.requestDelegate = e,
        r.socialRepo = i,
        r.socialFactory = new UTSocialEventEntityFactory,
        r
    }
    return __extends(UTSocialDAO, o),
    UTSocialDAO.prototype.getSocialHub = function() {
        var r = this
          , o = new EAObservable
          , t = new UTHttpRequest(this.authDelegate)
          , e = new UTHttpResponseDTO
          , i = this.socialRepo.getEvents();
        return i && !this.socialRepo.isCacheExpired() ? (e.success = !0,
        e.status = HttpStatusCode.NOT_MODIFIED,
        e.response = {
            eventList: i
        },
        o.notify(e)) : (t.setPath("/ut/game/" + GAME_NAME + "/social/hub"),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) ? (r.socialRepo.setDirty(),
            r.socialRepo.setCacheTimestamp(Date.now()),
            r.socialRepo.setEvents(e.response.eventList.map(function(t) {
                return r.socialFactory.createSocialEvent(t)
            })),
            i.response = {
                eventList: r.socialRepo.getEvents()
            }) : i.response = {
                eventList: null
            },
            o.notify(i)
        })),
        o
    }
    ,
    UTSocialDAO
}(EAObject)
  , UTSocialService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTSocialService(t, e) {
        var i = r.call(this) || this;
        return i.socialDao = t,
        i.configService = e,
        i
    }
    return __extends(UTSocialService, r),
    UTSocialService.prototype.requestSocialHub = function() {
        var r = this
          , o = new EAObservable
          , n = new UTServiceResponseDTO;
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.SOCIAL_MODE) ? this.socialDao.getSocialHub().observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            n.success = e.success,
            n.status = e.status,
            n.error = e.error,
            n.success && JSUtils.isObject(e.response) ? n.data = e.response : n.data = null,
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && r.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.SOCIAL_MODE, !1),
            o.notify(n)
        }) : (n.status = UtasErrorCode.SERVICE_IS_DISABLED,
        n.data = {
            eventList: null
        },
        o.notify(n)),
        o
    }
    ,
    UTSocialService
}(EAObject))
  , UTSquadBattlesEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__assign = this && this.__assign || function() {
    return (__assign = Object.assign || function(t) {
        for (var e, i = 1, r = arguments.length; i < r; i++)
            for (var o in e = arguments[i])
                Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
        return t
    }
    ).apply(this, arguments)
}
,
function(i) {
    function UTSquadBattlesEntityFactory(t) {
        var e = i.call(this) || this;
        return e.rewardFactory = t,
        e
    }
    return __extends(UTSquadBattlesEntityFactory, i),
    UTSquadBattlesEntityFactory.prototype.createSquadBattlesEventEntity = function(t) {
        var e, i, r = this, o = null !== (i = null === (e = t.prizeTiers) || void 0 === e ? void 0 : e.map(function(e, t, i) {
            return r.createSquadBattlesTierEntity(e, i.find(function(t) {
                return t.tierType === SquadBattlesTierType.POINT_TIERS && t.tierLevel === e.tierLevel - 1
            }), i.find(function(t) {
                return t.tierType === SquadBattlesTierType.POINT_TIERS && t.tierLevel === e.tierLevel + 1
            }))
        })) && void 0 !== i ? i : [], n = __assign(__assign({}, t), {
            prizeTiers: o
        });
        return new UTSquadBattlesEventEntity(n)
    }
    ,
    UTSquadBattlesEntityFactory.prototype.createSquadBattlesTierEntity = function(t, e, i) {
        var r, o, n = this.rewardFactory.createRewardSetFromSquadBattlesData(t), a = {
            awardSetId: t.awardSetId,
            competitionId: t.competitionId,
            eventRewardSet: n,
            tierEnd: t.tierEnd,
            tierEndValue: e && (null == e ? void 0 : e.tierStartValue) ? (null == e ? void 0 : e.tierStartValue) - 1 : -1,
            tierLevel: t.tierLevel,
            tierStart: t.tierStart,
            previousTierStartPoints: null !== (r = null == i ? void 0 : i.tierStartValue) && void 0 !== r ? r : 0,
            tierStartValue: null !== (o = t.tierStartValue) && void 0 !== o ? o : -1,
            tierType: t.tierType
        };
        return new UTSquadBattlesEventTierEntity(a)
    }
    ,
    UTSquadBattlesEntityFactory
}(EAObject))
  , UTSquadBattlesEventRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSquadBattlesEventRepository() {
        var t = e.call(this) || this;
        return t.currentEvent = null,
        t
    }
    return __extends(UTSquadBattlesEventRepository, e),
    UTSquadBattlesEventRepository.prototype.reset = function() {
        this.currentEvent = null,
        e.prototype.reset.call(this)
    }
    ,
    UTSquadBattlesEventRepository.prototype.setEvent = function(t) {
        this.currentEvent = t
    }
    ,
    UTSquadBattlesEventRepository.prototype.getEvent = function() {
        return this.currentEvent
    }
    ,
    UTSquadBattlesEventRepository
}(UTGameModesEventRepository));
NamespaceManager.Register("repositories"),
repositories.SquadBattles = new UTSquadBattlesEventRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSquadBattlesDAO = function(o) {
    function UTSquadBattlesDAO(t, e, i) {
        var r = o.call(this) || this;
        return r.authDelegate = t,
        r.requestDelegate = e,
        r.rewardFactory = new UTRewardFactory(new UTItemEntityFactory),
        r.squadBattlesEntityFactory = new UTSquadBattlesEntityFactory(r.rewardFactory),
        r.squadBattlesRepo = i,
        r
    }
    return __extends(UTSquadBattlesDAO, o),
    UTSquadBattlesDAO.prototype.getHub = function(t) {
        var r = this
          , o = new EAObservable
          , e = new UTHttpRequest(this.authDelegate)
          , i = new UTHttpResponseDTO
          , n = this.squadBattlesRepo.getEvent();
        return !t && n && (null == n ? void 0 : n.prizeTiers.length) <= 1 && this.squadBattlesRepo.setDirty(),
        n && !this.squadBattlesRepo.isCacheExpired() ? (i.success = !0,
        i.status = HttpStatusCode.NOT_MODIFIED,
        i.response = {
            event: n
        },
        o.notify(i)) : (e.setPath("/ut/game/" + GAME_NAME + "/sqbt/user/hub"),
        t && e.setUrlVariables({
            scope: "mini"
        }),
        this.requestDelegate.send(e).observe(this, function(t, e) {
            t.unobserve(r);
            var i = new UTHttpResponseDTO;
            JSUtils.assignPropertyValues(e, i),
            e.success && e.response && !JSUtils.isString(e.response) ? (r.squadBattlesRepo.setDirty(),
            r.squadBattlesRepo.setCacheTimestamp(Date.now(), e.response.endTime),
            r.squadBattlesRepo.setEvent(r.squadBattlesEntityFactory.createSquadBattlesEventEntity(e.response)),
            i.response = {
                event: r.squadBattlesRepo.getEvent()
            }) : i.response = {
                event: null
            },
            o.notify(i)
        })),
        o
    }
    ,
    UTSquadBattlesDAO.prototype.claimRewards = function() {
        var o = this
          , n = new EAObservable
          , t = new UTHttpRequest(this.authDelegate);
        return t.setPath("/ut/game/" + GAME_NAME + "/sqbt/user/prize"),
        t.setRequestType(HttpRequestMethod.POST),
        this.requestDelegate.send(t).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTHttpResponseDTO;
            if (JSUtils.assignPropertyValues(e, i),
            e.success && JSUtils.isObject(e.response) && e.response.awardedPrizes) {
                var r = e.response.awardedPrizes.reduce(function(t, e) {
                    return t.concat(e.awards.map(function(t) {
                        return o.rewardFactory.createRewardFromRewardData(t)
                    }))
                }, []);
                i.response = {
                    allClaimed: 0 === e.response.prizesInError.length,
                    rewards: [o.rewardFactory.createRewardSetFromRewards(r)]
                }
            } else
                i.response = {
                    allClaimed: !0,
                    rewards: []
                };
            o.squadBattlesRepo.setDirty(),
            n.notify(i)
        }),
        n
    }
    ,
    UTSquadBattlesDAO
}(EAObject)
  , UTSquadBattlesService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadBattlesService(t) {
        var e = i.call(this) || this;
        return e.squadBattlesDao = t,
        e
    }
    return __extends(UTSquadBattlesService, i),
    UTSquadBattlesService.prototype.reset = function() {
        repositories.SquadBattles.setDirty()
    }
    ,
    UTSquadBattlesService.prototype.requestCurrentEventReducedScope = function() {
        return this.requestCurrentEvent(!0)
    }
    ,
    UTSquadBattlesService.prototype.requestCurrentEventFullScope = function() {
        return this.requestCurrentEvent(!1)
    }
    ,
    UTSquadBattlesService.prototype.requestCurrentEvent = function(t) {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return o.data = {
            event: null
        },
        this.squadBattlesDao.getHub(t).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            JSUtils.isObject(e.response) && (o.data = e.response),
            r.notify(o)
        }),
        r
    }
    ,
    UTSquadBattlesService.prototype.claimRewards = function() {
        return this.squadBattlesDao.claimRewards()
    }
    ,
    UTSquadBattlesService
}(EAObject))
  , UTTOTWSquadRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTTOTWSquadRepository() {
        var t = e.call(this) || this;
        return t.cacheTimestamp = 0,
        t.squadCollection = new EAIterator([]),
        t
    }
    return __extends(UTTOTWSquadRepository, e),
    UTTOTWSquadRepository.prototype.reset = function() {
        this.cacheTimestamp = 0,
        this.squadCollection.resetCollection([])
    }
    ,
    UTTOTWSquadRepository.prototype.setSquadList = function(t) {
        this.squadCollection.resetCollection(t)
    }
    ,
    UTTOTWSquadRepository.prototype.getSquadList = function() {
        return this.squadCollection.values()
    }
    ,
    UTTOTWSquadRepository.prototype.isCacheExpired = function() {
        return this.cacheTimestamp < Date.now()
    }
    ,
    UTTOTWSquadRepository.prototype.setCacheTimestamp = function(t, e) {
        this.cacheTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 36e6)
    }
    ,
    UTTOTWSquadRepository
}(EAObject))
  , UTSquadService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadService(t) {
        var e = i.call(this) || this;
        return e.activeSquad = 0,
        e.squadDao = t,
        e.totwRepository = new UTTOTWSquadRepository,
        getDefaultDispatcher().addObserver(AppNotification.ITEM_MOVE, e, e.nItemTransfered),
        getDefaultDispatcher().addObserver(AppNotification.USER_MASS_INFO, e, e.nUserMassInfoReceived),
        e
    }
    return __extends(UTSquadService, i),
    UTSquadService.prototype.dealloc = function() {
        i.prototype.dealloc.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.ITEM_MOVE, this),
        getDefaultDispatcher().removeObserver(AppNotification.USER_MASS_INFO, this)
    }
    ,
    UTSquadService.prototype.reset = function() {
        this.activeSquad = 0,
        repositories.Squad.reset(),
        this.totwRepository.reset()
    }
    ,
    UTSquadService.prototype.resetSquadsCache = function() {
        repositories.Squad.setDirty()
    }
    ,
    UTSquadService.prototype.getMaxSquads = function() {
        return services.Configuration.maxAllowedSquads
    }
    ,
    UTSquadService.prototype.setMaxSquads = function(t) {
        services.Configuration.maxAllowedSquads = t
    }
    ,
    UTSquadService.prototype.getActiveSquadId = function() {
        return this.activeSquad
    }
    ,
    UTSquadService.prototype.setActiveSquadId = function(e) {
        var t, i = null === (t = services.User.getUser()) || void 0 === t ? void 0 : t.selectedPersona;
        i && repositories.Squad.getSquads(i).forEach(function(t) {
            return t.setActive(t.getId() === e)
        }),
        this.activeSquad = e
    }
    ,
    UTSquadService.prototype.requestSquadList = function() {
        var t, r = this, o = new EAObservable, n = new UTServiceResponseDTO, a = null === (t = services.User.getUser()) || void 0 === t ? void 0 : t.selectedPersona;
        if (!JSUtils.isNumber(a))
            return n.status = HttpStatusCode.UNAUTHORIZED,
            o.notify(n),
            o;
        if (repositories.Squad.isSquadListCacheExpired())
            return this.squadDao.getSquadList().observe(this, function(t, e) {
                t.unobserve(r),
                n.success = e.success,
                n.status = e.status,
                n.error = e.error,
                e.success && JSUtils.isObject(e.response) && (e.response.squads.forEach(function(t) {
                    return repositories.Squad.set(a, t)
                }),
                repositories.Squad.setSquadListCacheTimestamp(Date.now(), 0 < e.maxAge ? e.maxAge : void 0),
                r.setActiveSquadId(e.response.activeSquadId));
                var i = repositories.Squad.getSquads(a);
                n.data = {
                    activeSquadId: r.activeSquad,
                    listFull: i.length >= r.getMaxSquads(),
                    squads: i
                },
                o.notify(n)
            }),
            o;
        var e = repositories.Squad.getSquads(a);
        return n.success = !0,
        n.status = HttpStatusCode.NOT_MODIFIED,
        n.data = {
            activeSquadId: this.activeSquad,
            listFull: e.length >= this.getMaxSquads(),
            squads: e
        },
        o.notify(n),
        o
    }
    ,
    UTSquadService.prototype.requestSquadById = function(t, r) {
        var e, o = this, n = new EAObservable, a = new UTServiceResponseDTO;
        if (JSUtils.isNumber(r) || (r = null === (e = services.User.getUser()) || void 0 === e ? void 0 : e.selectedPersona),
        !JSUtils.isNumber(r))
            return a.status = HttpStatusCode.UNAUTHORIZED,
            n.notify(a),
            n;
        var i = repositories.Squad.getSquadById(r, t);
        return i && !i.isCacheExpired() ? (a.success = !0,
        a.status = HttpStatusCode.NOT_MODIFIED,
        a.data = {
            squad: i
        },
        n.notify(a)) : this.squadDao.getSquadById(t, r).observe(this, function(t, e) {
            if (t.unobserve(o),
            a.success = e.success,
            a.status = e.status,
            a.error = e.error,
            e.success && JSUtils.isObject(e.response) && JSUtils.isNumber(r)) {
                DebugUtils.Assert(JSUtils.isValid(e.response.squad), "Expected a squad entity."),
                e.response.squad && (repositories.Squad.set(r, e.response.squad),
                r <= 0 && o.setActiveSquadId(e.response.squad.getId()));
                var i = e.response.squad ? repositories.Squad.getSquadById(r, e.response.squad.getId()) : null;
                null == i || i.setCacheTimestamp(Date.now()),
                a.data = {
                    squad: i
                }
            } else
                a.data = {
                    squad: null
                };
            n.notify(a)
        }),
        n
    }
    ,
    UTSquadService.prototype.create = function(t, e, i, r) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return this.squadDao.create(t, e, i, r).observe(this, function(t, e) {
            var i;
            if (t.unobserve(n),
            s.status = e.status,
            s.success = e.success,
            s.error = e.error,
            e.success && JSUtils.isObject(e.response)) {
                var r = null === (i = services.User.getUser()) || void 0 === i ? void 0 : i.selectedPersona
                  , o = e.response.squad;
                s.data = {
                    squad: e.response.squad
                },
                r && o && repositories.Squad.set(r, o),
                null == o || o.setCacheTimestamp(0),
                getDefaultDispatcher().notify(AppNotification.SQUAD_CREATE, n, s.data)
            } else
                s.data = {
                    squad: null
                };
            a.notify(s)
        }),
        a
    }
    ,
    UTSquadService.prototype.copy = function(t, e) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return this.squadDao.copy(t, e).observe(this, function(t, e) {
            var i;
            if (t.unobserve(n),
            s.status = e.status,
            s.success = e.success,
            s.error = e.error,
            e.success && JSUtils.isObject(e.response)) {
                var r = null === (i = services.User.getUser()) || void 0 === i ? void 0 : i.selectedPersona
                  , o = e.response.squad;
                s.data = {
                    squad: o
                },
                r && o && repositories.Squad.set(r, o),
                null == o || o.setCacheTimestamp(0),
                getDefaultDispatcher().notify(AppNotification.SQUAD_CREATE, n, s.data)
            } else
                s.data = {
                    squad: null
                };
            a.notify(s)
        }),
        a
    }
    ,
    UTSquadService.prototype.duplicate = function(c) {
        var u = this
          , p = new EAObservable;
        return services.Squad.requestSquadList().observe(this, function(t, e) {
            var i, r, o, n;
            t.unobserve(u);
            var a = null !== (r = null === (i = e.data) || void 0 === i ? void 0 : i.squads) && void 0 !== r ? r : []
              , s = c.getPlayers().map(function(t) {
                return t.getItem()
            })
              , l = c.getName();
            TextUtils.squadNameExists(l, a) && (l = TextUtils.createSquadNameCopy(l, a)),
            u.create(l, null !== (n = null === (o = c.getFormation()) || void 0 === o ? void 0 : o.getName()) && void 0 !== n ? n : "", s, !0).observe(u, function(t, e) {
                t.unobserve(u),
                p.notify(e)
            })
        }),
        p
    }
    ,
    UTSquadService.prototype.rename = function(i, o) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return this.squadDao.rename(i, o).observe(this, function(t, e) {
            t.unobserve(n),
            s.status = e.status,
            s.success = e.success,
            s.error = e.error,
            e.success ? n.requestSquadById(i).observe(n, function(t, e) {
                var i, r;
                t.unobserve(n),
                e.success && JSUtils.isObject(e.data) ? (null === (i = e.data.squad) || void 0 === i || i.setName(o, []),
                s.data = {
                    squad: e.data.squad
                }) : s.data = {
                    squad: null
                },
                a.notify(s),
                (null === (r = e.data) || void 0 === r ? void 0 : r.squad) && getDefaultDispatcher().notify(AppNotification.SQUAD_SAVE, n, {
                    squad: e.data.squad
                })
            }) : a.notify(s)
        }),
        a
    }
    ,
    UTSquadService.prototype.remove = function(o) {
        var n = this
          , a = new EAObservable
          , s = new UTServiceResponseDTO;
        return this.squadDao.remove(o).observe(this, function(t, e) {
            var i;
            if (t.unobserve(n),
            s.success = e.success,
            s.status = e.status,
            s.error = e.error,
            s.data = {
                id: o
            },
            e.success) {
                var r = null === (i = services.User.getUser()) || void 0 === i ? void 0 : i.selectedPersona;
                r && repositories.Squad.removeSquad(r, o),
                repositories.Squad.setDirty(),
                a.notify(s),
                getDefaultDispatcher().notify(AppNotification.SQUAD_DELETE, n, s)
            } else
                a.notify(s)
        }),
        a
    }
    ,
    UTSquadService.prototype.setActiveSquad = function(t) {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.squadDao.getSquadById(t, -1).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && e.response.squad && i.setActiveSquadId(e.response.squad.getId()),
            r.notify(o)
        }),
        r
    }
    ,
    UTSquadService.prototype.requestSquadByType = function(t) {
        var e, r = this, o = new EAObservable, n = new UTServiceResponseDTO, a = null === (e = services.User.getUser()) || void 0 === e ? void 0 : e.selectedPersona;
        if (!JSUtils.isNumber(a))
            return n.status = HttpStatusCode.UNAUTHORIZED,
            n.data = {
                squad: null
            },
            o.notify(n),
            o;
        if ("active" === t) {
            var i = repositories.Squad.getSquadById(a, this.activeSquad);
            i && !i.isCacheExpired() ? (n.success = !0,
            n.status = HttpStatusCode.NOT_MODIFIED,
            n.data = {
                squad: i
            },
            o.notify(n)) : this.squadDao.getSquadByType(t).observe(this, function(t, e) {
                if (t.unobserve(r),
                n.success = e.success,
                n.status = e.status,
                n.error = e.error,
                e.success && JSUtils.isNumber(a) && JSUtils.isObject(e.response))
                    if (DebugUtils.Assert(JSUtils.isValid(e.response.squad), "Expected a squad entity."),
                    e.response.squad) {
                        repositories.Squad.set(a, e.response.squad);
                        var i = repositories.Squad.getSquadById(a, e.response.squad.getId());
                        null == i || i.setCacheTimestamp(Date.now()),
                        n.data = {
                            squad: i
                        }
                    } else
                        n.data = {
                            squad: null
                        };
                else
                    n.data = {
                        squad: null
                    };
                o.notify(n)
            })
        } else
            n.status = HttpStatusCode.BAD_REQUEST,
            o.notify(n);
        return o
    }
    ,
    UTSquadService.prototype.requestTOTWHistory = function() {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.totwRepository.isCacheExpired() ? this.squadDao.getTOTWHistory().observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && (services.Configuration.setFeatureEnabled(UTServerSettingsRepository.KEY.TOTW_HISTORY_ENABLED, !0),
            o.data = {
                squads: e.response.squads
            },
            i.totwRepository.setSquadList(e.response.squads),
            i.totwRepository.setCacheTimestamp(Date.now(), 0 < e.maxAge ? e.maxAge : void 0)),
            r.notify(o)
        }) : (o.success = !0,
        o.status = HttpStatusCode.NOT_MODIFIED,
        o.data = {
            squads: this.totwRepository.getSquadList()
        },
        r.notify(o)),
        r
    }
    ,
    UTSquadService.prototype.requestTOTWSquad = function(t) {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.squadDao.getTOTWSquad(t).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) ? o.data = {
                squad: e.response.squad
            } : o.data = {
                squad: null
            },
            r.notify(o)
        }),
        r
    }
    ,
    UTSquadService.prototype.removeItemsFromSquads = function(r) {
        function VVa(t, e) {
            (e.isPlayer() || e.isManager()) && t.forEach(function(t) {
                t.containsItem(e, !0) && t.removeItem(e)
            })
        }
        var o = this;
        this.requestSquadList().observe(this, function(t, e) {
            if (t.unobserve(o),
            e.success && JSUtils.isObject(e.data)) {
                var i = e.data.squads;
                Array.isArray(r) ? r.forEach(function(t) {
                    return VVa(i, t)
                }) : VVa(i, r)
            }
        })
    }
    ,
    UTSquadService.prototype.removePlayerByIdFromSquads = function(e) {
        var t, i = null === (t = services.User.getUser()) || void 0 === t ? void 0 : t.selectedPersona;
        i && repositories.Squad.getSquads(i).forEach(function(t) {
            return t.removePlayerById(e)
        })
    }
    ,
    UTSquadService.prototype.getManagerPresetById = function(t) {
        return this.squadDao.getManagerPresetById(t)
    }
    ,
    UTSquadService.prototype.saveTactics = function(t) {
        var o = this
          , n = new EAObservable
          , a = new UTHttpResponseDTO;
        if (t.isSBC() || t.isTOTW())
            a.success = !1,
            a.status = HttpStatusCode.BAD_REQUEST,
            n.notify(a);
        else {
            var s = t.getTacticMentalities();
            this.squadDao.saveTacticMentalities(t.getId(), s).observe(this, function(t, e) {
                if (t.unobserve(o),
                a.success = e.success,
                a.status = e.status,
                a.error = e.error,
                a.success) {
                    if (JSUtils.isObject(e.response) && (a.response = e.response,
                    a.response.tactics)) {
                        var i = Object.keys(a.response.tactics)[0]
                          , r = s.find(function(t) {
                            return t.getId() === TacticsProfileSlot[i]
                        });
                        r && r.setCustomName(a.response.tactics[i])
                    }
                    s.forEach(function(t) {
                        t.isModified() && (t.setModified(!1),
                        t.setCustomized(!0))
                    })
                }
                n.notify(a)
            })
        }
        return n
    }
    ,
    UTSquadService.prototype.deleteTacticsSlot = function(t, e) {
        var i = this
          , r = new EAObservable
          , o = new UTServiceResponseDTO;
        return this.squadDao.deleteTacticsProfile(t, e).observe(this, function(t, e) {
            t.unobserve(i),
            o.success = e.success,
            o.status = e.status,
            o.error = e.error,
            e.success && JSUtils.isObject(e.response) && JSUtils.isNumber(e.response.newActiveProfile) ? o.data = {
                newActiveProfile: e.response.newActiveProfile
            } : o.data = {
                newActiveProfile: null
            },
            r.notify(o)
        }),
        r
    }
    ,
    UTSquadService.prototype.getTacticsSummary = function() {
        return repositories.Squad.getTacticsSummary()
    }
    ,
    UTSquadService.prototype.getTacticRoleById = function(t) {
        var e;
        return null !== (e = repositories.Squad.getTacticRoleById(t)) && void 0 !== e ? e : null
    }
    ,
    UTSquadService.prototype.getTacticsDefaultProfiles = function() {
        return repositories.Squad.getTacticsDefaultProfiles()
    }
    ,
    UTSquadService.prototype.getTacticRoles = function() {
        return this.squadDao.getTacticRoles()
    }
    ,
    UTSquadService.prototype.getRoleIdsForPosition = function(t) {
        var e = this.getTacticRoles().map(function(t) {
            return t.type
        });
        return UTPlayerRoleVO.getRolesForPositionId(t, e)
    }
    ,
    UTSquadService.prototype.nItemTransfered = function(t, e, i) {
        if (i.destinationPile === ItemPile.TRANSFER) {
            var r = i.itemIds[0];
            this.removePlayerByIdFromSquads(r)
        }
    }
    ,
    UTSquadService.prototype.nUserMassInfoReceived = function(t, e, i) {
        var r;
        if (i.squad) {
            var o = i.squad.manager[0];
            if (this.processSquadData(i.squad),
            o && o.presets && 0 < o.presets.length) {
                var n = o.presets[0];
                "any" === n.formation && (n.formation = null !== (r = o.formation) && void 0 !== r ? r : i.squad.formation);
                var a = factories.Squad.createTacticPreset(o.id, n);
                a && repositories.Squad.setTacticsManagerProfile(o.id, a)
            }
        }
    }
    ,
    UTSquadService.prototype.processSquadData = function(t) {
        var e, i, r = null !== (i = null === (e = services.User.getUser()) || void 0 === e ? void 0 : e.selectedPersona) && void 0 !== i ? i : 0, o = factories.Squad.createSquad(t);
        if (0 < r && o) {
            repositories.Squad.set(r, o);
            var n = repositories.Squad.getSquadById(r, o.getId());
            null == n || n.setCacheTimestamp(Date.now()),
            n && (this.setActiveSquadId(n.getId()),
            repositories.Item.add(n.getPlayers().reduce(function(t, e) {
                var i = e.item;
                return i.isValid() && !i.concept && t.push(i),
                t
            }, [])))
        }
    }
    ,
    UTSquadService
}(EAObject))
  , UTStoreService = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(a) {
    function UTStoreService(t, e, i, r, o) {
        var n = a.call(this) || this;
        return n.storeDao = t,
        n.userService = e,
        n.configService = i,
        n.mtxService = r,
        n.locService = o,
        n
    }
    return __extends(UTStoreService, a),
    UTStoreService.prototype.reset = function() {}
    ,
    UTStoreService.prototype.getPacks = function(t, e, i) {
        var r = this
          , o = this.storeDao.getPacks(t, e, i);
        return o.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && r.setStoreEnabled(!1),
            JSUtils.isObject(e.response) && (JSUtils.isBoolean(e.response.duplicatesEnabled) && r.setStoreDuplicateChecksEnabled(e.response.duplicatesEnabled),
            JSUtils.isBoolean(e.response.previewsEnabled) && r.setStorePreviewsEnabled(e.response.previewsEnabled))
        }),
        o
    }
    ,
    UTStoreService.prototype.getCategories = function() {
        var r = this
          , t = this.storeDao.getStoreCategories();
        return t.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.SERVICE_IS_DISABLED && r.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.STORE_ENABLED, !1)
        }),
        t
    }
    ,
    UTStoreService.prototype.hasMobileMTXSupport = function() {
        var t, e, i, r = null === (e = null === (t = this.userService) || void 0 === t ? void 0 : t.getUser()) || void 0 === e ? void 0 : e.getSelectedPersona(), o = isAndroid() || isIOS();
        return null !== (i = null == r ? void 0 : r.isPC) && void 0 !== i && i && o
    }
    ,
    UTStoreService.prototype.isMobileMTXEnabled = function() {
        var t, e;
        return !!this.hasMobileMTXSupport() && ((null === (t = this.mtxService) || void 0 === t ? void 0 : t.isNimbleMTXEnabled()) && (null === (e = this.mtxService) || void 0 === e ? void 0 : e.isMobileMTXEnabled()))
    }
    ,
    UTStoreService.prototype.isOriginAccess = function() {
        var t, e, i, r = null === (e = null === (t = this.userService) || void 0 === t ? void 0 : t.getUser()) || void 0 === e ? void 0 : e.getSelectedPersona();
        return null !== (i = null == r ? void 0 : r.hasOriginAccess) && void 0 !== i && i
    }
    ,
    UTStoreService.prototype.isStoreEnabled = function() {
        return !(!this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.STORE_ENABLED) || !this.locService.storeLocLoaded)
    }
    ,
    UTStoreService.prototype.setStoreEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.STORE_ENABLED, t)
    }
    ,
    UTStoreService.prototype.isStorePreviewsEnabled = function() {
        return !!this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.STORE_PREVIEWS_ENABLED)
    }
    ,
    UTStoreService.prototype.setStorePreviewsEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.STORE_PREVIEWS_ENABLED, t)
    }
    ,
    UTStoreService.prototype.isStoreDuplicateChecksEnabled = function() {
        return !!this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.STORE_DUPLICATE_CHECKS_ENABLED)
    }
    ,
    UTStoreService.prototype.setStoreDuplicateChecksEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.STORE_DUPLICATE_CHECKS_ENABLED, t)
    }
    ,
    UTStoreService.prototype.isCoinsEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.CURRENCY_COINS_ENABLED)
    }
    ,
    UTStoreService.prototype.setCoinsEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.CURRENCY_COINS_ENABLED, t)
    }
    ,
    UTStoreService.prototype.hasPointsSpendingAccess = function() {
        var t, e = this.userService.getUser();
        return (null === (t = null == e ? void 0 : e.getSelectedPersona()) || void 0 === t ? void 0 : t.isPC) ? !(null == e ? void 0 : e.hasUnrecoveredFIFAPointsTransaction) && this.mtxService.isMTXEnabled() && this.isPointsEnabled() : this.isPointsEnabled()
    }
    ,
    UTStoreService.prototype.isPointsEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.CURRENCY_POINTS_ENABLED)
    }
    ,
    UTStoreService.prototype.setPointsEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.CURRENCY_POINTS_ENABLED, t)
    }
    ,
    UTStoreService.prototype.isPackOddsEnabled = function() {
        return this.configService.checkFeatureEnabled(UTServerSettingsRepository.KEY.PACK_ODDS_ENABLED)
    }
    ,
    UTStoreService.prototype.setPackOddsEnabled = function(t) {
        this.configService.setFeatureEnabled(UTServerSettingsRepository.KEY.PACK_ODDS_ENABLED, t)
    }
    ,
    UTStoreService
}(EAObject));
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
NamespaceManager.Register("services");
var UTUtasRequestQueueService = function(e) {
    function UTUtasRequestQueueService() {
        var t = e.call(this) || this;
        return t.currentRequests = [],
        t.queue = [],
        t
    }
    return __extends(UTUtasRequestQueueService, e),
    Object.defineProperty(UTUtasRequestQueueService.prototype, "maxConcurrentRequests", {
        get: function() {
            var t = UTServerSettingsRepository.KEY.MAX_CONCURRENT_REQUESTS
              , e = services.Configuration.getFeatureSetting(t);
            return 0 < e ? e : 5
        },
        enumerable: !1,
        configurable: !0
    }),
    UTUtasRequestQueueService.prototype.send = function(e) {
        var t = new UTRequestMetricsVO
          , i = this.currentRequests.concat(this.queue.map(function(t) {
            return t.request
        })).find(function(t) {
            return t.compare(e)
        });
        return i || (t.destination = e.getBaseUrl(),
        t.destinationURL = e.getUrl(),
        t.destinationMethod = e.requestType,
        this.queue.push({
            request: e,
            metrics: t
        }),
        this.currentRequests.length < this.maxConcurrentRequests && this.next(),
        e)
    }
    ,
    UTUtasRequestQueueService.prototype.next = function() {
        var i = this;
        if (!(this.queue.length < 1)) {
            var r = this.queue.shift();
            r && (r.metrics.timestamp = Date.now(),
            r.request.observe(this, function(t, e) {
                return i.onRequestFinished(t, e, r.metrics)
            }),
            r.request.send(),
            this.currentRequests.push(r.request))
        }
    }
    ,
    UTUtasRequestQueueService.prototype.onRequestFinished = function(t, e, i) {
        var r, o = "";
        t.unobserve(this),
        o = JSUtils.isObject(e.response) ? JSON.stringify(e.response) : null !== (r = e.response) && void 0 !== r ? r : "",
        i.payloadSentSize = t.getRequestBody().length,
        i.payloadReceivedSize = o.length,
        services.Metrics.addRequestMetrics(i),
        this.currentRequests.splice(this.currentRequests.indexOf(t), 1),
        this.next()
    }
    ,
    UTUtasRequestQueueService
}(EAObject);
services.UTUtasRequestQueue = new UTUtasRequestQueueService;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPopupDTO = function(o) {
    function UTPopupDTO(t, e, i) {
        var r = o.call(this) || this;
        return r.title = t,
        r.message = e,
        r.buttonOptions = i.map(function(t) {
            var e;
            return {
                labelEnum: t.labelEnum,
                negativeActionFlag: null !== (e = t.negativeActionFlag) && void 0 !== e && e
            }
        }),
        r
    }
    return __extends(UTPopupDTO, o),
    UTPopupDTO
}(EAObject)
  , EATargetActionView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function EATargetActionView() {
        var t = e.call(this) || this;
        return t._targets = new EAHashTable,
        t
    }
    return __extends(EATargetActionView, e),
    EATargetActionView.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this._targets.clear()
    }
    ,
    EATargetActionView.prototype.addTarget = function(t, e, i) {
        if (!(0 <= this.getActions(t, i).indexOf(e))) {
            var r = this._targets.get(i);
            r ? r.push(Object.freeze({
                target: t,
                action: e
            })) : this._targets.set(i, [Object.freeze({
                target: t,
                action: e
            })])
        }
    }
    ,
    EATargetActionView.prototype.removeTarget = function(e, i, t) {
        var r = this._targets.get(t);
        if (r) {
            var o = r.filter(function(t) {
                return !(t.target === e && t.action === i)
            });
            this._targets.set(t, o)
        }
    }
    ,
    EATargetActionView.prototype.getActions = function(i, t) {
        var e = this._targets.get(t);
        return e ? e.reduce(function(t, e) {
            return e.target === i && t.push(e.action),
            t
        }, []) : []
    }
    ,
    EATargetActionView.prototype._triggerActions = function(e, i) {
        var r = this
          , t = this._targets.get(e);
        t && t.forEach(function(t) {
            return t.action.call(t.target, r, e, i)
        }, this)
    }
    ,
    EATargetActionView
}(EAView))
  , UTModalContainerView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTModalContainerView() {
        return e.call(this) || this
    }
    return __extends(UTModalContainerView, e),
    UTModalContainerView.prototype.init = function() {
        e.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTModalContainerView.prototype._touchMoved = function(t) {
        this.getRootElement().contains(t.target) ? e.prototype._touchMoved.call(this, t) : (t.preventDefault(),
        t.stopPropagation())
    }
    ,
    UTModalContainerView.prototype._tapDetected = function(t) {
        t.target === this.getRootElement() ? this._triggerActions(UTModalContainerView.Event.SHIELDPRESS) : e.prototype._tapDetected.call(this, t)
    }
    ,
    UTModalContainerView.Event = {
        SHIELDPRESS: "UTModalContainerView.Event.SHIELDPRESS"
    },
    UTModalContainerView
}(EATargetActionView));
UTModalContainerView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("view-modal-container"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTModalContainerView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTModalContainerView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTControl = function(o) {
    function UTControl() {
        return o.call(this) || this
    }
    return __extends(UTControl, o),
    UTControl.prototype.blur = function() {
        var t = this.getRootElement();
        t === document.activeElement && t.blur()
    }
    ,
    UTControl.prototype.focus = function() {
        var t = this.getRootElement();
        t !== document.activeElement && t.focus()
    }
    ,
    UTControl.prototype._evaluateEventString = function(t) {
        for (var e in EventType)
            if (EventType.hasOwnProperty(e) && t === EventType[e])
                return !0;
        return !1
    }
    ,
    UTControl.prototype.addTarget = function(t, e, i) {
        var r = this._evaluateEventString(i);
        DebugUtils.Assert(r, "Invalid assignment; expected EventType value."),
        r && o.prototype.addTarget.call(this, t, e, i)
    }
    ,
    UTControl.prototype.removeTarget = function(t, e, i) {
        var r = this._evaluateEventString(i);
        DebugUtils.Assert(r, "Invalid assignment; expected EventType value."),
        r && o.prototype.removeTarget.call(this, t, e, i)
    }
    ,
    UTControl.prototype.getActions = function(t, e) {
        var i = this._evaluateEventString(e);
        return DebugUtils.Assert(i, "Invalid assignment; expected EventType value."),
        i ? o.prototype.getActions.call(this, t, e) : []
    }
    ,
    UTControl.prototype._triggerActions = function(t, e) {
        var i = this._evaluateEventString(t);
        DebugUtils.Assert(i, "Invalid assignment; expected EventType value."),
        i && o.prototype._triggerActions.call(this, t, e)
    }
    ,
    UTControl
}(EATargetActionView)
  , UTButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTButtonControl() {
        return i.call(this) || this
    }
    return __extends(UTButtonControl, i),
    UTButtonControl.prototype.init = function() {
        i.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTButtonControl.prototype.setInteractionState = function(t) {
        var e = this._interactionState;
        i.prototype.setInteractionState.call(this, t),
        this._interactionState !== e && (this.getRootElement().disabled = !this._interactionState,
        this.toggleClass(enums.UIState.DISABLED, !this._interactionState),
        this._interactionState || this.removeClass([enums.UIState.ACTIVE, enums.UIState.HOVER].join(" ")))
    }
    ,
    UTButtonControl.prototype.setText = function(t) {
        this.getRootElement().textContent = t
    }
    ,
    UTButtonControl.prototype._touchStarted = function(t) {
        i.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTButtonControl.prototype._touchMoved = function(t) {
        i.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTButtonControl.prototype._touchEnded = function(t) {
        i.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTButtonControl.prototype._touchCancelled = function(t) {
        i.prototype._touchCancelled.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTButtonControl.prototype._mouseLeave = function(t) {
        i.prototype._mouseLeave.call(this, t),
        this.removeClass(enums.UIState.ACTIVE),
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTButtonControl.prototype._mouseEnter = function(t) {
        i.prototype._mouseEnter.call(this, t),
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTButtonControl.prototype._tapDetected = function(t) {
        i.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP)
    }
    ,
    UTButtonControl
}(UTControl))
  , UTImageButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTImageButtonControl() {
        return t.call(this) || this
    }
    return __extends(UTImageButtonControl, t),
    UTImageButtonControl
}(UTButtonControl));
UTImageButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ut-image-button-control"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTImageButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTImageButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSheetView = function(e) {
    function UTSheetView() {
        return e.call(this) || this
    }
    return __extends(UTSheetView, e),
    UTSheetView.prototype.init = function() {
        e.prototype.init.call(this),
        this._exitBtn.init(),
        this._exitBtn.addTarget(this, this._exitTapped, EventType.TAP),
        this.setInteractionState(!0)
    }
    ,
    UTSheetView.prototype.addSheetSubview = function(t) {
        this.__sheetContent.appendChild(t.getRootElement())
    }
    ,
    UTSheetView.prototype.setSheetTitle = function(t) {
        this.__sheetTitle.textContent = t
    }
    ,
    UTSheetView.prototype.setStyle = function(t) {
        this.removeClass("medium-detent"),
        "medium" == t && this.addClass("medium-detent")
    }
    ,
    UTSheetView.prototype._exitTapped = function() {
        this._triggerActions(UTSheetView.Event.EXITPRESS)
    }
    ,
    UTSheetView.prototype._touchMoved = function(t) {
        this.getRootElement().contains(t.target) ? e.prototype._touchMoved.call(this, t) : (t.preventDefault(),
        t.stopPropagation())
    }
    ,
    UTSheetView.prototype._tapDetected = function(t) {
        t.target === this.getRootElement() ? this._triggerActions(UTSheetView.Event.SHIELDPRESS) : e.prototype._tapDetected.call(this, t)
    }
    ,
    UTSheetView.Event = {
        SHIELDPRESS: "UTSheetView.Event.SHIELDPRESS",
        EXITPRESS: "UTSheetView.Event.EXITPRESS"
    },
    UTSheetView
}(EATargetActionView);
UTSheetView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-sheet-view");
        var e = document.createElement("div");
        e.classList.add("ut-sheet-container");
        var i = document.createElement("div");
        i.classList.add("ut-sheet-view-header"),
        this.__sheetTitle = document.createElement("h2"),
        i.appendChild(this.__sheetTitle),
        this._exitBtn = new UTImageButtonControl,
        this._exitBtn.getRootElement().classList.add("exit-btn"),
        i.appendChild(this._exitBtn.getRootElement()),
        e.appendChild(i),
        this.__sheetContent = document.createElement("div"),
        this.__sheetContent.classList.add("ut-sheet-content"),
        e.appendChild(this.__sheetContent),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSheetView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__sheetTitle = null,
    this._exitBtn.destroy(),
    this.__sheetContent = null
}
,
UTSheetView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPresentationController = function(r) {
    function UTPresentationController(t, e) {
        var i = r.call(this) || this;
        return i.isPresenting = !1,
        i.presentedView = null,
        i.presentingViewController = e,
        i.presentedViewController = t,
        i.controllerQueue = [],
        i.queuePresentation = !1,
        i
    }
    return __extends(UTPresentationController, r),
    Object.defineProperty(UTPresentationController.prototype, "queueLength", {
        get: function() {
            return this.controllerQueue.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTPresentationController.prototype.dealloc = function() {
        r.prototype.dealloc.call(this),
        this.controllerQueue = [],
        this.presentedView = null,
        this.isPresenting = !1
    }
    ,
    UTPresentationController.prototype.getPresentedViewController = function() {
        return this.presentedViewController
    }
    ,
    UTPresentationController.prototype.insertView = function(t, e) {
        this.presentedView = t,
        this.presentedView.getSuperview() !== e && (e.addSubview(this.presentedView),
        e.layoutSubviews())
    }
    ,
    UTPresentationController.prototype.applyModalDisplayDimensions = function() {
        var t = this.presentedViewController.getView().getRootElement()
          , e = this.presentedViewController.modalDisplayDimensions;
        e.width && (t.style.width = e.width),
        e.height && (t.style.height = e.height),
        e.maxHeight && (t.style.maxHeight = e.maxHeight),
        e.maxWidth && (t.style.maxWidth = e.maxWidth),
        e.minHeight && (t.style.minHeight = e.minHeight),
        e.minWidth && (t.style.minWidth = e.minWidth)
    }
    ,
    UTPresentationController.prototype.presentInFullScreen = function() {
        var t = this.presentedViewController.getView()
          , e = t.getRootElement();
        e.style.position = "fixed",
        e.style.top = "0",
        e.style.left = "0",
        e.style.right = "0",
        e.style.bottom = "0",
        e.style.zIndex = "10";
        var i = getAppMain().getRootViewController().getView();
        this.insertView(t, i)
    }
    ,
    UTPresentationController.prototype.presentInContainerContext = function() {
        var t = this.presentedViewController.getView()
          , e = t.getRootElement();
        e.style.position = "absolute",
        e.style.top = "0",
        e.style.left = "0",
        e.style.right = "0",
        e.style.bottom = "0",
        e.style.zIndex = "10",
        this.insertView(t, this.presentingViewController.getView())
    }
    ,
    UTPresentationController.prototype.presentInFormModal = function() {
        var t = new UTModalContainerView;
        t.init(),
        t.addClass("form-modal"),
        t.addSubview(this.presentedViewController.getView()),
        t.layoutSubviews(),
        this.presentedViewController.modalCanDismissFromShield && t.addTarget(this.presentingViewController, function(t, e, i) {
            this.dismissViewController(!0)
        }, UTModalContainerView.Event.SHIELDPRESS),
        this.applyModalDisplayDimensions();
        var e = getAppMain().getRootViewController().getView();
        this.insertView(t, e)
    }
    ,
    UTPresentationController.prototype.presentInPageModal = function() {
        var t = new UTModalContainerView;
        t.init(),
        t.addClass("page-modal"),
        t.addSubview(this.presentedViewController.getView()),
        t.layoutSubviews(),
        this.presentedViewController.modalCanDismissFromShield && t.addTarget(this.presentingViewController, function(t, e, i) {
            this.dismissViewController(!0)
        }, UTModalContainerView.Event.SHIELDPRESS),
        this.applyModalDisplayDimensions();
        var e = getAppMain().getRootViewController().getView();
        this.insertView(t, e)
    }
    ,
    UTPresentationController.prototype.presentInSheetModal = function() {
        throw new Error("Method not implemented.")
    }
    ,
    UTPresentationController.prototype.present = function(t, e) {
        var i = this;
        if (!this.isPresenting) {
            function O_a() {
                i.presentationDidEnd(),
                i.presentingViewController.didPresent(i.presentedViewController),
                e && e()
            }
            switch (this.isPresenting = !0,
            this.presentingViewController.willPresent(this.presentedViewController),
            this.presentationWillBegin(),
            this.presentingViewController.addChildViewController(this.presentedViewController),
            this.presentedViewController.viewWillAppear(),
            this.presentedViewController.modalDisplayStyle) {
            case "fullscreen":
                this.presentInFullScreen();
                break;
            case "fill":
                this.presentInContainerContext();
                break;
            case "form":
                this.presentInFormModal(),
                this.registerBackButtonEvents();
                break;
            case "page":
                this.presentInPageModal(),
                this.registerBackButtonEvents();
                break;
            case "sheet":
                this.presentInSheetModal(),
                this.registerBackButtonEvents();
                break;
            default:
                DebugUtils.Assert(!1, "View controller does not have a supported modal display style.")
            }
            this.presentedViewController.viewDidAppear(),
            t ? this.presentedViewController.getView().perform(enums.UIAnimation.FADE_IN, O_a) : O_a.call(this)
        }
    }
    ,
    UTPresentationController.prototype.queue = function(t, e, i) {
        this.queuePresentation && this.controllerQueue.push({
            presented: t,
            animated: e,
            callback: i
        })
    }
    ,
    UTPresentationController.prototype.dismiss = function(t, e) {
        var i = this;
        if (this.isPresenting) {
            this.presentingViewController.willDismiss(this.presentedViewController),
            this.dismissalWillBegin(),
            this.unregisterBackButtonEvents(),
            this.presentedViewController.viewWillDisappear(),
            this.presentedView && this.presentedView.removeFromSuperview(t, function() {
                if (i.presentedView instanceof UTModalContainerView ? i.presentedView.dealloc() : i.presentedView && i.presentedView.getRootElement().removeAttribute("style"),
                i.presentingViewController.viewDidDisappear(),
                i.dismissalDidEnd(),
                i.presentingViewController.didDismiss(i.presentedViewController),
                i.presentedView = null,
                i.isPresenting = !1,
                i.presentingViewController.removeChildViewController(i.presentedViewController),
                e && e(),
                i.queuePresentation && 0 < i.controllerQueue.length) {
                    var t = i.controllerQueue.shift();
                    t && requestAnimationFrame(function() {
                        i.presentedViewController = t.presented,
                        i.present(t.animated, t.callback)
                    })
                }
            })
        }
    }
    ,
    UTPresentationController.prototype.presentationWillBegin = function() {}
    ,
    UTPresentationController.prototype.presentationDidEnd = function() {}
    ,
    UTPresentationController.prototype.dismissalWillBegin = function() {}
    ,
    UTPresentationController.prototype.dismissalDidEnd = function() {}
    ,
    UTPresentationController.prototype.registerBackButtonEvents = function() {
        var t = getBackButtonEventController();
        t && t.registerDelegate(this, UTBackButtonEventController.PRIORITY.POPUP)
    }
    ,
    UTPresentationController.prototype.unregisterBackButtonEvents = function() {
        var t = getBackButtonEventController();
        t && t.unregisterDelegate(this, UTBackButtonEventController.PRIORITY.POPUP)
    }
    ,
    UTPresentationController.prototype.handleBackButtonEvent = function(t) {
        this.isPresenting && this.presentedViewController.onBackButton() && this.presentingViewController.dismissViewController()
    }
    ,
    UTPresentationController
}(EAObject)
  , UTSheetPresentationController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSheetPresentationController(t, e) {
        return i.call(this, t, e) || this
    }
    return __extends(UTSheetPresentationController, i),
    UTSheetPresentationController.prototype.presentInSheetModal = function() {
        var t = new UTSheetView;
        t.init(),
        t.setStyle("medium"),
        t.addSheetSubview(this.presentedViewController.getView()),
        t.setSheetTitle(this.presentedViewController.modalSheetTitle),
        t.layoutSubviews(),
        this.presentedViewController.modalCanDismissFromShield && t.addTarget(this.presentingViewController, function(t, e, i) {
            this.dismissViewController(!0)
        }, UTSheetView.Event.SHIELDPRESS),
        t.addTarget(this.presentingViewController, function(t, e, i) {
            this.dismissViewController(!0)
        }, UTSheetView.Event.EXITPRESS);
        var e = getAppMain().getRootViewController().getView();
        this.insertView(t, e)
    }
    ,
    UTSheetPresentationController
}(UTPresentationController))
  , EAViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function EAViewController() {
        var t = i.call(this) || this;
        return t.view = null,
        t.parentViewController = null,
        t.childViewControllers = [],
        t.presentationController = null,
        t.tabBarItem = null,
        t.isLoading = !1,
        t.hasLoaded = !1,
        t.initialized = !1,
        t.modalDisplayStyle = "fill",
        t.modalDisplayDimensions = {},
        t.modalCanDismissFromShield = !0,
        t.currentController = null,
        t
    }
    return __extends(EAViewController, i),
    EAViewController.prototype.init = function() {
        this.initialized || (i.prototype.init.call(this),
        this.initialized = !0)
    }
    ,
    EAViewController.prototype.dealloc = function() {
        var e = this;
        this.tabBarItem && (this.tabBarItem = null),
        this.presentationController && (this.presentationController.queuePresentation = !1,
        this.dismissViewController()),
        this.removeFromParentViewController(),
        this.childViewControllers.forEach(function(t) {
            t.willMove(e),
            t.parentViewController = null,
            t.didMove(e)
        }, this),
        this.childViewControllers = [],
        this.currentController = null,
        this.view && (this.view.dealloc(),
        this.view = null),
        i.prototype.dealloc.call(this)
    }
    ,
    EAViewController.prototype._getTelemetryId = function() {
        return null
    }
    ,
    EAViewController.prototype.getParentViewController = function() {
        return this.parentViewController
    }
    ,
    EAViewController.prototype.getNavigationController = function() {
        for (var t = this.getParentViewController(); null !== t; ) {
            if (t instanceof UTNavigationController)
                return t;
            t = t.getParentViewController()
        }
        return null
    }
    ,
    EAViewController.prototype.getRootNavigationController = function() {
        for (var t = this.getNavigationController(), e = null; null !== t; )
            t = (e = t).getNavigationController();
        return e
    }
    ,
    EAViewController.prototype._getViewInstanceFromData = function() {
        return new EAView
    }
    ,
    EAViewController.prototype.getView = function() {
        return this.view || (this.isLoading = !0,
        this.hasLoaded || (this.view = this._getViewInstanceFromData(),
        this.view.setEventDelegate(this),
        this.view.init()),
        this.isLoading = !1,
        this.viewDidLoad()),
        this.hasLoaded || this.isLoading || (this.hasLoaded = !0),
        this.view
    }
    ,
    EAViewController.prototype.setView = function(t) {
        if (t !== this.view) {
            if (this.view) {
                var e = this.view;
                e.removeFromSuperview(),
                e.dealloc()
            }
            this.view = t
        }
    }
    ,
    EAViewController.prototype.isViewDisplayed = function() {
        var t = this.getView();
        return !!t && document.body.contains(t.getRootElement())
    }
    ,
    EAViewController.prototype._getPresentationControllerInstance = function(t) {
        return "sheet" == t.modalDisplayStyle ? new UTSheetPresentationController(t,this) : new UTPresentationController(t,this)
    }
    ,
    EAViewController.prototype.addChildViewController = function(t) {
        t.willMove(this),
        this.childViewControllers.push(t),
        t.parentViewController = this,
        t.setEventDelegate(this),
        t.didMove(this)
    }
    ,
    EAViewController.prototype.removeChildViewController = function(t) {
        var e = this.childViewControllers.indexOf(t);
        if (0 <= e) {
            t.willMove(this);
            var i = this.getView()
              , r = t.getView();
            i && r && r.isSubview(i) && r.removeFromSuperview(),
            t.removeEventDelegate(this),
            t.parentViewController === this && (t.parentViewController = null),
            this.childViewControllers.splice(e, 1),
            t.didMove(this)
        }
    }
    ,
    EAViewController.prototype.removeFromParentViewController = function() {
        var t = this.getParentViewController();
        t && t.removeChildViewController(this)
    }
    ,
    EAViewController.prototype.presentViewController = function(t, e, i) {
        var r = this;
        if (void 0 === e && (e = !1),
        !this.presentationController || this.presentationController.getPresentedViewController() !== t) {
            function Y0a() {
                r.presentationController = r._getPresentationControllerInstance(t),
                r.presentationController.present(e, i)
            }
            this.presentationController ? this.presentationController.queuePresentation ? this.presentationController.queue(t, e, i) : this.dismissViewController(e, Y0a.bind(this)) : Y0a.call(this)
        }
    }
    ,
    EAViewController.prototype.dismissViewController = function(t, e) {
        var i = this;
        DebugUtils.Assert(JSUtils.isValid(this.presentationController), "Performed a dismiss when no view controller is being presented.");
        this.presentationController && this.presentationController.dismiss(!!t, function() {
            !i.presentationController || i.presentationController.queuePresentation && 0 !== i.presentationController.queueLength || (i.presentationController.dealloc(),
            i.presentationController = null),
            e && e()
        }
        .bind(this))
    }
    ,
    EAViewController.prototype.decorateLinks = function(t) {
        var e = this;
        DOMKit.findElements(t, "a").forEach(function(t) {
            "a" !== t.nodeName && "A" !== t.nodeName || (t.addEventListener(EventType.TOUCHEND, e._linkHandler, !1),
            t.addEventListener(EventType.CLICK, e._linkHandler, !1))
        }, this)
    }
    ,
    EAViewController.prototype.stripLinks = function(t) {
        var e = this;
        DOMKit.findElements(t, "a").forEach(function(t) {
            "a" !== t.nodeName && "A" !== t.nodeName || (t.removeEventListener(EventType.TOUCHEND, e._linkHandler, !1),
            t.removeEventListener(EventType.CLICK, e._linkHandler, !1))
        }, this)
    }
    ,
    EAViewController.prototype._linkHandler = function(t) {
        t.preventDefault();
        var e = t.target instanceof HTMLElement ? t.target.getAttribute("href") : null;
        e && (isWeb() ? window.open(e, "_blank") : cordova.InAppBrowser.open(e, "_system"))
    }
    ,
    EAViewController.prototype.getPresentedViewController = function() {
        return this.presentationController ? this.presentationController.getPresentedViewController() : null
    }
    ,
    EAViewController.prototype.getNavigationTitle = function() {
        return ""
    }
    ,
    EAViewController.prototype.getToolbarItems = function() {
        var t = this.getNavigationController();
        return t ? t.getToolbarItems() : []
    }
    ,
    EAViewController.prototype.getNavigationItem = function() {
        return null
    }
    ,
    EAViewController.prototype.onBackButton = function() {
        return !0
    }
    ,
    EAViewController.prototype.onPause = function() {}
    ,
    EAViewController.prototype.onResume = function() {}
    ,
    EAViewController.prototype.willMove = function(t) {}
    ,
    EAViewController.prototype.didMove = function(t) {}
    ,
    EAViewController.prototype.willPresent = function(t) {}
    ,
    EAViewController.prototype.didPresent = function(t) {
        this.currentController = t
    }
    ,
    EAViewController.prototype.willDismiss = function(t) {}
    ,
    EAViewController.prototype.didDismiss = function(t) {
        this.currentController = null
    }
    ,
    EAViewController.prototype.viewDidLoad = function() {}
    ,
    EAViewController.prototype.viewWillAppear = function() {
        var t;
        null === (t = this.currentController) || void 0 === t || t.viewWillAppear()
    }
    ,
    EAViewController.prototype.viewWillDisappear = function() {
        var t, e = getDefaultDispatcher();
        null === (t = this.currentController) || void 0 === t || t.viewWillDisappear(),
        e.removeObserver(AppNotification.APP_PAUSE, this),
        e.removeObserver(AppNotification.APP_RESUME, this)
    }
    ,
    EAViewController.prototype.viewDidAppear = function() {
        var t, e = getDefaultDispatcher(), i = this._getTelemetryId();
        JSUtils.isString(i) && services.PIN.sendData(PINEventType.PAGE_VIEW, {
            type: PIN_PAGEVIEW_EVT_TYPE,
            pgid: i
        }),
        null === (t = this.currentController) || void 0 === t || t.viewDidAppear(),
        e.addObserver(AppNotification.APP_PAUSE, this, this.onPause),
        e.addObserver(AppNotification.APP_RESUME, this, this.onResume)
    }
    ,
    EAViewController.prototype.viewDidDisappear = function() {
        var t;
        null === (t = this.currentController) || void 0 === t || t.viewDidDisappear()
    }
    ,
    EAViewController.prototype.show = function(t, e) {
        void 0 === e && (e = !1),
        this.presentViewController(t, e)
    }
    ,
    EAViewController
}(EAResponder))
  , BasePopupViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function BasePopupViewController() {
        var t = e.call(this) || this;
        return t.onExit = new EAObservable,
        t
    }
    return __extends(BasePopupViewController, e),
    BasePopupViewController.prototype.init = function() {
        e.prototype.init.call(this),
        getKeyboardEventController().registerDelegate(this, KeyboardEventPriority.POPUP)
    }
    ,
    BasePopupViewController.prototype.dealloc = function() {
        this.onExit.dealloc(),
        getKeyboardEventController().unregisterDelegate(this, KeyboardEventPriority.POPUP),
        e.prototype.dealloc.call(this)
    }
    ,
    BasePopupViewController.prototype.onBackButton = function() {
        return this.closePopup(),
        !1
    }
    ,
    BasePopupViewController.prototype.closePopup = function() {
        this.onExit.notify()
    }
    ,
    BasePopupViewController.prototype.handleKeyUpEvent = function(t) {
        t.key !== KeyboardKey.ESCAPE && t.key !== KeyboardKey.MS_ESCAPE || this.onExit.notify(enums.UIDialogOptions.CANCEL)
    }
    ,
    BasePopupViewController
}(EAViewController))
  , UTGroupButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTGroupButtonControl() {
        return t.call(this) || this
    }
    return __extends(UTGroupButtonControl, t),
    UTGroupButtonControl.prototype.setText = function(t) {
        this.__text.textContent = t
    }
    ,
    UTGroupButtonControl.prototype.setSubtext = function(t) {
        this.__subtext.textContent = t
    }
    ,
    UTGroupButtonControl.prototype.displayCurrencyIcon = function(t) {
        DOMKit.toggleClass(this.__subtext, "currency-coins", t)
    }
    ,
    UTGroupButtonControl.prototype.displayCurrencyIconOnText = function(t) {
        DOMKit.toggleClass(this.__text, "currency-coins", t)
    }
    ,
    UTGroupButtonControl
}(UTButtonControl));
UTGroupButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        this.__text = document.createElement("span"),
        this.__text.classList.add("btn-text"),
        t.appendChild(this.__text),
        this.__subtext = document.createElement("span"),
        this.__subtext.classList.add("btn-subtext"),
        t.appendChild(this.__subtext),
        this.__root = t,
        this._generated = !0
    }
}
,
UTGroupButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__text = null,
    this.__subtext = null
}
,
UTGroupButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var EADialogView = function(i) {
    function EADialogView(t) {
        var e = i.call(this) || this;
        return e.dialogOptions = t.buttons.map(function(t) {
            return e.createOption(t.label, t.negativeActionFlag)
        }),
        t.type && e.setType(t.type),
        t.title && e.setTitle(t.title),
        t.message && e.setMessage(t.message),
        e.__secMsg.className = "ea-dialog-view--sec-msg--hide",
        t.secondaryMessage && e.setSecondaryMessage(t.secondaryMessage),
        e.layoutSubviews(),
        e
    }
    return __extends(EADialogView, i),
    EADialogView.prototype.dealloc = function() {
        this.dialogOptions.forEach(function(t) {
            return t.dealloc()
        }),
        this.dialogOptions = [],
        i.prototype.dealloc.call(this)
    }
    ,
    EADialogView.prototype.getContent = function() {
        return this.__msg
    }
    ,
    EADialogView.prototype.setTitle = function(t) {
        this.__title.textContent = t
    }
    ,
    EADialogView.prototype.setMessage = function(t) {
        this.__msg.innerHTML = t
    }
    ,
    EADialogView.prototype.setSecondaryMessage = function(t) {
        t && (this.__secMsg.innerHTML = t,
        this.__secMsg.className = "ea-dialog-view--sec-msg")
    }
    ,
    EADialogView.prototype.setType = function(t) {
        this.addClass(t)
    }
    ,
    EADialogView.prototype.createOption = function(t, e) {
        void 0 === e && (e = !1);
        var i = new UTGroupButtonControl;
        return i.init(),
        i.setText(t),
        e && i.addClass("negative"),
        i.addTarget(this, this.handleButtonEvent, EventType.TAP),
        this.addSubview(i, this.__btnContainer),
        i
    }
    ,
    EADialogView.prototype.handleButtonEvent = function(t, e, i) {
        this._triggerActions(EADialogView.Event.OPTION_SELECTED, {
            index: this.dialogOptions.indexOf(t)
        })
    }
    ,
    EADialogView.Event = {
        OPTION_SELECTED: "EADialogView.OPTION_SELECTED"
    },
    EADialogView.Type = {
        ALERT: "ea-dialog-view-type--alert",
        MESSAGE: "ea-dialog-view-type--message",
        ROTATE: "ea-dialog-view-type--rotate",
        SAVE_FAILED: "ea-dialog-view-type--save-failed",
        STANDARD: "ea-dialog-view-type--standard"
    },
    EADialogView
}(EATargetActionView);
EADialogView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("section");
        t.classList.add("ea-dialog-view");
        var e = document.createElement("header");
        this.__title = document.createElement("h1"),
        this.__title.classList.add("ea-dialog-view--title"),
        e.appendChild(this.__title),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("ea-dialog-view--body"),
        this.__msg = document.createElement("p"),
        this.__msg.classList.add("ea-dialog-view--msg"),
        i.appendChild(this.__msg),
        this.__secMsg = document.createElement("p"),
        this.__secMsg.classList.add("ea-dialog-view--sec-msg"),
        i.appendChild(this.__secMsg),
        this.__btnContainer = document.createElement("div"),
        this.__btnContainer.classList.add("ut-st-button-group"),
        i.appendChild(this.__btnContainer),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
EADialogView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this.__msg = null,
    this.__secMsg = null,
    this.__btnContainer = null
}
,
EADialogView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var EADialogViewController = function(i) {
    function EADialogViewController(t) {
        var e = i.call(this) || this;
        return e.message = t.message,
        e.options = t.dialogOptions ? t.dialogOptions : [],
        e.title = t.title,
        e.type = t.type ? t.type : EADialogView.Type.STANDARD,
        e.secondaryMessage = t.secondaryMessage ? t.secondaryMessage : "",
        e
    }
    return __extends(EADialogViewController, i),
    EADialogViewController.prototype._getViewInstanceFromData = function() {
        return new EADialogView({
            buttons: this.options.map(function(t) {
                var e;
                return {
                    label: utils.PopupManager.getLocalizedDialogOption(t.labelEnum),
                    negativeActionFlag: null !== (e = t.negativeActionFlag) && void 0 !== e && e
                }
            }),
            message: this.message,
            title: this.title,
            type: this.type,
            secondaryMessage: this.secondaryMessage
        })
    }
    ,
    EADialogViewController.prototype.viewDidAppear = function() {
        i.prototype.viewDidAppear.call(this);
        var t = this.getView();
        t.addTarget(this, this.onOptionSelected, EADialogView.Event.OPTION_SELECTED),
        this.decorateLinks(t.getContent())
    }
    ,
    EADialogViewController.prototype.viewWillDisappear = function() {
        i.prototype.viewWillDisappear.call(this);
        var t = this.getView();
        t.removeTarget(this, this.onOptionSelected, EADialogView.Event.OPTION_SELECTED),
        this.stripLinks(t.getContent())
    }
    ,
    EADialogViewController.prototype.handleKeyUpEvent = function(t) {
        var e, i, r;
        this.options.length < 1 || (t.key === KeyboardKey.ESCAPE || t.key === KeyboardKey.MS_ESCAPE ? (r = null === (e = this.options.find(function(t) {
            return t.negativeActionFlag
        })) || void 0 === e ? void 0 : e.labelEnum,
        this.onExit.notify(JSUtils.isNumber(r) ? r : enums.UIDialogOptions.CANCEL)) : t.key === KeyboardKey.ENTER && (r = null === (i = this.options.find(function(t) {
            return !t.negativeActionFlag
        })) || void 0 === i ? void 0 : i.labelEnum,
        this.onExit.notify(JSUtils.isNumber(r) ? r : enums.UIDialogOptions.OK)))
    }
    ,
    EADialogViewController.prototype.onOptionSelected = function(t, e, i) {
        this.onExit.notify(this.options[i.index].labelEnum)
    }
    ,
    EADialogViewController
}(BasePopupViewController);
NamespaceManager.Register("utils"),
utils.PopupManager = {},
utils.PopupManager.displayingNativePopup = !1,
utils.PopupManager.showAlert = function showAlert(t, i, e) {
    var r = services.Localization
      , o = new EADialogViewController({
        dialogOptions: t.buttonOptions.slice(0, 1),
        message: r.localize(t.message, e),
        title: r.localize(t.title),
        type: EADialogView.Type.ALERT
    });
    o.init(),
    o.modalDisplayDimensions.minWidth = "300px",
    gPopupClickShield.setActivePopup(o),
    o.onExit.observe(this, function(t, e) {
        i && i()
    })
}
,
utils.PopupManager.showConfirmation = function showConfirmation(t, e, i, r) {
    JSUtils.isFunction(r) || (r = function() {}
    );
    var o = services.Localization
      , n = new EADialogViewController({
        dialogOptions: t.buttonOptions,
        message: o.localize(t.message, e.params, e.morphology),
        title: o.localize(t.title),
        type: EADialogView.Type.MESSAGE
    });
    n.init(),
    n.modalDisplayDimensions.minWidth = "300px",
    gPopupClickShield.setActivePopup(n),
    n.onExit.observe(this, function(t, e) {
        e !== enums.UIDialogOptions.CANCEL && e !== enums.UIDialogOptions.NO && i ? i() : r && r()
    })
}
,
utils.PopupManager.showNoInternetConnectionPopup = function showNoInternetConnectionPopup() {
    var t = getAppMain().getLoginController()
      , e = t ? t.logout.bind(t, PINLogoutReasonId.ERROR) : null;
    utils.PopupManager.showAlert(utils.PopupManager.Alerts.NO_INTERNET_CONNECTION, e)
}
,
utils.PopupManager.getLocalizedDialogOption = function getLocalizedDialogOption(t) {
    var e = "";
    switch (t) {
    case enums.UIDialogOptions.RETRY:
        e = "easfcdown.retry";
        break;
    case enums.UIDialogOptions.OK:
        e = "common.dialog.ok";
        break;
    case enums.UIDialogOptions.CANCEL:
        e = "common.dialog.cancel";
        break;
    case enums.UIDialogOptions.YES:
        e = "popup.yes";
        break;
    case enums.UIDialogOptions.NO:
        e = "popup.no";
        break;
    case enums.UIDialogOptions.SIGN_OUT:
        e = "more.signout.button";
        break;
    case enums.UIDialogOptions.TAKE_ME:
        e = "popup.takeMeThere";
        break;
    case enums.UIDialogOptions.ENABLE:
        e = "common.dialog.enable";
        break;
    case enums.UIDialogOptions.DISABLE:
        e = "common.dialog.disable"
    }
    return services.Localization.localize(e)
}
,
utils.PopupManager.Alerts = {},
utils.PopupManager.CONFIRM_DENY = [{
    labelEnum: enums.UIDialogOptions.OK
}, {
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}],
utils.PopupManager.SIGN_OUT = [{
    labelEnum: enums.UIDialogOptions.SIGN_OUT
}, {
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}],
utils.PopupManager.Alerts.ORIGIN_UNAVAILABLE = new UTPopupDTO("popup.originUnavailableTitle","popup.originUnavailable",[{
    labelEnum: enums.UIDialogOptions.RETRY
}]),
utils.PopupManager.Alerts.ACADEMY_NO_SLOTS = new UTPopupDTO("popup.academy.noslots.title","popup.academy.noslots.body",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.ACCOUNT_BANNED = new UTPopupDTO("error.banneduser.header","error.banneduser.body",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.BID_TOO_LOW = new UTPopupDTO("popup.errorLowBidTitle","popup.bidTooLow",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.CANT_UNWATCH_ACTIVE_BID = new UTPopupDTO("popup.cantUnwatchCardPlayerBidTitle","popup.cantUnwatchCardPlayerBidText",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.WATCH_LIST_FULL = new UTPopupDTO("popup.watchlist.full.title","popup.watchlist.full.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.TRANSFER_LIST_FULL = new UTPopupDTO("popup.error.tradetoken.SellItemTradePileFullTitle","popup.error.tradetoken.SellItemTradePileFull",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DESTINATION_FULL = new UTPopupDTO("popup.error.tradetoken.DestinationFullTitle","popup.error.item.DestinationFull",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DUPLICATE_SQUAD_NAME = new UTPopupDTO("popup.error.duplicateSquadNameTitle","popup.error.duplicateSquadName",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.CANNOT_DELETE_SQUAD = new UTPopupDTO("popup.cannotdeletesquad.title","popup.cannotdeletesquad.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DID_CREATE_EXCEEDED = new UTPopupDTO("popup.error.DID.CreateExceededHeader","popup.error.DID.CreateExceededBody",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DID_LOGIN_EXCEEDED = new UTPopupDTO("popup.error.DID.LoginExceededHeader","popup.error.DID.LoginExceededBody",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DEVICE_SUSPENDED = new UTPopupDTO("popup.error.DeviceSuspendedHeader","popup.error.DeviceSuspendedBody",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.GEOIP_DENIED = new UTPopupDTO("popup.error.geoipblacklist.title","popup.error.geoipblacklist",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.NO_INTERNET_CONNECTION = new UTPopupDTO("popup.error.NoInternetConnectionTitle","popup.error.NoInternetConnection",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.LOW_MEMORY = new UTPopupDTO("popup.warningLowMemoryTitle","popup.warningLowMemory",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SERVER_DOWN = new UTPopupDTO("popup.error.serverdownTitle","popup.error.serverdown",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.DUPLICATE_ITEM = new UTPopupDTO("popup.error.item.DuplicatedItemTypeTitle","popup.error.squadManagement.DuplicateItem",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SERVICE_IS_DISABLED = new UTPopupDTO("popup.error.ServiceIsDisabledTitle","popup.error.ServiceIsDisabled",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.ALL_NEED_TO_BE_CLAIMED = new UTPopupDTO("popup.error.autoassign.cannotAutoAssign","popup.error.autoassign.allFreePack",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.HIT_MAX_LISTING = new UTPopupDTO("popup.error.list.forbidden.title","popup.error.list.forbidden.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.TRADING_DISABLED = new UTPopupDTO("popup.error.auctioninfo.tradingdisabled.title","popup.error.auctioninfo.tradingdisabled",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SBC_GRACE_PERIOD = new UTPopupDTO("popup.sbcgraceperiod.title","popup.sbcgraceperiod.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SBC_INELIGIBLE_SQUAD = new UTPopupDTO("popup.sbcineligiblesquad.title","popup.sbcineligiblesquad.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SBC_UNTRADEABLE_NOT_ALLOWED = new UTPopupDTO("popup.sbcineligiblesquad.title","popup.sbcUntradeableNotAllowed.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SQUAD_BUILDER_NO_RESULTS = new UTPopupDTO("popup.title.noSquadBuilderResults","popup.error.squad.builder.noresults",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.ONBOARDING_INTRO = new UTPopupDTO("onboarding.popup.loanswap.title","onboarding.popup.loanswap.body",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Alerts.SAVE_TACTICS = new UTPopupDTO("tactics.popup.savetutorial.title","tactics.popup.savetutorial.body",[{
    labelEnum: enums.UIDialogOptions.OK
}]),
utils.PopupManager.Confirmations = {},
utils.PopupManager.Confirmations.CONFIRM_COPY_SQUAD = new UTPopupDTO("manage.copy.message.title","manage.copy.message",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.CONFIRM_RELIST_ALL = new UTPopupDTO("popup.tradepile.relistAllTitle","popup.tradepile.relistAllPriceBandingText",[{
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}, {
    labelEnum: enums.UIDialogOptions.YES
}]),
utils.PopupManager.Confirmations.BID_WHEN_HIGHEST_BIDDER = new UTPopupDTO("popup.confirmHighestBidderTitle","popup.confirmHighestBidder",[{
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}, {
    labelEnum: enums.UIDialogOptions.YES
}]),
utils.PopupManager.Confirmations.CONFIRM_BID = new UTPopupDTO("popup.bidConfirmationTitle","popup.bidConfirmationText",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.CONFIRM_BUY_NOW = new UTPopupDTO("popup.buyNowConfirmationTitle","popup.buyNowConfirmationText",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.UNASSIGNED_ENTITLEMENT = new UTPopupDTO("popup.error.unassignedItemsEntitlementTitle","popup.error.fifacredits.unassignedItemsEntitlement",[{
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}, {
    labelEnum: enums.UIDialogOptions.TAKE_ME
}]),
utils.PopupManager.Confirmations.NEW_ITEMS_FULL = new UTPopupDTO("popup.newItemsFullTitle","popup.newItemsFullText",[{
    labelEnum: enums.UIDialogOptions.CANCEL,
    negativeActionFlag: !0
}, {
    labelEnum: enums.UIDialogOptions.TAKE_ME
}]),
utils.PopupManager.Confirmations.CONFIRM_DISCARD = new UTPopupDTO("infopanel.label.discard","popup.confirmItemDiscard",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.CONFIRM_DISCARD_ALL = new UTPopupDTO("infopanel.label.discardall","popup.confirmDiscardAll",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.DELETE_SQUAD = new UTPopupDTO("popup.deletesquad.title","popup.deletesquad.message",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.UPDATE_FUT = new UTPopupDTO("popup.updateFUTTitle","popup.update.FUTText",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_BUNDLE_COINS = new UTPopupDTO("store.confirmation.questionTitleBundle","popup.confirmPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_BUNDLE_POINTS = new UTPopupDTO("store.confirmation.questionTitleBundle","popup.confirmPointsPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_ITEM_COINS = new UTPopupDTO("store.confirmation.questionTitleItem","popup.confirmPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_ITEM_POINTS = new UTPopupDTO("store.confirmation.questionTitleItem","popup.confirmPointsPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_PACK_COINS = new UTPopupDTO("store.confirmation.questionTitlePack","popup.confirmPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.BUY_PACK_POINTS = new UTPopupDTO("store.confirmation.questionTitlePack","popup.confirmPointsPurchase",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.SEND_ALL_TO_TRANSFER_LIST = new UTPopupDTO("popup.confirmation.sendAllToTransferListTitle","popup.confirmation.sendAllToTransferList",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.SEND_TO_CLUB = new UTPopupDTO("infopanel.label.club","popup.confirmSendToClub",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.SEND_TO_TRANSFER_LIST = new UTPopupDTO("infopanel.label.sendTradePile","popup.confirmSendToTransferList",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.APPLY_CONSUMABLE = new UTPopupDTO("panel.applyitem.button","popup.confirmApplyConsumable",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.SUBMIT_CHALLENGE = new UTPopupDTO("sbc.overlay.btn.submitChallenge","sbc.popup.submitChallenge.message",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.SIGN_OUT = new UTPopupDTO("more.signout.title","more.signout.body",utils.PopupManager.SIGN_OUT),
utils.PopupManager.Confirmations.CHANGE_PERSONA = new UTPopupDTO("personaselector.title","personaselector.message",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.CLEAR_SQUAD = new UTPopupDTO("clearSquad.title","clearSquad.message",utils.PopupManager.CONFIRM_DENY),
utils.PopupManager.Confirmations.PLAYER_NOT_ELIGIBLE = new UTPopupDTO("popup.noteligible.title","popup.noteligible.message",[{
    labelEnum: enums.UIDialogOptions.OK
}]);
var NetworkErrorManager = {
    queue: [],
    handlingError: !1,
    checkCriticalStatus: function(t) {
        return t === UtasErrorCode.LOGGED_IN_ON_CONSOLE || t === UtasErrorCode.LOGGED_IN_ON_CONSOLE_LEGACY || t === UtasErrorCode.ACCOUNT_BANNED || t === UtasErrorCode.CAPTCHA_REQUIRED || t === HttpStatusCode.UNAUTHORIZED || t === UtasErrorCode.UNRECOVERABLE || t === HttpStatusCode.SERVER_ERROR
    },
    generateDefaultErrorMessage: function(t) {
        switch (t) {
        case HttpStatusCode.NOT_FOUND:
            return {
                title: "popup.error.serviceNotFoundTitle",
                message: "popup.error.serviceNotFound"
            };
        case UtasErrorCode.LOGGED_IN_ON_CONSOLE:
        case UtasErrorCode.LOGGED_IN_ON_CONSOLE_LEGACY:
            return {
                title: "signedontoanotherdevice.title",
                message: "rpcErrorResponses.general.CARDHOUSE_ERR_ALREADY_LOGGEDIN_ON_CONSOLE"
            };
        case UtasErrorCode.ACCOUNT_BANNED:
            return {
                title: "error.banneduser.header",
                message: "error.banneduser.body"
            };
        case UtasErrorCode.CAPTCHA_REQUIRED:
            return {
                title: "popup.error.captcharequiredTitle",
                message: "popup.error.captcharequired"
            };
        case HttpStatusCode.NO_CONTENT:
        case HttpStatusCode.BAD_REQUEST:
        case UtasErrorCode.UT_BAD_REQUEST:
            return {
                title: "popup.error.invalidrequestTitle",
                message: "popup.error.invalidrequest"
            };
        case UtasErrorCode.PROFANITY:
            return {
                title: "popup.error.profanityTitle",
                message: "popup.error.profanity"
            };
        case UtasErrorCode.NO_CARD_EXISTS:
            return {
                title: "popup.error.NoSuchCardTitle",
                message: "popup.error.NoSuchCard"
            };
        case HttpStatusCode.SERVER_ERROR:
            return {
                title: "popup.error.serverdownTitle",
                message: "popup.error.serverdown"
            };
        case HttpStatusCode.SERVICE_UNAVAILABLE_ERROR:
        case UtasErrorCode.SERVICE_IS_DISABLED:
            return {
                title: "popup.error.ServiceIsDisabledTitle",
                message: "popup.error.ServiceIsDisabled"
            };
        case HttpStatusCode.RATE_LIMIT:
            return {
                title: "popup.error.RateLimitHeader",
                message: "popup.error.RateLimitBody"
            };
        case HttpStatusCode.UNAUTHORIZED:
            return {
                title: "popup.error.unauthorized.title",
                message: "popup.error.unauthorized.body"
            };
        case UtasErrorCode.UNRECOVERABLE:
            return {
                title: "popup.error.cannotcontinueTitle",
                message: "popup.error.cannotcontinue"
            };
        case HttpStatusCode.UNKNOWN:
            return {
                title: "popup.error.networkerrorTitle",
                message: "popup.error.networkerrorNotCritical"
            };
        case UtasErrorCode.SOME_ITEMS_NOT_FREE:
            return {
                title: "popup.error.activesquad.itemsNotFreeTitle",
                message: "popup.error.activesquad.itemsNotFreeMsg"
            };
        default:
            return {
                title: "popup.title.genericError",
                message: "popup.body.genericError"
            }
        }
    },
    handleStatus: function(t) {
        if (NetworkErrorManager.handlingError)
            NetworkErrorManager.queue.push(t);
        else {
            NetworkErrorManager.handlingError = !0;
            var e = void 0;
            if (NetworkErrorManager.checkCriticalStatus(t)) {
                gClickShield.reset();
                var i = getAppMain().getLoginController();
                e = i.logout.bind(i, PINLogoutReasonId.ERROR),
                services.PIN.sendData(PINEventType.ERROR, {
                    custom: {
                        utas_metrics: {
                            endpoints: services.Metrics.getRequestData(),
                            rpups: services.Metrics.getRequestsPerSecond(),
                            sdur: services.Metrics.getSessionDuration()
                        }
                    },
                    sid: services.Authentication.getUtasSession().id,
                    type: "disconnect",
                    errid: "server_error",
                    server_type: "utas"
                }),
                NetworkErrorManager.queue = [],
                services.PlayerHealth.storeUnsavedTimeSpent()
            }
            var r = NetworkErrorManager.generateDefaultErrorMessage(t)
              , o = new UTPopupDTO(r.title,r.message,[{
                labelEnum: enums.UIDialogOptions.OK
            }]);
            if (utils.PopupManager.showAlert(o, e),
            NetworkErrorManager.handlingError = !1,
            0 < NetworkErrorManager.queue.length) {
                var n = NetworkErrorManager.queue.shift();
                JSUtils.isNumber(n) && NetworkErrorManager.handle(n)
            }
        }
    }
}
  , UTTelemetryRateUtility = function() {
    function UTTelemetryRateUtility(t, e) {
        this.rate = t,
        this.mandatorySections = e,
        this.isEnabled = void 0,
        this.verbose = !0
    }
    return UTTelemetryRateUtility.prototype.isPageTracked = function(t) {
        return this.mandatorySections[t] || this.isSampled()
    }
    ,
    UTTelemetryRateUtility.prototype.isEventTracked = function() {
        return this.isSampled()
    }
    ,
    UTTelemetryRateUtility.prototype.isSampled = function() {
        return 1 === this.rate ? this.isEnabled = !0 : (void 0 === this.isEnabled && (this.isEnabled = this.rate > Math.random()),
        this.isEnabled)
    }
    ,
    UTTelemetryRateUtility
}()
  , EAImagePreloader = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function EAImagePreloader() {
        var t = e.call(this) || this;
        return t.preloadedImages = new EAHashTable,
        t
    }
    return __extends(EAImagePreloader, e),
    EAImagePreloader.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this.preloadedImages.clear()
    }
    ,
    EAImagePreloader.prototype.preloadImages = function(t) {
        var i = this
          , e = JSUtils.valToArray(t)
          , r = new EAObservable
          , o = e.length
          , n = function(t) {
            var e;
            --o <= 0 && r.notify(),
            null === (e = t.target) || void 0 === e || e.removeEventListener("load", n, !1)
        };
        return e.forEach(function(t) {
            if (i.preloadedImages.has(t))
                o--;
            else {
                var e = new Image;
                e.addEventListener("load", n, !1),
                e.src = t,
                i.preloadedImages.set(t, e)
            }
        }, this),
        r
    }
    ,
    EAImagePreloader
}(EAObject));
NamespaceManager.Register("utils"),
utils.AD = new function ADUtil() {}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTDataProviderEntryDTO = function(o) {
    function UTDataProviderEntryDTO(t, e, i) {
        var r = o.call(this) || this;
        return r.id = t,
        r.label = i,
        r.value = e,
        r
    }
    return __extends(UTDataProviderEntryDTO, o),
    UTDataProviderEntryDTO
}(EAObject)
  , UTDataProviderFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTDataProviderFactory(t, e, i) {
        var r = o.call(this) || this;
        return r.locDelegate = t,
        r.squadRepo = e,
        r.teamConfigRepo = i,
        r
    }
    return __extends(UTDataProviderFactory, o),
    UTDataProviderFactory.prototype.sortByName = function(t, e) {
        var i = this.locDelegate.locale;
        return i.usesLatinAlphabet() ? JSUtils.sortCompare(t.sortName, e.sortName) : t.name.localeCompare(e.name, i.toBCPString(), {
            sensitivity: "accent"
        })
    }
    ,
    UTDataProviderFactory.prototype.getSearchPileDP = function(t) {
        var e = [new UTDataProviderEntryDTO(0,ItemSearchFeature.CLUB,this.locDelegate.localize("search.searchmode.club")), new UTDataProviderEntryDTO(1,ItemSearchFeature.CONCEPT,this.locDelegate.localize("search.searchmode.database"))];
        return t && e.push(new UTDataProviderEntryDTO(2,ItemSearchFeature.STORAGE,this.locDelegate.localize("search.searchmode.storage"))),
        e
    }
    ,
    UTDataProviderFactory.prototype.getSearchPileDPWithAny = function(t) {
        var e = [new UTDataProviderEntryDTO(0,ItemSearchFeature.ANY,this.locDelegate.localize("search.searchmode.any")), new UTDataProviderEntryDTO(1,ItemSearchFeature.CLUB,this.locDelegate.localize("search.searchmode.club"))];
        return t && e.push(new UTDataProviderEntryDTO(2,ItemSearchFeature.STORAGE,this.locDelegate.localize("search.searchmode.storage"))),
        e
    }
    ,
    UTDataProviderFactory.prototype.getVanityCategoryDP = function(t) {
        return [new UTDataProviderEntryDTO(0,SearchCategoryGroup.CLUB,this.locDelegate.localize("search.filters.clubSection")), new UTDataProviderEntryDTO(2,SearchCategoryGroup.STRUCTURE,this.locDelegate.localize("search.filters.structure")), new UTDataProviderEntryDTO(5,SearchCategoryGroup.COSMETICS,this.locDelegate.localize("search.filters.cosmetics"))]
    }
    ,
    UTDataProviderFactory.prototype.createItemSubTypeEntry = function(t) {
        var e = SearchCategory.ANY
          , i = "";
        switch (t) {
        case ItemSubType.KIT:
            e = SearchCategory.KIT,
            i = this.locDelegate.localize("search.filters.kits");
            break;
        case ItemSubType.BALL:
            e = SearchCategory.BALL,
            i = this.locDelegate.localize("search.filters.balls");
            break;
        case ItemSubType.BADGE:
            e = SearchCategory.BADGE,
            i = this.locDelegate.localize("search.filters.badges");
            break;
        case ItemSubType.STADIUM:
            e = SearchCategory.STADIUM,
            i = this.locDelegate.localize("search.filters.stadiums");
            break;
        case ItemSubType.VANITY_TIFO_BASE:
            e = SearchCategory.VANITY_TIFO_BASE,
            i = this.locDelegate.localize("search.filters.tifos");
            break;
        case ItemSubType.VANITY_TIFO_MOVING:
            e = SearchCategory.VANITY_TIFO_MOVING,
            i = this.locDelegate.localize("search.filters.tifosMoving");
            break;
        case ItemSubType.VANITY_TIFO_BIG:
            e = SearchCategory.VANITY_TIFO_BIG,
            i = this.locDelegate.localize("search.filters.tifosBig");
            break;
        case ItemSubType.VANITY_STADIUM_THEME:
            e = SearchCategory.VANITY_STADIUM_THEME,
            i = this.locDelegate.localize("search.filters.stadiumThemes");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN:
            e = SearchCategory.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN,
            i = this.locDelegate.localize("search.filters.mowPatterns");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR:
            e = SearchCategory.VANITY_STADIUM_BASE_PITCH_LINE_COLOR,
            i = this.locDelegate.localize("search.filters.lineColors");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE:
            e = SearchCategory.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE,
            i = this.locDelegate.localize("search.filters.goalColors");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP:
            e = SearchCategory.VANITY_STADIUM_BASE_PITCH_PROP,
            i = this.locDelegate.localize("search.filters.props");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_STRUCTURE_COLOR:
            e = SearchCategory.VANITY_STADIUM_BASE_STRUCTURE_COLOR,
            i = this.locDelegate.localize("search.filters.structureColors");
            break;
        case ItemSubType.VANITY_STADIUM_BASE_SEAT_COLOR:
            e = SearchCategory.VANITY_STADIUM_BASE_SEAT_COLOR,
            i = this.locDelegate.localize("search.filters.seatColors");
            break;
        case ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON:
            e = SearchCategory.VANITY_PYROTECHNICS_FLAME_CANNON,
            i = this.locDelegate.localize("search.filters.pyroFlames");
            break;
        case ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON:
            e = SearchCategory.VANITY_PYROTECHNICS_CONFETTI_CANNON,
            i = this.locDelegate.localize("search.filters.pyroConfetti");
            break;
        case ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON:
            e = SearchCategory.VANITY_PYROTECHNICS_SPARKLER_CANNON,
            i = this.locDelegate.localize("search.filters.pyroSparkles");
            break;
        case ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON:
            e = SearchCategory.VANITY_PYROTECHNICS_FIREWORKS_CANNON,
            i = this.locDelegate.localize("search.filters.pyroFireworks");
            break;
        case ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC:
            e = SearchCategory.VANITY_AUDIO_ANTHEM_MUSIC,
            i = this.locDelegate.localize("search.filters.anthems");
            break;
        case ItemSubType.VANITY_AUDIO_GOAL_SCORE:
            e = SearchCategory.VANITY_AUDIO_GOAL_SCORE,
            i = this.locDelegate.localize("search.filters.goalSound");
            break;
        case ItemSubType.VANITY_AUDIO_CLUB_NICKNAME:
            e = SearchCategory.VANITY_AUDIO_CLUB_NICKNAME,
            i = this.locDelegate.localize("search.filters.nicknames");
            break;
        case ItemSubType.VANITY_AUDIO_CROWD_CHANT:
            e = SearchCategory.VANITY_AUDIO_CROWD_CHANT,
            i = this.locDelegate.localize("search.filters.chants");
            break;
        case ItemSubType.VANITY_PLAYER_CELEBRATION:
            e = SearchCategory.VANITY_PLAYER_CELEBRATION,
            i = this.locDelegate.localize("search.filters.celebrations");
            break;
        case ItemSubType.VANITY_TINTED_BANNER:
            e = SearchCategory.VANITY_TINTED_BANNER,
            i = this.locDelegate.localize("search.filters.tintedBanners");
            break;
        case ItemSubType.VANITY_POLE_BANNER:
            e = SearchCategory.VANITY_POLE_BANNER,
            i = this.locDelegate.localize("search.filters.poleBanners");
            break;
        case ItemSubType.VANITY_CROWD_CARDS:
            e = SearchCategory.VANITY_CROWD_CARDS,
            i = this.locDelegate.localize("search.filters.crowdCards");
            break;
        case ItemSubType.VANITY_VIP_AREA:
            e = SearchCategory.VANITY_VIP_AREA,
            i = this.locDelegate.localize("search.filters.vipArea");
            break;
        default:
            DebugUtils.Assert(!1, "Unexpected ItemSubType value received.")
        }
        return new UTDataProviderEntryDTO(t,e,i)
    }
    ,
    UTDataProviderFactory.prototype.getDynamicSubTypesDP = function(t) {
        var e = this;
        return t.map(function(t) {
            return e.createItemSubTypeEntry(t)
        })
    }
    ,
    UTDataProviderFactory.prototype.getClubVanityTypesDP = function() {
        return this.getDynamicSubTypesDP([ItemSubType.BADGE, ItemSubType.KIT, ItemSubType.BALL, ItemSubType.VANITY_PLAYER_CELEBRATION, ItemSubType.VANITY_AUDIO_CLUB_NICKNAME, ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC, ItemSubType.VANITY_AUDIO_CROWD_CHANT, ItemSubType.VANITY_AUDIO_GOAL_SCORE])
    }
    ,
    UTDataProviderFactory.prototype.getPitchVanityTypesDP = function(t) {
        var e = this.getDynamicSubTypesDP([ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR, ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE, ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON, ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON, ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON, ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON]);
        return t || e.push(this.createItemSubTypeEntry(ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN)),
        e
    }
    ,
    UTDataProviderFactory.prototype.getTrophiesVanityTypesDP = function() {
        return [this.createItemSubTypeEntry(ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP)]
    }
    ,
    UTDataProviderFactory.prototype.getStandsVanityTypesDP = function(t) {
        var e = this.getDynamicSubTypesDP([ItemSubType.VANITY_TIFO_BASE, ItemSubType.VANITY_TIFO_BIG, ItemSubType.VANITY_TINTED_BANNER, ItemSubType.VANITY_POLE_BANNER, ItemSubType.VANITY_CROWD_CARDS]);
        return t || e.push(this.createItemSubTypeEntry(ItemSubType.VANITY_TIFO_MOVING)),
        e
    }
    ,
    UTDataProviderFactory.prototype.getStadiumVanityTypesDP = function() {
        return this.getDynamicSubTypesDP([ItemSubType.STADIUM, ItemSubType.VANITY_STADIUM_THEME, ItemSubType.VANITY_STADIUM_BASE_STRUCTURE_COLOR, ItemSubType.VANITY_STADIUM_BASE_SEAT_COLOR, ItemSubType.VANITY_VIP_AREA, ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE, ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON, ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON, ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON, ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON, ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR, ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN])
    }
    ,
    UTDataProviderFactory.prototype.getCosmeticsVanityTypesDP = function() {
        return this.getDynamicSubTypesDP([ItemSubType.VANITY_TIFO_BASE, ItemSubType.VANITY_TIFO_MOVING, ItemSubType.VANITY_TIFO_BIG, ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP, ItemSubType.VANITY_POLE_BANNER])
    }
    ,
    UTDataProviderFactory.prototype.getTeamDP = function(e) {
        var t = this.teamConfigRepo.getTeams();
        JSUtils.isNumber(e) && 0 <= e && (t = t.filter(function(t) {
            return t.league === e
        }));
        var i = t.sort(this.sortByName.bind(this)).map(function(t) {
            return new UTDataProviderEntryDTO(t.id,t.id.toString(),t.name)
        });
        return [new UTDataProviderEntryDTO(-1,"-1",this.locDelegate.localize("roles.defaultRole"))].concat(i)
    }
    ,
    UTDataProviderFactory.prototype.getCustomTeamDP = function(t) {
        var e = this.teamConfigRepo.getCustomTeams().map(function(t) {
            return new UTDataProviderEntryDTO(t.id,t.id.toString(),t.name)
        });
        return t && e.unshift(new UTDataProviderEntryDTO(-1,"-1",this.locDelegate.localize("roles.defaultRole"))),
        e
    }
    ,
    UTDataProviderFactory.prototype.getLeagueDP = function(t) {
        var a = this
          , s = ["ENG 1", "ENG 2", "ENG 3", "ENG 4", "FRA 1", "FRA 2", "ITA 1", "ITA 2", "GER 1", "GER 2", "GER 3", "ESP 1", "ESP 2"]
          , l = ["AUT 1", "CZE 1"]
          , e = this.teamConfigRepo.getLeagues().sort(function(t, e) {
            var i = 0 <= s.indexOf(t.abbreviation)
              , r = 0 <= s.indexOf(e.abbreviation)
              , o = 0 <= l.indexOf(t.abbreviation)
              , n = 0 <= l.indexOf(e.abbreviation);
            return i != r ? i ? -1 : 1 : o != n ? o ? 1 : -1 : i && r ? s.indexOf(t.abbreviation) - s.indexOf(e.abbreviation) : o && n ? l.indexOf(t.abbreviation) - l.indexOf(e.abbreviation) : a.sortByName(t, e)
        });
        t && (e = e.filter(function(t) {
            return t.id !== REWARDS_LEAGUE_ID
        }));
        var i = e.map(function(t) {
            return new UTDataProviderEntryDTO(t.id,t.id.toString(),t.name + " (" + t.abbreviation + ")")
        });
        return [new UTDataProviderEntryDTO(-1,"-1",this.locDelegate.localize("roles.defaultRole"))].concat(i)
    }
    ,
    UTDataProviderFactory.prototype.getNationDP = function() {
        var e = this
          , t = TOP_NINE_NATIONS.map(function(t) {
            return new UTDataProviderEntryDTO(t,t.toString(),UTLocalizationUtil.nationIdToName(t, e.locDelegate))
        })
          , i = this.teamConfigRepo.getNations().sort(this.sortByName.bind(this)).map(function(t) {
            return new UTDataProviderEntryDTO(t.id,t.id.toString(),t.name)
        });
        return [new UTDataProviderEntryDTO(-1,"-1",this.locDelegate.localize("roles.defaultRole"))].concat(t, i)
    }
    ,
    UTDataProviderFactory.prototype.getPlayerPositionDP = function(t) {
        var l = this
          , e = [];
        t || e.push(new UTDataProviderEntryDTO(-1,"any",this.locDelegate.localize("roles.defaultRole"))),
        e = e.concat([new UTDataProviderEntryDTO(ZONE_DEFENDER_VALUE,ZONE_DEFENDER_VALUE,this.locDelegate.localize("search.positions.zone130")), new UTDataProviderEntryDTO(ZONE_MIDFIELDER_VALUE,ZONE_MIDFIELDER_VALUE,this.locDelegate.localize("search.positions.zone131")), new UTDataProviderEntryDTO(ZONE_ATTACKER_VALUE,ZONE_ATTACKER_VALUE,this.locDelegate.localize("search.positions.zone132"))]),
        t && e.push(new UTDataProviderEntryDTO(ZONE_NO_GK_VALUE,ZONE_NO_GK_VALUE,this.locDelegate.localize("roles.defaultRole")));
        var i = SEARCHABLE_POSITIONS.map(function(t) {
            var e, i, r, o = l.squadRepo.getPosition(t), n = null !== (e = null == o ? void 0 : o.id) && void 0 !== e ? e : -1, a = null !== (i = null == o ? void 0 : o.typeName) && void 0 !== i ? i : BLANK_STR, s = UTLocalizationUtil.positionIdToName(null !== (r = null == o ? void 0 : o.typeId) && void 0 !== r ? r : -1, l.locDelegate);
            return DebugUtils.Assert(JSUtils.isValid(o), "Missing searchable position ID: " + t),
            new UTDataProviderEntryDTO(n,a,s)
        });
        return e.concat(i)
    }
    ,
    UTDataProviderFactory.prototype.getPlayStyleDP = function(t) {
        function K5a(t) {
            return new UTDataProviderEntryDTO(t,t.toString(),UTLocalizationUtil.playStyleIdToName(t, e.locDelegate))
        }
        var e = this
          , i = [new UTDataProviderEntryDTO(-1,"-1",this.locDelegate.localize("roles.defaultRole"))];
        return JSUtils.isBoolean(t) && t || (i = i.concat(K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_1), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_2), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_3), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_4), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_5), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_6), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_7), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_8), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_9), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_10), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_11), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_12), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_13), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_14), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_15), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_16), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_17), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_18), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_19))),
        JSUtils.isBoolean(t) && !t || (i = i.concat(K5a(ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_1), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_2), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_3), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_4), K5a(ItemSubType.TRAINING_PLAYERSTYLE_GOALKEEPER_5))),
        i
    }
    ,
    UTDataProviderFactory.prototype.getItemLevelDP = function() {
        return [new UTDataProviderEntryDTO(-1,SearchLevel.ANY,this.locDelegate.localize("roles.defaultRole")), new UTDataProviderEntryDTO(0,SearchLevel.BRONZE,this.locDelegate.localize("search.cardLevels.cardLevel1")), new UTDataProviderEntryDTO(1,SearchLevel.SILVER,this.locDelegate.localize("search.cardLevels.cardLevel2")), new UTDataProviderEntryDTO(2,SearchLevel.GOLD,this.locDelegate.localize("search.cardLevels.cardLevel3"))]
    }
    ,
    UTDataProviderFactory.prototype.getRareItemLevelDP = function() {
        return this.getItemLevelDP().concat(new UTDataProviderEntryDTO(3,SearchLevel.SPECIAL,services.Localization.localize("search.cardLevels.cardLevel4")))
    }
    ,
    UTDataProviderFactory.prototype.getItemRarityDP = function(n) {
        var t = []
          , e = repositories.Rarity.values().filter(function(e) {
            var t = !0
              , i = 0 < n.itemSubTypes.filter(function(t) {
                return e.itemSubTypes.includes(t)
            }).length
              , r = 0 < n.itemTypes.filter(function(t) {
                return e.itemTypes.includes(t)
            }).length
              , o = !n.tradableOnly || e.tradeable;
            return n.quality !== SearchLevel.ANY && (t = n.quality === SearchLevel.SPECIAL ? e.id > ItemRarity.LOCK : !0 === e.levels),
            o && e.searchable && e.id !== ItemRarity.LOCK && e.id !== ItemRarity.DEFAULT && (r || i) && t
        }).sort(function(t, e) {
            return t.id <= ItemRarity.RARE && e.id > ItemRarity.RARE ? -1 : e.id <= ItemRarity.RARE && t.id > ItemRarity.RARE ? 1 : services.Localization.localize("item.raretype" + t.id).localeCompare(services.Localization.localize("item.raretype" + e.id))
        });
        return t.push(new UTDataProviderEntryDTO(-1,-1,services.Localization.localize("roles.defaultRole"))),
        t.concat(e.map(function(t) {
            return new UTDataProviderEntryDTO(t.id,t.id,services.Localization.localize("item.raretype" + t.id))
        }))
    }
    ,
    UTDataProviderFactory.prototype.getFormationDP = function() {
        return this.squadRepo.getFormations().map(function(t) {
            return new UTDataProviderEntryDTO(t.getId(),t.getName(),t.getDisplayName())
        })
    }
    ,
    UTDataProviderFactory.prototype.getStaffTypeDP = function() {
        return [new UTDataProviderEntryDTO(-1,SearchCategory.ANY,this.locDelegate.localize("roles.defaultRole")), new UTDataProviderEntryDTO(0,SearchCategory.MANAGER,this.locDelegate.localize("roles.manager"))]
    }
    ,
    UTDataProviderFactory.prototype.getConsumableTypeDP = function() {
        return [new UTDataProviderEntryDTO(3,SearchCategory.PLAYSTYLE,this.locDelegate.localize("trainingtype.playStyle")), new UTDataProviderEntryDTO(4,SearchCategory.MANAGER_LEAGUE,this.locDelegate.localize("trainingtype.managerLeague")), new UTDataProviderEntryDTO(7,SearchCategory.HEALING,this.locDelegate.localize("devtype.healing"))]
    }
    ,
    UTDataProviderFactory.prototype.getVanityAuthenticityDP = function() {
        return [new UTDataProviderEntryDTO(-1,"any",this.locDelegate.localize("roles.defaultRole")), new UTDataProviderEntryDTO(0,"inauthentic",this.locDelegate.localize("authenticity.no")), new UTDataProviderEntryDTO(1,"authentic",this.locDelegate.localize("authenticity.yes"))]
    }
    ,
    UTDataProviderFactory.prototype.getVanityColorDP = function() {
        return [new UTDataProviderEntryDTO(ItemColor.INVALID,"any",this.locDelegate.localize("roles.defaultRole")), new UTDataProviderEntryDTO(ItemColor.RED,ItemColor[ItemColor.RED],this.locDelegate.localize("color.red")), new UTDataProviderEntryDTO(ItemColor.BROWN,ItemColor[ItemColor.BROWN],this.locDelegate.localize("color.brown")), new UTDataProviderEntryDTO(ItemColor.ORANGE,ItemColor[ItemColor.ORANGE],this.locDelegate.localize("color.orange")), new UTDataProviderEntryDTO(ItemColor.YELLOW,ItemColor[ItemColor.YELLOW],this.locDelegate.localize("color.yellow")), new UTDataProviderEntryDTO(ItemColor.GREEN,ItemColor[ItemColor.GREEN],this.locDelegate.localize("color.green")), new UTDataProviderEntryDTO(ItemColor.BLUE,ItemColor[ItemColor.BLUE],this.locDelegate.localize("color.blue")), new UTDataProviderEntryDTO(ItemColor.PURPLE,ItemColor[ItemColor.PURPLE],this.locDelegate.localize("color.purple")), new UTDataProviderEntryDTO(ItemColor.VIOLET,ItemColor[ItemColor.VIOLET],this.locDelegate.localize("color.violet")), new UTDataProviderEntryDTO(ItemColor.PINK,ItemColor[ItemColor.PINK],this.locDelegate.localize("color.pink")), new UTDataProviderEntryDTO(ItemColor.WHITE,ItemColor[ItemColor.WHITE],this.locDelegate.localize("color.white")), new UTDataProviderEntryDTO(ItemColor.GRAY,ItemColor[ItemColor.GRAY],this.locDelegate.localize("color.gray")), new UTDataProviderEntryDTO(ItemColor.BLACK,ItemColor[ItemColor.BLACK],this.locDelegate.localize("color.black"))]
    }
    ,
    UTDataProviderFactory.prototype.getSortTypeDP = function() {
        return [new UTDataProviderEntryDTO(SearchSortID.VALUE_DESC,SearchSortOrder.DESCENDING,this.locDelegate.localize("search.sort.highestValue")), new UTDataProviderEntryDTO(SearchSortID.VALUE_ASC,SearchSortOrder.ASCENDING,this.locDelegate.localize("search.sort.lowestValue")), new UTDataProviderEntryDTO(SearchSortID.RATING_DESC,SearchSortOrder.DESCENDING,this.locDelegate.localize("search.sort.highestRating")), new UTDataProviderEntryDTO(SearchSortID.RATING_ASC,SearchSortOrder.ASCENDING,this.locDelegate.localize("search.sort.lowestRating")), new UTDataProviderEntryDTO(SearchSortID.RECENCY_DESC,SearchSortOrder.DESCENDING,this.locDelegate.localize("search.sort.mostRecent"))]
    }
    ,
    UTDataProviderFactory.prototype.getStaffSortTypeDP = function() {
        return [new UTDataProviderEntryDTO(SearchSortID.VALUE_DESC,SearchSortOrder.DESCENDING,this.locDelegate.localize("search.sort.highestValue")), new UTDataProviderEntryDTO(SearchSortID.VALUE_ASC,SearchSortOrder.ASCENDING,this.locDelegate.localize("search.sort.lowestValue")), new UTDataProviderEntryDTO(SearchSortID.RECENCY_DESC,SearchSortOrder.DESCENDING,this.locDelegate.localize("search.sort.mostRecent"))]
    }
    ,
    UTDataProviderFactory.prototype.getTacticBuildUpStyleDP = function() {
        return [new UTDataProviderEntryDTO(0,SquadTacticOffensiveStyle.BALANCED,this.locDelegate.localize("tactics.style.offensive." + SquadTacticOffensiveStyle.BALANCED)), new UTDataProviderEntryDTO(1,SquadTacticOffensiveStyle.COUNTER,this.locDelegate.localize("tactics.style.offensive." + SquadTacticOffensiveStyle.COUNTER)), new UTDataProviderEntryDTO(2,SquadTacticOffensiveStyle.CLOSE_SUPPORT,this.locDelegate.localize("tactics.style.offensive." + SquadTacticOffensiveStyle.CLOSE_SUPPORT))]
    }
    ,
    UTDataProviderFactory.prototype.getTacticDefensiveStyleDP = function() {
        return [new UTDataProviderEntryDTO(0,SquadTacticDefensiveStyle.DEEP,this.locDelegate.localize("tactics.style.defensive.0")), new UTDataProviderEntryDTO(1,SquadTacticDefensiveStyle.BALANCED,this.locDelegate.localize("tactics.style.defensive.1")), new UTDataProviderEntryDTO(2,SquadTacticDefensiveStyle.HIGH,this.locDelegate.localize("tactics.style.defensive.2")), new UTDataProviderEntryDTO(3,SquadTacticDefensiveStyle.AGGRESSIVE,this.locDelegate.localize("tactics.style.defensive.3"))]
    }
    ,
    UTDataProviderFactory.prototype.getUndoDiscardDateFilterDP = function() {
        for (var t = [], e = 0; e < 7; e++) {
            var i = new Date;
            i.setDate(i.getDate() - e),
            i.setHours(23, 59, 59),
            t.push(new UTDataProviderEntryDTO(e,i.getTime(),this.locDelegate.localize("undoDiscard.option.date", [this.locDelegate.localize(MONTH_NAMES[i.getMonth()]), i.getDate().toString()])))
        }
        return t
    }
    ,
    UTDataProviderFactory.prototype.getAcademyGroupSortDP = function() {
        return [new UTDataProviderEntryDTO(0,SearchSortOrder.ASCENDING,this.locDelegate.localize("academy.sort.ascending")), new UTDataProviderEntryDTO(1,SearchSortOrder.DESCENDING,this.locDelegate.localize("academy.sort.descending"))]
    }
    ,
    UTDataProviderFactory.prototype.getMeasurementSystemDP = function() {
        return [new UTDataProviderEntryDTO(0,MeasurementSystem.IMPERIAL,this.locDelegate.localize("measurement.imperial")), new UTDataProviderEntryDTO(1,MeasurementSystem.METRIC,this.locDelegate.localize("measurement.metric"))]
    }
    ,
    UTDataProviderFactory.prototype.getObjectiveGroupSortDP = function() {
        return [new UTDataProviderEntryDTO(0,ObjectiveSortOption.NONE,this.locDelegate.localize("scmp.sort.none")), new UTDataProviderEntryDTO(1,ObjectiveSortOption.RECENT,this.locDelegate.localize("scmp.sort.recent")), new UTDataProviderEntryDTO(2,ObjectiveSortOption.EXPIRY,this.locDelegate.localize("scmp.sort.expiry"))]
    }
    ,
    UTDataProviderFactory.prototype.getObjectiveGroupFilterDP = function() {
        return [new UTDataProviderEntryDTO(0,ObjectiveFilterOption.NONE,this.locDelegate.localize("scmp.filter.none")), new UTDataProviderEntryDTO(1,ObjectiveFilterOption.LOCKED,this.locDelegate.localize("scmp.filter.locked")), new UTDataProviderEntryDTO(2,ObjectiveFilterOption.LOCKED_COMPLETE,this.locDelegate.localize("scmp.filter.lockedcomplete"))]
    }
    ,
    UTDataProviderFactory.prototype.getLeaderboardPlatformFilterDP = function() {
        return [new UTLeaderboardOptionDTO({
            id: "local",
            image: "",
            display: "leaderboard.filters.local",
            default: !0
        }), new UTLeaderboardOptionDTO({
            id: "global",
            image: "",
            display: "leaderboard.filters.global",
            default: !1
        })]
    }
    ,
    UTDataProviderFactory.prototype.getIconTraitDP = function() {
        return [new UTDataProviderEntryDTO(0,IconTraitSearchType.ANY,this.locDelegate.localize("search.filters.traits.any")), new UTDataProviderEntryDTO(1,IconTraitSearchType.ICONTRAITS,this.locDelegate.localize("search.filters.traits.icontraits"))]
    }
    ,
    UTDataProviderFactory
}(EAObject))
  , UTNimbleMTXItemEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTNimbleMTXItemEntity(t, e, i, r) {
        var o = n.call(this) || this;
        return o.id = t,
        o.points = 0,
        o.priceFormatted = "",
        o.price = i,
        o.currency = r,
        o.sku = e.toString(),
        o.title = "",
        o.isBestValue = !1,
        o.isMostPopular = !1,
        o
    }
    return __extends(UTNimbleMTXItemEntity, n),
    UTNimbleMTXItemEntity.prototype.getLocalImageAssetId = function() {
        return 18500 <= this.points ? 7 : this.points < 18500 && 12e3 <= this.points ? 6 : this.points < 12e3 && 5900 <= this.points ? 5 : this.points < 5900 && 2800 <= this.points ? 4 : this.points < 2800 && 1600 <= this.points ? 3 : this.points < 1600 && 1050 <= this.points ? 2 : this.points < 1050 && 500 <= this.points ? 1 : 0
    }
    ,
    UTNimbleMTXItemEntity
}(EAObject))
  , UTNimbleMTXItemFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTNimbleMTXItemFactory() {
        return t.call(this) || this
    }
    return __extends(UTNimbleMTXItemFactory, t),
    UTNimbleMTXItemFactory.prototype.generateMTXItem = function(t) {
        var e = new UTNimbleMTXItemEntity(t.id,t.sku,t.price,t.currency);
        return e.title = isAndroid() ? t.title.replace(/ *\([^)]*\) */g, " ").trim() : t.title,
        e.priceFormatted = t.priceFormatted,
        e
    }
    ,
    UTNimbleMTXItemFactory.prototype.generateMTXItemArray = function(t) {
        var e = this;
        return t.map(function(t) {
            return e.generateMTXItem(t)
        })
    }
    ,
    UTNimbleMTXItemFactory
}(EAObject))
  , UTSquadSlotEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTSquadSlotEntity(t, e) {
        var i = r.call(this) || this;
        return i._chemistry = 0,
        i._potentialChemistry = 0,
        i._item = factories.Item.createItem(),
        i.onDataUpdated = new EAObservable,
        i.index = t,
        i.position = e,
        i.requirement = null,
        i
    }
    return __extends(UTSquadSlotEntity, r),
    Object.defineProperty(UTSquadSlotEntity.prototype, "chemistry", {
        get: function() {
            return this._chemistry
        },
        set: function(t) {
            this._chemistry = Math.min(Math.max(t, 0), UTSquadSlotEntity.SLOT_MAX_CHEMISTRY)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "potentialChemistry", {
        get: function() {
            return this._potentialChemistry
        },
        set: function(t) {
            this._potentialChemistry = Math.min(Math.max(t, 0), UTSquadSlotEntity.SLOT_MAX_CHEMISTRY)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "item", {
        get: function() {
            return this._item
        },
        set: function(t) {
            this._item && this._item.onDataUpdated.unobserve(this),
            this._item = t,
            this._item.onDataUpdated.observe(this, this._eItemDataUpdated)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "generalPosition", {
        get: function() {
            return this.position ? this.position.typeId : -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "uniquePosition", {
        get: function() {
            return this.position ? this.position.id : -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "generalPositionName", {
        get: function() {
            return this.position ? this.position.typeName : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "uniquePositionName", {
        get: function() {
            return this.position ? this.position.name : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadSlotEntity.prototype, "inPossiblePosition", {
        get: function() {
            return this._item.isManager() || this.position instanceof UTSquadPositionDTO && this._item && (this._item.isValid() && this._item.possiblePositions.includes(this.generalPosition) || this._item.isCustomBrick())
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSquadSlotEntity.prototype.getIndex = function() {
        return this.index
    }
    ,
    UTSquadSlotEntity.prototype.getItem = function() {
        return this.item
    }
    ,
    UTSquadSlotEntity.prototype.setItem = function(t) {
        this.item = t
    }
    ,
    UTSquadSlotEntity.prototype.getKitNumber = function() {
        return this.kitNumber
    }
    ,
    UTSquadSlotEntity.prototype.setKitNumber = function(t) {
        this.kitNumber = t
    }
    ,
    UTSquadSlotEntity.prototype.getChemistry = function() {
        return this.chemistry
    }
    ,
    UTSquadSlotEntity.prototype.setChemistry = function(t) {
        this.chemistry = t
    }
    ,
    UTSquadSlotEntity.prototype.setPosition = function(t) {
        this.position = t
    }
    ,
    UTSquadSlotEntity.prototype.getGeneralPosition = function() {
        return this.generalPosition
    }
    ,
    UTSquadSlotEntity.prototype.getUniquePosition = function() {
        return this.uniquePosition
    }
    ,
    UTSquadSlotEntity.prototype.getGeneralPositionName = function() {
        return this.generalPositionName
    }
    ,
    UTSquadSlotEntity.prototype.getUniquePositionName = function() {
        return this.uniquePositionName
    }
    ,
    UTSquadSlotEntity.prototype.getRequirement = function() {
        return this.requirement
    }
    ,
    UTSquadSlotEntity.prototype.setRequirement = function(t) {
        this.requirement = t
    }
    ,
    UTSquadSlotEntity.prototype.isRegularBrick = function() {
        return !!this.requirement && this.requirement.isRegularBrickType()
    }
    ,
    UTSquadSlotEntity.prototype.isCustomBrick = function() {
        return !!this.requirement && this.requirement.isCustomBrickType()
    }
    ,
    UTSquadSlotEntity.prototype.isBrick = function() {
        return this.isRegularBrick() || this.isCustomBrick()
    }
    ,
    UTSquadSlotEntity.prototype.isValid = function() {
        return !!this._item && this._item.isValid()
    }
    ,
    UTSquadSlotEntity.prototype._eItemDataUpdated = function(t, e, i) {
        this.onDataUpdated.notify(this, {
            item: e
        })
    }
    ,
    UTSquadSlotEntity.SLOT_MAX_CHEMISTRY = 3,
    UTSquadSlotEntity
}(EAObject))
  , UTNullSquadSlotEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTNullSquadSlotEntity() {
        return t.call(this, -1, null) || this
    }
    return __extends(UTNullSquadSlotEntity, t),
    Object.defineProperty(UTNullSquadSlotEntity.prototype, "chemistry", {
        get: function() {
            return this._chemistry
        },
        set: function(t) {},
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTNullSquadSlotEntity.prototype, "item", {
        get: function() {
            return this._item
        },
        set: function(t) {},
        enumerable: !1,
        configurable: !0
    }),
    UTNullSquadSlotEntity.prototype.setPosition = function(t) {}
    ,
    UTNullSquadSlotEntity.prototype.setRequirement = function(t) {}
    ,
    UTNullSquadSlotEntity
}(UTSquadSlotEntity))
  , UTSBCPlayerRequirementDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTSBCPlayerRequirementDTO(t, e) {
        var i = r.call(this) || this;
        return i.index = t.index,
        i.playerType = t.playerType,
        i.elgReq = e,
        i
    }
    return __extends(UTSBCPlayerRequirementDTO, r),
    UTSBCPlayerRequirementDTO.prototype.isRegularBrickType = function() {
        return this.playerType === SBCPlayerRequirementType.BRICK
    }
    ,
    UTSBCPlayerRequirementDTO.prototype.isCustomBrickType = function() {
        return this.playerType === SBCPlayerRequirementType.CUSTOM_BRICK
    }
    ,
    UTSBCPlayerRequirementDTO
}(EAObject))
  , UTSquadPositionDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadPositionDTO(t) {
        var e = i.call(this) || this;
        return e.id = t.uniqueId,
        e.typeId = t.typeId,
        e.name = t.uniqueName,
        e.typeName = t.typeName,
        e
    }
    return __extends(UTSquadPositionDTO, i),
    UTSquadPositionDTO.prototype.getId = function() {
        return this.id
    }
    ,
    UTSquadPositionDTO.prototype.getTypeId = function() {
        return this.typeId
    }
    ,
    UTSquadPositionDTO.prototype.getName = function() {
        return this.name
    }
    ,
    UTSquadPositionDTO.prototype.getTypeName = function() {
        return this.typeName
    }
    ,
    UTSquadPositionDTO
}(EAObject))
  , UTSquadFormationDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadFormationDTO(t, e, i) {
        var r = o.call(this) || this;
        return r.displayName = services.Localization.localize("global.formation." + t.name),
        r.generalPositions = t.generalPositionSlots,
        r.id = t.id,
        r.name = t.name,
        r.positions = i,
        r.teamBonus = e,
        r.uniquePositions = t.uniquePositionSlots,
        r.index = t.index,
        r
    }
    return __extends(UTSquadFormationDTO, o),
    UTSquadFormationDTO.prototype.getId = function() {
        return this.id
    }
    ,
    UTSquadFormationDTO.prototype.getName = function() {
        return this.name
    }
    ,
    UTSquadFormationDTO.prototype.getDisplayName = function() {
        return this.displayName
    }
    ,
    UTSquadFormationDTO.prototype.getPositions = function() {
        return this.positions
    }
    ,
    UTSquadFormationDTO.prototype.getPosition = function(t) {
        return this.positions[t] || null
    }
    ,
    UTSquadFormationDTO.prototype.getTeamBonus = function(t) {
        return this.teamBonus[t] || 0
    }
    ,
    UTSquadFormationDTO
}(EAObject))
  , UTSquadParameterChemistryVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadParameterChemistryVO(t) {
        var e = o.call(this) || this
          , i = e.calculatePoints(t.contributions, t.thresholds)
          , r = e.calculatePoints(t.contributions + t.missed, t.thresholds);
        return e.contributions = t.contributions,
        e.contributionThresholds = t.thresholds.map(function(t) {
            return t.requirement
        }).sort(function(t, e) {
            return t - e
        }),
        e.metaId = t.metaId,
        e.missed = t.missed,
        e.points = i,
        e.missedPoints = r - i,
        e.typeId = t.typeId,
        e
    }
    return __extends(UTSquadParameterChemistryVO, o),
    Object.defineProperty(UTSquadParameterChemistryVO.prototype, "potentialContributions", {
        get: function() {
            return this.contributions + this.missed
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadParameterChemistryVO.prototype, "potentialPoints", {
        get: function() {
            return this.points + this.missedPoints
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadParameterChemistryVO.prototype, "currentThresholdIndex", {
        get: function() {
            return this.calculateThresholdIndex(this.contributions)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTSquadParameterChemistryVO.prototype, "potentialThresholdIndex", {
        get: function() {
            return this.calculateThresholdIndex(this.potentialContributions)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSquadParameterChemistryVO.prototype.calculateThresholdIndex = function(t) {
        for (var e = 0; e < this.contributionThresholds.length; e++)
            if (t < this.contributionThresholds[e])
                return e;
        return this.contributionThresholds.length - 1
    }
    ,
    UTSquadParameterChemistryVO.prototype.calculatePoints = function(i, t) {
        return t.reduce(function(t, e) {
            return i >= e.requirement ? t += e.points : t
        }, 0)
    }
    ,
    UTSquadParameterChemistryVO.prototype.getThresholdContributionCount = function(t) {
        var e;
        return this.contributionThresholds[t] - (null !== (e = this.contributionThresholds[t - 1]) && void 0 !== e ? e : 0)
    }
    ,
    UTSquadParameterChemistryVO.prototype.getThresholdContributions = function(t) {
        var e, i = null !== (e = this.contributionThresholds[t - 1]) && void 0 !== e ? e : 0;
        return Math.max(this.contributions - i, 0)
    }
    ,
    UTSquadParameterChemistryVO.prototype.getThresholdPotentialContributions = function(t) {
        var e, i = null !== (e = this.contributionThresholds[t - 1]) && void 0 !== e ? e : 0;
        return Math.max(this.potentialContributions - i, 0)
    }
    ,
    UTSquadParameterChemistryVO.prototype.equals = function(t) {
        return t instanceof UTSquadParameterChemistryVO && this.contributions === t.contributions
    }
    ,
    UTSquadParameterChemistryVO.prototype.value = function() {
        return this.contributions
    }
    ,
    UTSquadParameterChemistryVO
}(EAObject))
  , UTSquadSlotChemistryVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadSlotChemistryVO(t) {
        var e = i.call(this) || this;
        return e.missed = t.missed,
        e.parameters = t.parameters.slice(),
        e.points = t.points,
        e
    }
    return __extends(UTSquadSlotChemistryVO, i),
    Object.defineProperty(UTSquadSlotChemistryVO.prototype, "potentialPoints", {
        get: function() {
            return this.points + this.missed
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSquadSlotChemistryVO.prototype.getPointsByParameter = function(e) {
        var t, i = JSUtils.find(this.parameters, function(t) {
            return t.id === e
        });
        return null !== (t = null == i ? void 0 : i.points) && void 0 !== t ? t : 0
    }
    ,
    UTSquadSlotChemistryVO.prototype.equals = function(t) {
        return t instanceof UTSquadSlotChemistryVO && this.points === t.points && this.missed === t.missed
    }
    ,
    UTSquadSlotChemistryVO.prototype.value = function() {
        return this.points
    }
    ,
    UTSquadSlotChemistryVO
}(EAObject))
  , UTSquadChemistryVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTSquadChemistryVO(t) {
        var e = i.call(this) || this;
        return DebugUtils.Assert(11 === t.slots.length, "Unexpected number of slot chemistry data objects. Found: " + t.slots.length + ". Expected: 11."),
        e.parameters = t.parameters.map(function(t) {
            return new UTSquadParameterChemistryVO(t)
        }),
        e.slots = t.slots.map(function(t) {
            return new UTSquadSlotChemistryVO(t)
        }),
        e.chemistry = e.slots.reduce(function(t, e) {
            return t + e.points
        }, 0),
        e.missed = e.slots.reduce(function(t, e) {
            return t + e.missed
        }, 0),
        e
    }
    return __extends(UTSquadChemistryVO, i),
    Object.defineProperty(UTSquadChemistryVO.prototype, "potentialChemistry", {
        get: function() {
            return this.chemistry + this.missed
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSquadChemistryVO.prototype.getSlotChemistry = function(t) {
        var e;
        return null !== (e = this.slots[t]) && void 0 !== e ? e : new UTSquadSlotChemistryVO({
            missed: 0,
            parameters: [],
            points: 0
        })
    }
    ,
    UTSquadChemistryVO.prototype.getParameterChemistry = function() {
        return this.parameters.slice()
    }
    ,
    UTSquadChemistryVO.prototype.getParameterChemistryByType = function(e) {
        return this.parameters.filter(function(t) {
            return t.typeId === e
        })
    }
    ,
    UTSquadChemistryVO.prototype.equals = function(t) {
        return t instanceof UTSquadChemistryVO && this.chemistry === t.chemistry
    }
    ,
    UTSquadChemistryVO.prototype.value = function() {
        return this.chemistry
    }
    ,
    UTSquadChemistryVO
}(EAObject))
  , UTSquadChemCalculatorUtils = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTSquadChemCalculatorUtils(t, e) {
        var i = r.call(this) || this;
        return i.chemService = t,
        i.teamConfigRepo = e,
        i
    }
    return __extends(UTSquadChemCalculatorUtils, r),
    UTSquadChemCalculatorUtils.prototype.isRestrictedLeague = function(t) {
        return t === UTItemEntity.LEGENDS_LEAGUE_ID
    }
    ,
    UTSquadChemCalculatorUtils.prototype.isRestrictedClub = function(t) {
        return t === UTItemEntity.LEGENDS_CLUB_ID || t === UTItemEntity.LEAGUE_HERO_CLUB_ID
    }
    ,
    UTSquadChemCalculatorUtils.prototype.getContribution = function(t, e, i) {
        if (i)
            return this.getProfileContribution(t, i);
        switch (t) {
        case ChemistryParamId.CLUB:
            return !e.isSuperChem() && (e.isLeagueHeroItem() || e.isLegend() || e.isManager()) ? 0 : 1;
        case ChemistryParamId.LEAGUE:
            return e.isLeagueHeroItem() || e.isSuperChem() ? 2 : 1;
        case ChemistryParamId.NATION:
            return e.isLegend() ? 2 : 1
        }
    }
    ,
    UTSquadChemCalculatorUtils.prototype.addContributions = function(t, e, i, r, o) {
        var n, a;
        if (!(i <= 0)) {
            var s = t.get(i);
            s || (s = {
                metaId: i,
                missed: 0,
                contributions: 0,
                thresholds: null !== (a = null === (n = this.chemService.getParameter(e)) || void 0 === n ? void 0 : n.thresholds) && void 0 !== a ? a : [],
                typeId: e
            },
            t.set(i, s)),
            o ? s.contributions += r : s.missed += r
        }
    }
    ,
    UTSquadChemCalculatorUtils.prototype.addLeagueContributions = function(t, e, i, r, o, n, a, s) {
        var l, c;
        if (!(i <= 0)) {
            var u = t.get(i)
              , p = !1;
            u && u.universalContributionAdded && (p = u.universalContributionAdded),
            u || (u = {
                metaId: i,
                missed: 0,
                contributions: 0,
                thresholds: null !== (c = null === (l = this.chemService.getParameter(e)) || void 0 === l ? void 0 : l.thresholds) && void 0 !== c ? c : [],
                typeId: e,
                universalContributionAdded: !0
            },
            t.set(i, u)),
            o ? u.contributions += r : u.missed += r,
            p || (s ? u.contributions += n : u.missed += n),
            p || (u.missed += a)
        }
    }
    ,
    UTSquadChemCalculatorUtils.prototype.canContribute = function(t) {
        return t.isValid() || t.isCustomBrick()
    }
    ,
    UTSquadChemCalculatorUtils.prototype.normalizeClubId = function(t) {
        return this.teamConfigRepo.getLinkedTeam(t)
    }
    ,
    UTSquadChemCalculatorUtils.prototype.getChemProfileForPlayer = function(t) {
        if (this.chemService.isFeatureEnabled()) {
            var e = this.chemService.getRarityProfile(t.rareflag);
            if (e && t.getBaseRarity() === t.rareflag)
                return e;
            var i = this.chemService.getProfileById(ChemistryProfileId.BASE);
            return t.isLegend() ? i = (null == e ? void 0 : e.iconOverride) ? e : this.chemService.getProfileById(ChemistryProfileId.ICON) : t.isLeagueHeroItem() ? i = (null == e ? void 0 : e.heroOverride) ? e : this.chemService.getProfileById(ChemistryProfileId.HERO) : (null == e ? void 0 : e.baseOverride) && (i = e),
            i
        }
        return null
    }
    ,
    UTSquadChemCalculatorUtils.prototype.isMaxChem = function(t, e) {
        return !!(e && (null == e ? void 0 : e.maxChem)) || (t.isLegend() || t.isLeagueHeroItem() || t.isSuperChem())
    }
    ,
    UTSquadChemCalculatorUtils.prototype.getProfileContribution = function(t, e) {
        var i = e.getRuleByParamId(t);
        return i ? i.value() : 0
    }
    ,
    UTSquadChemCalculatorUtils.prototype.addProfileContributions = function(t, e, i, r, o) {
        var n, a;
        if (!(i <= 0)) {
            var s = t.get(i);
            s && s.universalContributionAdded && s.universalContributionAdded,
            s || (s = {
                metaId: i,
                missed: 0,
                contributions: 0,
                thresholds: null !== (a = null === (n = this.chemService.getParameter(e)) || void 0 === n ? void 0 : n.thresholds) && void 0 !== a ? a : [],
                typeId: e,
                universalContributionAdded: !0
            },
            t.set(i, s)),
            o ? s.contributions += r : s.missed += r
        }
    }
    ,
    UTSquadChemCalculatorUtils.prototype.addUniversalContribution = function(t, e, i, r) {
        if (!(e <= 0)) {
            var o = t.get(e);
            o && (o.contributions += i.reduce(function(t, e) {
                return t + e
            }, 0),
            o.missed += r.reduce(function(t, e) {
                return t + e
            }, 0))
        }
    }
    ,
    UTSquadChemCalculatorUtils.prototype.calculate = function(v, t, e) {
        var b = this
          , C = t.slice(0, UTSquadChemCalculatorUtils.FIELD_PLAYERS)
          , I = []
          , A = new EAHashTable
          , U = new EAHashTable
          , w = new EAHashTable
          , _ = this.chemService.getParameter(ChemistryParamId.CLUB)
          , m = this.chemService.getParameter(ChemistryParamId.LEAGUE)
          , T = this.chemService.getParameter(ChemistryParamId.NATION)
          , f = {
            parameters: [],
            slots: []
        }
          , g = UTSquadChemCalculatorUtils.SLOT_MAX_CHEMISTRY
          , P = []
          , O = []
          , R = []
          , L = []
          , D = []
          , V = []
          , N = []
          , M = []
          , B = [];
        return DebugUtils.Assert(11 === C.length, "Unexpected number of player items. Found: " + C.length + ". Expected: 11."),
        C.concat(e).forEach(function(n, t) {
            var e, i, r, o, a;
            I[t] = b.getChemProfileForPlayer(n);
            var s = I[t];
            if (b.canContribute(n)) {
                var l = null !== (i = null === (e = v.getPosition(t)) || void 0 === e ? void 0 : e.typeId) && void 0 !== i ? i : -1
                  , c = n.isManager() || n.possiblePositions.includes(l)
                  , u = b.getContribution(ChemistryParamId.CLUB, n, s)
                  , p = b.getContribution(ChemistryParamId.LEAGUE, n, s)
                  , d = b.getContribution(ChemistryParamId.NATION, n, s);
                if (s) {
                    var h = n.rareflag
                      , y = null === (r = s.getRuleByParamId(ChemistryParamId.CLUB)) || void 0 === r ? void 0 : r.calculationType
                      , _ = null === (o = s.getRuleByParamId(ChemistryParamId.LEAGUE)) || void 0 === o ? void 0 : o.calculationType
                      , m = null === (a = s.getRuleByParamId(ChemistryParamId.NATION)) || void 0 === a ? void 0 : a.calculationType;
                    if (y === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT || _ === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT || m === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT) {
                        var T = C.filter(function(t, e) {
                            var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                            return t.rareflag === h && t.possiblePositions.includes(o)
                        }).length
                          , f = C.filter(function(t) {
                            return t.rareflag === h
                        }).length - T;
                        if (y === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT)
                            C.some(function(t, e) {
                                var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                                return b.normalizeClubId(t.teamId) === b.normalizeClubId(n.teamId) && t.possiblePositions.includes(o)
                            }) ? P[h] = T * u : O[h] = T * u,
                            O[h] = f * u;
                        if (_ === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT)
                            (S = C.some(function(t, e) {
                                var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                                return t.leagueId === n.leagueId && t.possiblePositions.includes(o)
                            })) ? R[h] = T * p : L[h] = T * p,
                            L[h] = f * p;
                        if (m === ChemistryProfileRuleCalculationType.UNIVERSAL_WITH_PLAYER_COUNT)
                            C.some(function(t, e) {
                                var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                                return t.nationId === n.nationId && t.possiblePositions.includes(o)
                            }) ? D[h] = T * d : V[h] = T * d,
                            V[h] = f * d
                    }
                    b.isRestrictedClub(n.teamId) || (b.addProfileContributions(A, ChemistryParamId.CLUB, b.normalizeClubId(n.teamId), u, c),
                    N.includes(b.normalizeClubId(n.teamId)) || N.push(b.normalizeClubId(n.teamId))),
                    b.isRestrictedLeague(n.leagueId) || (b.addProfileContributions(U, ChemistryParamId.LEAGUE, n.leagueId, p, c),
                    M.includes(n.leagueId) || M.push(n.leagueId)),
                    b.addProfileContributions(w, ChemistryParamId.NATION, n.nationId, d, c),
                    B.includes(n.nationId) || B.push(n.nationId)
                } else {
                    var g = C.filter(function(t, e) {
                        var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                        return t.isLegend() && t.possiblePositions.includes(o)
                    }).length
                      , E = C.filter(function(t) {
                        return t.isLegend()
                    }).length - g
                      , S = C.some(function(t, e) {
                        var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1;
                        return t.leagueId === n.leagueId && t.possiblePositions.includes(o)
                    });
                    b.isRestrictedClub(n.teamId) || b.addContributions(A, ChemistryParamId.CLUB, b.normalizeClubId(n.teamId), u, c),
                    b.isRestrictedLeague(n.leagueId) || b.addLeagueContributions(U, ChemistryParamId.LEAGUE, n.leagueId, p, c, g, E, S),
                    b.addContributions(w, ChemistryParamId.NATION, n.nationId, d, c)
                }
            }
        }),
        this.chemService.isFeatureEnabled() && (N.forEach(function(t) {
            b.addUniversalContribution(A, t, P, O)
        }),
        M.forEach(function(t) {
            b.addUniversalContribution(U, t, R, L)
        }),
        B.forEach(function(t) {
            b.addUniversalContribution(w, t, D, V)
        })),
        C.forEach(function(t, e) {
            var i, r, o = null !== (r = null === (i = v.getPosition(e)) || void 0 === i ? void 0 : i.typeId) && void 0 !== r ? r : -1, n = t.isManager() || t.possiblePositions.includes(o), a = b.isMaxChem(t, I[e]), s = {
                missed: 0,
                parameters: [],
                points: 0
            };
            if (b.canContribute(t)) {
                if (a && n && (s.points = g),
                _) {
                    var l = b.normalizeClubId(t.teamId)
                      , c = A.get(l)
                      , u = {
                        id: ChemistryParamId.CLUB,
                        points: 0
                    };
                    c && 0 < c.contributions && (c.contributions > _.requirement && (c.contributions = _.requirement),
                    _.thresholds.forEach(function(t) {
                        c.contributions >= t.requirement && (n ? (s.points += t.points,
                        u.points += t.points) : s.missed += t.points)
                    })),
                    s.parameters.push(u)
                }
                if (m) {
                    var p = U.get(t.leagueId)
                      , d = {
                        id: ChemistryParamId.LEAGUE,
                        points: 0
                    };
                    p && 0 < p.contributions && (p.contributions > m.requirement && (p.contributions = m.requirement),
                    m.thresholds.forEach(function(t) {
                        p.contributions >= t.requirement && (n ? (s.points += t.points,
                        d.points += t.points) : s.missed += t.points)
                    })),
                    s.parameters.push(d)
                }
                if (T) {
                    var h = w.get(t.nationId)
                      , y = {
                        id: ChemistryParamId.NATION,
                        points: 0
                    };
                    h && 0 < h.contributions && (h.contributions > T.requirement && (h.contributions = T.requirement),
                    T.thresholds.forEach(function(t) {
                        h.contributions >= t.requirement && (n ? (s.points += t.points,
                        y.points += t.points) : s.missed += t.points)
                    })),
                    s.parameters.push(y)
                }
                s.points > g ? (s.points = g,
                s.missed = 0) : s.points + s.missed > g && (s.missed = g - s.points),
                f.slots.push(s)
            } else
                f.slots.push(s)
        }),
        f.parameters = A.values().concat(U.values(), w.values()),
        new UTSquadChemistryVO(f)
    }
    ,
    UTSquadChemCalculatorUtils.FIELD_PLAYERS = 11,
    UTSquadChemCalculatorUtils.SLOT_MAX_CHEMISTRY = 3,
    UTSquadChemCalculatorUtils
}(EAObject))
  , UTSquadEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadEntity(t, e, i) {
        var r = o.call(this) || this;
        return r.onDataUpdated = new EAObservable,
        r.chemCalculator = i,
        r._owner = t.owner ? t.owner : 0,
        r._id = JSUtils.isNumber(t.id) ? t.id : -1,
        r._captain = t.captain ? t.captain : 0,
        r._name = t.name ? t.name : "",
        r._formation = t.formation ? t.formation : null,
        r._rating = t.rating ? t.rating : 0,
        r._chemistry = t.chemistry ? t.chemistry : 0,
        r._manager = t.manager ? t.manager : new UTNullSquadSlotEntity,
        r._players = t.players ? t.players : [],
        r._type = t.type ? t.type : SquadType.REGULAR,
        r._valid = !!t.valid && t.valid,
        r._isActive = !1,
        r._isTOTW = !1,
        r._isSBC = !1,
        r._timestamp = 0,
        r._modified = !1,
        r.simpleBrickIndices = t.simpleBrickIndices ? t.simpleBrickIndices : [],
        r.customBrickIndices = t.customBrickIndices ? t.customBrickIndices : [],
        r._squadSaveDelegate = null,
        r._squadDAO = e,
        r._mentalities = new EAHashTable,
        r.activeTacticSlot = TacticsProfileSlot.SLOT_INVALID,
        r.calculateChemistry(),
        JSUtils.isNumber(t.chemistry) && (r._chemistry = t.chemistry),
        r._players.forEach(function(t) {
            t.onDataUpdated.observe(r, r._eSlotDataUpdated),
            t.item.concept && t.index < UTSquadEntity.FIELD_PLAYERS && r._type === SquadType.REGULAR && (r._type = SquadType.CONCEPT)
        }, r),
        r._manager.onDataUpdated.observe(r, r._eSlotDataUpdated),
        r
    }
    return __extends(UTSquadEntity, o),
    UTSquadEntity.prototype.getSlotChemistry = function(t) {
        return this.getSlot(t).chemistry
    }
    ,
    UTSquadEntity.prototype.save = function() {
        var i = this
          , r = new EAObservable;
        return this._squadSaveDelegate ? this._squadSaveDelegate.save(this).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e),
            e.success && (i.setCacheTimestamp(Date.now()),
            i._modified = !1,
            JSUtils.isObject(e.response) && e.response.objectiveUpdates && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, i, e.response.objectiveUpdates),
            getDefaultDispatcher().notify(AppNotification.SQUAD_SAVE, i, {
                squad: i
            }))
        }) : this._squadDAO.save(this).observe(this, function(t, e) {
            t.unobserve(i),
            r.notify(e),
            e.success && (i.setCacheTimestamp(Date.now()),
            i._modified = !1,
            JSUtils.isObject(e.response) && e.response.objectiveUpdates && getDefaultDispatcher().notify(AppNotification.OBJECTIVE_UPDATE, i, e.response.objectiveUpdates),
            getDefaultDispatcher().notify(AppNotification.SQUAD_SAVE, i, {
                squad: i
            }))
        }),
        r
    }
    ,
    UTSquadEntity.getZoneForPosition = function(t) {
        return t < 1 ? PlayerZoneEnum.GOALKEEPERS : t < 9 ? PlayerZoneEnum.DEFENDERS : t < 19 ? PlayerZoneEnum.MIDFIELDERS : t <= 27 ? PlayerZoneEnum.ATTACKERS : null
    }
    ,
    UTSquadEntity.prototype.setCacheTimestamp = function(t) {
        this._timestamp = t
    }
    ,
    UTSquadEntity.prototype.getOwner = function() {
        return this._owner
    }
    ,
    UTSquadEntity.prototype.getId = function() {
        return this._id
    }
    ,
    UTSquadEntity.prototype.getCaptain = function() {
        return this._captain
    }
    ,
    UTSquadEntity.prototype.getManager = function() {
        return this._manager
    }
    ,
    UTSquadEntity.prototype.getPlayer = function(t) {
        return DebugUtils.Assert(this._isValidPlayerSlot(t), "[Squad::getPlayer] Invalid slot value provided."),
        this.getSlot(t)
    }
    ,
    UTSquadEntity.prototype.getPlayers = function() {
        return this._players
    }
    ,
    UTSquadEntity.prototype.getFieldPlayers = function() {
        return this._players.slice(0, UTSquadEntity.FIELD_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.getSubPlayers = function() {
        return this._players.slice(UTSquadEntity.FIELD_PLAYERS, UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.getReservePlayers = function() {
        return this._players.slice(UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS, UTSquadEntity.TOTAL_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.getSubAndReservePlayers = function() {
        return this._players.slice(UTSquadEntity.FIELD_PLAYERS, UTSquadEntity.TOTAL_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.getFieldAndSubPlayers = function() {
        return this._players.slice(0, UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.getPlayersByZone = function() {
        var i = {};
        return this._players.forEach(function(t) {
            var e = UTSquadEntity.getZoneForPosition(t.uniquePosition);
            e && (i.hasOwnProperty(e) || (i[e] = []),
            i[e].push(t))
        }, this),
        i
    }
    ,
    UTSquadEntity.prototype.getSlot = function(t) {
        return JSUtils.isNumber(t) ? this._getSlotByIndex(t) : t instanceof UTItemEntity ? this._getSlotByItem(t) : new UTNullSquadSlotEntity
    }
    ,
    UTSquadEntity.prototype._getSlotByIndex = function(t) {
        return t === UTSquadEntity.MANAGER_SLOT_INDEX ? this._manager : this._isValidPlayerSlot(t) ? this._players[t] : new UTNullSquadSlotEntity
    }
    ,
    UTSquadEntity.prototype._getSlotByItem = function(e) {
        return this._manager.item.id === e.id && e.isValid() ? this._manager : (e.isValid() ? JSUtils.find(this._players, function(t) {
            return t.item.id === e.id
        }) : JSUtils.find(this._players, function(t) {
            return t.item === e
        })) || new UTNullSquadSlotEntity
    }
    ,
    UTSquadEntity.prototype._getPlayerSlotByItemId = function(e) {
        var t = JSUtils.find(this._players, function(t) {
            return t.item.id === e
        });
        return t || new UTNullSquadSlotEntity
    }
    ,
    UTSquadEntity.prototype.getSlots = function() {
        var t = this._filterBrickIndices(this._players);
        return this._manager && !this.isSBC() && (t = t.concat(this._manager)),
        t
    }
    ,
    UTSquadEntity.prototype.getType = function() {
        return this._type
    }
    ,
    UTSquadEntity.prototype.getName = function() {
        return this._name
    }
    ,
    UTSquadEntity.prototype.setName = function(t, e) {
        this._name = TextUtils.createSquadName(t, e),
        this._modified = !0,
        this.onDataUpdated.notify({
            name: this._name
        })
    }
    ,
    UTSquadEntity.prototype.getFormation = function() {
        return this._formation
    }
    ,
    UTSquadEntity.prototype.setFormation = function(t) {
        var o = this;
        if (!this._formation || this._formation.id !== t.id) {
            this._formation = t,
            this.getFieldPlayers().forEach(function(t) {
                var e, i, r = null === (e = o._formation) || void 0 === e ? void 0 : e.getPosition(t.index);
                DebugUtils.Assert(JSUtils.isValid(r), "Invalid slot index for formation: " + t.index + " " + (null === (i = o._formation) || void 0 === i ? void 0 : i.displayName)),
                r && t.setPosition(r)
            }, this),
            this.updateChemistry();
            var i = this._mentalities.get(this.activeTacticSlot);
            DebugUtils.Assert(JSUtils.isValid(i), "Could not find balanced tactics mentality."),
            i && (i.setFormation(t),
            this.getFieldPlayers().forEach(function(t) {
                var e = i.getRoleBySlotIndex(t.index, t.generalPosition);
                t.playerRole = e.type
            })),
            this._modified = !0,
            this.onDataUpdated.notify({
                slots: this._players.slice(0, UTSquadEntity.FIELD_PLAYERS),
                chemistry: this.getChemistry(),
                formation: this._formation
            })
        }
    }
    ,
    UTSquadEntity.prototype.getStarRating = function() {
        for (var t = this._rating, e = 0; e < STAR_RATING_THRESHOLDS.length; e++)
            if (t <= STAR_RATING_THRESHOLDS[e])
                return e / 2;
        return 5
    }
    ,
    UTSquadEntity.prototype.getRating = function() {
        return this._rating
    }
    ,
    UTSquadEntity.prototype.getChemistry = function() {
        return this._chemistry
    }
    ,
    UTSquadEntity.prototype.getParameterChemistry = function() {
        var t, e;
        return null !== (e = null === (t = this.chemistryVO) || void 0 === t ? void 0 : t.getParameterChemistry()) && void 0 !== e ? e : []
    }
    ,
    UTSquadEntity.prototype.getSortedParameterChemistry = function() {
        return this.getParameterChemistry().sort(function(t, e) {
            return e.points - t.points || e.contributions - t.contributions || e.potentialPoints - t.potentialPoints || e.potentialContributions - t.potentialContributions
        })
    }
    ,
    UTSquadEntity.prototype.getParameterChemistryByType = function(t) {
        var e, i;
        return null !== (i = null === (e = this.chemistryVO) || void 0 === e ? void 0 : e.getParameterChemistryByType(t)) && void 0 !== i ? i : []
    }
    ,
    UTSquadEntity.prototype.setActive = function(t) {
        this._isActive !== t && (this._isActive = t,
        this.onDataUpdated.notify({
            active: this._isActive
        }))
    }
    ,
    UTSquadEntity.prototype.setTOTW = function(t) {
        this._isTOTW = t
    }
    ,
    UTSquadEntity.prototype.setSBC = function(t) {
        this._isSBC = t
    }
    ,
    UTSquadEntity.prototype.setSaveDelegate = function(t) {
        this._squadSaveDelegate = t
    }
    ,
    UTSquadEntity.prototype.getNumberOfLegends = function() {
        return this.getNonBrickSlots().reduce(function(t, e) {
            return e.item.isLegend() ? ++t : t
        }, 0)
    }
    ,
    UTSquadEntity.prototype.replaceConceptItem = function(e) {
        var t = JSUtils.find(this.getPlayers(), function(t) {
            return t.item.compareDream(e)
        });
        t && this._addItemToSlot(t, e)
    }
    ,
    UTSquadEntity.prototype._calculateRating = function() {
        var t = this.isSBC() ? this.getFieldPlayers() : this.getFieldAndSubPlayers()
          , e = services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SQUAD_RATING_FLOAT_CALCULATION_ENABLED)
          , r = 0
          , o = UTSquadEntity.FIELD_PLAYERS;
        if (t.forEach(function(t, e) {
            var i = t.item;
            i.isValid() && (r += i.rating,
            UTSquadEntity.FIELD_PLAYERS <= e && o++)
        }),
        e) {
            var n = r
              , a = n;
            0 < o && (n /= o),
            n = Math.min(n, 99),
            t.forEach(function(t, e) {
                var i = t.item;
                if (i.isValid()) {
                    if (i.rating <= n)
                        return;
                    a += e < UTSquadEntity.FIELD_PLAYERS ? i.rating - n : .5 * (i.rating - n)
                }
            }),
            r = Math.round(a)
        } else {
            var s = Math.min(Math.floor(r / o), 99);
            t.forEach(function(t, e) {
                var i = t.item;
                if (i.isValid()) {
                    if (i.rating <= s)
                        return;
                    r += e < UTSquadEntity.FIELD_PLAYERS ? i.rating - s : Math.floor(.5 * (i.rating - s))
                }
            })
        }
        this._rating = Math.min(Math.max(Math.floor(r / o), 0), 99)
    }
    ,
    UTSquadEntity.prototype.updateChemistry = function() {
        this.calculateChemistry()
    }
    ,
    UTSquadEntity.prototype.calculateChemistry = function() {
        if (DebugUtils.Assert(JSUtils.isValid(this._formation), "Formation not set - unable to calculate chemistry"),
        this._formation) {
            var t = this.getFieldPlayers()
              , i = this.chemCalculator.calculate(this._formation, t.map(function(t) {
                return t.item
            }), this.getManager().item);
            this.chemistryVO = i,
            this._chemistry = i.chemistry,
            t.forEach(function(t) {
                var e = i.getSlotChemistry(t.index);
                t.chemistry = e.points,
                t.potentialChemistry = e.potentialPoints,
                t.clubChemistryPoints = e.getPointsByParameter(ChemistryParamId.CLUB),
                t.leagueChemistryPoints = e.getPointsByParameter(ChemistryParamId.LEAGUE),
                t.nationChemistryPoints = e.getPointsByParameter(ChemistryParamId.NATION)
            })
        }
    }
    ,
    UTSquadEntity.prototype.isCacheExpired = function() {
        return Date.now() > this._timestamp + 3e5
    }
    ,
    UTSquadEntity.prototype.isModified = function() {
        return this._modified
    }
    ,
    UTSquadEntity.prototype.isDream = function() {
        return this._type === SquadType.CONCEPT
    }
    ,
    UTSquadEntity.prototype.isValid = function() {
        return this._valid
    }
    ,
    UTSquadEntity.prototype.isActive = function() {
        return this._isActive
    }
    ,
    UTSquadEntity.prototype.isTOTW = function() {
        return this._isTOTW
    }
    ,
    UTSquadEntity.prototype.isSBC = function() {
        return this._isSBC
    }
    ,
    UTSquadEntity.prototype.isStartingElevenComplete = function() {
        return this._slotsHaveValidPlayers(0, UTSquadEntity.FIELD_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.areSubsComplete = function() {
        return this._slotsHaveValidPlayers(UTSquadEntity.FIELD_PLAYERS, UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.areReservesComplete = function() {
        return this._slotsHaveValidPlayers(UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS, UTSquadEntity.MANAGER_SLOT_INDEX)
    }
    ,
    UTSquadEntity.prototype.isValidForTOTW = function() {
        return this._slotsHaveValidPlayers(0, UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS)
    }
    ,
    UTSquadEntity.prototype.isSquadFull = function() {
        var t = JSUtils.find(this.getNonBrickSlots(), function(t) {
            return !t.isValid()
        });
        return !JSUtils.isValid(t)
    }
    ,
    UTSquadEntity.prototype.isSquadEmpty = function() {
        var t = JSUtils.find(this._players, function(t) {
            return t.isValid()
        });
        return !JSUtils.isValid(t)
    }
    ,
    UTSquadEntity.prototype.isSquadLoaded = function() {
        if (this._manager.item instanceof UTNullItemEntity)
            return !1;
        var t = JSUtils.find(this._players, function(t) {
            return !(t.item instanceof UTNullItemEntity)
        });
        return JSUtils.isValid(t)
    }
    ,
    UTSquadEntity.prototype._slotsHaveValidPlayers = function(t, e) {
        for (var i = t; i < e; ++i)
            if (!this._getSlotByIndex(i).isValid())
                return !1;
        return !0
    }
    ,
    UTSquadEntity.prototype._isValidPlayerSlot = function(t) {
        return 0 <= t && t < UTSquadEntity.MANAGER_SLOT_INDEX
    }
    ,
    UTSquadEntity.prototype._isValidSlotIndex = function(t) {
        return 0 <= t && t <= UTSquadEntity.MANAGER_SLOT_INDEX
    }
    ,
    UTSquadEntity.prototype.containsDreamItem = function(t) {
        if (this.isDream() && 0 !== t.databaseId)
            for (var e = this._players.length, i = 0; i < e; i++) {
                var r = this._players[i];
                if (r.item.compareDream(t))
                    return r.index
            }
        return -1
    }
    ,
    UTSquadEntity.prototype.containsVariationOfCard = function(t) {
        if (0 !== t.databaseId)
            for (var e = this._players.length, i = 0; i < e; i++) {
                if (this._players[i].item.compareResourceTo(t))
                    return !0
            }
        return !1
    }
    ,
    UTSquadEntity.prototype.containsItem = function(t, e) {
        if (!t.isValid())
            return !1;
        if (t.definitionId === this._manager.item.definitionId)
            return !0;
        for (var i = this._players.length; 0 < i--; ) {
            var r = this._players[i].item
              , o = t.compareResourceTo(r, e)
              , n = t.limitedUseType === r.limitedUseType;
            if (o && (!e || n))
                return !0
        }
        return !1
    }
    ,
    UTSquadEntity.prototype.hasManager = function() {
        return this._manager.isValid()
    }
    ,
    UTSquadEntity.prototype.swapPlayersByIndex = function(t, e) {
        DebugUtils.Assert(this._isValidPlayerSlot(t), "Invalid slot index provided for first parameter."),
        DebugUtils.Assert(this._isValidPlayerSlot(e), "Invalid slot index provided for second parameter.");
        var i = this.getSlot(t)
          , r = this.getSlot(e)
          , o = i.item
          , n = r.item
          , a = i.kitNumber
          , s = r.kitNumber;
        i.item = n,
        r.item = o,
        i.kitNumber = s,
        r.kitNumber = a,
        this.updateChemistry(),
        this._calculateRating(),
        this.isSBC() && this._updateType();
        var l = this.getTacticMentalityById(this.activeTacticSlot);
        DebugUtils.Assert(JSUtils.isValid(l), "Could not find balanced tactics mentality."),
        l && (l.setInstructionsBySlotIndex(t, new UTPlayerRoleVO(i.generalPosition)),
        l.setInstructionsBySlotIndex(e, new UTPlayerRoleVO(r.generalPosition))),
        this._modified = !0,
        this.onDataUpdated.notify({
            slots: [i, r],
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        })
    }
    ,
    UTSquadEntity.prototype._addItemToSlot = function(t, e) {
        var i = t.item
          , r = t.index;
        return t.item = e,
        (r < UTSquadEntity.FIELD_PLAYERS || e.isManager()) && this.updateChemistry(),
        r < UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS && this._calculateRating(),
        this._updateType(),
        i
    }
    ,
    UTSquadEntity.prototype.addItemToSlot = function(t, e) {
        var i = null;
        if (DebugUtils.Assert(this._isValidSlotIndex(t), "Invalid squad slot index: " + t),
        this._isValidSlotIndex(t)) {
            var r = this.getSlot(t);
            i = this._addItemToSlot(r, e),
            this._modified = !0,
            this.onDataUpdated.notify({
                slots: [r],
                chemistry: this.getChemistry(),
                rating: this.getRating(),
                type: this.getType()
            })
        }
        return i
    }
    ,
    UTSquadEntity.prototype._emptySlot = function(t) {
        var e = t.item.isManager() ? new UTItemEntity({
            type: ItemType.MANAGER
        }) : new UTItemEntity;
        e.playStyle = DEFAULT_PLAYSTYLE_ID,
        t.item = e
    }
    ,
    UTSquadEntity.prototype._removeItemFromSlot = function(t) {
        this._emptySlot(t);
        var e = t.index;
        (e < UTSquadEntity.FIELD_PLAYERS || t.item.isManager()) && this.updateChemistry(),
        e < UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS && this._calculateRating(),
        this._updateType()
    }
    ,
    UTSquadEntity.prototype.removeItemFromSlot = function(t) {
        if (this._isValidSlotIndex(t)) {
            var e = this.getSlot(t);
            this._removeItemFromSlot(e),
            this._modified = !0,
            this.onDataUpdated.notify({
                slots: [e],
                chemistry: this.getChemistry(),
                rating: this.getRating(),
                type: this.getType()
            })
        }
    }
    ,
    UTSquadEntity.prototype.removeItem = function(t) {
        var e = this.getSlot(t);
        e.isValid() && (this._removeItemFromSlot(e),
        this._modified = !0,
        this.onDataUpdated.notify({
            slots: [e],
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        }))
    }
    ,
    UTSquadEntity.prototype.removePlayerById = function(t) {
        var e = this._getPlayerSlotByItemId(t);
        e.isValid() && (this._removeItemFromSlot(e),
        this._modified = !0,
        this.onDataUpdated.notify({
            slots: [e],
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        }))
    }
    ,
    UTSquadEntity.prototype.update = function(t) {
        var e = this
          , i = this.isSquadLoaded();
        this._chemistry = t.getChemistry(),
        this._rating = t.getRating(),
        this._name = t.getName(),
        this._formation = t.getFormation(),
        this._type = t.getType(),
        this._valid = t.isValid(),
        this._captain = t.getCaptain(),
        t.isSquadLoaded() && (this._manager && this._manager.onDataUpdated.unobserve(this),
        this._manager = t.getManager(),
        this._manager.onDataUpdated.observe(this, this._eSlotDataUpdated),
        0 < this._players.length && this._players.forEach(function(t) {
            return t.onDataUpdated.unobserve(e)
        }, this),
        this._players = t.getPlayers(),
        0 < this._players.length && (this.calculateChemistry(),
        this._players.forEach(function(t) {
            return t.onDataUpdated.observe(e, e._eSlotDataUpdated)
        }))),
        i && (this._modified = !0,
        this.onDataUpdated.notify({
            chemistry: this.getChemistry(),
            formation: this.getFormation(),
            name: this.getName(),
            rating: this.getRating(),
            slots: this.getPlayers().concat(this.getManager()),
            type: this.getType()
        }))
    }
    ,
    UTSquadEntity.prototype.setPlayers = function(t, e) {
        var i = this;
        void 0 === e && (e = !1);
        var r = null
          , o = [];
        t.length = UTSquadEntity.TOTAL_PLAYERS,
        e && t.forEach(function(t, e) {
            r = i.getSlot(e),
            t && t.isPlayer() && !r.isBrick() && (i._emptySlot(r),
            o.push(r))
        }, this),
        t.forEach(function(t, e) {
            r = i.getSlot(e),
            t && t.isPlayer() && !r.isBrick() && !i.containsVariationOfCard(t) && (i._addItemToSlot(r, t),
            o.includes(r) || o.push(r))
        }, this),
        0 < o.length && (this._modified = !0,
        this.onDataUpdated.notify({
            slots: o,
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        }))
    }
    ,
    UTSquadEntity.prototype.removeAllItems = function(t) {
        var e = this;
        void 0 === t && (t = !1);
        var i = [];
        this.getNonBrickSlots(!0).forEach(function(t) {
            t.isValid() && (e._removeItemFromSlot(t),
            i.push(t))
        }, this);
        var r = 0 < i.length;
        return !t && this.hasManager() && (this._removeItemFromSlot(this._manager),
        i.push(this._manager),
        r = !0),
        r && (this._modified = !0,
        this.onDataUpdated.notify({
            slots: i,
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        })),
        r
    }
    ,
    UTSquadEntity.prototype._updateType = function() {
        var t = SquadType.REGULAR
          , e = this.isSBC() ? this.getFieldPlayers() : this.getPlayers();
        JSUtils.isValid(JSUtils.find(e, function(t) {
            return t.item.concept
        })) && (t = SquadType.CONCEPT),
        this._type = t
    }
    ,
    UTSquadEntity.prototype._filterBrickIndices = function(t) {
        var e = this.getAllBrickIndices();
        return t.filter(function(t) {
            return -1 === e.indexOf(t.index)
        })
    }
    ,
    UTSquadEntity.prototype._filterSimpleBrickIndices = function(t) {
        var e = this;
        return t.filter(function(t) {
            return -1 === e.simpleBrickIndices.indexOf(t.index)
        }, this)
    }
    ,
    UTSquadEntity.prototype.getAllBrickIndices = function() {
        return this.simpleBrickIndices.concat(this.customBrickIndices).sort(function(t, e) {
            return t - e
        })
    }
    ,
    UTSquadEntity.prototype.isSBCSquadEligible = function() {
        var t = JSUtils.find(this.getNonBrickSlots(), function(t) {
            var e = t.item;
            return e.isLimitedUse() || e.concept || e.isEnrolledInAcademy()
        });
        return !JSUtils.isValid(t)
    }
    ,
    UTSquadEntity.prototype.getSBCSlots = function(t) {
        return void 0 === t && (t = !1),
        t ? this._players : this._filterSimpleBrickIndices(this._players)
    }
    ,
    UTSquadEntity.prototype.getNonBrickSlots = function(t) {
        void 0 === t && (t = !1);
        var e = t ? this._players : this.getFieldPlayers();
        return 0 === this.getAllBrickIndices().length ? e : this._filterBrickIndices(e)
    }
    ,
    UTSquadEntity.prototype.getNumOfRequiredPlayers = function() {
        return UTSquadEntity.FIELD_PLAYERS - this.getAllBrickIndices().length
    }
    ,
    UTSquadEntity.prototype.setTacticMentality = function(t) {
        var e = t.getSquadId() === this.getId();
        if (DebugUtils.Assert(e, "Attempted to assign an invalid tactic mentality to the squad."),
        e) {
            var i = this._mentalities.get(t.getId());
            i && i.onDataUpdated.unobserve(this),
            this._mentalities.set(t.getId(), t),
            t.onDataUpdated.observe(this, this._eMentalityDataUpdated)
        }
    }
    ,
    UTSquadEntity.prototype.deleteTacticProfile = function(t) {
        var e = this._mentalities.get(t);
        e && (e.onDataUpdated.unobserve(this),
        this._modified = !0,
        this._mentalities.remove(t))
    }
    ,
    UTSquadEntity.prototype.getTacticMentalities = function() {
        return this._mentalities.values()
    }
    ,
    UTSquadEntity.prototype.getCustomizedTacticSlots = function() {
        return this.getTacticMentalities().filter(function(t) {
            return t.isCustomized()
        })
    }
    ,
    UTSquadEntity.prototype.getTacticMentalityById = function(t) {
        return this._mentalities.get(t)
    }
    ,
    UTSquadEntity.prototype.getActiveTactic = function() {
        return this._mentalities.get(this.activeTacticSlot)
    }
    ,
    UTSquadEntity.prototype.getRoleBySlotIndex = function(t, e) {
        var i, r = this.getActiveTactic();
        return (null === (i = null == r ? void 0 : r.getRoleBySlotIndex(t, e)) || void 0 === i ? void 0 : i.type) || null
    }
    ,
    UTSquadEntity.prototype.getTacticSlotsByMentalityId = function(t) {
        var r = this
          , e = this._mentalities.get(t);
        if (DebugUtils.Assert(JSUtils.isValid(e), "Could not find a mentality for ID: " + t),
        e) {
            var o = e.getFormation();
            if (DebugUtils.Assert(JSUtils.isValid(o), "Could not find a formation for ID: " + t),
            o)
                return e.getPositions().map(function(t, e) {
                    var i = new UTSquadSlotEntity(e,o.getPosition(e));
                    return i.item = r._players[t].item,
                    i
                }, this)
        }
        return []
    }
    ,
    UTSquadEntity.prototype.hasModifiedTactics = function() {
        return 0 < this.getTacticMentalities().filter(function(t) {
            return t.isModified()
        }).length
    }
    ,
    UTSquadEntity.prototype.hasCustomizedTactics = function() {
        return 0 < this.getCustomizedTacticSlots().length
    }
    ,
    UTSquadEntity.prototype.hasEmptyTacticSlots = function() {
        return this.getTacticMentalities().some(function(t) {
            return !t.isCustomized()
        })
    }
    ,
    UTSquadEntity.prototype.getFirstEmptyTacticSlot = function() {
        var t;
        return null !== (t = this.getTacticMentalities().find(function(t) {
            return !t.isCustomized()
        })) && void 0 !== t ? t : null
    }
    ,
    UTSquadEntity.prototype._eMentalityDataUpdated = function(t, e, i) {
        var r, o = this, n = {};
        if (n.tactics = {
            mentality: e
        },
        i.buildUpPlayStyle && (n.tactics.buildUpPlayStyle = i.buildUpPlayStyle),
        i.defensiveStyle && (n.tactics.defensiveStyle = i.defensiveStyle),
        i.defensiveLineHeight && (n.tactics.defensiveLineHeight = i.defensiveLineHeight),
        i.instructions && (n.tactics.instructions = i.instructions),
        i.formation && (n.tactics.formation = i.formation),
        i.name && (n.tactics.name = i.name),
        JSUtils.isNumber(i.state) && (n.tactics.state = i.state,
        i.state === TacticState.ACTIVE && (this.activeTacticSlot = e.id)),
        i.positions && (n.tactics.positions = i.positions),
        e.id === this.activeTacticSlot) {
            var a = e.getFormation();
            a && this._formation && this._formation.id !== a.id && (this._modified = !0,
            this._formation = a,
            this._players.forEach(function(t) {
                var e, i = null === (e = o._formation) || void 0 === e ? void 0 : e.getPosition(t.index);
                i && t.setPosition(i)
            }, this),
            null === (r = i.instructions) || void 0 === r || r.forEach(function(t, e) {
                o.getSlot(e).playerRole = t.type
            }),
            this.updateChemistry(),
            n.formation = this._formation),
            i.positionIds && this.swapPlayersByIndex(i.positionIds[0], i.positionIds[1])
        }
        this.onDataUpdated.notify(n)
    }
    ,
    UTSquadEntity.prototype._eSlotDataUpdated = function(t, e, i) {
        var r = e.index;
        (r < UTSquadEntity.FIELD_PLAYERS || r === UTSquadEntity.MANAGER_SLOT_INDEX) && this.updateChemistry(),
        r < UTSquadEntity.FIELD_PLAYERS + UTSquadEntity.SUB_PLAYERS && this._calculateRating(),
        this._updateType(),
        this._modified = !0,
        this.onDataUpdated.notify({
            slots: [e],
            chemistry: this.getChemistry(),
            rating: this.getRating(),
            type: this.getType()
        })
    }
    ,
    UTSquadEntity.TOTAL_PLAYERS_AND_MANAGER = 24,
    UTSquadEntity.TOTAL_PLAYERS = 23,
    UTSquadEntity.FIELD_PLAYERS = 11,
    UTSquadEntity.TOTAL_MAX_CHEM = 33,
    UTSquadEntity.SUB_PLAYERS = 7,
    UTSquadEntity.RESERVE_PLAYERS = 5,
    UTSquadEntity.MANAGER_SLOT_INDEX = 23,
    UTSquadEntity.NATION_BONUS = 1,
    UTSquadEntity.LEAGUE_BONUS = 1,
    UTSquadEntity.CLUB_BONUS = 1,
    UTSquadEntity
}(EAObject))
  , UTSquadTacticsEntity = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(c) {
    function UTSquadTacticsEntity(t) {
        var e, i, r, o, n, a, s, l = c.call(this) || this;
        return l.id = t.id,
        l.name = t.name,
        l.onDataUpdated = new EAObservable,
        l.buildUpPlayStyle = null !== (e = t.buildUpPlayStyle) && void 0 !== e ? e : SquadTacticOffensiveStyle.BALANCED,
        l.customized = null !== (i = t.customized) && void 0 !== i && i,
        l.defensiveLineHeight = null !== (r = t.defensiveLineHeight) && void 0 !== r ? r : DefensiveLineHeightBreakpoint.BALANCED_DEFAULT,
        l.defensiveStyle = null !== (o = t.defensiveStyle) && void 0 !== o ? o : SquadTacticDefensiveStyle.BALANCED,
        l.formation = null !== (n = t.formation) && void 0 !== n ? n : null,
        l.instructions = new EAHashTable,
        l.modified = null !== (a = t.modified) && void 0 !== a && a,
        l._positions = t.positions ? t.positions : [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10],
        l._squadId = t.squadId,
        l.state = t.state,
        l.name = null !== (s = t.name) && void 0 !== s ? s : "",
        t.instructions && t.instructions.forEach(function(t, e) {
            return l.instructions.set(l._positions[e], t)
        }),
        l
    }
    return __extends(UTSquadTacticsEntity, c),
    UTSquadTacticsEntity.prototype.getId = function() {
        return this.id
    }
    ,
    UTSquadTacticsEntity.prototype.getSquadId = function() {
        return this._squadId
    }
    ,
    UTSquadTacticsEntity.prototype.getFormation = function() {
        return this.formation
    }
    ,
    UTSquadTacticsEntity.prototype.setFormation = function(t) {
        this.formation && this.formation.getId() === t.getId() || (this.formation = t,
        this._resetInstructions(),
        this._resetPositions(),
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            formation: this.formation,
            instructions: this.instructions.values(),
            positions: this._positions
        }))
    }
    ,
    UTSquadTacticsEntity.prototype.setDefaultFormation = function(t) {
        this.isCustomized() || this.isModified() || (this.formation = t)
    }
    ,
    UTSquadTacticsEntity.prototype.setCustomName = function(t) {
        this.name = t,
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            name: this.name
        })
    }
    ,
    UTSquadTacticsEntity.prototype.setState = function(t) {
        this.state = t,
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            state: this.state,
            instructions: this.instructions.values()
        })
    }
    ,
    UTSquadTacticsEntity.prototype.getState = function() {
        return this.state
    }
    ,
    UTSquadTacticsEntity.prototype.getPositions = function() {
        return this._positions.slice()
    }
    ,
    UTSquadTacticsEntity.prototype.swapPositionsByIndex = function(t, e) {
        var i = JSUtils.isNumber(t) && 0 <= t && t <= 10
          , r = JSUtils.isNumber(e) && 0 <= e && e <= 10;
        if (DebugUtils.Assert(i && r, "Expected a numeric index representing a slot position."),
        i && r) {
            var o = this._positions[t]
              , n = this._positions[e];
            this._positions[t] = n,
            this._positions[e] = o,
            this.modified = !0,
            this.onDataUpdated.notify(this, {
                positions: this._positions,
                positionIds: [t, e]
            })
        }
    }
    ,
    UTSquadTacticsEntity.prototype._resetPositions = function() {
        this._positions = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    }
    ,
    UTSquadTacticsEntity.prototype.getBuildUpPlayStyle = function() {
        return this.buildUpPlayStyle
    }
    ,
    UTSquadTacticsEntity.prototype.setBuildUpPlayStyle = function(t) {
        t !== this.buildUpPlayStyle && (this.buildUpPlayStyle = t,
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            buildUpPlayStyle: this.buildUpPlayStyle
        }))
    }
    ,
    UTSquadTacticsEntity.prototype.setDefensiveStyle = function(t) {
        JSUtils.isNumber(t) && t !== this.defensiveStyle && t >= SquadTacticDefensiveStyle.DEEP && t <= SquadTacticDefensiveStyle.AGGRESSIVE && (this.defensiveStyle = t,
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            defensiveStyle: this.defensiveStyle
        }))
    }
    ,
    UTSquadTacticsEntity.prototype.getDefensiveStyle = function() {
        return this.defensiveStyle
    }
    ,
    UTSquadTacticsEntity.prototype.setDefensiveLineHeight = function(t) {
        if (JSUtils.isNumber(t)) {
            var e = Math.min(Math.max(Math.round(t), UTSquadTacticsEntity.MIN_DEFENSIVE_LINE_HEIGHT), UTSquadTacticsEntity.MAX_DEFENSIVE_LINE_HEIGHT);
            this.defensiveLineHeight !== e && (this.defensiveLineHeight = e,
            this.modified = !0,
            this.onDataUpdated.notify(this, {
                defensiveLineHeight: this.defensiveLineHeight
            }))
        }
    }
    ,
    UTSquadTacticsEntity.prototype.getDefensiveLineHeight = function() {
        return this.defensiveLineHeight
    }
    ,
    UTSquadTacticsEntity.prototype.setInstructionsBySlotIndex = function(t, e) {
        var i = this.instructions.get(t)
          , r = !1;
        i || (i = new UTPlayerRoleVO(e.position),
        this.instructions.set(t, e),
        r = !0),
        (r = r || !i.equals(e)) && (this.instructions.set(t, e),
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            instructions: [i]
        }))
    }
    ,
    UTSquadTacticsEntity.prototype.getRoleBySlotIndex = function(t, e) {
        var i = this.instructions.get(t);
        if (i)
            return i;
        DebugUtils.Assert(!1, "Cannot find player instructions for position ID: " + t + ". Creating a temporary VO for the general position.");
        var r = new UTPlayerRoleVO(e);
        return this.instructions.set(t, r),
        r
    }
    ,
    UTSquadTacticsEntity.prototype.getRoleByPosition = function(e) {
        return this.instructions.find(function(t) {
            return t.position === e
        })
    }
    ,
    UTSquadTacticsEntity.prototype.getInstructions = function() {
        return Array.from(this.instructions.values()).sort(function(t, e) {
            return t.position - e.position
        })
    }
    ,
    UTSquadTacticsEntity.prototype.setModified = function(t) {
        this.modified = t
    }
    ,
    UTSquadTacticsEntity.prototype.setCustomized = function(t) {
        this.customized = t,
        this.onDataUpdated.notify(this, {
            customized: this.customized
        })
    }
    ,
    UTSquadTacticsEntity.prototype.isModified = function() {
        return this.modified
    }
    ,
    UTSquadTacticsEntity.prototype.isCustomized = function() {
        return this.customized
    }
    ,
    UTSquadTacticsEntity.getOffensiveStyleFromDBOffensiveStyle = function(t) {
        var e, i = ((e = {})[DBSquadTacticOffensiveStyle.NONE] = SquadTacticOffensiveStyle.BALANCED,
        e[DBSquadTacticOffensiveStyle.BALANCED] = SquadTacticOffensiveStyle.BALANCED,
        e[DBSquadTacticOffensiveStyle.CLOSE_SUPPORT] = SquadTacticOffensiveStyle.CLOSE_SUPPORT,
        e[DBSquadTacticOffensiveStyle.COUNTER] = SquadTacticOffensiveStyle.COUNTER,
        e)[t];
        return void 0 === i ? (DebugUtils.Assert(!1, "Invalid offensive style value provided: " + t),
        SquadTacticOffensiveStyle.BALANCED) : i
    }
    ,
    UTSquadTacticsEntity.getDefensiveStyleFromLineHeight = function(t) {
        return t >= DefensiveLineHeightBreakpoint.DEEP_START && t <= DefensiveLineHeightBreakpoint.DEEP_END ? SquadTacticDefensiveStyle.DEEP : t >= DefensiveLineHeightBreakpoint.BALANCED_START && t <= DefensiveLineHeightBreakpoint.BALANCED_END ? SquadTacticDefensiveStyle.BALANCED : t >= DefensiveLineHeightBreakpoint.HIGH_START && t <= DefensiveLineHeightBreakpoint.HIGH_END ? SquadTacticDefensiveStyle.HIGH : SquadTacticDefensiveStyle.AGGRESSIVE
    }
    ,
    UTSquadTacticsEntity.getLineHeightFromDefensiveStyle = function(t) {
        switch (t) {
        case SquadTacticDefensiveStyle.DEEP:
            return DefensiveLineHeightBreakpoint.DEEP_DEFAULT;
        case SquadTacticDefensiveStyle.BALANCED:
            return DefensiveLineHeightBreakpoint.BALANCED_DEFAULT;
        case SquadTacticDefensiveStyle.HIGH:
            return DefensiveLineHeightBreakpoint.HIGH_DEFAULT;
        case SquadTacticDefensiveStyle.AGGRESSIVE:
            return DefensiveLineHeightBreakpoint.AGGRESSIVE_DEFAULT
        }
    }
    ,
    UTSquadTacticsEntity.prototype.toUtasObject = function() {
        var t, e, i, r, o = this;
        DebugUtils.Assert(this.getId() >= TacticsProfileSlot.TACTICS_SLOT_1 && this.getId() <= TacticsProfileSlot.TACTICS_SLOT_5, "Invalid mentality ID. Expected a TacticsProfileSlot value.");
        var n = [];
        return (null !== (e = null === (t = this.formation) || void 0 === t ? void 0 : t.positions) && void 0 !== e ? e : []).forEach(function(t, e) {
            var i = o.instructions.get(e);
            DebugUtils.Assert(JSUtils.isValid(i), "Unable to find player instructions for formation position: " + e),
            i && n.push({
                index: e,
                value: i.toBitwiseInteger()
            })
        }, this),
        {
            squadId: this.getSquadId(),
            tacticName: this.name,
            state: this.state,
            tactic: this.getId(),
            formation: null !== (r = null === (i = this.formation) || void 0 === i ? void 0 : i.name) && void 0 !== r ? r : "",
            positions: this._positions.map(function(t, e) {
                return {
                    index: e,
                    value: t
                }
            }),
            instructions: n,
            styles: [{
                index: SquadMentalityStyle.BUILD_UP_PLAY,
                value: this.buildUpPlayStyle
            }, {
                index: SquadMentalityStyle.DEFENSIVE_LINE_HEIGHT,
                value: this.defensiveLineHeight
            }]
        }
    }
    ,
    UTSquadTacticsEntity.prototype._resetInstructions = function() {
        var i = this;
        this.instructions.clear(),
        this.formation && this.formation.positions.forEach(function(t, e) {
            return i.instructions.set(e, new UTPlayerRoleVO(t.typeId))
        })
    }
    ,
    UTSquadTacticsEntity.prototype.resetInstructions = function() {
        this._resetInstructions(),
        this.modified = !0,
        this.onDataUpdated.notify(this, {
            instructions: this.instructions.values()
        })
    }
    ,
    UTSquadTacticsEntity.prototype.copyFrom = function(t) {
        this._positions = t._positions,
        this.customized = t.customized,
        this.defensiveLineHeight = t.defensiveLineHeight,
        this.defensiveStyle = t.defensiveStyle,
        this.buildUpPlayStyle = t.buildUpPlayStyle,
        this.formation = t.formation,
        this.instructions = t.instructions,
        this.modified = !0,
        this.name = t.name,
        this.state = TacticState.INACTIVE
    }
    ,
    UTSquadTacticsEntity.clone = function(t) {
        return new UTSquadTacticsEntity({
            id: t.id,
            name: t.name,
            buildUpPlayStyle: t.buildUpPlayStyle,
            customized: t.customized,
            defensiveLineHeight: t.defensiveLineHeight,
            defensiveStyle: t.defensiveStyle,
            formation: t.formation,
            instructions: t.instructions.values(),
            modified: t.modified,
            positions: t._positions,
            squadId: t.getSquadId(),
            state: t.state
        })
    }
    ,
    UTSquadTacticsEntity.getCharCode = function(t, e, i) {
        var r = "";
        DebugUtils.Assert(0 <= t && t < 64, "tactics.getCharCode invalid number"),
        DebugUtils.Assert(JSUtils.isNumber(UTSquadTacticsEntity.shareCodeTable.sCharacterOffset[e]), "tactics.getCharCode invalid index"),
        t = (t + UTSquadTacticsEntity.shareCodeTable.sCharacterOffset[e] + i) % 64;
        var o = this.getCharValue("0")
          , n = this.getCharValue("?")
          , a = this.getCharValue("a");
        return "0" === (r = t < 10 ? String.fromCharCode(o + t) : t < 38 ? String.fromCharCode(n + t - 10) : String.fromCharCode(a + t - 38)) ? r = "&" : "O" === r ? r = "%" : "I" === r ? r = "#" : "l" === r && (r = "$"),
        r
    }
    ,
    UTSquadTacticsEntity.getCharValue = function(t) {
        return t.charCodeAt(0)
    }
    ,
    UTSquadTacticsEntity.getNumberFromCode = function(t, e, i) {
        var r = 0;
        "&" === t ? t = "0" : "%" === t ? t = "O" : "#" === t ? t = "I" : "$" === t && (t = "l");
        var o = this.getCharValue(t)
          , n = this.getCharValue("0")
          , a = this.getCharValue("9")
          , s = this.getCharValue("?")
          , l = this.getCharValue("Z")
          , c = this.getCharValue("a")
          , u = this.getCharValue("z");
        return o < n ? DebugUtils.Assert(!1, "invalid code " + t) : o <= a ? r = o - n : o < s ? DebugUtils.Assert(!1, "invalid code " + t) : o <= l ? r = o - s + 10 : o < c ? DebugUtils.Assert(!1, "invalid code " + t) : o <= u ? r = o - c + 38 : DebugUtils.Assert(!1, "invalid code " + t),
        r = ((r = (r - UTSquadTacticsEntity.shareCodeTable.sCharacterOffset[e] - i) % 64) + 64) % 64
    }
    ,
    UTSquadTacticsEntity.prototype.getCode = function() {
        var t = this.formation;
        if (!t)
            return DebugUtils.Assert(!1, "Tactics is unable to generate code without a formation"),
            "";
        var e = UTSquadTacticsEntity.shareCodeTable
          , i = ""
          , r = BigInt(0)
          , o = 0;
        r |= BigInt(this.buildUpPlayStyle & e.buildUpStyleMask),
        r <<= e.defensiveApproachTypeBitLength,
        r |= BigInt(this.defensiveStyle & e.defensiveApproachTypeMask),
        o = Number(t.id + this.buildUpPlayStyle + 1 + this.defensiveStyle + 2);
        for (var n = 0; n < UTSquadEntity.FIELD_PLAYERS; n++) {
            var a = this.instructions.get(n);
            a = a || new UTPlayerRoleVO(t.generalPositions[n]),
            r <<= e.roleTypeBitLength;
            var s = UTPlayerRoleVO.getTacticsRoleIndex(a.positionGroup, a.type, a.variation)
              , l = s - UTPlayerRoleVO.getTacticsRoleIndexWithinPositionGroup(a.positionGroup);
            if (s < 0)
                return DebugUtils.Assert(!1, "Unmapped player role vo properties"),
                "";
            o += s,
            o += n + 3,
            r |= BigInt(l & e.roleTypeMask)
        }
        r <<= e.formationIDBitLength,
        r |= BigInt(t.id & e.formationIDMask),
        r <<= e.verificationCodeBitLength;
        var c = o & e.verificationCodeMask;
        r |= BigInt(c);
        for (n = 0; n < UTSquadTacticsEntity.SHARE_CODE_LENGTH; n++) {
            var u = r & BigInt(e.charCodeMask)
              , p = n >= e.verificationCodeCharLength ? c : 0;
            i += UTSquadTacticsEntity.getCharCode(Number(u), n, Number(p)),
            r >>= e.charCodeBitLength
        }
        return i.split("")[UTSquadEntity.FIELD_PLAYERS] = "\0",
        i
    }
    ,
    UTSquadTacticsEntity.decodeCode = function(t) {
        var e = {
            formation: null,
            buildup: -1,
            defensive: -1,
            instructions: []
        };
        if (t.length !== UTSquadTacticsEntity.SHARE_CODE_LENGTH)
            return null;
        for (var i = BigInt(0), r = UTSquadTacticsEntity.shareCodeTable, o = BigInt(0), n = r.verificationCodeCharLength - 1; 0 <= n; --n) {
            var a = this.getNumberFromCode(t[n], n, 0);
            o |= BigInt(a & r.charCodeMask),
            0 < n && (o <<= r.charCodeBitLength)
        }
        var s = Number(o) & r.verificationCodeMask;
        for (n = UTSquadTacticsEntity.SHARE_CODE_LENGTH - 1; 0 <= n; n--) {
            var l = n >= r.verificationCodeCharLength ? s : 0;
            a = this.getNumberFromCode(t[n], n, l);
            i |= BigInt(a & r.charCodeMask),
            0 < n && (i <<= BigInt(r.charCodeBitLength))
        }
        i >>= r.verificationCodeBitLength;
        var c = BigInt.asUintN(32, i) & BigInt(r.formationIDMask);
        i >>= r.formationIDBitLength;
        var u = 0
          , p = repositories.Squad.getFormationById(Number(c));
        if (!p)
            return DebugUtils.Assert(!1, "No formation found for ID " + c),
            null;
        var d = null == (e.formation = p) ? void 0 : p.generalPositions;
        for (n = 0; n < UTSquadEntity.FIELD_PLAYERS; ++n) {
            var h = UTSquadEntity.FIELD_PLAYERS - n - 1
              , y = d[h]
              , _ = new UTPlayerRoleVO(y)
              , m = UTPlayerRoleVO.getTacticsRoleGroupStartingIndex(_.positionGroup)
              , T = BigInt.asUintN(32, i)
              , f = BigInt.asUintN(32, T & BigInt(r.roleTypeMask))
              , g = Number(f) + m
              , E = UTPlayerRoleVO.roleCombinations[g];
            if (!E)
                return DebugUtils.Assert(!1, "Role Index not found"),
                null;
            _.setRoleVariation(E.type, E.variation),
            e.instructions[h] = _,
            i >>= BigInt(r.roleTypeBitLength),
            u += g,
            u += 3 + h
        }
        var S = Number(i) >>> 0 & r.defensiveApproachTypeMask;
        i >>= r.defensiveApproachTypeBitLength,
        u += 2 + S;
        var v = Number(i) >>> 0 & r.buildUpStyleMask;
        i >>= r.buildUpStyleBitLength,
        u += 1 + v,
        u += Number(c);
        var b = (u &= r.verificationCodeMask) === s && e.instructions.length === UTSquadEntity.FIELD_PLAYERS && v >= SquadTacticOffensiveStyle.BALANCED && v <= SquadTacticOffensiveStyle.CLOSE_SUPPORT && S >= SquadTacticDefensiveStyle.DEEP && S <= SquadTacticDefensiveStyle.AGGRESSIVE;
        return e.buildup = v,
        e.defensive = S,
        b ? (e.buildup = v,
        e.defensive = S,
        e) : (DebugUtils.Assert(!1, "Code share failed. Invalid verification code."),
        null)
    }
    ,
    UTSquadTacticsEntity.SHARE_CODE_LENGTH = 11,
    UTSquadTacticsEntity.shareCodeTable = {
        formationIDBitLength: BigInt(10),
        formationIDMask: 1023,
        buildUpStyleBitLength: BigInt(2),
        buildUpStyleMask: 3,
        defensiveApproachTypeBitLength: BigInt(2),
        defensiveApproachTypeMask: 3,
        roleTypeBitLength: BigInt(4),
        roleTypeMask: 15,
        charCodeBitLength: BigInt(6),
        charCodeMask: 63,
        verificationCodeBitLength: BigInt(8),
        verificationCodeMask: 255,
        rawCodeBitSize: BigInt(63),
        verificationCodeCharLength: 2,
        sCharacterOffset: [7, 2, 31, 5, 29, 11, 23, 13, 17, 3, 19]
    },
    UTSquadTacticsEntity.MIN_DEFENSIVE_LINE_HEIGHT = 1,
    UTSquadTacticsEntity.MAX_DEFENSIVE_LINE_HEIGHT = 100,
    UTSquadTacticsEntity
}(EAObject))
  , UTSquadTacticsEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTSquadTacticsEntityFactory() {
        return t.call(this) || this
    }
    return __extends(UTSquadTacticsEntityFactory, t),
    UTSquadTacticsEntityFactory.prototype.createDefaultMentality = function(t, e, i) {
        void 0 === i && (i = !1);
        var r = e.getFormation();
        DebugUtils.Assert(JSUtils.isValid(r), "No squad formation found when creating default mentality.");
        var o = {
            formation: r,
            id: t,
            instructions: [],
            name: services.Localization.localize("tactics.label.defaultTactic"),
            squadId: e.getId(),
            state: i ? TacticState.ACTIVE : TacticState.INACTIVE
        };
        return o.buildUpPlayStyle = SquadTacticOffensiveStyle.BALANCED,
        o.defensiveStyle = SquadTacticDefensiveStyle.BALANCED,
        o.defensiveLineHeight = 30,
        r && (o.instructions = r.positions.map(function(t) {
            return new UTPlayerRoleVO(t.id)
        })),
        new UTSquadTacticsEntity(o)
    }
    ,
    UTSquadTacticsEntityFactory.prototype.createMentality = function(t, e) {
        DebugUtils.Assert(t.squadId === e.getId(), "Associating squad/mentality with mismatched squad IDs.");
        var i = JSUtils.isNumber(TacticsProfileSlot[t.tactic]) ? TacticsProfileSlot[t.tactic] : TacticsProfileSlot.TACTICS_SLOT_1
          , o = {
            customized: !0,
            formation: repositories.Squad.getFormation(t.formation),
            id: i,
            instructions: [],
            squadId: t.squadId,
            state: UTSquadTacticsEntityFactory.getTacticStateFromUtasState(t.state),
            name: t.tacticName
        };
        i !== TacticsProfileSlot.TACTICS_SLOT_1 && (o.positions = []),
        t.styles.forEach(function(t) {
            switch (t.index) {
            case SquadMentalityStyle.BUILD_UP_PLAY:
                o.buildUpPlayStyle = t.value;
                break;
            case SquadMentalityStyle.DEFENSIVE_LINE_HEIGHT:
                o.defensiveStyle = UTSquadTacticsEntity.getDefensiveStyleFromLineHeight(t.value),
                o.defensiveLineHeight = t.value
            }
        });
        var n = [];
        return t.instructions.forEach(function(t, e) {
            n[e] || (n[e] = 0),
            n[e] = t.value
        }),
        o.formation && o.formation.positions.forEach(function(t, e) {
            var i = t.typeId
              , r = new UTPlayerRoleVO(i);
            r.parseBitwiseInteger(n[e]),
            o.instructions.push(r)
        }),
        o.positions && t.positions.forEach(function(t) {
            o.positions[t.index] = t.value
        }),
        new UTSquadTacticsEntity(o)
    }
    ,
    UTSquadTacticsEntityFactory.getTacticStateFromUtasState = function(t) {
        switch (t) {
        case "ACTIVE":
            return TacticState.ACTIVE;
        case "DELETED":
            return TacticState.DELETED;
        default:
            return TacticState.INACTIVE
        }
    }
    ,
    UTSquadTacticsEntityFactory
}(EAObject))
  , UTSquadEntityFactory = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(o) {
    function UTSquadEntityFactory(t, e, i) {
        var r = o.call(this) || this;
        return r.mentalityFactory = new UTSquadTacticsEntityFactory,
        r.teamConfigRepo = i,
        r.chemService = e,
        r.squadDAO = t,
        r
    }
    return __extends(UTSquadEntityFactory, o),
    UTSquadEntityFactory.prototype.generateSquadConstructorOptions = function(t) {
        var e = {
            captain: t.captain,
            chemistry: t.chemistry,
            formation: repositories.Squad.getFormation(t.formation),
            id: t.id,
            name: t.squadName || t.clubName,
            owner: t.personaId,
            players: [],
            rating: JSUtils.isNumber(t.starRating) ? t.starRating : t.rating,
            valid: t.valid
        };
        JSUtils.isEmpty(t.squadType) || (e.type = t.squadType);
        var o = []
          , n = [];
        if (t.tactics) {
            var i = t.tactics.find(function(t) {
                return "ACTIVE" === t.state
            });
            null == i || i.instructions.forEach(function(t, e) {
                o[e] = t.value
            }),
            e.formation && e.formation.positions.forEach(function(t, e) {
                var i = t.typeId
                  , r = new UTPlayerRoleVO(i);
                r.parseBitwiseInteger(o[e]),
                n.push(r)
            })
        }
        for (var r = 0; r <= UTSquadEntity.MANAGER_SLOT_INDEX; r++) {
            var a = new UTSquadSlotEntity(r,e.formation ? e.formation.getPosition(r) : null)
              , s = 0
              , l = null;
            if (n[r] && (a.playerRole = n[r].type || null),
            r === UTSquadEntity.MANAGER_SLOT_INDEX && t.manager)
                l = factories.Item.createItem(Array.isArray(t.manager) ? t.manager[0] : t.manager);
            else if (t.players[r]) {
                var c = t.players[r];
                l = factories.Item.createItem(c.itemData),
                s = c.kitNumber || 0
            } else
                l = factories.Item.createItem();
            a.setItem(l),
            a.setKitNumber(s),
            r === UTSquadEntity.MANAGER_SLOT_INDEX ? (l.type = ItemType.MANAGER,
            e.manager = a) : (l.type = ItemType.PLAYER,
            e.players.push(a))
        }
        return e
    }
    ,
    UTSquadEntityFactory.prototype.generateSBCSquadConstructorOptions = function(t, e, i) {
        for (var r = {
            id: t.id,
            formation: repositories.Squad.getFormation(t.formation),
            chemistry: t.chemistry,
            rating: t.rating,
            players: [],
            simpleBrickIndices: [],
            customBrickIndices: []
        }, o = 0; o < UTSquadEntity.MANAGER_SLOT_INDEX; o++) {
            var n = new UTSquadSlotEntity(o,r.formation ? r.formation.getPosition(o) : null)
              , a = o < UTSquadEntity.FIELD_PLAYERS
              , s = !1
              , l = null;
            if (Array.isArray(i) && a) {
                var c = i[o];
                r.simpleBrickIndices && c.playerType === SBCPlayerRequirementType.BRICK ? r.simpleBrickIndices.push(c.index) : r.customBrickIndices && c.playerType === SBCPlayerRequirementType.CUSTOM_BRICK && (r.customBrickIndices.push(c.index),
                s = !0),
                n.setRequirement(new UTSBCPlayerRequirementDTO(c,s ? e.createRequirements(c.elgReq) : []))
            }
            (l = s && t.players[o] ? factories.Item.createCustomBrickItem(t.players[o].itemData) : t.players[o] ? factories.Item.createItem(t.players[o].itemData) : factories.Item.createItem()).type = ItemType.PLAYER,
            n.setItem(l),
            r.players.push(n)
        }
        return r
    }
    ,
    UTSquadEntityFactory.prototype.generateTOTWSquadConstructorOptions = function(t) {
        for (var e = {
            id: t.id,
            formation: repositories.Squad.getFormation(t.formation),
            name: t.name,
            rating: t.rating,
            players: [],
            simpleBrickIndices: [],
            customBrickIndices: []
        }, i = 0; i < UTSquadEntity.MANAGER_SLOT_INDEX; i++) {
            var r = new UTSquadSlotEntity(i,e.formation ? e.formation.getPosition(i) : null)
              , o = new UTItemEntity;
            o.type = ItemType.PLAYER,
            r.setItem(o),
            e.players.push(r)
        }
        return e
    }
    ,
    UTSquadEntityFactory.prototype.createSquad = function(t) {
        var e = this
          , r = new UTSquadEntity(this.generateSquadConstructorOptions(t),this.squadDAO,new UTSquadChemCalculatorUtils(this.chemService,this.teamConfigRepo));
        if (t.tactics)
            t.tactics.forEach(function(t) {
                r.setTacticMentality(e.mentalityFactory.createMentality(t, r))
            }, this);
        else {
            var i = this.mentalityFactory.createDefaultMentality(TacticsProfileSlot.TACTICS_SLOT_1, r, !0);
            i.setModified(!1),
            i.setCustomized(!0),
            i.getInstructions().forEach(function(t, e) {
                var i = r.getSlot(e);
                i && (i.playerRole = t.type)
            }),
            r.setTacticMentality(i)
        }
        return [TacticsProfileSlot.TACTICS_SLOT_1, TacticsProfileSlot.TACTICS_SLOT_2, TacticsProfileSlot.TACTICS_SLOT_3, TacticsProfileSlot.TACTICS_SLOT_4, TacticsProfileSlot.TACTICS_SLOT_5].forEach(function(t) {
            r.getTacticMentalityById(t) || r.setTacticMentality(e.mentalityFactory.createDefaultMentality(t, r))
        }),
        r.getTacticMentalities().forEach(function(t) {
            t.getState() === TacticState.ACTIVE && (r.activeTacticSlot = t.getId())
        }),
        r
    }
    ,
    UTSquadEntityFactory.prototype.createTacticPreset = function(t, e) {
        var o = repositories.Squad.getFormation(e.formation)
          , i = null == o ? void 0 : o.id;
        if (!o || !i)
            return DebugUtils.Assert(!1, "Unrecognised formation sent by manager"),
            null;
        var r = e.styles[SquadMentalityStyle.DEFENSIVE_STYLE].value
          , n = UTSquadTacticsEntity.getOffensiveStyleFromDBOffensiveStyle(e.styles[SquadMentalityStyle.BUILD_UP_PLAY].value)
          , a = {
            id: t,
            name: e.name,
            formations: [{
                id: i,
                roles: []
            }],
            offStyle: {
                id: n,
                value: 0
            },
            defStyle: {
                id: SquadTacticDefensiveStyle.AGGRESSIVE,
                value: r
            }
        };
        return a.defStyle.id = UTSquadTacticsEntity.getDefensiveStyleFromLineHeight(r),
        e.instructions.forEach(function(t) {
            var e, i = null === (e = o.positions[t.index]) || void 0 === e ? void 0 : e.typeId;
            if (JSUtils.isNumber(i)) {
                var r = new UTPlayerRoleVO(i);
                r.parseBitwiseInteger(t.value),
                a.formations[0].roles.push(r)
            }
        }),
        new UTTacticsProfileVO(a)
    }
    ,
    UTSquadEntityFactory.prototype.createSBCSquad = function(t, e, i) {
        var r = new UTSquadEntity(this.generateSBCSquadConstructorOptions(t, e, i),this.squadDAO,new UTSquadChemCalculatorUtils(this.chemService,this.teamConfigRepo));
        return r.setSBC(!0),
        r
    }
    ,
    UTSquadEntityFactory.prototype.createTOTWPartial = function(t) {
        var e = new UTSquadEntity(this.generateTOTWSquadConstructorOptions(t),this.squadDAO,new UTSquadChemCalculatorUtils(this.chemService,this.teamConfigRepo));
        return e.setTOTW(!0),
        e
    }
    ,
    UTSquadEntityFactory.prototype.createTOTWSquad = function(t) {
        var e = new UTSquadEntity(this.generateSquadConstructorOptions(t),this.squadDAO,new UTSquadChemCalculatorUtils(this.chemService,this.teamConfigRepo));
        return e.setTOTW(!0),
        e
    }
    ,
    UTSquadEntityFactory
}(EAObject))
  , UTClubRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTClubRepository() {
        var t = e.call(this) || this;
        return t.activeItemIds = new EAHashTable,
        t.bonusCacheTimestamp = 0,
        t.clubStats = new EAHashTable,
        t.consumables = new UTItemRepository,
        t.items = new UTItemRepository,
        t.statsCacheTimestamp = 0,
        t
    }
    return __extends(UTClubRepository, e),
    UTClubRepository.prototype.reset = function() {
        this.activeItemIds.clear(),
        this.bonusCacheTimestamp = 0,
        this.clubStats.clear(),
        this.consumables.reset(),
        this.items.reset(),
        this.statsCacheTimestamp = 0
    }
    ,
    UTClubRepository.prototype.resetStatsCacheTimestamp = function() {
        this.statsCacheTimestamp = 0
    }
    ,
    UTClubRepository.prototype.resetBonusCacheTimestamp = function() {
        this.bonusCacheTimestamp = 0
    }
    ,
    UTClubRepository.prototype.setConsumableCacheStatus = function(t) {
        this.consumables.endOfList = t
    }
    ,
    UTClubRepository.prototype.getActiveItemByState = function(t) {
        var e, i = null !== (e = this.activeItemIds.get(t)) && void 0 !== e ? e : 0;
        return this.items.get(i)
    }
    ,
    UTClubRepository.prototype.setActiveItem = function(t) {
        if (t.isActiveClubItem()) {
            var e = this.getActiveItemByState(t.state);
            e && e.id !== t.id && (e.state = ItemState.FREE),
            this.activeItemIds.set(t.state, t.id)
        }
    }
    ,
    UTClubRepository.prototype.addClubItem = function(t) {
        this.items.set(t.id, t),
        this.setActiveItem(t)
    }
    ,
    UTClubRepository.prototype.removeClubItem = function(t) {
        t.isActiveClubItem() ? DebugUtils.Assert(!1, "Can't remove an active club item from the club repository.") : this.items.remove(t.id)
    }
    ,
    UTClubRepository.prototype.addConsumable = function(t) {
        var e = this.consumables.get(t.definitionId);
        e ? e.increaseStackCount() : this.consumables.set(t.definitionId, t)
    }
    ,
    UTClubRepository.prototype.removeConsumable = function(t) {
        var e = this.consumables.get(t);
        e && 0 === e.stackCount && this.consumables.remove(t)
    }
    ,
    UTClubRepository.prototype.addItem = function(t) {
        if (t.isPlayer()) {
            var e = this.items.get(t.id);
            e ? e.update(t) : this.items.set(t.id, t)
        } else
            t.isConsumable() ? this.addConsumable(t) : this.addClubItem(t)
    }
    ,
    UTClubRepository.prototype.add = function(t) {
        Array.isArray(t) ? t.forEach(this.addItem, this) : this.addItem(t)
    }
    ,
    UTClubRepository.prototype.createConsumables = function(t) {
        function Ulb(t) {
            var e = i.consumables.get(t.definitionId);
            e ? e.update(t) : i.consumables.set(t.definitionId, t)
        }
        var i = this;
        Array.isArray(t) ? t.forEach(Ulb, this) : Ulb(t)
    }
    ,
    UTClubRepository.prototype.removeItem = function(t) {
        var e = t.isActiveClubItem();
        DebugUtils.Assert(!e, "Cannot remove an active club item from the club repository."),
        (t.isPlayer() || t.isManager()) && this.items.remove(t.id),
        t.isConsumable() ? this.removeConsumable(t.definitionId) : e || this.removeClubItem(t)
    }
    ,
    UTClubRepository.prototype.remove = function(t) {
        Array.isArray(t) ? t.forEach(this.removeItem, this) : this.removeItem(t)
    }
    ,
    UTClubRepository.prototype.update = function(t) {
        t.isPlayer() && this.items.has(t.id) && this.items.set(t.id, t)
    }
    ,
    UTClubRepository.prototype.getItem = function(t, e, i) {
        switch (t) {
        case ItemType.TRAINING:
        case ItemType.HEALTH:
            return this.consumables.get(i);
        default:
            return this.items.get(i)
        }
    }
    ,
    UTClubRepository.prototype.hasStats = function() {
        return !this.isStatsCacheExpired() && 0 < this.clubStats.length
    }
    ,
    UTClubRepository.prototype.getStats = function() {
        return this.clubStats.values()
    }
    ,
    UTClubRepository.prototype.setStats = function(t) {
        var e = this;
        t.forEach(function(t) {
            return e.clubStats.set(t.type, t)
        }),
        this.statsCacheTimestamp = Date.now()
    }
    ,
    UTClubRepository.prototype.search = function(t) {
        return t.type === SearchType.CONSUMABLES_DEVELOPMENT || t.type === SearchType.CONSUMABLES_TRAINING ? this.consumables.search(t) : this.items.search(t)
    }
    ,
    UTClubRepository.prototype.mapCriteriaToClubType = function(t) {
        switch (t.type) {
        case SearchType.BALL:
            return ClubItemTypeEnum.BALLS;
        case SearchType.CLUB_INFO:
            return t.category === SearchCategory.KIT ? ClubItemTypeEnum.KITS : ClubItemTypeEnum.BADGES;
        case SearchType.PLAYER:
            return ClubItemTypeEnum.PLAYERS;
        case SearchType.STADIUM:
            return ClubItemTypeEnum.STADIA;
        case SearchType.STAFF:
            return ClubItemTypeEnum.STAFF;
        case SearchType.VANITY:
            return ClubItemTypeEnum.VANITY;
        default:
            return null
        }
    }
    ,
    UTClubRepository.prototype.hasAllItems = function(t) {
        var e;
        if (t.cacheable) {
            if (t.type === SearchType.CONSUMABLES_DEVELOPMENT || t.type === SearchType.CONSUMABLES_TRAINING)
                return this.consumables.endOfList;
            var i = this.mapCriteriaToClubType(t)
              , r = i && null !== (e = this.getStats().find(function(t) {
                return t.type === i
            })) && void 0 !== e ? e : null
              , o = new UTSearchCriteriaDTO;
            o.type = t.type,
            o.category = t.type === SearchType.CLUB_INFO ? t.category : SearchCategory.ANY,
            o.subtypes = [],
            o.count = 999,
            o.academyOnly = t.academyOnly;
            var n = this.items.search(o);
            return !!r && n.length >= r.count
        }
        return !1
    }
    ,
    UTClubRepository.prototype.isStatsCacheExpired = function() {
        var t = 10 * SECONDS_PER_MINUTE * MS_PER_SECOND;
        return Date.now() > this.statsCacheTimestamp + t
    }
    ,
    UTClubRepository.prototype.isBonusCacheExpired = function() {
        var t = 10 * SECONDS_PER_MINUTE * MS_PER_SECOND;
        return Date.now() > this.bonusCacheTimestamp + t
    }
    ,
    UTClubRepository
}(EAObject))
  , UTStaticPlayerDataDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTStaticPlayerDataDTO(t) {
        var e = i.call(this) || this;
        return e.id = t.id,
        e.firstName = t.f,
        e.lastName = t.l,
        e.commonName = t.c || null,
        e.rating = t.r,
        e.nationId = t.n,
        e
    }
    return __extends(UTStaticPlayerDataDTO, i),
    Object.defineProperty(UTStaticPlayerDataDTO.prototype, "name", {
        get: function() {
            return this.commonName ? this.commonName : this.firstName + " " + this.lastName
        },
        enumerable: !1,
        configurable: !0
    }),
    UTStaticPlayerDataDTO
}(EAObject))
  , UTItemDomainRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemDomainRepository() {
        var t = e.call(this) || this;
        return t.cachedDurationIndex = 0,
        t.club = new UTClubRepository,
        t.inbox = new UTItemRepository,
        t.storage = new UTItemRepository,
        t.pileSizes = new EAHashTable,
        t.staticData = new EAHashTable,
        t.transfer = new UTItemRepository,
        t.unassigned = new UTItemRepository,
        t.pileSizes.set(ItemPile.PURCHASED, 5),
        t.pileSizes.set(ItemPile.TRANSFER, 30),
        t.pileSizes.set(ItemPile.INBOX, 30),
        t.pileSizes.set(ItemPile.STORAGE, 100),
        t
    }
    return __extends(UTItemDomainRepository, e),
    UTItemDomainRepository.prototype.reset = function() {
        this.unassigned.reset(),
        this.transfer.reset(),
        this.inbox.reset(),
        this.club.reset(),
        this.storage.reset()
    }
    ,
    UTItemDomainRepository.prototype.setCacheTimestamp = function(t, e, i) {
        switch (t) {
        case ItemPile.PURCHASED:
            this.unassigned.setCacheTimestamp(e, i);
            break;
        case ItemPile.TRANSFER:
            this.transfer.setCacheTimestamp(e, i);
            break;
        case ItemPile.INBOX:
            this.inbox.setCacheTimestamp(e, i);
            break;
        case ItemPile.STORAGE:
            this.storage.setCacheTimestamp(e, i)
        }
    }
    ,
    UTItemDomainRepository.prototype.setDirty = function(t) {
        t ? this.setCacheTimestamp(t, 0, 0) : (this.unassigned.setCacheTimestamp(0, 0),
        this.transfer.setCacheTimestamp(0, 0),
        this.inbox.setCacheTimestamp(0, 0),
        this.storage.setCacheTimestamp(0, 0))
    }
    ,
    UTItemDomainRepository.prototype.isDirty = function(t) {
        switch (t) {
        case ItemPile.PURCHASED:
            return this.unassigned.isCacheExpired();
        case ItemPile.TRANSFER:
            return this.transfer.isCacheExpired();
        case ItemPile.INBOX:
            return this.inbox.isCacheExpired();
        case ItemPile.STORAGE:
            return this.storage.isCacheExpired()
        }
        return !0
    }
    ,
    UTItemDomainRepository.prototype.getClub = function() {
        return this.club
    }
    ,
    UTItemDomainRepository.prototype.setPileSize = function(t, e) {
        this.pileSizes.set(t, e)
    }
    ,
    UTItemDomainRepository.prototype.getPileSize = function(t) {
        var e = this.pileSizes.get(t);
        return DebugUtils.Assert(JSUtils.isNumber(e), "Unsupported pile requested when retrieving pile size."),
        e || 0
    }
    ,
    UTItemDomainRepository.prototype.isPileFull = function(t) {
        var e = 0
          , i = this.pileSizes.get(t);
        switch (t) {
        case ItemPile.PURCHASED:
            e = this.unassigned.length;
            break;
        case ItemPile.TRANSFER:
            e = this.transfer.length;
            break;
        case ItemPile.INBOX:
            e = this.inbox.length;
            break;
        case ItemPile.STORAGE:
            e = this.storage.length;
            break;
        case ItemPile.CLUB:
        case ItemPile.EVOLUTION:
            return !1
        }
        return (i || 0) <= e
    }
    ,
    UTItemDomainRepository.prototype.numItemsInCache = function(t) {
        switch (t) {
        case ItemPile.PURCHASED:
            return this.unassigned.length;
        case ItemPile.TRANSFER:
            return this.transfer.length;
        case ItemPile.INBOX:
            return this.inbox.length;
        case ItemPile.STORAGE:
            return this.storage.length
        }
        return DebugUtils.Assert(!1, "Unsupported item pile: " + t),
        0
    }
    ,
    UTItemDomainRepository.prototype.hasStaticData = function() {
        return 0 < this.staticData.length
    }
    ,
    UTItemDomainRepository.prototype.setStaticData = function(t) {
        var i = this;
        this.staticData.clear(),
        t.forEach(function(t) {
            var e = new UTStaticPlayerDataDTO(t);
            i.staticData.set(e.id, e)
        })
    }
    ,
    UTItemDomainRepository.prototype.getStaticDataByDefId = function(t) {
        return this.staticData.get(t)
    }
    ,
    UTItemDomainRepository.prototype.getStaticData = function() {
        return this.staticData.values()
    }
    ,
    UTItemDomainRepository.prototype.getWatchedItems = function() {
        return this.inbox.values()
    }
    ,
    UTItemDomainRepository.prototype.setWatchedItems = function(t) {
        var e = this;
        this.inbox.clear(),
        t.forEach(function(t) {
            return e.inbox.set(t.id, t)
        }, this),
        this.inbox.endOfList = !0
    }
    ,
    UTItemDomainRepository.prototype.getTransferItems = function() {
        return this.transfer.values()
    }
    ,
    UTItemDomainRepository.prototype.setTransferItems = function(t) {
        var e = this;
        this.transfer.clear(),
        t.forEach(function(t) {
            return e.transfer.set(t.id, t)
        }, this),
        this.transfer.endOfList = !0
    }
    ,
    UTItemDomainRepository.prototype.getStorageItems = function() {
        return this.storage.values()
    }
    ,
    UTItemDomainRepository.prototype.setStorageItems = function(t) {
        var e = this;
        this.storage.clear(),
        t.forEach(function(t) {
            return e.storage.set(t.id, t)
        }, this)
    }
    ,
    UTItemDomainRepository.prototype.getUnassignedItems = function() {
        return this.unassigned.values()
    }
    ,
    UTItemDomainRepository.prototype.setUnassignedItems = function(t) {
        var e = this;
        this.unassigned.clear(),
        t.forEach(function(t) {
            return e.unassigned.set(t.id, t)
        }, this),
        this.unassigned.endOfList = !0
    }
    ,
    UTItemDomainRepository.prototype.addItem = function(t) {
        var e = t.getAuctionData();
        if (!e.watched || e.tradeOwner || this.isPileFull(ItemPile.INBOX)) {
            if (this.isPileFull(t.pile))
                return !1;
            switch (t.pile) {
            case ItemPile.PURCHASED:
                this.unassigned.set(t.id, t);
                break;
            case ItemPile.TRANSFER:
                this.transfer.set(t.id, t);
                break;
            case ItemPile.INBOX:
                this.inbox.set(t.id, t);
                break;
            case ItemPile.STORAGE:
                this.storage.set(t.id, t);
                break;
            case ItemPile.CLUB:
            case ItemPile.EVOLUTION:
                this.club.add(t)
            }
            return !0
        }
        return this.inbox.set(t.id, t),
        !0
    }
    ,
    UTItemDomainRepository.prototype.searchStorage = function(t) {
        return this.storage.search(t)
    }
    ,
    UTItemDomainRepository.prototype.add = function(t) {
        var e = this
          , i = [];
        return Array.isArray(t) ? t.forEach(function(t) {
            e.addItem(t) && i.push(t)
        }, this) : this.addItem(t) && i.push(t),
        i
    }
    ,
    UTItemDomainRepository.prototype.removeItem = function(t) {
        var e = t.getAuctionData();
        if (!e.watched || e.tradeOwner)
            switch (t.pile) {
            case ItemPile.PURCHASED:
                this.unassigned.remove(t.id),
                e.isWon() && this.inbox.remove(t.id);
                break;
            case ItemPile.TRANSFER:
                this.transfer.remove(t.id);
                break;
            case ItemPile.INBOX:
                this.inbox.remove(t.id);
                break;
            case ItemPile.CLUB:
                this.club.remove(t);
                break;
            case ItemPile.STORAGE:
                this.storage.remove(t.id)
            }
        else
            this.inbox.remove(t.id)
    }
    ,
    UTItemDomainRepository.prototype.remove = function(t) {
        Array.isArray(t) ? t.forEach(this.removeItem, this) : this.removeItem(t)
    }
    ,
    UTItemDomainRepository.prototype.updateItem = function(t) {
        switch (t.pile) {
        case ItemPile.CLUB:
            this.club.update(t);
            break;
        default:
            DebugUtils.Assert(!1, "This pile does not support updating items.")
        }
    }
    ,
    UTItemDomainRepository.prototype.update = function(t) {
        Array.isArray(t) ? t.forEach(this.updateItem, this) : this.updateItem(t)
    }
    ,
    UTItemDomainRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.Item = new UTItemDomainRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayStyleDTO = function(i) {
    function UTPlayStyleDTO(t) {
        var e = i.call(this) || this;
        return e.statBonus = t.statBonus,
        e.style = t.style,
        e.styleId = t.styleId,
        e.styleType = t.styleType,
        e
    }
    return __extends(UTPlayStyleDTO, i),
    UTPlayStyleDTO
}(EAObject)
  , UTPlayStyleRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPlayStyleRepository() {
        var t = e.call(this) || this;
        return t.playstyles = new EAHashTable,
        t
    }
    return __extends(UTPlayStyleRepository, e),
    UTPlayStyleRepository.prototype.setPlayStyles = function(t) {
        var i = this;
        t.forEach(function(t) {
            var e = new UTPlayStyleDTO(t);
            i.playstyles.set(e.styleId, e)
        }, this)
    }
    ,
    UTPlayStyleRepository.prototype.getPlayStyles = function() {
        return this.playstyles.values()
    }
    ,
    UTPlayStyleRepository.prototype.getPlayStyleById = function(t) {
        return this.playstyles.get(t)
    }
    ,
    UTPlayStyleRepository.prototype.getPlayStyleBonusById = function(t, e) {
        var i = this.getPlayStyleById(t);
        return i ? e ? i.statBonus.slice(6) : i.statBonus.slice(0, 6) : [0, 0, 0, 0, 0, 0]
    }
    ,
    UTPlayStyleRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.PlayStyle = new UTPlayStyleRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemRarityRepository = function(e) {
    function UTItemRarityRepository() {
        var t = e.call(this) || this;
        return t.expiryTimestamp = 0,
        t
    }
    return __extends(UTItemRarityRepository, e),
    UTItemRarityRepository.prototype.reset = function() {
        this.clear(),
        this.expiryTimestamp = 0
    }
    ,
    UTItemRarityRepository.prototype.add = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.set(t.id, t)
        }) : this.set(t.id, t)
    }
    ,
    UTItemRarityRepository.prototype.getRarity = function(t) {
        var e = this.get(t);
        return e || new UTItemRarityDTO
    }
    ,
    UTItemRarityRepository.prototype.isCacheExpired = function() {
        return this.expiryTimestamp < Date.now()
    }
    ,
    UTItemRarityRepository.prototype.isEmpty = function() {
        return this.length < 1
    }
    ,
    UTItemRarityRepository.prototype.setCacheTimestamp = function(t, e) {
        this.expiryTimestamp = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 36e5)
    }
    ,
    UTItemRarityRepository
}(EAHashTable);
NamespaceManager.Register("repositories"),
repositories.Rarity = new UTItemRarityRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTacticsRepository = function(e) {
    function UTTacticsRepository() {
        var t = e.call(this) || this;
        return t.defaultProfiles = [],
        t.roles = new Map,
        t.summary = null,
        t.managerProfiles = new EAHashTable,
        t
    }
    return __extends(UTTacticsRepository, e),
    UTTacticsRepository.prototype.reset = function() {
        var t;
        this.defaultProfiles = [],
        this.roles.clear(),
        null === (t = this.summary) || void 0 === t || t.dealloc(),
        this.summary = null,
        this.managerProfiles.clear()
    }
    ,
    UTTacticsRepository.prototype.setProfileDefaults = function(t) {
        this.defaultProfiles = t
    }
    ,
    UTTacticsRepository.prototype.getProfileDefaults = function() {
        return this.defaultProfiles
    }
    ,
    UTTacticsRepository.prototype.setManagerProfile = function(t, e) {
        return this.managerProfiles.set(t, e)
    }
    ,
    UTTacticsRepository.prototype.getManagerProfileById = function(t) {
        return this.managerProfiles.get(t)
    }
    ,
    UTTacticsRepository.prototype.getManagerProfiles = function() {
        return this.managerProfiles.values()
    }
    ,
    UTTacticsRepository.prototype.setRoles = function(t) {
        var e = this;
        t.forEach(function(t) {
            e.roles.set(t.id, t)
        })
    }
    ,
    UTTacticsRepository.prototype.getRoleById = function(t) {
        return this.roles.get(t)
    }
    ,
    UTTacticsRepository.prototype.getRoles = function() {
        return Array.from(this.roles.values())
    }
    ,
    UTTacticsRepository.prototype.setSummary = function(t) {
        this.summary = t
    }
    ,
    UTTacticsRepository.prototype.getSummary = function() {
        return this.summary
    }
    ,
    UTTacticsRepository
}(EAObject)
  , UTTacticsRoleDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTTacticsRoleDTO(t) {
        var e = i.call(this) || this;
        return e.BS_TACTICAL_ROLE_PRIMARY = 6,
        e.BM_TACTICAL_ROLE_PRIMARY = 63,
        e.BM_TACTICAL_ROLE_VARIATION = 63,
        e.id = t.id,
        e.line = t.line,
        e.lineMoveRate = t.lineMoveRate,
        e.formWidthLevel = t.formWidthLevel,
        e.columnMoveRate = t.columnMoveRate,
        e.instructions = t.instructions,
        e.defaultAttackingWorkRateRange = t.defaultAttackingWorkRateRange,
        e.defaultDefensiveWorkRateRange = t.defaultDefensiveWorkRateRange,
        e.defensiveRoleType = t.defensiveRoleType,
        e.offensiveRoleType = t.offensiveRoleType,
        e.positionGroup = t.position,
        e.type = e.id >> e.BS_TACTICAL_ROLE_PRIMARY & e.BM_TACTICAL_ROLE_PRIMARY,
        e.variation = e.id & e.BM_TACTICAL_ROLE_VARIATION,
        e
    }
    return __extends(UTTacticsRoleDTO, i),
    UTTacticsRoleDTO
}(EAObject))
  , UTTacticsSummaryDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTTacticsSummaryDTO(t) {
        var e = i.call(this) || this;
        return e.attackingScoresPerLine = t.attackingScoresPerLine,
        e.defendingScoresPerLine = t.defendingScoresPerLine,
        e.widthScoresPerColumn = t.widthScoresPerColumn,
        e.tacticSummaryQuantileTblForAttacking = t.tacticSummaryQuantileTblForAttacking,
        e.tacticSummaryQuantileTblForDefending = t.tacticSummaryQuantileTblForDefending,
        e.tacticSummaryQuantileTblForWidth = t.tacticSummaryQuantileTblForWidth,
        e.tacticSummaryQuantileTblForLength = t.tacticSummaryQuantileTblForLength,
        e.tacticSummaryQuantileTblForBuildUp = t.tacticSummaryQuantileTblForBuildUp,
        e.tacticSummaryQuantileTblForEndurance = t.tacticSummaryQuantileTblForEndurance,
        e
    }
    return __extends(UTTacticsSummaryDTO, i),
    UTTacticsSummaryDTO
}(EAObject))
  , UTTacticsProfileVO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTTacticsProfileVO(t) {
        var e = i.call(this) || this;
        return e.id = t.id,
        e.defensiveStyleId = t.defStyle.id,
        e.defensiveStyleValue = t.defStyle.value,
        e.name = t.name,
        e.offensiveStyleId = t.offStyle.id,
        e.offensiveStyleValue = t.offStyle.value,
        e.supportedFormations = [],
        t.formations.forEach(function(t) {
            e.supportedFormations.push({
                id: t.id,
                roles: t.roles
            })
        }),
        e.supportedFormations[0] && (e.formation = e.supportedFormations[0]),
        e
    }
    return __extends(UTTacticsProfileVO, i),
    UTTacticsProfileVO
}(EAObject))
  , UTSquadRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSquadRepository() {
        var t = e.call(this) || this;
        return t.formations = new EAHashTable,
        t.positions = new EAHashTable,
        t.squads = new EAHashTable,
        t.squadListCacheExpiration = 0,
        t.tacticsRepo = new UTTacticsRepository,
        t
    }
    return __extends(UTSquadRepository, e),
    UTSquadRepository.prototype.reset = function() {
        this.squadListCacheExpiration = 0,
        this.squads.clear(),
        this.formations.clear(),
        this.positions.clear(),
        this.tacticsRepo.reset()
    }
    ,
    UTSquadRepository.prototype.setDirty = function() {
        this.squads.clear(),
        this.squadListCacheExpiration = 0
    }
    ,
    UTSquadRepository.prototype.set = function(t, e) {
        var i = e.getId()
          , r = this.squads.get(t);
        if (r)
            if (r.has(i)) {
                var o = r.get(i);
                o && (o.update(e),
                o.setCacheTimestamp(0))
            } else
                r.set(i, e);
        else {
            var n = {};
            n[i] = e,
            this.squads.set(t, new EAHashTable(n))
        }
    }
    ,
    UTSquadRepository.prototype.getSquadById = function(t, e) {
        var i = this.squads.get(t);
        return i ? i.get(e) : null
    }
    ,
    UTSquadRepository.prototype.getSquads = function(t) {
        var e = this.squads.get(t);
        return e ? e.values() : []
    }
    ,
    UTSquadRepository.prototype.removeSquads = function(t) {
        var e = this.squads.get(t);
        e && e.clear()
    }
    ,
    UTSquadRepository.prototype.removeSquad = function(t, e) {
        var i = this.squads.get(t);
        i && i.remove(e)
    }
    ,
    UTSquadRepository.prototype.getFormation = function(t) {
        return this.formations.get(t)
    }
    ,
    UTSquadRepository.prototype.getFormationById = function(e) {
        return JSUtils.find(this.formations.values(), function(t) {
            return t.id === e
        })
    }
    ,
    UTSquadRepository.prototype.getFormations = function() {
        return this.formations.values().sort(function(t, e) {
            return t.index - e.index
        })
    }
    ,
    UTSquadRepository.prototype.getPosition = function(t) {
        return this.positions.get(t)
    }
    ,
    UTSquadRepository.prototype.getPositionByUniqueName = function(e) {
        return JSUtils.find(this.positions.values(), function(t) {
            return t.getName() === e
        })
    }
    ,
    UTSquadRepository.prototype.setSquadDataLookup = function(r) {
        var o = this;
        r.formationData.forEach(function(t) {
            var e = t.uniquePositionSlots.map(function(t, e) {
                return new UTSquadPositionDTO(r.positionData[t])
            })
              , i = new UTSquadFormationDTO(t,[],e);
            o.formations.set(i.getName(), i)
        }, this);
        this.tacticsRepo.setProfileDefaults(r.tactics.presets.map(function(t) {
            return new UTTacticsProfileVO(function(t) {
                var e = t.defStyle.value
                  , i = UTSquadTacticsEntity.getOffensiveStyleFromDBOffensiveStyle(t.offStyle.id)
                  , r = {
                    id: t.id,
                    name: UTLocalizationUtil.tacticsPresetDbNameToName(t.name, services.Localization),
                    formations: t.formations.map(function(t) {
                        return t.roles.sort(function(t, e) {
                            return t.positionId - e.positionId
                        }),
                        {
                            id: t.id,
                            roles: t.roles.map(function(t) {
                                var e = new UTPlayerRoleVO(t.positionId);
                                return e.setRoleVariation(t.id, t.variation),
                                e
                            })
                        }
                    }),
                    offStyle: {
                        id: i,
                        value: t.offStyle.value
                    },
                    defStyle: t.defStyle
                };
                return r.defStyle.id = UTSquadTacticsEntity.getDefensiveStyleFromLineHeight(e),
                r
            }(t))
        })),
        this.tacticsRepo.setSummary(new UTTacticsSummaryDTO(r.tactics.summary)),
        this.tacticsRepo.setRoles(r.tactics.roles.map(function(t) {
            return new UTTacticsRoleDTO(t)
        })),
        r.positionData.forEach(function(t) {
            var e = new UTSquadPositionDTO(t);
            o.positions.set(t.uniqueId, e)
        }, this)
    }
    ,
    UTSquadRepository.prototype.isSquadListCacheExpired = function() {
        return this.squadListCacheExpiration < Date.now()
    }
    ,
    UTSquadRepository.prototype.setSquadListCacheTimestamp = function(t, e) {
        this.squadListCacheExpiration = t + (JSUtils.isNumber(e) ? e * MS_PER_SECOND : 6e5)
    }
    ,
    UTSquadRepository.prototype.getTacticsSummary = function() {
        return this.tacticsRepo.getSummary()
    }
    ,
    UTSquadRepository.prototype.getTacticRoleById = function(t) {
        var e;
        return null !== (e = this.tacticsRepo.getRoleById(t)) && void 0 !== e ? e : null
    }
    ,
    UTSquadRepository.prototype.getTacticRoles = function() {
        return this.tacticsRepo.getRoles()
    }
    ,
    UTSquadRepository.prototype.getTacticsDefaultProfiles = function() {
        return this.tacticsRepo.getProfileDefaults()
    }
    ,
    UTSquadRepository.prototype.setTacticsManagerProfile = function(t, e) {
        this.tacticsRepo.setManagerProfile(t, e)
    }
    ,
    UTSquadRepository.prototype.getTacticsManagerProfile = function(t) {
        return this.tacticsRepo.getManagerProfileById(t)
    }
    ,
    UTSquadRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.Squad = new UTSquadRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLeagueRepository = function(i) {
    function UTLeagueRepository(t) {
        var e = i.call(this) || this;
        return t && e.add(t),
        e
    }
    return __extends(UTLeagueRepository, i),
    UTLeagueRepository.prototype.set = function(t, e) {
        return i.prototype.set.call(this, t, e)
    }
    ,
    UTLeagueRepository.prototype.add = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.set(t.id, t)
        }, this) : this.set(t.id, t)
    }
    ,
    UTLeagueRepository.prototype.get = function(t) {
        return i.prototype.get.call(this, t)
    }
    ,
    UTLeagueRepository
}(EAHashTable)
  , UTNationRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTNationRepository(t) {
        var e = i.call(this) || this;
        return t && e.add(t),
        e
    }
    return __extends(UTNationRepository, i),
    UTNationRepository.prototype.set = function(t, e) {
        return i.prototype.set.call(this, t, e)
    }
    ,
    UTNationRepository.prototype.add = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.set(t.id, t)
        }, this) : this.set(t.id, t)
    }
    ,
    UTNationRepository.prototype.get = function(t) {
        return i.prototype.get.call(this, t)
    }
    ,
    UTNationRepository
}(EAHashTable))
  , UTTeamRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTTeamRepository(t) {
        var e = i.call(this) || this;
        return t && e.add(t),
        e
    }
    return __extends(UTTeamRepository, i),
    UTTeamRepository.prototype.set = function(t, e) {
        return i.prototype.set.call(this, t, e)
    }
    ,
    UTTeamRepository.prototype.add = function(t) {
        var e = this;
        Array.isArray(t) ? t.forEach(function(t) {
            return e.set(t.id, t)
        }, this) : this.set(t.id, t)
    }
    ,
    UTTeamRepository.prototype.get = function(t) {
        return i.prototype.get.call(this, t)
    }
    ,
    UTTeamRepository
}(EAHashTable))
  , UTTeamConfigRepository = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTTeamConfigRepository() {
        var t = e.call(this) || this;
        return t.customTeams = new UTTeamRepository,
        t.leagues = new UTLeagueRepository,
        t.nations = new UTNationRepository,
        t.teams = new UTTeamRepository,
        t.teamLinks = new Map,
        t
    }
    return __extends(UTTeamConfigRepository, e),
    UTTeamConfigRepository.prototype.reset = function() {
        this.customTeams.clear(),
        this.leagues.clear(),
        this.nations.clear(),
        this.teams.clear(),
        this.teamLinks.clear()
    }
    ,
    UTTeamConfigRepository.prototype.addNations = function(t) {
        this.nations.add(t)
    }
    ,
    UTTeamConfigRepository.prototype.getNation = function(t) {
        return this.nations.get(t)
    }
    ,
    UTTeamConfigRepository.prototype.getNations = function() {
        return this.nations.values()
    }
    ,
    UTTeamConfigRepository.prototype.addLeagues = function(t) {
        this.leagues.add(t)
    }
    ,
    UTTeamConfigRepository.prototype.getLeague = function(t) {
        return this.leagues.get(t)
    }
    ,
    UTTeamConfigRepository.prototype.getLeagues = function() {
        return this.leagues.values()
    }
    ,
    UTTeamConfigRepository.prototype.addTeams = function(t) {
        this.teams.add(t)
    }
    ,
    UTTeamConfigRepository.prototype.addCustomTeams = function(t) {
        this.customTeams.add(t)
    }
    ,
    UTTeamConfigRepository.prototype.addTeamLinks = function(t) {
        var i = this;
        t.forEach(function(e) {
            e.linkedTeams.concat(e.id).find(function(t) {
                return i.teamLinks.has(t)
            }) || e.linkedTeams.forEach(function(t) {
                return i.teamLinks.set(t, e.id)
            })
        })
    }
    ,
    UTTeamConfigRepository.prototype.getTeam = function(t) {
        return this.teams.get(t)
    }
    ,
    UTTeamConfigRepository.prototype.getCustomTeam = function(t) {
        return this.customTeams.get(t)
    }
    ,
    UTTeamConfigRepository.prototype.getLinkedTeam = function(t) {
        var e;
        return null !== (e = this.teamLinks.get(t)) && void 0 !== e ? e : t
    }
    ,
    UTTeamConfigRepository.prototype.getTeams = function() {
        return this.teams.values()
    }
    ,
    UTTeamConfigRepository.prototype.getCustomTeams = function() {
        return this.customTeams.values()
    }
    ,
    UTTeamConfigRepository.prototype.getTeamLinks = function() {
        return this.teamLinks
    }
    ,
    UTTeamConfigRepository.prototype.compareLinkedTeamIds = function(t, e) {
        return this.getLinkedTeam(t) === this.getLinkedTeam(e)
    }
    ,
    UTTeamConfigRepository
}(EAObject));
NamespaceManager.Register("repositories"),
repositories.TeamConfig = new UTTeamConfigRepository;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var EAKeyboardEventController = function(e) {
    function EAKeyboardEventController() {
        var t = e.call(this) || this;
        return t.eventDelegates = new EAHashTable,
        t.keyUpHandler = t.handleKeyUpEvent.bind(t),
        t
    }
    return __extends(EAKeyboardEventController, e),
    EAKeyboardEventController.prototype.init = function() {
        e.prototype.init.call(this),
        isWeb() && (this.eventDelegates.set(KeyboardEventPriority.POPUP, []),
        this.eventDelegates.set(KeyboardEventPriority.ACTIVE_ELEMENT, []),
        this.eventDelegates.set(KeyboardEventPriority.VIEW, []),
        document.addEventListener(EventType.KEYUP, this.keyUpHandler, !1))
    }
    ,
    EAKeyboardEventController.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        isWeb() && document.removeEventListener(EventType.KEYUP, this.keyUpHandler, !1)
    }
    ,
    EAKeyboardEventController.prototype.registerDelegate = function(t, e) {
        if (isWeb()) {
            var i = this.eventDelegates.get(e);
            i && i.indexOf(t) < 0 && i.push(t)
        }
    }
    ,
    EAKeyboardEventController.prototype.unregisterDelegate = function(t, e) {
        if (isWeb()) {
            var i = this.eventDelegates.get(e);
            if (i) {
                var r = i.indexOf(t);
                0 <= r && i.splice(r, 1)
            }
        }
    }
    ,
    EAKeyboardEventController.prototype.handleKeyUpEvent = function(e) {
        var t = this.eventDelegates.get(KeyboardEventPriority.POPUP)
          , i = this.eventDelegates.get(KeyboardEventPriority.ACTIVE_ELEMENT)
          , r = this.eventDelegates.get(KeyboardEventPriority.VIEW);
        t && 0 < t.length ? t.forEach(function(t) {
            return t.handleKeyUpEvent(e)
        }) : i && 0 < i.length ? i.forEach(function(t) {
            return t.handleKeyUpEvent(e)
        }) : r && 0 < r.length && r.forEach(function(t) {
            return t.handleKeyUpEvent(e)
        })
    }
    ,
    EAKeyboardEventController
}(EAObject)
  , UTViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTViewModel() {
        var t = e.call(this) || this;
        return t.blockingRequests = [],
        t.requests = [],
        t
    }
    return __extends(UTViewModel, e),
    UTViewModel.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this.stopTrackingRequests()
    }
    ,
    UTViewModel.prototype.stopTrackingRequests = function() {
        0 < this.requests.length && this.requests.forEach(function(t) {
            return t.clearObservers()
        }),
        this.requests = [],
        0 < this.blockingRequests.length && this.blockingRequests.forEach(function(t) {
            t.clearObservers(),
            gClickShield.hideShield(EAClickShieldView.Shield.LOADING)
        }),
        this.blockingRequests = []
    }
    ,
    UTViewModel.prototype._trackRequest = function(t, o, n) {
        var a = this;
        void 0 === o && (o = !1);
        var s = o ? this.blockingRequests : this.requests;
        o && gClickShield.showShield(EAClickShieldView.Shield.LOADING),
        s.push(t.observe(this, function(t) {
            for (var e = [], i = 1; i < arguments.length; i++)
                e[i - 1] = arguments[i];
            t.unobserve(a),
            o && gClickShield.hideShield(EAClickShieldView.Shield.LOADING);
            var r = s.indexOf(t);
            0 <= r && s.splice(r, 1),
            n && n.apply(void 0, e)
        }))
    }
    ,
    UTViewModel
}(EAObject))
  , UTCaptchaViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTCaptchaViewModel(t) {
        var e = i.call(this) || this;
        return e.captchaDao = t,
        e
    }
    return __extends(UTCaptchaViewModel, i),
    UTCaptchaViewModel.prototype.requestHealthCheck = function() {
        var t = this.captchaDao.checkHealth();
        return this._trackRequest(t, !0),
        t
    }
    ,
    UTCaptchaViewModel.prototype.requestCaptchaData = function() {
        var t = this.captchaDao.getCaptchaData();
        return this._trackRequest(t, !0),
        t
    }
    ,
    UTCaptchaViewModel.prototype.validateToken = function(t) {
        var e = this.captchaDao.validateToken(t);
        return this._trackRequest(e, !0),
        e
    }
    ,
    UTCaptchaViewModel
}(UTViewModel))
  , UTAppTrackingController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTAppTrackingController() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTAppTrackingController, t),
    UTAppTrackingController.askForPermission = function(t) {
        t()
    }
    ,
    UTAppTrackingController
}(EAObject))
  , UTNavigationButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTNavigationButtonControl() {
        return t.call(this) || this
    }
    return __extends(UTNavigationButtonControl, t),
    UTNavigationButtonControl
}(UTButtonControl));
UTNavigationButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ut-navigation-button-control"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTNavigationButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTNavigationButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTNavigationBarView = function(e) {
    function UTNavigationBarView() {
        var t = e.call(this) || this;
        return t.currentStyle = UTNavigationBarView.Style.DEFAULT,
        t.visible = !0,
        t.primaryButton = null,
        t.secondaryButton = null,
        t.entitlementBadge = null,
        t.rightContainer = null,
        t
    }
    return __extends(UTNavigationBarView, e),
    UTNavigationBarView.prototype.dealloc = function() {
        this.secondaryButton && this.secondaryButton.removeClass("btn-navigation-secondary"),
        this.primaryButton = null,
        this.secondaryButton = null,
        this.entitlementBadge && this.entitlementBadge.dealloc(),
        this.entitlementBadge = null,
        this.rightContainer = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTNavigationBarView.prototype.layoutSubviews = function() {
        var e = this
          , t = this.getRootElement();
        this.primaryButton && DOMKit.insertBefore(this.primaryButton.getRootElement(), t.firstChild),
        this.rightContainer || (this.rightContainer = document.createElement("div"),
        this.rightContainer.classList.add("view-navbar-right"),
        t.appendChild(this.rightContainer)),
        this.entitlementBadge && this.rightContainer.appendChild(this.entitlementBadge.getRootElement()),
        this.secondaryButton && this.rightContainer.appendChild(this.secondaryButton.getRootElement()),
        t.appendChild(this.rightContainer),
        this._subviews.forEach(function(t) {
            t.view !== e.primaryButton && t.view !== e.secondaryButton && t.view !== e.entitlementBadge && t.container.appendChild(t.view.getRootElement())
        }, this)
    }
    ,
    UTNavigationBarView.prototype.setPrimaryButton = function(t) {
        this.primaryButton && this.primaryButton.removeFromSuperview(),
        t && this.addSubview(t),
        this.primaryButton = t || null
    }
    ,
    UTNavigationBarView.prototype.setSecondaryButton = function(t) {
        this.secondaryButton && (this.secondaryButton.removeFromSuperview(),
        this.secondaryButton.removeClass("btn-navigation-secondary")),
        t && (t.addClass("btn-navigation-secondary"),
        this.addSubview(t)),
        this.secondaryButton = t || null
    }
    ,
    UTNavigationBarView.prototype.setMobileEntitlementBadge = function(t) {
        this.entitlementBadge || (this.entitlementBadge = new EAImageView,
        this.entitlementBadge.addClass("view-navbar-entitlement-badge"),
        this.addSubview(this.entitlementBadge)),
        this.entitlementBadge.src = t
    }
    ,
    UTNavigationBarView.prototype.setMobileFounderBadge = function() {
        this.setMobileEntitlementBadge("images/entitlements/fc_founder.png")
    }
    ,
    UTNavigationBarView.prototype.setMobileClubOwnerBadge = function() {
        this.setMobileEntitlementBadge("images/entitlements/fc_club_member.png")
    }
    ,
    UTNavigationBarView.prototype.hideEntitlementBadge = function() {
        this.entitlementBadge && this.entitlementBadge.setDisplay(!1)
    }
    ,
    UTNavigationBarView.prototype.setButtons = function(t, e) {
        this.setPrimaryButton(t),
        this.setSecondaryButton(e),
        this.layoutSubviews()
    }
    ,
    UTNavigationBarView.prototype.setHeader = function(t) {
        this.__title.textContent = t
    }
    ,
    UTNavigationBarView.prototype.setStyle = function(t) {
        this.currentStyle !== t && (this.removeClass(this.currentStyle),
        this.addClass(t),
        this.currentStyle = t)
    }
    ,
    UTNavigationBarView.prototype.setVisible = function(t, e, i) {
        var r = this;
        if (t = !!t,
        this.visible !== t) {
            if (e) {
                var o = this.visible ? enums.UIAnimation.FADE_OUT : enums.UIAnimation.FADE_IN;
                t && this.setVisibility(!0),
                this.perform(o, function() {
                    t || r.setVisibility(!1),
                    i && i()
                })
            } else
                this.setVisibility(t),
                i && i();
            this.visible = t
        }
    }
    ,
    UTNavigationBarView.Style = Object.freeze({
        DEFAULT: "",
        LANDSCAPE: "navbar-style-landscape",
        SECONDARY: "navbar-style-secondary"
    }),
    UTNavigationBarView
}(EATargetActionView);
UTNavigationBarView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-navigation-bar-view"),
        this.__title = document.createElement("h1"),
        this.__title.classList.add("title"),
        t.appendChild(this.__title),
        this.__root = t,
        this._generated = !0
    }
}
,
UTNavigationBarView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null
}
,
UTNavigationBarView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTNavigationContainerView = function(e) {
    function UTNavigationContainerView() {
        var t = e.call(this) || this;
        return t._navbar = null,
        t._toolbar = null,
        t
    }
    return __extends(UTNavigationContainerView, e),
    UTNavigationContainerView.prototype.dealloc = function() {
        this._navbar = null,
        this._toolbar = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTNavigationContainerView.prototype.layoutSubviews = function() {
        var e = this;
        this._subviews.forEach(function(t) {
            t.view !== e._navbar && t.view !== e._toolbar && t.container.appendChild(t.view.getRootElement())
        });
        var t = this.getRootElement();
        this._navbar && DOMKit.insertBefore(this._navbar.getRootElement(), t.firstChild),
        this._toolbar && t.appendChild(this._toolbar.getRootElement())
    }
    ,
    UTNavigationContainerView.prototype.getContentContainer = function() {
        return this.__content
    }
    ,
    UTNavigationContainerView.prototype.hasNavigationBar = function() {
        return this._navbar instanceof UTNavigationBarView
    }
    ,
    UTNavigationContainerView.prototype.hasToolbar = function() {
        return this._toolbar instanceof UTToolbarView
    }
    ,
    UTNavigationContainerView.prototype.appendNavigationBar = function(t) {
        this._navbar || (this.addSubview(t),
        this._navbar = t,
        this.layoutSubviews())
    }
    ,
    UTNavigationContainerView.prototype.removeNavigationBar = function(t) {
        this._navbar && (this._navbar.removeFromSuperview(t),
        this._navbar = null)
    }
    ,
    UTNavigationContainerView.prototype.appendToolbar = function(t) {
        this._toolbar || (this.addSubview(t),
        this._toolbar = t,
        this.layoutSubviews())
    }
    ,
    UTNavigationContainerView.prototype.removeToolbar = function(t) {
        this._toolbar && (this._toolbar.removeFromSuperview(t),
        this._toolbar = null)
    }
    ,
    UTNavigationContainerView.prototype.setNavigationContext = function(t) {
        var e = this.getContentContainer();
        e && (this.addSubview(t, e),
        e.appendChild(t.getRootElement()))
    }
    ,
    UTNavigationContainerView.prototype._applyBarDisplayAnimation = function(t) {
        var e = this;
        t.style.transition = "top 0.3s, bottom 0.3s",
        this._addListener(EventType.TRANSITIONEND, t, function() {
            t.style.transition = "",
            e._removeListenersByNS("barAnimate")
        }
        .bind(this), "barAnimate")
    }
    ,
    UTNavigationContainerView.prototype.showNavigationBar = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            e._navbar && e.__content && (t && e._applyBarDisplayAnimation(e.__content),
            e.__content.style.top = e._navbar.getRootElement().offsetHeight + "px",
            e._navbar.setVisible(!0, t))
        })
    }
    ,
    UTNavigationContainerView.prototype.hideNavigationBar = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            e._navbar && e.__content && (t && e._applyBarDisplayAnimation(e.__content),
            e.__content.style.top = "",
            e._navbar.setVisible(!1, t))
        })
    }
    ,
    UTNavigationContainerView.prototype.showToolbar = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            e._toolbar && e.__content && (t && e._applyBarDisplayAnimation(e.__content),
            e.__content.style.bottom = e._toolbar.getRootElement().offsetHeight + "px",
            e._toolbar.setVisible(!0, t))
        })
    }
    ,
    UTNavigationContainerView.prototype.hideToolbar = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            e._toolbar && e.__content && (t && e._applyBarDisplayAnimation(e.__content),
            e.__content.style.bottom = "",
            e._toolbar.setVisible(!1, t))
        })
    }
    ,
    UTNavigationContainerView
}(EAView);
UTNavigationContainerView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("section");
        t.classList.add("ut-navigation-container-view"),
        this.__content = document.createElement("div"),
        this.__content.classList.add("ut-navigation-container-view--content"),
        t.appendChild(this.__content),
        this.__root = t,
        this._generated = !0
    }
}
,
UTNavigationContainerView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__content = null
}
,
UTNavigationContainerView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTToolbarButtonControl = function(t) {
    function UTToolbarButtonControl() {
        return t.call(this) || this
    }
    return __extends(UTToolbarButtonControl, t),
    UTToolbarButtonControl
}(UTButtonControl);
UTToolbarButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ut-toolbar-button-control"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTToolbarButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTToolbarButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTToolbarView = function(t) {
    function UTToolbarView() {
        return t.call(this) || this
    }
    return __extends(UTToolbarView, t),
    UTToolbarView.prototype.setButtons = function(t) {
        var e = this;
        this.removeSubviews(),
        t.forEach(function(t) {
            return e.addSubview(t)
        }, this),
        this.layoutSubviews()
    }
    ,
    UTToolbarView.prototype.setVisible = function(t, e, i) {
        var r = this;
        if (void 0 === e && (e = !1),
        t = !!t,
        this.visible !== t) {
            if (e) {
                var o = this.visible ? enums.UIAnimation.FADE_OUT : enums.UIAnimation.FADE_IN;
                t && this.setVisibility(!0),
                this.perform(o, function() {
                    t || r.setVisibility(!1),
                    i && i()
                })
            } else
                this.setVisibility(t),
                i && i();
            this.visible = t
        }
    }
    ,
    UTToolbarView
}(EAView);
UTToolbarView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("nav");
        t.classList.add("ut-toolbar-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTToolbarView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTToolbarView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTNavigationController = function(r) {
    function UTNavigationController(t, e) {
        var i = r.call(this) || this;
        return i.navigationBar = null != t ? t : new UTNavigationBarView,
        i.toolbar = null != e ? e : new UTToolbarView,
        i.backButton = new UTNavigationButtonControl,
        i.rootController = null,
        i.currentView = null,
        i.isTransitioning = !1,
        i.isNavVisible = !1,
        i.isToolbarVisible = !1,
        i
    }
    return __extends(UTNavigationController, r),
    UTNavigationController.prototype.init = function() {
        if (!this.initialized) {
            r.prototype.init.call(this);
            var t = this.getRootController();
            t.initialized || t.init();
            var e = this.getPrimaryNavigationItem();
            e.init(),
            e.addTarget(this, this._eBackButtonTapped, EventType.TAP),
            this.navigationBar.init(),
            this.toolbar.init()
        }
    }
    ,
    UTNavigationController.prototype.initWithRootController = function(t) {
        this.initialized || (this.rootController = t,
        this.init(),
        this.addChildViewController(t))
    }
    ,
    UTNavigationController.prototype.dealloc = function() {
        for (this.navigationBar && this.navigationBar.dealloc(),
        this.toolbar && this.toolbar.dealloc(),
        this.getPrimaryNavigationItem().dealloc(),
        this.rootController = null,
        this.currentView = null; 0 < this.childViewControllers.length; )
            this.childViewControllers[0].dealloc();
        this.childViewControllers = [],
        r.prototype.dealloc.call(this)
    }
    ,
    UTNavigationController.prototype._getRootControllerInstance = function() {
        return new EAViewController
    }
    ,
    UTNavigationController.prototype._getViewInstanceFromData = function() {
        return new UTNavigationContainerView
    }
    ,
    UTNavigationController.prototype.viewDidAppear = function() {
        if (r.prototype.viewDidAppear.call(this),
        !this.currentController && this.rootController) {
            this.show(this.rootController, !0);
            var t = this.getRootPrimaryNavigationItem();
            t && (this.navigationBar.setPrimaryButton(t),
            this.navigationBar.layoutSubviews())
        }
    }
    ,
    UTNavigationController.prototype.setNavigationTitle = function(t) {
        this.navigationBar.setHeader(t)
    }
    ,
    UTNavigationController.prototype.setNavigationStyle = function(t) {
        this.navigationBar.setStyle(t)
    }
    ,
    UTNavigationController.prototype.setNavigationVisibility = function(t, e) {
        if (this.isNavVisible !== t) {
            var i = this.getView();
            this.isNavVisible = t,
            i.hasNavigationBar() || i.appendNavigationBar(this.navigationBar),
            this.isNavVisible ? i.showNavigationBar(e) : i.hideNavigationBar(e)
        }
    }
    ,
    UTNavigationController.prototype.setToolbarVisibility = function(t, e) {
        if (this.isToolbarVisible !== t) {
            var i = this.getView();
            this.isToolbarVisible = t,
            i.hasToolbar() || i.appendToolbar(this.toolbar),
            this.isToolbarVisible ? i.showToolbar(e) : i.hideToolbar(e)
        }
    }
    ,
    UTNavigationController.prototype.getRootController = function() {
        return this.rootController || (this.rootController = this._getRootControllerInstance(),
        this.addChildViewController(this.rootController)),
        this.rootController
    }
    ,
    UTNavigationController.prototype.getPreviousController = function(t) {
        var e;
        if (void 0 === t && (t = 1),
        t < 1 && (t = 1),
        this.currentController) {
            var i = this.childViewControllers.indexOf(this.currentController);
            return null !== (e = this.childViewControllers[i - t]) && void 0 !== e ? e : null
        }
        return null
    }
    ,
    UTNavigationController.prototype.getCurrentController = function() {
        return this.currentController
    }
    ,
    UTNavigationController.prototype.getCurrentView = function() {
        return this.currentView
    }
    ,
    UTNavigationController.prototype.getToolbarItems = function() {
        return []
    }
    ,
    UTNavigationController.prototype.getPrimaryNavigationItem = function() {
        return this.backButton
    }
    ,
    UTNavigationController.prototype.getRootPrimaryNavigationItem = function() {
        return null
    }
    ,
    UTNavigationController.prototype.getSecondaryNavigationItem = function() {
        return this.currentController ? this.currentController.getNavigationItem() : null
    }
    ,
    UTNavigationController.prototype.show = function(t, e) {
        var i = this;
        if (void 0 === e && (e = !1),
        this.currentController !== t) {
            gClickShield.showShield(EAClickShieldView.Shield.INTERACTION),
            this.navigationBar.setInteractionState(!1),
            this.toolbar.setInteractionState(!1);
            var r = this.currentController;
            if (this.currentController = t,
            this.currentView = t.getView(),
            r) {
                r.viewWillDisappear();
                var o = r.getView();
                o && o.removeFromSuperview(e)
            }
            this.currentController.viewWillAppear(),
            this.navigationBar.setHeader(this.getNavigationTitle());
            var n = this.getSecondaryNavigationItem();
            n && (this.navigationBar.setSecondaryButton(n),
            this.navigationBar.layoutSubviews());
            var a = services.User.getUser()
              , s = null == a ? void 0 : a.getSelectedPersona();
            this.currentView instanceof UTHomeHubView && s && isPhone() ? (s.isFounder ? this.navigationBar.setMobileFounderBadge() : s.isClubOwner && this.navigationBar.setMobileClubOwnerBadge(),
            this.navigationBar.layoutSubviews()) : this.navigationBar.hideEntitlementBadge(),
            this.toolbar.setButtons(this.currentController.getToolbarItems());
            var l = this.getView();
            this.currentView.getSuperview() !== l && (this.willPush(this.currentController),
            l.setNavigationContext(this.currentView),
            this.didPush(this.currentController)),
            this.navigationBar.setInteractionState(!0),
            this.toolbar.setInteractionState(!0),
            r && (r.viewDidDisappear(),
            this.childViewControllers.indexOf(r) < 0 && r.dealloc()),
            this.currentController.viewDidAppear(),
            setTimeout(function() {
                i.currentController && i.currentController.className;
                gClickShield.hideShield(EAClickShieldView.Shield.INTERACTION)
            }, 300)
        }
    }
    ,
    UTNavigationController.prototype.pushViewController = function(t, e) {
        this.isTransitioning || 0 <= this.childViewControllers.indexOf(t) || (this.isTransitioning = !0,
        1 === this.childViewControllers.length && (this.navigationBar.setPrimaryButton(this.getPrimaryNavigationItem()),
        this.navigationBar.layoutSubviews()),
        this.addChildViewController(t),
        this.show(t, e),
        this.isTransitioning = !1)
    }
    ,
    UTNavigationController.prototype.popViewController = function(t) {
        if (this.isTransitioning)
            return null;
        var e = this.childViewControllers.length - 1
          , i = this.childViewControllers[e]
          , r = this.childViewControllers[e - 1];
        if (!i || !r)
            return DebugUtils.Assert(!1, "Expected the stack to not be empty or at the root already"),
            null;
        if (this.isTransitioning = !0,
        this.show(r, t),
        this.removeChildViewController(i),
        i.dealloc(),
        this.childViewControllers.length <= 1) {
            var o = this.getRootPrimaryNavigationItem();
            this.navigationBar.setPrimaryButton(o),
            this.navigationBar.layoutSubviews()
        }
        return this.isTransitioning = !1,
        i
    }
    ,
    UTNavigationController.prototype.popToViewController = function(t, e) {
        if (void 0 === e && (e = !1),
        this.isTransitioning || !this.currentController || t === this.currentController)
            return null;
        var i = null;
        for (this.isTransitioning = !0; 1 <= this.childViewControllers.length && (i = this.childViewControllers[this.childViewControllers.length - 1]) !== t; )
            i && this.removeChildViewController(i),
            i !== this.currentController && i.dealloc();
        if (DebugUtils.Assert(1 <= this.childViewControllers.length, "View controller not found in navigation stack; stack is now empty."),
        this.childViewControllers.length <= 1) {
            var r = this.getRootPrimaryNavigationItem();
            this.navigationBar.setPrimaryButton(r),
            this.navigationBar.layoutSubviews()
        }
        return this.show(this.childViewControllers[this.childViewControllers.length - 1], e),
        this.isTransitioning = !1,
        i
    }
    ,
    UTNavigationController.prototype.popToRootViewController = function(t) {
        return void 0 === t && (t = !1),
        0 < this.childViewControllers.length ? this.popToViewController(this.childViewControllers[0], t) : null
    }
    ,
    UTNavigationController.prototype.getNavigationTitle = function() {
        return this.currentController ? this.currentController.getNavigationTitle() : this.rootController ? this.rootController.getNavigationTitle() : ""
    }
    ,
    UTNavigationController.prototype.willPush = function(t) {}
    ,
    UTNavigationController.prototype.didPush = function(t) {}
    ,
    UTNavigationController.prototype._eBackButtonTapped = function(t, e, i) {
        this.popViewController()
    }
    ,
    UTNavigationController
}(EAViewController)
  , UTPlayerHealthController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPlayerHealthController() {
        var t = e.call(this) || this;
        return t.timeTrackingStartTimestamp = 0,
        t.localWriteInterval = null,
        t.serverWriteInterval = null,
        t
    }
    return __extends(UTPlayerHealthController, e),
    UTPlayerHealthController.prototype.dealloc = function() {
        this.timeTrackingStartTimestamp = 0,
        this.localWriteInterval = null,
        this.serverWriteInterval = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTPlayerHealthController.prototype.getUnrecordedTimeSpent = function() {
        var t = 0 < this.timeTrackingStartTimestamp ? Date.now() - this.timeTrackingStartTimestamp : 0;
        return Math.round(t / MS_PER_SECOND)
    }
    ,
    UTPlayerHealthController.prototype.startTimeTracking = function() {
        services.PlayerHealth.isTrackingEnabled() && (this.timeTrackingStartTimestamp = Date.now(),
        this.startSaveIntervals(),
        services.PlayerHealth.readPlayerHealth(),
        services.PlayerHealth.trackUnsavedTimeSpent())
    }
    ,
    UTPlayerHealthController.prototype.stopTimeTracking = function() {
        var t = this.getUnrecordedTimeSpent();
        this.stopSaveIntervals(),
        services.PlayerHealth.isTrackingEnabled() && 0 < t && services.PlayerHealth.trackTimeSpent(t),
        this.timeTrackingStartTimestamp = 0
    }
    ,
    UTPlayerHealthController.prototype.startSaveIntervals = function() {
        var t = this
          , e = getAppMain().getConfigRepository()
          , i = e.getConfigNumber(EAConfigurationRepository.KEY_PLAYER_HEALTH_LOCAL_WRITE_INTERVAL);
        this.localWriteInterval = new EAIntervalController((0 < i ? i : 60) * MS_PER_SECOND,function() {
            return t.logInterval()
        }
        );
        var r = e.getConfigNumber(EAConfigurationRepository.KEY_PLAYER_HEALTH_SERVER_WRITE_INTERVAL);
        this.serverWriteInterval = new EAIntervalController((0 < r ? r : 600) * MS_PER_SECOND,function() {
            return t.serverWrite()
        }
        ),
        this.localWriteInterval.start(),
        this.serverWriteInterval.start()
    }
    ,
    UTPlayerHealthController.prototype.stopSaveIntervals = function() {
        this.localWriteInterval && this.serverWriteInterval && (this.localWriteInterval.dealloc(),
        this.serverWriteInterval.dealloc())
    }
    ,
    UTPlayerHealthController.prototype.logInterval = function() {
        var t = this.getUnrecordedTimeSpent();
        0 < t && services.PlayerHealth.trackTimeSpent(t),
        this.timeTrackingStartTimestamp = Date.now()
    }
    ,
    UTPlayerHealthController.prototype.serverWrite = function() {
        var i = this;
        services.PlayerHealth.persistTimeSpent().observe(this, function(t, e) {
            t.unobserve(i),
            DebugUtils.Assert(e.success, "There was an issue persisting Time Spent to UTAS.")
        })
    }
    ,
    UTPlayerHealthController
}(EAObject))
  , UTRootPresentationController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTRootPresentationController(t, e) {
        return i.call(this, t, e) || this
    }
    return __extends(UTRootPresentationController, i),
    UTRootPresentationController.prototype.presentInContainerContext = function() {
        var t = this.presentedViewController.getView()
          , e = t.getRootElement();
        e.style.width = "100%",
        e.style.height = "100%",
        this.insertView(t, this.presentingViewController.getView())
    }
    ,
    UTRootPresentationController
}(UTPresentationController))
  , UTTabBarItemNotificationView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTTabBarItemNotificationView() {
        return t.call(this) || this
    }
    return __extends(UTTabBarItemNotificationView, t),
    UTTabBarItemNotificationView.prototype.setNumber = function(t) {
        var e = services.Localization
          , i = 99 < t ? e.localize("tab.red-dot.max", [e.localizeNumber(99)]) : e.localizeNumber(t);
        this.getRootElement().textContent = i
    }
    ,
    UTTabBarItemNotificationView
}(EAView));
UTTabBarItemNotificationView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-tab-bar-item-notif"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTabBarItemNotificationView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTTabBarItemNotificationView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTabBarItemView = function(e) {
    function UTTabBarItemView() {
        var t = e.call(this) || this;
        return t.tag = -1,
        t.notifBubble = null,
        t
    }
    return __extends(UTTabBarItemView, e),
    UTTabBarItemView.prototype.dealloc = function() {
        this.removeNotificationBubble(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTTabBarItemView.prototype.setTag = function(t) {
        this.tag = t
    }
    ,
    UTTabBarItemView.prototype.getTag = function() {
        return this.tag
    }
    ,
    UTTabBarItemView.prototype.setText = function(t) {
        this.__buttonText.textContent = t
    }
    ,
    UTTabBarItemView.prototype.removeNotificationBubble = function() {
        this.notifBubble && (this.notifBubble.dealloc(),
        this.notifBubble = null)
    }
    ,
    UTTabBarItemView.prototype.addNotificationBubble = function() {
        this.notifBubble || (this.notifBubble = new UTTabBarItemNotificationView,
        this.addSubview(this.notifBubble),
        this.layoutSubviews())
    }
    ,
    UTTabBarItemView.prototype.togglePopToRootDisplayStyle = function(t) {
        this.toggleClass(UTTabBarItemView.STYLE.DEFAULT_TO_ROOT, t)
    }
    ,
    UTTabBarItemView.STYLE = {
        NONE: "",
        DEFAULT_TO_ROOT: "ut-tab-bar-item--default-to-root"
    },
    UTTabBarItemView
}(UTButtonControl);
UTTabBarItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ut-tab-bar-item"),
        this.__buttonText = document.createElement("span"),
        t.appendChild(this.__buttonText),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTabBarItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__buttonText = null
}
,
UTTabBarItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTabBarView = function(e) {
    function UTTabBarView() {
        var t = e.call(this) || this;
        return t.tabItems = [],
        t
    }
    return __extends(UTTabBarView, e),
    UTTabBarView.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this.tabItems.forEach(function(t) {
            t.removeTarget(this, this._eTabSelected, EventType.TAP)
        }, this)
    }
    ,
    UTTabBarView.prototype.layoutSubviews = function() {
        this._subviews.forEach(function(t) {
            var e = t.view.getRootElement();
            t.container === this.getRootElement() ? t.container.insertBefore(e, this.__navTabBar) : t.container.appendChild(e)
        }, this)
    }
    ,
    UTTabBarView.prototype.setTabItems = function(t) {
        this.tabItems.forEach(function(t) {
            t.removeFromSuperview()
        }, this),
        this.tabItems = t.slice(),
        this.tabItems.forEach(this.setupTabItem, this)
    }
    ,
    UTTabBarView.prototype.setupTabItem = function(t) {
        t.addTarget(this, this._eTabSelected.bind(this), EventType.TAP),
        this.addSubview(t, this.__navTabBar)
    }
    ,
    UTTabBarView.prototype.setSelectedIndex = function(i) {
        this.tabItems[i] && this.tabItems.forEach(function(t, e) {
            t.toggleClass(enums.UIState.SELECTED, e === i)
        })
    }
    ,
    UTTabBarView.prototype.toggleSubNavDisplay = function(t) {
        DOMKit.toggleDisplayStyle(this.__navTabBar, t)
    }
    ,
    UTTabBarView.prototype.toggleItemNotification = function(t, e) {
        var i = this.tabItems[t];
        i && (e ? i.addNotificationBubble() : i.removeNotificationBubble())
    }
    ,
    UTTabBarView.prototype._eTabSelected = function(t, e, i) {
        if (this.isInteractionEnabled()) {
            var r = this.tabItems.indexOf(t);
            this._triggerActions(UTTabBarView.Event.TAB_SELECTED, {
                index: r,
                tag: t.getTag()
            })
        }
    }
    ,
    UTTabBarView.Event = {
        TAB_SELECTED: "UTTabBarView.Event.TAB_SELECTED"
    },
    UTTabBarView
}(EATargetActionView);
UTTabBarView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("section");
        t.classList.add("ut-tab-bar-view"),
        this.__navTabBar = document.createElement("nav"),
        this.__navTabBar.classList.add("ut-tab-bar"),
        t.appendChild(this.__navTabBar),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTabBarView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__navTabBar = null
}
,
UTTabBarView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTabBarController = function(e) {
    function UTTabBarController() {
        var t = e.call(this) || this;
        return t.currentView = null,
        t
    }
    return __extends(UTTabBarController, e),
    UTTabBarController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this),
        !this.currentController && 0 < this.childViewControllers.length && (this.show(this.childViewControllers[0]),
        this.getView().setSelectedIndex(0))
    }
    ,
    UTTabBarController.prototype.initWithViewControllers = function(t) {
        var e = this;
        if (!this.initialized) {
            var i = [];
            t.forEach(function(t) {
                e.addChildViewController(t),
                t.tabBarItem || (t.tabBarItem = new UTTabBarItemView,
                t.tabBarItem.init(),
                t.tabBarItem.setText(t.getNavigationTitle())),
                i.push(t.tabBarItem)
            });
            var r = this.getView();
            r.setTabItems(i),
            r.addTarget(this, this._eTabSelected, UTTabBarView.Event.TAB_SELECTED),
            this.init()
        }
    }
    ,
    UTTabBarController.prototype._getViewInstanceFromData = function() {
        return new UTTabBarView
    }
    ,
    UTTabBarController.prototype.getCurrentViewController = function() {
        return this.currentController
    }
    ,
    UTTabBarController.prototype.setSelectedIndex = function(t) {
        var e = this.childViewControllers[t];
        e instanceof EAViewController && (this.getView().setSelectedIndex(t),
        this.show(e))
    }
    ,
    UTTabBarController.prototype._getIndexOfTabBarItemByTag = function(t) {
        for (var e = -1, i = this.childViewControllers.length, r = 0; r < i; r++) {
            var o = this.childViewControllers[r].tabBarItem;
            if (o && o.getTag() === t) {
                e = r;
                break
            }
        }
        return e
    }
    ,
    UTTabBarController.prototype.setSelectedIndexByTag = function(t) {
        var e = this._getIndexOfTabBarItemByTag(t);
        0 <= e && this.setSelectedIndex(e)
    }
    ,
    UTTabBarController.prototype.show = function(t, e) {
        if (void 0 === e && (e = !1),
        this.currentController !== t) {
            var i = this.getView();
            gClickShield.showShield(EAClickShieldView.Shield.INTERACTION),
            i.setInteractionState(!1);
            var r = this.currentController;
            if (this.currentController = t,
            this.currentView = t.getView(),
            r) {
                r.viewWillDisappear();
                var o = r.getView();
                o && o.removeFromSuperview(e)
            }
            this.currentController.viewWillAppear(),
            this.currentView.getSuperview() !== i && (i.addSubview(this.currentView),
            i.layoutSubviews()),
            i.setInteractionState(!0),
            r && r.viewDidDisappear(),
            this.currentController.viewDidAppear(),
            setTimeout(function() {
                return gClickShield.hideShield(EAClickShieldView.Shield.INTERACTION)
            }, 300)
        }
    }
    ,
    UTTabBarController.prototype._eTabSelected = function(t, e, i) {
        var r = i && i.index || 0
          , o = this.childViewControllers[r];
        o instanceof EAViewController && (this.getView().setSelectedIndex(r),
        this.show(o))
    }
    ,
    UTTabBarController
}(EAViewController)
  , UTGameTabBarController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTGameTabBarController() {
        return r.call(this) || this
    }
    return __extends(UTGameTabBarController, r),
    UTGameTabBarController.prototype.viewDidAppear = function() {
        r.prototype.viewDidAppear.call(this);
        var t = services.User.getUser();
        t && this.toggleStoreNotificationBubble(0 < t.unopenedPacks),
        getDefaultDispatcher().addObserver(AppNotification.STORE_PACK_COUNT_CHANGE, this, this.nStorePackChange)
    }
    ,
    UTGameTabBarController.prototype.viewWillDisappear = function() {
        r.prototype.viewWillDisappear.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.STORE_PACK_COUNT_CHANGE, this)
    }
    ,
    UTGameTabBarController.prototype.toggleStoreNotificationBubble = function(t) {
        var e = this._getIndexOfTabBarItemByTag(UTGameTabBarController.TabTag.STORE);
        0 <= e && this.getView().toggleItemNotification(e, t)
    }
    ,
    UTGameTabBarController.prototype._eTabSelected = function(t, e, i) {
        i.index !== UTGameTabBarController.TabTag.LEADERBOARDS || services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.LEADERBOARDS_ENABLED) ? (this.currentController instanceof UTNavigationController && this.currentController.popToRootViewController(),
        r.prototype._eTabSelected.call(this, t, e, i)) : services.Notification.queue([services.Localization.localize("popup.error.LeaderboardsDown"), UINotificationType.NEGATIVE])
    }
    ,
    UTGameTabBarController.prototype.nStorePackChange = function(t, e, i) {
        this.toggleStoreNotificationBubble(0 < i.unopenedPacks)
    }
    ,
    UTGameTabBarController.TabTag = Object.freeze({
        HOME: 0,
        SQUADS: 1,
        SBC: 2,
        TRANSFERS: 3,
        STORE: 4,
        CLUB: 5,
        SETTINGS: 6,
        LEADERBOARDS: 7,
        STADIUM: 8
    }),
    UTGameTabBarController
}(UTTabBarController))
  , UTPersonaTableCellView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPersonaTableCellView(t, e) {
        var i = r.call(this) || this;
        return i.club = e,
        i.persona = t,
        i
    }
    return __extends(UTPersonaTableCellView, r),
    UTPersonaTableCellView.prototype.dealloc = function() {
        r.prototype.dealloc.call(this)
    }
    ,
    UTPersonaTableCellView.prototype.setInteractionState = function(t) {
        r.prototype.setInteractionState.call(this, t),
        this.toggleClass(enums.UIRowActionClass.MORE, t)
    }
    ,
    UTPersonaTableCellView.prototype.setPersona = function(t) {
        this.persona = t,
        (!this.club || this.persona.getValidClubs().indexOf(this.club) < 0) && (this.club = this.persona.getCurrentClub())
    }
    ,
    UTPersonaTableCellView.prototype.setClub = function(t) {
        var e = 0 <= this.persona.getValidClubs().indexOf(t);
        DebugUtils.Assert(e, "Assigned club must be associated with the current persona"),
        e && (this.club = t)
    }
    ,
    UTPersonaTableCellView.prototype.setPlatformClass = function(t) {
        this.removeClass("xbox playstation pc nintendoSwitch"),
        this.addClass(t)
    }
    ,
    UTPersonaTableCellView.prototype.render = function() {
        var t, e, i;
        switch (null === (t = this.club) || void 0 === t ? void 0 : t.platform) {
        case GamePlatform.XBL:
            this.setPlatformClass("xbox");
            break;
        case GamePlatform.PSN:
            this.setPlatformClass("playstation");
            break;
        case GamePlatform.PC:
            this.setPlatformClass("pc");
            break;
        case GamePlatform.SWI:
            this.setPlatformClass("nintendoSwitch");
            break;
        default:
            DebugUtils.Assert(!1, "Unrecognized gameSku.")
        }
        this.__clubName.textContent = null !== (i = null === (e = this.club) || void 0 === e ? void 0 : e.name) && void 0 !== i ? i : BLANK_STR,
        this.__personaName.textContent = this.persona.name
    }
    ,
    UTPersonaTableCellView.prototype._touchStarted = function(t) {
        r.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTPersonaTableCellView.prototype._touchMoved = function(t) {
        r.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTPersonaTableCellView.prototype._touchEnded = function(t) {
        r.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTPersonaTableCellView.prototype._tapDetected = function(t) {
        r.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP, {
            club: this.club,
            persona: this.persona
        })
    }
    ,
    UTPersonaTableCellView
}(EATargetActionView));
UTPersonaTableCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ut-persona-selector-item"),
        t.classList.add("ut-group-button");
        var e = document.createElement("div");
        e.classList.add("ut-persona-selector-item-details"),
        this.__personaIcon = document.createElement("div"),
        this.__personaIcon.classList.add("btn-icon"),
        e.appendChild(this.__personaIcon),
        this.__personaName = document.createElement("span"),
        this.__personaName.classList.add("btn-text"),
        e.appendChild(this.__personaName),
        this.__clubName = document.createElement("span"),
        this.__clubName.classList.add("btn-subtext"),
        e.appendChild(this.__clubName),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPersonaTableCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__personaIcon = null,
    this.__personaName = null,
    this.__clubName = null
}
,
UTPersonaTableCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSectionedTableHeaderView = function(e) {
    function UTSectionedTableHeaderView() {
        return e.call(this) || this
    }
    return __extends(UTSectionedTableHeaderView, e),
    UTSectionedTableHeaderView.prototype.init = function() {
        e.prototype.init.call(this),
        this._actionButton.init(),
        this._bulkActionButton.init(),
        this.hideBulkActionButton(),
        this.__subtext.style.display = "none",
        this._actionButton.addTarget(this, this.onActionButtonTapped, EventType.TAP),
        this._bulkActionButton.addTarget(this, this.onBulkActionButtonTapped, EventType.TAP)
    }
    ,
    UTSectionedTableHeaderView.prototype.dealloc = function() {
        this._actionButton.removeTarget(this, this.onActionButtonTapped, EventType.TAP),
        this._bulkActionButton.removeTarget(this, this.onBulkActionButtonTapped, EventType.TAP),
        e.prototype.dealloc.call(this)
    }
    ,
    UTSectionedTableHeaderView.prototype.setInteractionState = function(t) {
        e.prototype.setInteractionState.call(this, t),
        this._actionButton.setInteractionState(t)
    }
    ,
    UTSectionedTableHeaderView.prototype.setActionButtonText = function(t) {
        this._actionButton.setText(t)
    }
    ,
    UTSectionedTableHeaderView.prototype.hideActionButton = function() {
        this._actionButton.hide()
    }
    ,
    UTSectionedTableHeaderView.prototype.showActionButton = function() {
        this._actionButton.show()
    }
    ,
    UTSectionedTableHeaderView.prototype.showBulkActionButton = function() {
        this._bulkActionButton.show()
    }
    ,
    UTSectionedTableHeaderView.prototype.hideBulkActionButton = function() {
        this._bulkActionButton.hide()
    }
    ,
    UTSectionedTableHeaderView.prototype.toggleOptionButton = function(t) {
        this._actionButton.setDisplay(t)
    }
    ,
    UTSectionedTableHeaderView.prototype.toggleButtonEnabled = function(t) {
        this._actionButton.setInteractionState(t)
    }
    ,
    UTSectionedTableHeaderView.prototype.setText = function(t) {
        this.__text.textContent = t
    }
    ,
    UTSectionedTableHeaderView.prototype.setSubText = function(t, e) {
        this.__subtext.style.display = "block",
        this.__subtext.textContent = t,
        e && DOMKit.addClass(this.__subtext, e)
    }
    ,
    UTSectionedTableHeaderView.prototype.onActionButtonTapped = function() {
        this._triggerActions(EventType.TAP)
    }
    ,
    UTSectionedTableHeaderView.prototype.onBulkActionButtonTapped = function() {
        this._triggerActions(UTSectionedTableHeaderView.Event.BULK_ACTION)
    }
    ,
    UTSectionedTableHeaderView.Event = {
        BULK_ACTION: "UTSectionedTableHeaderView.BULK_ACTION"
    },
    UTSectionedTableHeaderView
}(EATargetActionView);
UTSectionedTableHeaderView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("header");
        t.classList.add("ut-section-header-view"),
        this.__text = document.createElement("h2"),
        this.__text.classList.add("title"),
        t.appendChild(this.__text),
        this.__subtext = document.createElement("div"),
        this.__subtext.classList.add("subtitle"),
        t.appendChild(this.__subtext),
        this._actionButton = new UTStandardButtonControl,
        this._actionButton.getRootElement().classList.add("section-header-btn"),
        this._actionButton.getRootElement().classList.add("mini"),
        this._actionButton.getRootElement().classList.add("call-to-action"),
        t.appendChild(this._actionButton.getRootElement()),
        this._bulkActionButton = new UTImageButtonControl,
        this._bulkActionButton.getRootElement().classList.add("ellipsis-btn"),
        this._bulkActionButton.getRootElement().classList.add("ut-image-button-control"),
        t.appendChild(this._bulkActionButton.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSectionedTableHeaderView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__text = null,
    this.__subtext = null,
    this._actionButton.destroy(),
    this._bulkActionButton.destroy()
}
,
UTSectionedTableHeaderView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPersonaSelectorView = function(e) {
    function UTPersonaSelectorView() {
        var t = e.call(this) || this;
        return t._personaRows = [],
        t
    }
    return __extends(UTPersonaSelectorView, e),
    UTPersonaSelectorView.prototype.init = function() {
        e.prototype.init.call(this);
        var t = services.Localization;
        this._currentPersonaTitle.init(),
        this._currentPersonaTitle.setText(t.localize("title.selectedpersona")),
        this._currentPersonaTitle.hideActionButton(),
        this._changePersonaTitle.init(),
        this._changePersonaTitle.setText(t.localize("title.personaselector")),
        this._changePersonaTitle.hideActionButton(),
        this.__helpText.textContent = t.localize("persona.helptext")
    }
    ,
    UTPersonaSelectorView.prototype.dealloc = function() {
        this.clearPersonaRows(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTPersonaSelectorView.prototype.clearPersonaRows = function() {
        this._personaRows.forEach(function(t) {
            t.dealloc()
        }),
        this._personaRows = []
    }
    ,
    UTPersonaSelectorView.prototype.setSelectedPersona = function(t) {
        this._selectedPersona.setPersona(t);
        var e = t.getCurrentClub();
        e && this._selectedPersona.setClub(e),
        this._selectedPersona.render()
    }
    ,
    UTPersonaSelectorView.prototype.setSelectablePersonas = function(t) {
        var r = this;
        this.clearPersonaRows(),
        DOMKit.empty(this.__personaList),
        t.forEach(function(i) {
            i.getValidClubs().forEach(function(t) {
                var e = new UTPersonaTableCellView(i,t);
                e.render(),
                e.addTarget(r, r.onPersonaSelect, EventType.TAP),
                e.setInteractionState(!0),
                r._personaRows.push(e),
                r.__personaList.appendChild(e.getRootElement())
            }, r)
        }, this)
    }
    ,
    UTPersonaSelectorView.prototype.onPersonaSelect = function(t, e, i) {
        TelemetryManager.trackEvent(TelemetryManager.Sections.MISC, TelemetryManager.Categories.BUTTON_PRESS, "Change Persona"),
        this._triggerActions(EventType.TAP, i)
    }
    ,
    UTPersonaSelectorView
}(EATargetActionView);
UTPersonaSelectorView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-persona-selector"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content");
        var i = document.createElement("section");
        this._currentPersonaTitle = new UTSectionedTableHeaderView,
        i.appendChild(this._currentPersonaTitle.getRootElement());
        var r = document.createElement("div");
        r.classList.add("ut-button-group"),
        this._selectedPersona = new UTPersonaTableCellView,
        r.appendChild(this._selectedPersona.getRootElement()),
        this.__helpText = document.createElement("p"),
        r.appendChild(this.__helpText),
        i.appendChild(r),
        e.appendChild(i);
        var o = document.createElement("section");
        this._changePersonaTitle = new UTSectionedTableHeaderView,
        o.appendChild(this._changePersonaTitle.getRootElement()),
        this.__personaList = document.createElement("div"),
        this.__personaList.classList.add("ut-button-group"),
        o.appendChild(this.__personaList),
        e.appendChild(o),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPersonaSelectorView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._currentPersonaTitle.destroy(),
    this._selectedPersona.destroy(),
    this.__helpText = null,
    this._changePersonaTitle.destroy(),
    this.__personaList = null
}
,
UTPersonaSelectorView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPersonaSelectorViewController = function(o) {
    function UTPersonaSelectorViewController() {
        return o.call(this) || this
    }
    return __extends(UTPersonaSelectorViewController, o),
    UTPersonaSelectorViewController.prototype.init = function() {
        o.prototype.init.call(this),
        this.getView().addTarget(this, this.onPersonaSelected, EventType.TAP)
    }
    ,
    UTPersonaSelectorViewController.prototype._getViewInstanceFromData = function() {
        return new UTPersonaSelectorView
    }
    ,
    UTPersonaSelectorViewController.prototype._getTelemetryId = function() {
        return "Settings - Persona Selector"
    }
    ,
    UTPersonaSelectorViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.personaselector")
    }
    ,
    UTPersonaSelectorViewController.prototype.viewDidAppear = function() {
        var t;
        o.prototype.viewDidAppear.call(this),
        TelemetryManager.trackPage(TelemetryManager.Sections.HOME, "Persona Selector");
        var e = this.getView()
          , i = services.User.getUser()
          , r = null !== (t = null == i ? void 0 : i.getSelectedPersona()) && void 0 !== t ? t : null;
        i && r && (e.setSelectedPersona(r),
        e.setSelectablePersonas(i.getUnselectedPersonas()))
    }
    ,
    UTPersonaSelectorViewController.prototype.changePersona = function(t, e) {
        hasConnection() ? (t.sku = e,
        getAppMain().getLoginController().switchPersona(t)) : (utils.PopupManager.showNoInternetConnectionPopup(),
        this.getView().setInteractionState(!0))
    }
    ,
    UTPersonaSelectorViewController.prototype.onPersonaSelected = function(t, e, i) {
        var r = this
          , o = this.getView();
        o.setInteractionState(!1),
        DebugUtils.Assert(JSUtils.isValid(i.club), "Expected a club associated with the persona."),
        utils.PopupManager.showConfirmation(utils.PopupManager.Confirmations.CHANGE_PERSONA, {
            params: []
        }, function() {
            var t, e;
            return r.changePersona(i.persona, null !== (e = null === (t = i.club) || void 0 === t ? void 0 : t.sku) && void 0 !== e ? e : GameSku.UNKNOWN)
        }, function() {
            return o.setInteractionState(!0)
        })
    }
    ,
    UTPersonaSelectorViewController
}(EAViewController)
  , UTFlatButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTFlatButtonControl() {
        return t.call(this) || this
    }
    return __extends(UTFlatButtonControl, t),
    UTFlatButtonControl
}(UTButtonControl));
UTFlatButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("flat"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTFlatButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTFlatButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPersonaView = function(e) {
    function UTPersonaView() {
        var t = e.call(this) || this;
        return t.currentPlatform = "",
        t
    }
    return __extends(UTPersonaView, e),
    UTPersonaView.prototype.init = function() {
        e.prototype.init.call(this),
        this._actionBtn.setText(services.Localization.localize("more.persona")),
        this._actionBtn.init(),
        this._actionBtn.hide()
    }
    ,
    UTPersonaView.prototype.setClubBadge = function(t) {
        var e = this._imgBadge
          , i = enums.UIThemeVariation.DARK;
        e.addClass("iconActive"),
        e.onerror = function(t) {
            e.onerror = null,
            e.src = AssetLocationUtils.getBadgeImageUri(UTItemEntity.DEFAULT_ASSET_ID, i)
        }
        ,
        e.src = AssetLocationUtils.getBadgeImageUri(t, i)
    }
    ,
    UTPersonaView.prototype.setUsername = function(t) {
        this.__userName.textContent = t
    }
    ,
    UTPersonaView.prototype.setEstablishedDate = function(t) {
        this.__established.textContent = services.Localization.localizeEstablishedDate(new Date(1e3 * t))
    }
    ,
    UTPersonaView.prototype.setPlatform = function(t) {
        if (this.currentPlatform !== t) {
            switch ("" !== this.currentPlatform && this.__platform.classList.remove(this.currentPlatform),
            t) {
            case GamePlatform.XBL:
                this.currentPlatform = "xbox";
                break;
            case GamePlatform.PSN:
                this.currentPlatform = "playstation";
                break;
            case GamePlatform.PC:
                this.currentPlatform = "pc";
                break;
            case GamePlatform.SWI:
                this.currentPlatform = "nintendoSwitch";
                break;
            default:
                DebugUtils.Assert(!1, "Encountered an unsupported SKU")
            }
            this.__platform.classList.add(this.currentPlatform)
        }
    }
    ,
    UTPersonaView.prototype.getActionButton = function() {
        return this._actionBtn
    }
    ,
    UTPersonaView.prototype.setBtnText = function(t) {
        this._actionBtn.setText(t)
    }
    ,
    UTPersonaView.prototype.setBtnVisibility = function(t) {
        this._actionBtn.setDisplay(t)
    }
    ,
    UTPersonaView
}(EAView);
UTPersonaView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("persona"),
        this.__userInfo = document.createElement("div"),
        this.__userInfo.classList.add("user-info"),
        this._imgBadge = new EAImageView,
        this.__userInfo.appendChild(this._imgBadge.getRootElement());
        var e = document.createElement("div");
        e.classList.add("user-data-container"),
        this.__userName = document.createElement("h1"),
        e.appendChild(this.__userName),
        this.__established = document.createElement("h2"),
        e.appendChild(this.__established),
        this.__userInfo.appendChild(e),
        t.appendChild(this.__userInfo),
        this.__platform = document.createElement("div"),
        this.__platform.classList.add("platform"),
        this._actionBtn = new UTStandardButtonControl,
        this._actionBtn.getRootElement().classList.add("mini"),
        this.__platform.appendChild(this._actionBtn.getRootElement()),
        t.appendChild(this.__platform),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPersonaView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__userInfo = null,
    this._imgBadge.destroy(),
    this.__userName = null,
    this.__established = null,
    this.__platform = null,
    this._actionBtn.destroy()
}
,
UTPersonaView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPersonaViewController = function(c) {
    function UTPersonaViewController() {
        var t = c.call(this) || this;
        return t.showPersonaChanger = !0,
        t
    }
    return __extends(UTPersonaViewController, c),
    UTPersonaViewController.prototype.init = function() {
        this.initialized || (c.prototype.init.call(this),
        this.getView().getActionButton().addTarget(this, this._ePersonaSelectorSelected, EventType.TAP))
    }
    ,
    UTPersonaViewController.prototype._getViewInstanceFromData = function() {
        return new UTPersonaView
    }
    ,
    UTPersonaViewController.prototype.viewDidAppear = function() {
        var t, e;
        c.prototype.viewDidAppear.call(this);
        var i = this.getView()
          , r = services.Authentication.getUtasSession()
          , o = null !== (e = null === (t = r.user) || void 0 === t ? void 0 : t.getSelectedPersona()) && void 0 !== e ? e : null;
        if (i.setDisplay(JSUtils.isValid(o)),
        o) {
            var n = o.getCurrentClub()
              , a = !1;
            if (r.user)
                for (var s = r.user.getUnselectedPersonas(), l = 0; l < s.length; l++)
                    if (0 < s[l].getValidClubs().length) {
                        a = !0;
                        break
                    }
            i.setBtnVisibility(this.showPersonaChanger && a),
            i.setPlatform(o.platform),
            i.setUsername(o.name),
            n && (i.setClubBadge(n.assetId),
            i.setEstablishedDate(n.established))
        }
    }
    ,
    UTPersonaViewController.prototype._ePersonaSelectorSelected = function(t, e, i) {
        var r = this.getNavigationController();
        if (r) {
            var o = new UTPersonaSelectorViewController;
            o.init(),
            r.pushViewController(o)
        }
    }
    ,
    UTPersonaViewController
}(EAViewController)
  , UTFunCaptchaView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTFunCaptchaView() {
        return e.call(this) || this
    }
    return __extends(UTFunCaptchaView, e),
    UTFunCaptchaView.prototype.init = function() {
        var t = services.Localization;
        e.prototype.init.call(this),
        this.__infoTitle.textContent = t.localize("navbar.label.captcha"),
        this.__infoText.textContent = t.localize("captcha.info.body", [APP_YEAR_SHORT.toString()])
    }
    ,
    UTFunCaptchaView.prototype.appendPersonaSelector = function(t) {
        this.addClass("has-persona-selector"),
        this.addSubview(t, this.__personaSelectorContainer)
    }
    ,
    UTFunCaptchaView
}(EAView));
UTFunCaptchaView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.setAttribute("id", "FunCaptchaRequired"),
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content"),
        this.__personaSelectorContainer = document.createElement("div"),
        this.__personaSelectorContainer.classList.add("ut-app-settings-persona-selector"),
        e.appendChild(this.__personaSelectorContainer);
        var i = document.createElement("div");
        i.classList.add("ut-fun-captcha-required"),
        i.classList.add("ut-login-generic");
        var r = document.createElement("div");
        r.classList.add("ut-login-generic-content");
        var o = document.createElement("div");
        this.__infoTitle = document.createElement("h2"),
        this.__infoTitle.classList.add("title"),
        o.appendChild(this.__infoTitle),
        this.__infoText = document.createElement("p"),
        o.appendChild(this.__infoText),
        r.appendChild(o);
        var n = document.createElement("div");
        n.setAttribute("id", "funCaptchaDiv"),
        r.appendChild(n),
        i.appendChild(r),
        e.appendChild(i),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTFunCaptchaView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__personaSelectorContainer = null,
    this.__infoTitle = null,
    this.__infoText = null
}
,
UTFunCaptchaView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTFunCaptchaViewController = function(o) {
    function UTFunCaptchaViewController() {
        var t = o.call(this) || this;
        return t.captchaLoaded = !1,
        t.captchaViewModel = null,
        t.personaController = null,
        t
    }
    return __extends(UTFunCaptchaViewController, o),
    UTFunCaptchaViewController.prototype.init = function() {
        o.prototype.init.call(this);
        var t = this.getView();
        this.captchaViewModel = new UTCaptchaViewModel(accessobjects.Captcha),
        this.captchaViewModel.init(),
        this.personaController = new UTPersonaViewController,
        this.personaController.init(),
        this.addChildViewController(this.personaController),
        t.appendPersonaSelector(this.personaController.getView()),
        t.layoutSubviews();
        var e = getAppMain().getConfigRepository().getConfigString(EAConfigurationRepository.KEY_FUNCAPTCHA_PK)
          , i = document.createElement("script");
        i.id = "funCaptchaHeaderScript",
        i.type = "text/javascript",
        i.async = !0,
        i.defer = !0,
        i.setAttribute("data-callback", "setupArkose"),
        i.src = "https://easports-api.arkoselabs.com/v2/" + e + "/api.js",
        document.head.appendChild(i),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "CaptchaV2")
    }
    ,
    UTFunCaptchaViewController.prototype.dealloc = function() {
        var t, e, i;
        o.prototype.dealloc.call(this),
        null === (t = this.captchaViewModel) || void 0 === t || t.dealloc(),
        null === (e = this.personaController) || void 0 === e || e.dealloc(),
        this.captchaViewModel = null,
        this.personaController = null;
        var r = document.getElementById("funCaptchaHeaderScript");
        null === (i = null == r ? void 0 : r.parentNode) || void 0 === i || i.removeChild(r)
    }
    ,
    UTFunCaptchaViewController.prototype._getViewInstanceFromData = function() {
        return new UTFunCaptchaView
    }
    ,
    UTFunCaptchaViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.captcha")
    }
    ,
    UTFunCaptchaViewController.prototype.viewDidAppear = function() {
        var t;
        o.prototype.viewDidAppear.call(this);
        var e = this.getNavigationController();
        null == e || e.setNavigationVisibility(isPhone(), !0),
        null === (t = this.personaController) || void 0 === t || t.viewDidAppear(),
        this.loadFunCaptcha()
    }
    ,
    UTFunCaptchaViewController.prototype.loadFunCaptcha = function() {
        var t, o = this;
        if (!this.captchaLoaded) {
            var n = document.getElementById("loadFunCaptchaScript");
            null === (t = this.captchaViewModel) || void 0 === t || t.requestCaptchaData().observe(this, function(t, e) {
                var i, r;
                t.unobserve(o),
                e.success && JSUtils.isObject(e.response) ? (i = e.response.pk || getAppMain().getConfigRepository().getConfigString(EAConfigurationRepository.KEY_FUNCAPTCHA_PK),
                r = e.response.blob || null,
                _initCaptcha.call(o, i, r)) : (i = getAppMain().getConfigRepository().getConfigString(EAConfigurationRepository.KEY_FUNCAPTCHA_PK),
                _initCaptcha.call(o, i, r = null))
            })
        }
        function _initCaptcha(t, e) {
            if (!JSUtils.isValid(n)) {
                var i = services.Localization.locale.toBCPString();
                (n = document.createElement("script")).id = "loadFunCaptchaScript";
                var r = "";
                null !== e && (r = "'data': {'blob':'" + e + "'},");
                var o = "{'selector': '#funCaptchaDiv', 'mode': 'inline', 'language': '" + i + "','publicKey': '" + t + "'," + r + "'onCompleted': UTFunCaptchaViewController.captchaCompletedCallback}";
                n.innerHTML = "var funCaptcha;function setupArkose(myEnforcement) {\tif (!JSUtils.isValid(funCaptcha)){\t\tfunCaptcha = myEnforcement.setConfig(" + o + ");\t} else{\t\tmyEnforcement.reset();\t}};",
                document.body.appendChild(n),
                this.captchaLoaded = !0
            }
        }
    }
    ,
    UTFunCaptchaViewController.captchaCompletedCallback = function(t) {
        var i = this
          , e = t.token
          , r = new UTCaptchaViewModel(accessobjects.Captcha);
        r.init(),
        r.validateToken(e).observe(this, function(t, e) {
            t.unobserve(i),
            e.success ? getAppMain().getLoginController().login(!0) : getAppMain().getLoginController().logout(),
            r.dealloc()
        })
    }
    ,
    UTFunCaptchaViewController
}(EAViewController)
  , UTGettingStartedView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTGettingStartedView() {
        return t.call(this) || this
    }
    return __extends(UTGettingStartedView, t),
    UTGettingStartedView.prototype.init = function() {
        t.prototype.init.call(this),
        this._learnMore.init(),
        this._learnMore.setText(services.Localization.localize("gettingstarted.learnmore", [APP_YEAR_SHORT.toString()])),
        this._futLogo.init(),
        this._futLogo.loadImages()
    }
    ,
    UTGettingStartedView.prototype.appendPersonaSelector = function(t) {
        this.addClass("has-persona-selector"),
        this.addSubview(t, this.__personaSelectorContainer)
    }
    ,
    UTGettingStartedView.prototype.render = function(t) {
        var e = "";
        switch (t) {
        case GettingStartedTypes.ACCESS_TRIAL:
            e = "gettingStartedFifa.contentTrial";
            break;
        case GettingStartedTypes.FREE_TRIAL:
            e = "gettingStartedFifa.freeTrial";
            break;
        case GettingStartedTypes.FUT:
            e = "gettingstarted.futcontent1";
            break;
        case GettingStartedTypes.WEBSTART_OVER:
            e = "webstartaccessover.text";
            break;
        default:
            e = "gettingStartedFifa.content1"
        }
        this.__description.textContent = services.Localization.localize(e, [APP_YEAR_SHORT.toString()]);
        var i = this.__steps.parentNode;
        i && (t === GettingStartedTypes.WEBSTART_OVER ? (i.removeChild(this.__steps),
        this.__infoTitle.textContent = services.Localization.localize("gettingstarted.fifa", [APP_YEAR_SHORT.toString()]),
        this.__joinTheClub.textContent = services.Localization.localize("gettingstarted.jointheclub", [APP_YEAR_SHORT.toString()])) : (DOMKit.toggleDisplayStyle(this.__joinTheClub, !1),
        this.__infoTitle.textContent = services.Localization.localize("navbar.label.gettingstarted"),
        t === GettingStartedTypes.FUT ? (this.__step1.textContent = services.Localization.localize("gettingstarted.futstep1"),
        this.__step2.textContent = services.Localization.localize("gettingstarted.futstep3")) : (this.__step1.textContent = services.Localization.localize("gettingStartedFifa.content2", [APP_YEAR_SHORT.toString()]),
        this.__step2.textContent = services.Localization.localize("gettingStartedFifa.content4", [APP_YEAR_SHORT.toString()]))))
    }
    ,
    UTGettingStartedView.prototype.getLearnMoreButton = function() {
        return this._learnMore
    }
    ,
    UTGettingStartedView
}(EAView));
UTGettingStartedView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content"),
        this.__personaSelectorContainer = document.createElement("div"),
        this.__personaSelectorContainer.classList.add("ut-app-settings-persona-selector"),
        e.appendChild(this.__personaSelectorContainer),
        this.__bootBox = document.createElement("div"),
        this.__bootBox.classList.add("ut-getting-started");
        var i = document.createElement("div");
        i.classList.add("ut-getting-started-logo"),
        this._futLogo = new UTFUTLogoView,
        i.appendChild(this._futLogo.getRootElement()),
        this.__bootBox.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("ut-getting-started-content");
        var o = document.createElement("div");
        o.classList.add("ut-getting-started--scrollable"),
        this.__infoTitle = document.createElement("h2"),
        o.appendChild(this.__infoTitle),
        this.__description = document.createElement("p"),
        this.__description.classList.add("description"),
        o.appendChild(this.__description),
        this.__steps = document.createElement("ul"),
        this.__steps.classList.add("isolated-section"),
        this.__steps.classList.add("steps");
        var n = document.createElement("li");
        this.__step1 = document.createElement("span"),
        n.appendChild(this.__step1),
        this.__steps.appendChild(n);
        var a = document.createElement("li");
        this.__step2 = document.createElement("span"),
        a.appendChild(this.__step2),
        this.__steps.appendChild(a),
        o.appendChild(this.__steps),
        this.__joinTheClub = document.createElement("p"),
        o.appendChild(this.__joinTheClub),
        r.appendChild(o),
        this._learnMore = new UTStandardButtonControl,
        this._learnMore.getRootElement().classList.add("ut-getting-started--button"),
        this._learnMore.getRootElement().classList.add("call-to-action"),
        r.appendChild(this._learnMore.getRootElement()),
        this.__bootBox.appendChild(r),
        e.appendChild(this.__bootBox),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTGettingStartedView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__personaSelectorContainer = null,
    this.__bootBox = null,
    this._futLogo.destroy(),
    this.__infoTitle = null,
    this.__description = null,
    this.__steps = null,
    this.__step1 = null,
    this.__step2 = null,
    this.__joinTheClub = null,
    this._learnMore.destroy()
}
,
UTGettingStartedView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTGettingStartedViewController = function(e) {
    function UTGettingStartedViewController() {
        var t = e.call(this) || this;
        return t.type = GettingStartedTypes.FIFA,
        t.personaController = null,
        t
    }
    return __extends(UTGettingStartedViewController, e),
    UTGettingStartedViewController.prototype.init = function() {
        this.initialized || (e.prototype.init.call(this),
        this.getView().getLearnMoreButton().addTarget(this, this._eLearnMoreSelected, EventType.TAP),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "No FUT Data"))
    }
    ,
    UTGettingStartedViewController.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this.personaController && (this.personaController.dealloc(),
        this.personaController = null)
    }
    ,
    UTGettingStartedViewController.prototype._getViewInstanceFromData = function() {
        return new UTGettingStartedView
    }
    ,
    UTGettingStartedViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.gettingstarted")
    }
    ,
    UTGettingStartedViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this);
        var t = this.getNavigationController();
        t && t.setNavigationVisibility(isPhone(), !0),
        this.personaController && this.personaController.viewDidAppear()
    }
    ,
    UTGettingStartedViewController.prototype.setType = function(t) {
        var e, i = !1;
        for (e in GettingStartedTypes)
            if (GettingStartedTypes.hasOwnProperty(e) && GettingStartedTypes[e] === t) {
                i = !0;
                break
            }
        if (DebugUtils.Assert(i, "Invalid getting started page type: " + t),
        i) {
            this.type = t;
            var r = services.Authentication.getUtasSession()
              , o = r.user ? r.user.getSelectedPersona() : null;
            this.getView().render(this.type),
            this.type !== GettingStartedTypes.FIFA && o && o.hasClubForCurrentYear && this._generatePersonaController()
        }
    }
    ,
    UTGettingStartedViewController.prototype._generatePersonaController = function() {
        if (!this.personaController) {
            var t = this.getView();
            this.personaController = new UTPersonaViewController,
            this.personaController.init(),
            this.addChildViewController(this.personaController),
            t.appendPersonaSelector(this.personaController.getView()),
            t.layoutSubviews()
        }
    }
    ,
    UTGettingStartedViewController.prototype._eLearnMoreSelected = function(t, e) {
        var i = services.Localization.localize("link.gettingstartedfut");
        services.URL.process(i)
    }
    ,
    UTGettingStartedViewController
}(EAViewController)
  , UTLanguageTableCellView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTLanguageTableCellView() {
        return i.call(this) || this
    }
    return __extends(UTLanguageTableCellView, i),
    UTLanguageTableCellView.prototype.init = function() {
        i.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTLanguageTableCellView.prototype.setInteractionState = function(t) {
        var e = this._interactionState;
        i.prototype.setInteractionState.call(this, t),
        this._interactionState !== e && this.toggleClass(enums.UIState.DISABLED, !this._interactionState)
    }
    ,
    UTLanguageTableCellView.prototype.setName = function(t) {
        this.__name.textContent = t
    }
    ,
    UTLanguageTableCellView.prototype._mouseEnter = function(t) {
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTLanguageTableCellView.prototype._mouseLeave = function(t) {
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTLanguageTableCellView.prototype._touchStarted = function(t) {
        i.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTLanguageTableCellView.prototype._touchMoved = function(t) {
        i.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTLanguageTableCellView.prototype._touchEnded = function(t) {
        i.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTLanguageTableCellView.prototype._tapDetected = function(t) {
        i.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP)
    }
    ,
    UTLanguageTableCellView
}(EATargetActionView));
UTLanguageTableCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-language-table-cell-view"),
        this.__name = document.createElement("span"),
        this.__name.classList.add("ut-language-table-cell-view--name"),
        t.appendChild(this.__name),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLanguageTableCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__name = null
}
,
UTLanguageTableCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLanguageSelectView = function(e) {
    function UTLanguageSelectView() {
        var t = e.call(this) || this;
        return t.cells = [],
        t
    }
    return __extends(UTLanguageSelectView, e),
    UTLanguageSelectView.prototype.init = function() {
        e.prototype.init.call(this),
        this._futLogo.init(),
        this._futLogo.loadImages()
    }
    ,
    UTLanguageSelectView.prototype.dealloc = function() {
        this.clearLanguageCells(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTLanguageSelectView.prototype.clearLanguageCells = function() {
        this.cells.forEach(function(t) {
            return t.dealloc()
        }),
        this.cells = []
    }
    ,
    UTLanguageSelectView.prototype.generateLanguageCell = function(t) {
        var e = new UTLanguageTableCellView;
        e.init(),
        e.setName(t.name),
        e.addTarget(this, this.eLanguageSelected, EventType.TAP),
        this.cells.push(e),
        this.addSubview(e, this.__languageTable)
    }
    ,
    UTLanguageSelectView.prototype.setLocales = function(t) {
        this.clearLanguageCells(),
        t.forEach(this.generateLanguageCell, this),
        this.layoutSubviews()
    }
    ,
    UTLanguageSelectView.prototype.eLanguageSelected = function(t, e, i) {
        this._triggerActions(EventType.TAP, {
            index: this.cells.indexOf(t)
        })
    }
    ,
    UTLanguageSelectView
}(EATargetActionView);
UTLanguageSelectView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-language-select"),
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content");
        var i = document.createElement("div");
        i.classList.add("ut-language-select-content"),
        this._futLogo = new UTFUTLogoView,
        i.appendChild(this._futLogo.getRootElement()),
        this.__languageTable = document.createElement("div"),
        this.__languageTable.classList.add("ut-language-select--table"),
        i.appendChild(this.__languageTable),
        e.appendChild(i),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLanguageSelectView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._futLogo.destroy(),
    this.__languageTable = null
}
,
UTLanguageSelectView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLanguageSelectViewController = function(e) {
    function UTLanguageSelectViewController() {
        var t = e.call(this) || this;
        return t.callback = null,
        t.locales = [],
        t
    }
    return __extends(UTLanguageSelectViewController, e),
    UTLanguageSelectViewController.prototype.init = function() {
        e.prototype.init.call(this),
        this.locales = services.Localization.getSupportedLocales(),
        this.getView().addTarget(this, this.eLanguageSelected, EventType.TAP),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "Language Select")
    }
    ,
    UTLanguageSelectViewController.prototype.dealloc = function() {
        this.callback = null,
        this.locales = [],
        e.prototype.dealloc.call(this)
    }
    ,
    UTLanguageSelectViewController.prototype._getViewInstanceFromData = function() {
        return new UTLanguageSelectView
    }
    ,
    UTLanguageSelectViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("title.languageselect")
    }
    ,
    UTLanguageSelectViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this),
        this.getView().setLocales(this.locales)
    }
    ,
    UTLanguageSelectViewController.prototype.setLanguageSelectCallback = function(t) {
        this.callback = t
    }
    ,
    UTLanguageSelectViewController.prototype.selectLocale = function(t) {
        var i = this
          , e = services.Localization;
        gClickShield.showShield(EAClickShieldView.Shield.LOADING),
        getStorage().setItem(STORAGE_LOCALE_KEY, t.toBCPString()),
        e.locale = t,
        e.requestLocalization().observe(this, function(t, e) {
            t.unobserve(i),
            i.callback && i.callback(),
            gClickShield.hideShield(EAClickShieldView.Shield.LOADING)
        })
    }
    ,
    UTLanguageSelectViewController.prototype.eLanguageSelected = function(t, e, i) {
        var r = this.locales[i.index];
        DebugUtils.Assert(JSUtils.isValid(r), "Missing data for selected language."),
        r && this.selectLocale(r)
    }
    ,
    UTLanguageSelectViewController
}(EAViewController)
  , UTLicenseView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTLicenseView() {
        return e.call(this) || this
    }
    return __extends(UTLicenseView, e),
    UTLicenseView.prototype.init = function() {
        var t = services.Localization;
        this.__licenseText.textContent = t.localize("license.text.body2"),
        e.prototype.init.call(this)
    }
    ,
    UTLicenseView.prototype.dealloc = function() {
        e.prototype.dealloc.call(this)
    }
    ,
    UTLicenseView.Style = Object.freeze({
        FADE_IN_SCREEN: "fade-in-screen"
    }),
    UTLicenseView
}(EATargetActionView));
UTLicenseView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-license"),
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content-center"),
        e.classList.add("ut-content");
        var i = document.createElement("div");
        i.classList.add("ut-license-content"),
        this.__licenseText = document.createElement("p"),
        this.__licenseText.classList.add("licenseBody"),
        i.appendChild(this.__licenseText),
        e.appendChild(i),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLicenseView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__licenseText = null
}
,
UTLicenseView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLicenseViewController = function(e) {
    function UTLicenseViewController() {
        var t = e.call(this) || this;
        return t.completedFlags = 0,
        t.hasLowMemory = !1,
        t.setTimerFlagTimeout = 0,
        t
    }
    return __extends(UTLicenseViewController, e),
    UTLicenseViewController.prototype.init = function() {
        e.prototype.init.call(this);
        var t = getDefaultDispatcher();
        t.addObserver(AppNotification.APP_PAUSE, this, this.nAppPaused),
        t.addObserver(AppNotification.APP_RESUME, this, this.nAppResumed),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "Legal")
    }
    ,
    UTLicenseViewController.prototype.dealloc = function() {
        clearTimeout(this.setTimerFlagTimeout);
        var t = getDefaultDispatcher();
        t.removeObserver(AppNotification.APP_PAUSE, this),
        t.removeObserver(AppNotification.APP_RESUME, this),
        e.prototype.dealloc.call(this)
    }
    ,
    UTLicenseViewController.prototype.viewDidAppear = function() {
        this.checkFreeDiskSpace(),
        this.startDisplayTimer()
    }
    ,
    UTLicenseViewController.prototype._getViewInstanceFromData = function() {
        return new UTLicenseView
    }
    ,
    UTLicenseViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("gettingstarted.welcome")
    }
    ,
    UTLicenseViewController.prototype.startDisplayTimer = function() {
        var t = this;
        clearTimeout(this.setTimerFlagTimeout),
        this.setTimerFlagTimeout = window.setTimeout(function() {
            return t.setContinueFlag(UTLicenseViewController.FLAGS.TIMER)
        }, 3e3)
    }
    ,
    UTLicenseViewController.prototype.checkFlagState = function() {
        var t = this;
        this.completedFlags === (UTLicenseViewController.FLAGS.TIMER | UTLicenseViewController.FLAGS.MEMORY) && (this.hasLowMemory ? utils.PopupManager.showAlert(utils.PopupManager.Alerts.LOW_MEMORY, function() {
            return t.transitionToLogin
        }) : this.transitionToLogin())
    }
    ,
    UTLicenseViewController.prototype.setContinueFlag = function(t) {
        DebugUtils.Assert(!(this.completedFlags & t), "Flag has already been set."),
        this.completedFlags = this.completedFlags | t,
        this.checkFlagState()
    }
    ,
    UTLicenseViewController.prototype.checkFreeDiskSpace = function() {
        function BGb() {
            e.setContinueFlag(UTLicenseViewController.FLAGS.MEMORY)
        }
        var e = this;
        isChrome() ? BGb.call(this) : window.plugins.utilities.getFreeDiskSpace(function(t) {
            e.hasLowMemory = t < UTLicenseViewController.LOW_MEMORY_LIMIT,
            e.setContinueFlag(UTLicenseViewController.FLAGS.MEMORY)
        }
        .bind(this), BGb.bind(this))
    }
    ,
    UTLicenseViewController.prototype.transitionToLogin = function() {
        getAppMain().getRootViewController().showLoginView()
    }
    ,
    UTLicenseViewController.prototype.nAppPaused = function(t, e, i) {
        clearTimeout(this.setTimerFlagTimeout)
    }
    ,
    UTLicenseViewController.prototype.nAppResumed = function(t, e, i) {
        this.completedFlags & UTLicenseViewController.FLAGS.TIMER || this.startDisplayTimer()
    }
    ,
    UTLicenseViewController.FLAGS = Object.freeze({
        TIMER: 1,
        MEMORY: 2
    }),
    UTLicenseViewController.LOW_MEMORY_LIMIT = 25600,
    UTLicenseViewController
}(EAViewController)
  , UTLoginView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTLoginView() {
        return e.call(this) || this
    }
    return __extends(UTLoginView, e),
    UTLoginView.prototype.init = function() {
        e.prototype.init.call(this);
        var t = services.Localization;
        this._btnLogin.init(),
        this._btnLogin.setText(t.localize("login.loginButtonText")),
        this._linkGettingStarted.init(),
        this._linkGettingStarted.setText(t.localize("login.gettingstarted")),
        this._linkGettingStarted.addTarget(this, this.eGettingStarted, EventType.TAP),
        this._futLogo.init(),
        this._futLogo.loadImages()
    }
    ,
    UTLoginView.prototype.getLoginButton = function() {
        return this._btnLogin
    }
    ,
    UTLoginView.prototype.enableLoginButton = function(t) {
        this._btnLogin.setInteractionState(t)
    }
    ,
    UTLoginView.prototype.eGettingStarted = function(t, e, i) {
        services.URL.process(services.Localization.localize("link.gettingstarted"))
    }
    ,
    UTLoginView
}(EAView));
UTLoginView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.setAttribute("id", "Login"),
        t.classList.add("ut-login"),
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content");
        var i = document.createElement("div");
        i.classList.add("ut-login-content"),
        this._futLogo = new UTFUTLogoView,
        i.appendChild(this._futLogo.getRootElement()),
        this._btnLogin = new UTStandardButtonControl,
        this._btnLogin.getRootElement().classList.add("call-to-action"),
        i.appendChild(this._btnLogin.getRootElement()),
        this._linkGettingStarted = new UTFlatButtonControl,
        this._linkGettingStarted.getRootElement().classList.add("alt"),
        this._linkGettingStarted.getRootElement().classList.add("camel-case"),
        i.appendChild(this._linkGettingStarted.getRootElement()),
        e.appendChild(i),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLoginView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._futLogo.destroy(),
    this._btnLogin.destroy(),
    this._linkGettingStarted.destroy()
}
,
UTLoginView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLoginViewController = function(a) {
    function UTLoginViewController() {
        return null !== a && a.apply(this, arguments) || this
    }
    return __extends(UTLoginViewController, a),
    UTLoginViewController.prototype.init = function() {
        a.prototype.init.call(this),
        this._inAppBrowser = null,
        this._successCallbackDelegate = null,
        this._errorCallbackDelegate = null,
        this._linkCallbackDelegate = null,
        this._browserDismissedCallbackDelegate = null,
        this._recreateOnResume = !1;
        var t = getAppMain().getConfigRepository();
        eadp.identity.setConnectHost(t.getConfigString(EAConfigurationRepository.KEY_EADP_CONNECT_HOST)),
        eadp.identity.setPortalHost(t.getConfigString(EAConfigurationRepository.KEY_EADP_PORTAL_HOST)),
        eadp.identity.setProxyHost(t.getConfigString(EAConfigurationRepository.KEY_EADP_PROXY_HOST)),
        eadp.identity.setClientId(t.getConfigString(EAConfigurationRepository.KEY_EADP_CLIENT_ID)),
        eadp.identity.setClientSecret(t.getConfigString(EAConfigurationRepository.KEY_EADP_CLIENT_SECRET)),
        eadp.identity.setLocale(services.Localization.locale.toEANetworkString()),
        eadp.identity.setDeviceId(getUUID()),
        eadp.identity.setReleaseType(t.getConfigString(EAConfigurationRepository.KEY_EADP_RELEASE_TYPE));
        var e = window.location.href
          , i = HttpUtils.getParamsFromUrl(e)
          , r = HttpUtils.getUriRoot(e)
          , o = services.URL.findValidDeepLinkID(i.keys());
        if (o !== DeepLinkSection.NONE && null != o) {
            var n = i.get(o.toString());
            null !== n && services.URL.setDeepLinkURL(o, n),
            getStorage().setItem(STORAGE_DEEP_LINK_KEY, services.URL.getDeepLinkURL())
        }
        r = r.replace(/\/$/, "") + "/auth.html",
        eadp.identity.setRedirectUri(r),
        this.getView().getLoginButton().addTarget(this, this._eLoginSelected, EventType.TAP),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "Login")
    }
    ,
    UTLoginViewController.prototype.dealloc = function() {
        a.prototype.dealloc.call(this)
    }
    ,
    UTLoginViewController.prototype._getViewInstanceFromData = function() {
        return new UTLoginView
    }
    ,
    UTLoginViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.loginfut")
    }
    ,
    UTLoginViewController.prototype.viewDidAppear = function() {
        var t = function() {
            console.log("[controllers.LoginController] Unable to auto-login."),
            this.getView().enableLoginButton(!0)
        }
        .bind(this)
          , e = function() {
            eadp.identity.getUserInfo(this._onEadpUserInfoSuccess.bind(this), this._onEadpUserInfoFail.bind(this))
        }
        .bind(this);
        isWeb() ? (this.getView().enableLoginButton(!1),
        eadp.identity.getAccessToken() ? e() : eadp.identity.checkEADPAuth(e, t)) : eadp.identity.isAuthenticated(function() {
            console.log("LOGIN: Attempting to auto-authenticate..."),
            this.getView().enableLoginButton(!1),
            eadp.identity.checkEADPAuth(e, t)
        }
        .bind(this)),
        getDefaultDispatcher().addObserver(AppNotification.APP_RESUME, this, this._nAppResumed)
    }
    ,
    UTLoginViewController.prototype.viewWillDisappear = function() {
        a.prototype.viewWillDisappear.call(this),
        getDefaultDispatcher().removeObserver(AppNotification.APP_RESUME, this)
    }
    ,
    UTLoginViewController.prototype._onEadpLoginComplete = function() {
        eadp.identity.getUserInfo(this._onEadpUserInfoSuccess.bind(this), this._onEadpUserInfoFail.bind(this))
    }
    ,
    UTLoginViewController.prototype._onEadpUserInfoFail = function(t) {
        return void 0 === t && (t = ""),
        t === EADPIdentityManager.error.LOCAL_STORAGE ? (DebugUtils.Assert(!1, "Unable to save EADP Identity data in local storage."),
        void this.getView().enableLoginButton(!0)) : t === EADPIdentityManager.error.REFRESH_TOKEN ? (console.log("LOGIN: EADP requires a login refresh."),
        void this.getView().enableLoginButton(!0)) : t === EADPIdentityManager.error.SERVER ? (console.log("LOGIN: An unknown EADP server error occurred."),
        void this.getView().enableLoginButton(!0)) : void 0
    }
    ,
    UTLoginViewController.prototype._onEadpUserInfoSuccess = function(t) {
        var e = getAppMain();
        e.setLoginController(new UTLoginController);
        var i = new UTUserEntity(t);
        services.User.setCurrent(i);
        var r = services.User.getUser();
        r && (services.Authentication.getUtasSession().user = r,
        services.Authentication.getFCASSession().user = r);
        services.UserSettings.setUserKey(t.pidId.toString()),
        isChrome() || window.plugins.cordovaNimble.registerPushNotifications(t.pidId.toString(), getStorage().getItem(STORAGE_PN_STATUS_KEY), function() {}, function() {}),
        e.getLoginController().login()
    }
    ,
    UTLoginViewController.prototype._eLoginSelected = function(t, e, i) {
        TelemetryManager.trackEvent(TelemetryManager.Sections.LOGIN, TelemetryManager.Categories.BUTTON_PRESS, "Login"),
        this.getView().enableLoginButton(!1),
        this.createLoginView()
    }
    ,
    UTLoginViewController.prototype.createLoginView = function() {
        if (hasConnection())
            if (isChrome())
                eadp.identity.initiateLoginFlow("Login", this.onAccessTokenSuccess.bind(this), this.onAccessTokenFail.bind(this));
            else {
                var t = eadp.identity.getLoginUrl();
                window.console.log("Opening EADP: " + t),
                this._inAppBrowser = cordova.InAppBrowser.open(t, "_blank", "location=no,toolbarcolor=#33353c"),
                this._successCallbackDelegate = this.iabLoadStart.bind(this),
                this._errorCallbackDelegate = this.iabLoadError.bind(this),
                this._browserDismissedCallbackDelegate = this.iabExit.bind(this),
                this._linkCallbackDelegate = this.iabLoadStop.bind(this),
                null !== this._successCallbackDelegate && this._inAppBrowser.addEventListener("loadstart", this._successCallbackDelegate),
                null !== this._linkCallbackDelegate && this._inAppBrowser.addEventListener("loadstart", this._linkCallbackDelegate),
                null !== this._linkCallbackDelegate && this._inAppBrowser.addEventListener("loadstop", this._linkCallbackDelegate),
                null !== this._errorCallbackDelegate && this._inAppBrowser.addEventListener("loaderror", this._errorCallbackDelegate),
                null !== this._browserDismissedCallbackDelegate && this._inAppBrowser.addEventListener("exit", this._browserDismissedCallbackDelegate)
            }
        else
            utils.PopupManager.showAlert(utils.PopupManager.Alerts.ORIGIN_UNAVAILABLE, function() {
                this.getView().enableLoginButton(!0)
            }
            .bind(this))
    }
    ,
    UTLoginViewController.prototype.closeLoginView = function() {
        var t, e, i, r, o, n;
        this.isLoginViewOpen() && (null !== this._successCallbackDelegate && (null === (t = this._inAppBrowser) || void 0 === t || t.removeEventListener("loadstart", this._successCallbackDelegate)),
        null !== this._linkCallbackDelegate && (null === (e = this._inAppBrowser) || void 0 === e || e.removeEventListener("loadstart", this._linkCallbackDelegate),
        null === (i = this._inAppBrowser) || void 0 === i || i.removeEventListener("loadstop", this._linkCallbackDelegate)),
        null !== this._errorCallbackDelegate && (null === (r = this._inAppBrowser) || void 0 === r || r.removeEventListener("loaderror", this._errorCallbackDelegate)),
        null !== this._browserDismissedCallbackDelegate && (null === (o = this._inAppBrowser) || void 0 === o || o.removeEventListener("exit", this._browserDismissedCallbackDelegate)),
        this._successCallbackDelegate = null,
        this._errorCallbackDelegate = null,
        (this._browserDismissedCallbackDelegate = null) === (n = this._inAppBrowser) || void 0 === n || n.close(),
        this._inAppBrowser = null)
    }
    ,
    UTLoginViewController.prototype.iabLoadStart = function(t) {
        if (eadp.identity.isErrorPattern(t.url, "/p/mobile/fifa/companion/code", "code"))
            getAppMain().getLoginController().logout(),
            this.closeLoginView(),
            this.getView().enableLoginButton(!0);
        else if (t.url && -1 !== t.url.indexOf("code=")) {
            this.closeLoginView();
            var e = t.url.split("code=")[1].split("&")[0];
            eadp.identity.exchangeAccessToken(e, this.onAccessTokenSuccess.bind(this), this.onAccessTokenFail.bind(this))
        }
    }
    ,
    UTLoginViewController.prototype.iabLoadStop = function(t) {
        eadp.identity.isExternalLink(t.url) && (this.closeLoginView(),
        this.getView().enableLoginButton(!0),
        this._recreateOnResume = !0,
        services.URL.process(t.url))
    }
    ,
    UTLoginViewController.prototype.iabLoadError = function(t) {
        JSUtils.isNumber(t.code) && -999 === t.code || utils.PopupManager.showAlert(utils.PopupManager.Alerts.ORIGIN_UNAVAILABLE, this.iabExit.bind(this))
    }
    ,
    UTLoginViewController.prototype.iabExit = function(t) {
        this.closeLoginView(),
        this.getView().enableLoginButton(!0)
    }
    ,
    UTLoginViewController.prototype.onAccessTokenSuccess = function(t) {
        isChrome() && eadp.identity.closeLoginFlow(),
        this._onEadpLoginComplete()
    }
    ,
    UTLoginViewController.prototype.onAccessTokenFail = function(t) {
        console.log("access token failure!"),
        this._onEadpLoginComplete()
    }
    ,
    UTLoginViewController.prototype.isLoginViewOpen = function() {
        return JSUtils.isValid(this._inAppBrowser)
    }
    ,
    UTLoginViewController.prototype._nAppResumed = function(t, e, i) {
        this._recreateOnResume && (this._recreateOnResume = !1,
        this.getView().enableLoginButton(!1),
        this.createLoginView())
    }
    ,
    UTLoginViewController.IOS_STATUS_BAR_STYLE = Object.freeze({
        DEFAULT: 0,
        BLACK: 1
    }),
    UTLoginViewController
}(EAViewController)
  , UTStandardButtonControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTStandardButtonControl() {
        return e.call(this) || this
    }
    return __extends(UTStandardButtonControl, e),
    UTStandardButtonControl.prototype._touchStarted = function(t) {
        e.prototype._touchStarted.call(this, t),
        this._triggerActions(EventType.TOUCHSTART)
    }
    ,
    UTStandardButtonControl.prototype._touchEnded = function(t) {
        e.prototype._touchEnded.call(this, t),
        this._triggerActions(EventType.TOUCHEND)
    }
    ,
    UTStandardButtonControl.prototype._touchCancelled = function(t) {
        e.prototype._touchCancelled.call(this, t),
        this._triggerActions(EventType.TOUCHCANCEL)
    }
    ,
    UTStandardButtonControl
}(UTButtonControl));
UTStandardButtonControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("btn-standard"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTStandardButtonControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTStandardButtonControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLoggedOnConsoleView = function(e) {
    function UTLoggedOnConsoleView() {
        var t = e.call(this) || this;
        return t.onRetryTap = new EAObservable,
        t
    }
    return __extends(UTLoggedOnConsoleView, e),
    UTLoggedOnConsoleView.prototype.init = function() {
        var t = services.Localization;
        e.prototype.init.call(this),
        this.__longOnTitle.textContent = t.localize("signedontoanotherdevice.title"),
        this.__message1.textContent = t.localize("signedontoanotherdevice.message1"),
        this.__message2.textContent = t.localize("signedontoanotherdevice.message2"),
        this._btnRetry.init(),
        this._btnRetry.setText(t.localize("common.dialog.retry")),
        this._btnRetry.addTarget(this, this.eRetrySelected, EventType.TAP)
    }
    ,
    UTLoggedOnConsoleView.prototype.dealloc = function() {
        this.onRetryTap.dealloc(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTLoggedOnConsoleView.prototype.appendPersonaSelector = function(t) {
        this.addClass("has-persona-selector"),
        this.addSubview(t, this.__personaSelectorContainer)
    }
    ,
    UTLoggedOnConsoleView.prototype.eRetrySelected = function(t, e, i) {
        this.onRetryTap.notify()
    }
    ,
    UTLoggedOnConsoleView
}(EAView);
UTLoggedOnConsoleView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("sm-ut-content-container"),
        t.classList.add("ut-content-container");
        var e = document.createElement("div");
        e.classList.add("ut-content"),
        this.__personaSelectorContainer = document.createElement("div"),
        this.__personaSelectorContainer.classList.add("ut-app-settings-persona-selector"),
        e.appendChild(this.__personaSelectorContainer);
        var i = document.createElement("div");
        i.classList.add("ut-logged-on-console"),
        i.classList.add("ut-login-generic");
        var r = document.createElement("div");
        r.classList.add("ut-login-generic-content");
        var o = document.createElement("div");
        this.__longOnTitle = document.createElement("h2"),
        o.appendChild(this.__longOnTitle),
        this.__message1 = document.createElement("p"),
        o.appendChild(this.__message1),
        this.__message2 = document.createElement("p"),
        o.appendChild(this.__message2),
        this._btnRetry = new UTStandardButtonControl,
        this._btnRetry.getRootElement().classList.add("call-to-action"),
        o.appendChild(this._btnRetry.getRootElement()),
        r.appendChild(o),
        i.appendChild(r),
        e.appendChild(i),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLoggedOnConsoleView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__personaSelectorContainer = null,
    this.__longOnTitle = null,
    this.__message1 = null,
    this.__message2 = null,
    this._btnRetry.destroy()
}
,
UTLoggedOnConsoleView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLoggedOnConsoleViewController = function(e) {
    function UTLoggedOnConsoleViewController() {
        var t = e.call(this) || this;
        return t._personaController = null,
        t
    }
    return __extends(UTLoggedOnConsoleViewController, e),
    UTLoggedOnConsoleViewController.prototype.init = function() {
        e.prototype.init.call(this);
        var t = this.getView();
        t.onRetryTap.observe(this, this._onRetryAuth),
        this._personaController = new UTPersonaViewController,
        this._personaController.init(),
        this.addChildViewController(this._personaController),
        t.appendPersonaSelector(this._personaController.getView()),
        t.layoutSubviews(),
        TelemetryManager.trackPage(TelemetryManager.Sections.LOGIN, "Logged in on Console")
    }
    ,
    UTLoggedOnConsoleViewController.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this._personaController && (this._personaController.dealloc(),
        this._personaController = null)
    }
    ,
    UTLoggedOnConsoleViewController.prototype._getViewInstanceFromData = function() {
        return new UTLoggedOnConsoleView
    }
    ,
    UTLoggedOnConsoleViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("signedontoanotherdevice.title")
    }
    ,
    UTLoggedOnConsoleViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this);
        var t = this.getNavigationController();
        t && t.setNavigationVisibility(isPhone(), !0),
        this._personaController && this._personaController.viewDidAppear()
    }
    ,
    UTLoggedOnConsoleViewController.prototype._onRetryAuth = function() {
        this.getView().setInteractionState(!1),
        getAppMain().getLoginController().login(!0)
    }
    ,
    UTLoggedOnConsoleViewController
}(EAViewController)
  , UTSplitView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTSplitView() {
        var t = e.call(this) || this;
        return t._lView = null,
        t._rView = null,
        t
    }
    return __extends(UTSplitView, e),
    UTSplitView.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this._lView = null,
        this._rView = null
    }
    ,
    UTSplitView.prototype.appendLeft = function(t) {
        this._lView !== t && (this._lView = t,
        this.addSubview(this._lView, this.__body),
        this.__body.appendChild(this._lView.getRootElement()),
        this._rView && (this._lView.addClass(enums.UILayout.LEFT),
        this._rView.addClass(enums.UILayout.RIGHT)))
    }
    ,
    UTSplitView.prototype.appendRight = function(t) {
        this._rView !== t && (this._rView = t,
        this.addSubview(this._rView, this.__body),
        this.__body.appendChild(this._rView.getRootElement()),
        this._lView && (this._lView.addClass(enums.UILayout.LEFT),
        this._rView.addClass(enums.UILayout.RIGHT)))
    }
    ,
    UTSplitView.prototype.removeLeft = function() {
        this._lView && (this._lView.removeFromSuperview(),
        this.layoutSubviews(),
        this._lView.removeClass(enums.UILayout.LEFT),
        this._rView && this._rView.removeClass(enums.UILayout.RIGHT),
        this._lView = null)
    }
    ,
    UTSplitView.prototype.removeRight = function() {
        this._rView && (this._rView.removeFromSuperview(),
        this.layoutSubviews(),
        this._rView.removeClass(enums.UILayout.RIGHT),
        this._lView && this._lView.removeClass(enums.UILayout.LEFT),
        this._rView = null)
    }
    ,
    UTSplitView.prototype.hideRightPanel = function(t) {
        var e, i, r, o;
        null === (e = this._rView) || void 0 === e || e.setDisplay(!t);
        var n = null === (i = this._lView) || void 0 === i ? void 0 : i.hasClass("full-width");
        t && !n ? null === (r = this._lView) || void 0 === r || r.addClass("full-width") : !t && n && (null === (o = this._lView) || void 0 === o || o.removeClass("full-width"))
    }
    ,
    UTSplitView
}(EAView));
UTSplitView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-split-view"),
        this.__body = document.createElement("div"),
        this.__body.classList.add("ut-content"),
        t.appendChild(this.__body),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSplitView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__body = null
}
,
UTSplitView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSplitViewController = function(e) {
    function UTSplitViewController() {
        var t = e.call(this) || this;
        return t.leftController = null,
        t.rightController = null,
        t.layout = UTSplitViewController.Layout.SIDEBAR_RIGHT,
        t
    }
    return __extends(UTSplitViewController, e),
    UTSplitViewController.prototype.init = function() {
        this.initialized || (e.prototype.init.call(this),
        this.applyLayout())
    }
    ,
    UTSplitViewController.prototype._getViewInstanceFromData = function() {
        return new UTSplitView
    }
    ,
    UTSplitViewController.prototype.setLeftController = function(t, e) {
        void 0 === e && (e = !1);
        var i = this.leftController
          , r = null == i ? void 0 : i.getView()
          , o = this.getView()
          , n = t.getView();
        this.leftController !== t && (this.leftController = t,
        null == i || i.viewWillDisappear(),
        null == r || r.removeFromSuperview(e),
        this.leftController.viewWillAppear(),
        n.getSuperview() !== o && o.appendLeft(n),
        null == i || i.viewDidDisappear(),
        this.leftController.viewDidAppear())
    }
    ,
    UTSplitViewController.prototype.setRightController = function(t, e) {
        void 0 === e && (e = !1);
        var i = this.rightController
          , r = null == i ? void 0 : i.getView()
          , o = this.getView()
          , n = t.getView();
        this.rightController !== t && (this.rightController = t,
        null == i || i.viewWillDisappear(),
        null == r || r.removeFromSuperview(e),
        this.rightController.viewWillAppear(),
        n.getSuperview() !== o && o.appendRight(n),
        null == i || i.viewDidDisappear(),
        this.rightController.viewDidAppear())
    }
    ,
    UTSplitViewController.prototype.removeLeftController = function() {
        this.leftController && (this.leftController.viewWillDisappear(),
        this.getView().removeLeft(),
        this.leftController.viewDidDisappear(),
        this.leftController = null)
    }
    ,
    UTSplitViewController.prototype.removeRightController = function() {
        this.rightController && (this.rightController.viewWillDisappear(),
        this.getView().removeRight(),
        this.rightController.viewDidDisappear(),
        this.rightController = null)
    }
    ,
    UTSplitViewController.prototype.viewDidLoad = function() {
        e.prototype.viewDidLoad.call(this),
        this.leftController && this.leftController.viewDidLoad(),
        this.rightController && this.rightController.viewDidLoad()
    }
    ,
    UTSplitViewController.prototype.viewWillAppear = function() {
        e.prototype.viewWillAppear.call(this),
        this.leftController && this.leftController.viewWillAppear(),
        this.rightController && this.rightController.viewWillAppear()
    }
    ,
    UTSplitViewController.prototype.viewWillDisappear = function() {
        e.prototype.viewWillDisappear.call(this),
        this.leftController && this.leftController.viewWillDisappear(),
        this.rightController && this.rightController.viewWillDisappear()
    }
    ,
    UTSplitViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this),
        this.leftController && this.leftController.viewDidAppear(),
        this.rightController && this.rightController.viewDidAppear()
    }
    ,
    UTSplitViewController.prototype.viewDidDisappear = function() {
        e.prototype.viewDidDisappear.call(this),
        this.leftController && this.leftController.viewDidDisappear(),
        this.rightController && this.rightController.viewDidDisappear()
    }
    ,
    UTSplitViewController.prototype.applyLayout = function() {
        var t = this.getView();
        t.hasClass(this.layout) || (t.removeClass(JSUtils.getObjectValues(UTSplitViewController.Layout).join(" ")),
        t.addClass(this.layout))
    }
    ,
    UTSplitViewController.prototype.setLayout = function(t) {
        this.layout = t,
        this.initialized && this.applyLayout()
    }
    ,
    UTSplitViewController.prototype.hideRightPanel = function(t) {
        this.getView().hideRightPanel(t)
    }
    ,
    UTSplitViewController.Layout = {
        SIDEBAR_LEFT: "sidebar-left",
        SIDEBAR_RIGHT: "sidebar-right"
    },
    UTSplitViewController
}(EAViewController)
  , UTItemUtils = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemUtils() {
        var t = e.call(this) || this;
        return t.sortByRecency = !1,
        t.sort = SearchSortOrder.DESCENDING,
        t.sortType = SearchSortType.VALUE,
        t
    }
    return __extends(UTItemUtils, e),
    UTItemUtils.prototype.sortByType = function(t, e) {
        var r, i, o = this;
        (i = r = r || {})[i.RECENCY = 0] = "RECENCY",
        i[i.EXPIRY = 1] = "EXPIRY",
        i[i.LOAN = 2] = "LOAN",
        i[i.UNTRADEABLE = 3] = "UNTRADEABLE",
        i[i.DISCARD = 4] = "DISCARD",
        i[i.TYPE = 5] = "TYPE",
        i[i.LEGEND = 6] = "LEGEND",
        i[i.SPECIAL = 7] = "SPECIAL",
        i[i.TIER = 8] = "TIER",
        i[i.RARITY = 9] = "RARITY",
        i[i.RANK = 10] = "RANK",
        i[i.RATING = 11] = "RATING",
        i[i.RESOURCE = 12] = "RESOURCE",
        i[i.PLAYERPICK = 13] = "PLAYERPICK";
        function gKb(t, e, i) {
            switch (t) {
            case r.RECENCY:
                return JSUtils.sortCompare(e.timestamp, i.timestamp, o.sort === SearchSortOrder.DESCENDING);
            case r.EXPIRY:
                return JSUtils.sortCompare(e.getAuctionData().getSecondsRemaining(), i.getAuctionData().getSecondsRemaining(), !1);
            case r.LOAN:
                return JSUtils.sortCompare(e.isLimitedUse(), i.isLimitedUse(), o.sort === SearchSortOrder.DESCENDING);
            case r.UNTRADEABLE:
                return JSUtils.sortCompare(e.untradeable, i.untradeable, !1);
            case r.DISCARD:
                return JSUtils.sortCompare(e.discardValue, i.discardValue, o.sort === SearchSortOrder.DESCENDING);
            case r.TYPE:
                return JSUtils.sortCompare(a.indexOf(e.type), a.indexOf(i.type), !1);
            case r.LEGEND:
                return JSUtils.sortCompare(e.isLegend(), i.isLegend(), !0);
            case r.SPECIAL:
                return JSUtils.sortCompare(e.isSpecial(), i.isSpecial(), !0);
            case r.TIER:
                return JSUtils.sortCompare(e.getTier(), i.getTier(), !0);
            case r.RARITY:
                return JSUtils.sortCompare(e.rareflag, i.rareflag, !1);
            case r.RANK:
                return JSUtils.sortCompare(e.rankId, i.rankId, o.sort === SearchSortOrder.DESCENDING);
            case r.RATING:
                return JSUtils.sortCompare(e.rating, i.rating, o.sort === SearchSortOrder.DESCENDING);
            case r.RESOURCE:
                return JSUtils.sortCompare(e.definitionId, i.definitionId, !1);
            case r.PLAYERPICK:
                return JSUtils.sortCompare(e.isPlayerPickItem(), i.isPlayerPickItem(), !0)
            }
        }
        var n, a = [ItemType.PLAYER, ItemType.MANAGER, ItemType.HEALTH, ItemType.TRAINING, ItemType.BADGE, ItemType.KIT, ItemType.BALL, ItemType.STADIUM, ItemType.MISC];
        n = t.getAuctionData().isActiveTrade() && e.getAuctionData().isActiveTrade() || this.sortByRecency ? [r.RECENCY, r.EXPIRY, r.DISCARD, r.TYPE, r.RANK, r.RATING, r.LEGEND, r.SPECIAL, r.TIER, r.RARITY, r.RESOURCE] : this.sort === SearchSortOrder.ASCENDING ? [r.RECENCY, r.PLAYERPICK, r.DISCARD, r.LOAN, r.RANK, r.RATING, r.RESOURCE] : t.concept && e.concept ? [r.TIER, r.RANK, r.RATING, r.SPECIAL, r.RARITY, r.RESOURCE] : [r.PLAYERPICK, r.DISCARD, r.TYPE, r.RATING, r.RANK, r.LEGEND, r.SPECIAL, r.TIER, r.RARITY, r.LOAN, r.UNTRADEABLE, r.RECENCY, r.RESOURCE];
        var s = 0;
        if (!this.sortByRecency && (s = 1,
        this.sortType === SearchSortType.RATING)) {
            var l = n.indexOf(r.RATING);
            if (-1 < l) {
                var c = n.indexOf(r.RANK);
                n.splice(s, 0, n.splice(l, 1)[0]),
                -1 < c && n.splice(s + 1, 0, n.splice(c, 1)[0])
            }
        }
        for (var u = 0; 0 === u && s !== n.length; )
            u = gKb.call(this, n[s], t, e),
            s++;
        return u
    }
    ,
    UTItemUtils
}(EAObject))
  , UTItemListViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTItemListViewModel(t) {
        var e = i.call(this, t) || this;
        return e.dataUpdated = new EAObservable,
        e.listUtils = new UTItemUtils,
        e.auctionUpdateArray = [],
        e.auctionObservable = null,
        e.updateIntervals = [{
            expires: 30,
            interval: 1
        }, {
            expires: 60,
            interval: 5
        }, {
            expires: 600,
            interval: 120
        }, {
            expires: 3600,
            interval: 600
        }, {
            expires: 432e3,
            interval: 43200
        }],
        e.pendingExpiryUpdateInterval = 5e3,
        e.pinnedItem = null,
        e
    }
    return __extends(UTItemListViewModel, i),
    Object.defineProperty(UTItemListViewModel.prototype, "sortByRecency", {
        get: function() {
            return this.listUtils.sortByRecency
        },
        set: function(t) {
            this.listUtils.sortByRecency = t
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemListViewModel.prototype, "sort", {
        get: function() {
            return this.listUtils.sort
        },
        set: function(t) {
            this.listUtils.sort = t
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemListViewModel.prototype, "sortType", {
        get: function() {
            return this.listUtils.sortType
        },
        set: function(t) {
            this.listUtils.sortType = t
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemListViewModel.prototype.add = function(t, e) {
        return i.prototype.add.call(this, t, e),
        JSUtils.isNumber(e) || this.organizeItems(),
        t
    }
    ,
    UTItemListViewModel.prototype.addArray = function(t) {
        var e = this.length;
        t.forEach(function(t) {
            this.add(t, e),
            e++
        }, this),
        this.organizeItems()
    }
    ,
    UTItemListViewModel.prototype.removeArray = function(i) {
        var e = [];
        this._collection.forEach(function(t) {
            !function(e) {
                return !!JSUtils.find(i, function(t) {
                    return e.id === t.id
                })
            }(t) && e.push(t)
        }),
        this._collection = e,
        this.organizeItems()
    }
    ,
    UTItemListViewModel.prototype.getItemList = function() {
        return this.values()
    }
    ,
    UTItemListViewModel.prototype.getPinnedItem = function() {
        return this.pinnedItem
    }
    ,
    UTItemListViewModel.prototype.setPinnedItem = function(t) {
        JSUtils.isValid(t) && (this.pinnedItem = t)
    }
    ,
    UTItemListViewModel.prototype.startAuctionUpdates = function() {
        var o = this;
        this.stopAuctionUpdates();
        var t = this.auctionUpdateArray.slice()
          , e = this.pinnedItem && JSUtils.isValid(this.pinnedItem) ? this.values().concat([this.pinnedItem]) : this.values();
        this.auctionUpdateArray = e.filter(function(t) {
            var e = t.getAuctionData();
            if (!e.isUpdating && e.isActiveTrade()) {
                if ((e.expires <= 0 || e.getSecondsRemaining() <= 0) && e.getAge() < o.pendingExpiryUpdateInterval)
                    return !1;
                for (var i = o.updateIntervals.length; 0 < i--; ) {
                    var r = o.updateIntervals[i];
                    if (e.isStale() || e.getSecondsRemaining() <= r.expires && e.getAgeInSeconds() >= r.interval)
                        return !0
                }
            }
            return !1
        }),
        0 < this.auctionUpdateArray.length ? (this.auctionObservable = services.Item.refreshAuctions(this.auctionUpdateArray),
        this.auctionObservable.observe(this, function(t, e) {
            t.unobserve(o),
            o.dataUpdated.notify(),
            o.auctionObservable = null,
            o.startAuctionUpdateTimer()
        })) : (0 < t.length && this.dataUpdated.notify(),
        this.startAuctionUpdateTimer())
    }
    ,
    UTItemListViewModel.prototype.stopAuctionUpdates = function() {
        this.auctionUpdateTimer && this.auctionUpdateTimer.stop(),
        this.auctionObservable && (this.auctionObservable.unobserve(this),
        this.auctionObservable = null)
    }
    ,
    UTItemListViewModel.prototype.organizeItems = function() {
        if (0 !== this.length) {
            var t = this.values().sort(this.sortByType.bind(this));
            this.resetCollection(t)
        }
    }
    ,
    UTItemListViewModel.prototype.startAuctionUpdateTimer = function() {
        this.auctionUpdateTimer || (this.auctionUpdateTimer = new EAIntervalController(1e3,this.startAuctionUpdates.bind(this))),
        this.auctionUpdateTimer.start()
    }
    ,
    UTItemListViewModel.prototype.sortByType = function(t, e) {
        return this.listUtils.sortByType(t, e)
    }
    ,
    UTItemListViewModel
}(EAIterator))
  , UTPaginatedItemListViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPaginatedItemListViewModel(t, e) {
        void 0 === e && (e = 15);
        var i = r.call(this, t) || this;
        return i.isFull = !1,
        i.numItemsPerPage = e,
        i
    }
    return __extends(UTPaginatedItemListViewModel, r),
    UTPaginatedItemListViewModel.prototype.resetCollection = function(t) {
        r.prototype.resetCollection.call(this, t),
        this.isFull = !1
    }
    ,
    UTPaginatedItemListViewModel.prototype.getCurrentPage = function() {
        return Math.max(Math.ceil((this.getIndex() + 1) / this.numItemsPerPage), 1)
    }
    ,
    UTPaginatedItemListViewModel.prototype.getNumPages = function() {
        return Math.max(Math.ceil(this.length / this.numItemsPerPage), 1)
    }
    ,
    UTPaginatedItemListViewModel.prototype.getPageIndex = function() {
        return this.getIndex() % this.numItemsPerPage
    }
    ,
    UTPaginatedItemListViewModel.prototype.getPageStartIndex = function(t) {
        return 1 <= t ? (t - 1) * this.numItemsPerPage : 0
    }
    ,
    UTPaginatedItemListViewModel.prototype.getPageItems = function() {
        var t = this.getPageStartIndex(this.getCurrentPage());
        return this.values().slice(t, t + this.numItemsPerPage)
    }
    ,
    UTPaginatedItemListViewModel.prototype.hasPreviousPage = function() {
        return 1 < this.getCurrentPage()
    }
    ,
    UTPaginatedItemListViewModel.prototype.hasNextPage = function() {
        return this.getCurrentPage() < this.getNumPages()
    }
    ,
    UTPaginatedItemListViewModel.prototype.canShowPage = function(t) {
        if (void 0 === t && (t = this.getCurrentPage()),
        DebugUtils.Assert(0 < t && t <= this.getNumPages(), "Page number out of bounds."),
        this.isFull)
            return !0;
        var e = this.getPageStartIndex(t);
        return this.values().slice(e, e + this.numItemsPerPage).length === this.numItemsPerPage
    }
    ,
    UTPaginatedItemListViewModel.prototype.previousPage = function() {
        return this.hasPreviousPage() && this.setIndex(this.getPageStartIndex(this.getCurrentPage() - 1)),
        this.getPageItems()
    }
    ,
    UTPaginatedItemListViewModel.prototype.nextPage = function() {
        return this.hasNextPage() && this.setIndex(this.getPageStartIndex(this.getCurrentPage() + 1)),
        this.getPageItems()
    }
    ,
    UTPaginatedItemListViewModel
}(UTItemListViewModel))
  , EAImageView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function EAImageView() {
        var t = e.call(this) || this;
        return t.cache = !0,
        t.src = "images/transparent.png",
        t
    }
    return __extends(EAImageView, e),
    EAImageView.prototype.dealloc = function() {
        var t = this.getRootElement();
        this.loadCallback && t.removeEventListener(EventType.LOAD, this.loadCallback),
        this.errorCallback && t.removeEventListener(EventType.ERROR, this.errorCallback),
        e.prototype.dealloc.call(this)
    }
    ,
    EAImageView.prototype._generate = function() {
        this.__root = document.createElement("img")
    }
    ,
    Object.defineProperty(EAImageView.prototype, "src", {
        get: function() {
            return this.getRootElement().src
        },
        set: function(t) {
            var e = this.getRootElement();
            HttpUtils.urlHasImage(t) ? this.cache ? e.src = t : e.src = t + "?" + Date.now() : e.src = "images/transparent.png"
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(EAImageView.prototype, "onload", {
        set: function(t) {
            var e = this.getRootElement();
            this.loadCallback && e.removeEventListener(EventType.LOAD, this.loadCallback),
            this.loadCallback = t,
            this.loadCallback && e.addEventListener(EventType.LOAD, this.loadCallback)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(EAImageView.prototype, "onerror", {
        set: function(t) {
            var e = this.getRootElement();
            this.errorCallback && e.removeEventListener(EventType.ERROR, this.errorCallback),
            this.errorCallback = t,
            this.errorCallback && e.addEventListener(EventType.ERROR, this.errorCallback)
        },
        enumerable: !1,
        configurable: !0
    }),
    EAImageView
}(EAView))
  , UTClubViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTClubViewModel(t) {
        var e = getAppMain().getConfigRepository().getConfigObject(EAConfigurationRepository.KEY_ITEMS_PER_PAGE)
          , i = e ? e[EAConfigurationRepository.ITEMS_PER_PAGE.CLUB] : 20;
        return r.call(this, t, i) || this
    }
    return __extends(UTClubViewModel, r),
    UTClubViewModel.prototype.shouldRequestItems = function() {
        return !this.isFull && this.length <= this.numItemsPerPage * this.getCurrentPage()
    }
    ,
    UTClubViewModel.prototype.removeEmptyConsumables = function() {
        var t = this.getIndex()
          , e = this.isFull
          , i = this.values();
        i = i.filter(function(t) {
            return 0 < t.stackCount
        }),
        this.resetCollection(i),
        this.isFull = e,
        this.setIndex(0 < i.length ? Math.min(t, i.length - 1) : 0)
    }
    ,
    UTClubViewModel.prototype.removeItemsById = function(e) {
        var t = this.getIndex()
          , i = this.getItemList().filter(function(t) {
            return JSUtils.isNumber(t.id) && 0 <= e.indexOf(t.id)
        });
        this.removeArray(i),
        this.setIndex(t)
    }
    ,
    UTClubViewModel
}(UTPaginatedItemListViewModel))
  , UTItemSearchViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemSearchViewModel() {
        var t = e.call(this) || this;
        return t.defaultSearchCriteria = new UTSearchCriteriaDTO,
        t.playerData = null,
        t.searchCategoryGroup = SearchCategoryGroup.NONE,
        t.searchCriteria = new UTSearchCriteriaDTO,
        t.searchFeature = ItemSearchFeature.CLUB,
        t.defaultSearchCriteria.type = SearchType.PLAYER,
        t.searchCriteria.type = SearchType.PLAYER,
        t.defaultSearchCriteria.sort = SearchSortOrder.DESCENDING,
        t.searchCriteria.sort = SearchSortOrder.DESCENDING,
        t.defaultSearchCriteria.sortBy = SearchSortType.RATING,
        t.searchCriteria.sortBy = SearchSortType.RATING,
        t
    }
    return __extends(UTItemSearchViewModel, e),
    Object.defineProperty(UTItemSearchViewModel.prototype, "isMarketSearch", {
        get: function() {
            return this.searchFeature === ItemSearchFeature.MARKET
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemSearchViewModel.prototype, "sort", {
        get: function() {
            return this.searchCriteria.sort
        },
        set: function(t) {
            this.searchCriteria.sort = t
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTItemSearchViewModel.prototype, "sortType", {
        get: function() {
            return this.searchCriteria.sortBy
        },
        set: function(t) {
            this.searchCriteria.sortBy = t
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemSearchViewModel.prototype.resetSearch = function() {
        this.clearPlayerData(),
        this.updateSearchCriteria(this.defaultSearchCriteria)
    }
    ,
    UTItemSearchViewModel.prototype.updateSearchCriteria = function(t) {
        var e, i = 0;
        this.searchCriteria.update(t),
        this.setSearchCategoryGroupFromSearchCategory(t.category),
        this.searchCriteria.hasValidDefId() ? i = null !== (e = this.searchCriteria.defId[0]) && void 0 !== e ? e : 0 : this.isMarketSearch && 0 < this.searchCriteria.maskedDefId && (i = this.searchCriteria.maskedDefId),
        0 < i ? this.playerData = repositories.Item.getStaticDataByDefId(i) : this.clearPlayerData()
    }
    ,
    UTItemSearchViewModel.prototype.setPlayerData = function(t) {
        this.playerData = t,
        this.isMarketSearch ? this.searchCriteria.maskedDefId = t.id : this.searchCriteria.defId = [t.id]
    }
    ,
    UTItemSearchViewModel.prototype.clearPlayerData = function() {
        this.playerData = null,
        this.searchCriteria.resetDefId()
    }
    ,
    UTItemSearchViewModel.prototype.getBucketFromType = function(t) {
        switch (t) {
        case SearchType.ANY:
        case SearchType.PLAYER:
            return SearchBucket.PLAYER;
        case SearchType.STAFF:
            return SearchBucket.STAFF;
        case SearchType.BALL:
        case SearchType.CLUB_INFO:
        case SearchType.STADIUM:
        case SearchType.VANITY:
            return SearchBucket.CLUB;
        case SearchType.CONSUMABLES_TRAINING:
        case SearchType.CONSUMABLES_DEVELOPMENT:
            return SearchBucket.CONSUMABLE
        }
    }
    ,
    UTItemSearchViewModel.prototype.updateFromFilterChange = function(t, e, i) {
        var r, o = this.searchCriteria;
        switch (t) {
        case enums.UISearchFilters.TYPE:
            switch (i) {
            case SearchType.PLAYER:
            case SearchType.STAFF:
            case SearchType.CONSUMABLES_TRAINING:
            case SearchType.CONSUMABLES_DEVELOPMENT:
            case SearchType.STADIUM:
            case SearchType.BALL:
            case SearchType.VANITY:
                o.type = i,
                this.searchCategoryGroup = i === SearchType.VANITY ? SearchCategoryGroup.CLUB : SearchCategoryGroup.NONE;
                break;
            case SearchCategory.ANY:
            case SearchCategory.MANAGER:
            case SearchCategory.PLAYSTYLE:
            case SearchCategory.MANAGER_LEAGUE:
            case SearchCategory.HEALING:
            case SearchCategory.KIT:
            case SearchCategory.BADGE:
                o.category = i;
                break;
            default:
                DebugUtils.Assert(!1, "Invalid search category: " + i)
            }
            break;
        case enums.UISearchFilters.POSITION:
            if (i === SearchType.ANY)
                o.zone = -1,
                o.position = SearchType.ANY;
            else {
                var n = this.generatePositionSearchDataFromId(e);
                "zone" === n.label ? o.zone = n.value || -1 : o.position = null !== (r = n.value) && void 0 !== r ? r : "any"
            }
            break;
        case enums.UISearchFilters.POSITION_MOD:
            o.position = i;
            break;
        case enums.UISearchFilters.LEVEL:
            o.level = i,
            o.rarities = [];
            break;
        case enums.UISearchFilters.RARITY:
            o.rarities = 0 <= e ? [e] : [];
            break;
        case enums.UISearchFilters.PLAYSTYLE:
            o.playStyle = e;
            break;
        case enums.UISearchFilters.LEAGUE:
            o.league = e,
            o.club = -1;
            break;
        case enums.UISearchFilters.NATION:
            o.nation = e;
            break;
        case enums.UISearchFilters.CLUB:
            o.club = e;
            break;
        case enums.UISearchFilters.VANITY:
            (this.searchCategoryGroup = i) === SearchCategoryGroup.CLUB ? o.category = SearchCategory.BADGE : i === SearchCategoryGroup.STRUCTURE ? o.category = SearchCategory.STADIUM : i === SearchCategoryGroup.COSMETICS && (o.category = SearchCategory.VANITY_TIFO_BASE);
            break;
        case enums.UISearchFilters.VANITY_CATEGORY:
            switch (i) {
            case SearchCategory.BALL:
                o.type = SearchType.BALL;
                break;
            case SearchCategory.STADIUM:
                o.type = SearchType.STADIUM;
                break;
            case SearchCategory.BADGE:
            case SearchCategory.KIT:
                o.type = SearchType.CLUB_INFO,
                o.category = i;
                break;
            default:
                o.type = SearchType.VANITY,
                o.category = i
            }
            break;
        case enums.UISearchFilters.AUTHENTICITY:
            o.authenticity = i;
            break;
        case enums.UISearchFilters.PRIMARY_COLOR:
            o.primaryColor = e;
            break;
        case enums.UISearchFilters.SECONDARY_COLOR:
            o.secondaryColor = e;
            break;
        case enums.UISearchFilters.ICON_TRAITS:
            o.icontraits = i == IconTraitSearchType.ICONTRAITS ? IconTraitSearchType.ICONTRAITS : IconTraitSearchType.ANY;
            break;
        case enums.UISearchFilters.OVR_MIN:
            o.ovrMin = e;
            break;
        case enums.UISearchFilters.OVR_MAX:
            o.ovrMax = e
        }
    }
    ,
    UTItemSearchViewModel.prototype.requestActiveSquadDefIds = function() {
        var o = this
          , n = new EAObservable;
        return this._trackRequest(n, !0),
        services.Squad.requestSquadById(services.Squad.getActiveSquadId()).observe(this, function(t, e) {
            t.unobserve(o);
            var i = new UTServiceResponseDTO
              , r = e.data && e.data.squad ? e.data.squad.getPlayers().map(function(t) {
                return t.item.definitionId
            }) : [];
            JSUtils.assignPropertyValues(e, i),
            i.data = {
                defIds: r
            },
            n.notify(i)
        }),
        n
    }
    ,
    UTItemSearchViewModel.prototype.generatePositionSearchDataFromId = function(t) {
        var e;
        if (-1 === t && (t = 1),
        [ZONE_DEFENDER_VALUE, ZONE_MIDFIELDER_VALUE, ZONE_ATTACKER_VALUE, ZONE_NO_GK_VALUE].indexOf(t) < 0) {
            var i = repositories.Squad.getPosition(t);
            return {
                label: "pos",
                value: null !== (e = null == i ? void 0 : i.name) && void 0 !== e ? e : ""
            }
        }
        return {
            label: "zone",
            value: t
        }
    }
    ,
    UTItemSearchViewModel.prototype.setSearchCategoryGroupFromSearchCategory = function(t) {
        t === SearchCategory.BADGE || t === SearchCategory.BALL || t === SearchCategory.KIT || t === SearchCategory.VANITY_AUDIO_ANTHEM_MUSIC || t === SearchCategory.VANITY_AUDIO_CLUB_NICKNAME || t === SearchCategory.VANITY_AUDIO_CROWD_CHANT || t === SearchCategory.VANITY_AUDIO_GOAL_SCORE || t === SearchCategory.VANITY_PLAYER_CELEBRATION ? this.searchCategoryGroup = SearchCategoryGroup.CLUB : t === SearchCategory.STADIUM || t === SearchCategory.VANITY_PYROTECHNICS_CONFETTI_CANNON || t === SearchCategory.VANITY_PYROTECHNICS_FIREWORKS_CANNON || t === SearchCategory.VANITY_PYROTECHNICS_FLAME_CANNON || t === SearchCategory.VANITY_PYROTECHNICS_SPARKLER_CANNON || t === SearchCategory.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE || t === SearchCategory.VANITY_STADIUM_BASE_PITCH_LINE_COLOR || t === SearchCategory.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN || t === SearchCategory.VANITY_STADIUM_BASE_SEAT_COLOR || t === SearchCategory.VANITY_STADIUM_BASE_STRUCTURE_COLOR || t === SearchCategory.VANITY_STADIUM_THEME || t === SearchCategory.VANITY_VIP_AREA ? this.searchCategoryGroup = SearchCategoryGroup.STRUCTURE : t !== SearchCategory.VANITY_POLE_BANNER && t !== SearchCategory.VANITY_STADIUM_BASE_PITCH_PROP && t !== SearchCategory.VANITY_TIFO_BASE && t !== SearchCategory.VANITY_TIFO_BIG && t !== SearchCategory.VANITY_TIFO_MOVING || (this.searchCategoryGroup = SearchCategoryGroup.COSMETICS)
    }
    ,
    UTItemSearchViewModel
}(UTViewModel))
  , UTDropDownControl = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTDropDownControl() {
        var t = e.call(this) || this;
        return t.defaultIndex = 0,
        t.isOpen = !1,
        t.options = [],
        t.searchString = "",
        t.searchTimeout = 0,
        t.shieldShowing = !1,
        t.windowEventCallback = null,
        t
    }
    return __extends(UTDropDownControl, e),
    Object.defineProperty(UTDropDownControl.prototype, "enabled", {
        get: function() {
            return this.isInteractionEnabled()
        },
        set: function(t) {
            this.setInteractionState(t)
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTDropDownControl.prototype, "label", {
        get: function() {
            var t = this.options[this.getIndex()];
            return t ? t.label : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTDropDownControl.prototype, "id", {
        get: function() {
            var t = this.options[this.getIndex()];
            return t ? t.id : -1
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTDropDownControl.prototype, "value", {
        get: function() {
            var t = this.options[this.getIndex()];
            return t ? t.value.toString() : ""
        },
        enumerable: !1,
        configurable: !0
    }),
    Object.defineProperty(UTDropDownControl.prototype, "length", {
        get: function() {
            return this.options.length
        },
        enumerable: !1,
        configurable: !0
    }),
    UTDropDownControl.prototype.getEnabled = function() {
        return this.enabled
    }
    ,
    UTDropDownControl.prototype.setEnabled = function(t) {
        this.enabled = t
    }
    ,
    UTDropDownControl.prototype.getLabel = function() {
        return this.label
    }
    ,
    UTDropDownControl.prototype.getId = function() {
        return this.id
    }
    ,
    UTDropDownControl.prototype.getValue = function() {
        return this.value
    }
    ,
    UTDropDownControl.prototype.init = function() {
        e.prototype.init.call(this);
        var t = this.getDropDownElement();
        this._addListener(EventType.CHANGE, t, this.onChangeEvent.bind(this)),
        isPhone() ? this.__animatedContainer.appendChild(t) : (this.windowEventCallback = this.onWindowEvent.bind(this),
        this.__list = document.createElement("ul"),
        DOMKit.addClass(this.__list, "inline-list")),
        this.setInteractionState(!0)
    }
    ,
    UTDropDownControl.prototype.dealloc = function() {
        this._removeListenersByName(EventType.CHANGE),
        this.removeWindowListener(),
        getKeyboardEventController().unregisterDelegate(this, KeyboardEventPriority.ACTIVE_ELEMENT),
        this.options = [],
        this.windowEventCallback = null,
        this.__list = null,
        this.__picker = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTDropDownControl.prototype.setInteractionState = function(t) {
        if (this._setInteractionStateFlag(t))
            if (this.toggleClass(enums.UIState.DISABLED, !t),
            this.__list)
                this._interactionState ? this._startHandlingEvents(this.__animatedContainer) : this._stopHandlingEvents();
            else {
                var e = this.getDropDownElement();
                t || e !== document.activeElement || e.dispatchEvent(JSUtils.createEvent("blur")),
                e.disabled = !t
            }
    }
    ,
    UTDropDownControl.prototype.requiresFlip = function() {
        var t = this.getRootElement().getBoundingClientRect();
        return !!this.__list && window.innerHeight < t.bottom + this.__list.clientHeight
    }
    ,
    UTDropDownControl.prototype.open = function() {
        if (!this.isOpen && this.__list) {
            if (this.isOpen = !0,
            this.__animatedContainer.appendChild(this.__list),
            this.requiresFlip()) {
                var t = this.__list.clientHeight.toString();
                this.__animatedContainer.insertBefore(this.__list, this.__animatedContainer.children.item(0)),
                this.__animatedContainer.style.top = "-" + t + "px",
                this.addClass("ui-flip-vertical")
            }
            DOMKit.addClass(this.__list.children[this.getDropDownElement().selectedIndex], enums.UIState.SELECTED),
            this.scrollToSelected(),
            this.addClass("is-open"),
            this.addWindowListener(),
            getKeyboardEventController().registerDelegate(this, KeyboardEventPriority.ACTIVE_ELEMENT)
        }
    }
    ,
    UTDropDownControl.prototype.close = function() {
        this.isOpen && this.__list && (this.isOpen = !1,
        this.removeWindowListener(),
        getKeyboardEventController().unregisterDelegate(this, KeyboardEventPriority.ACTIVE_ELEMENT),
        this.__animatedContainer.style.top = "0px",
        DOMKit.remove(this.__list),
        this.removeClass("is-open ui-flip-vertical"))
    }
    ,
    UTDropDownControl.prototype.addWindowListener = function() {
        var t = this;
        this.removeWindowListener(),
        requestAnimationFrame(function() {
            t.windowEventCallback && (window.addEventListener(EventType.CLICK, t.windowEventCallback, !1),
            window.addEventListener(EventType.TOUCHEND, t.windowEventCallback, !1))
        })
    }
    ,
    UTDropDownControl.prototype.removeWindowListener = function() {
        this.windowEventCallback && (window.removeEventListener(EventType.CLICK, this.windowEventCallback, !1),
        window.removeEventListener(EventType.TOUCHEND, this.windowEventCallback, !1))
    }
    ,
    UTDropDownControl.prototype.scrollToSelected = function() {
        if (this.__list) {
            var t = this.__list.children.item(this.getDropDownElement().selectedIndex);
            t && (this.__list.scrollTop = t.offsetTop)
        }
    }
    ,
    UTDropDownControl.prototype.onWindowEvent = function(t) {
        if (t.target) {
            var e = t.target;
            "li" === e.nodeName.toLowerCase() && e.parentNode === this.__list || this.close()
        }
    }
    ,
    UTDropDownControl.prototype.getDropDownElement = function() {
        return this.__picker || (this.__picker = document.createElement("select")),
        this.__picker
    }
    ,
    UTDropDownControl.prototype.generateWebOptionElement = function(t) {
        var e = document.createElement("li");
        return e.textContent = t.label,
        e
    }
    ,
    UTDropDownControl.prototype.generateNativeOptions = function() {
        var i = this.getDropDownElement();
        DOMKit.empty(i),
        this.options.forEach(function(t) {
            var e = document.createElement("option");
            e.value = t.value.toString(),
            e.textContent = t.label,
            i.appendChild(e)
        }, this),
        this.setIndex(this.defaultIndex)
    }
    ,
    UTDropDownControl.prototype.setOptions = function(t) {
        var e = this;
        Array.isArray(t) && (this.options = t,
        this.generateNativeOptions(),
        this.__label.textContent = this.label,
        this.__list && (DOMKit.empty(this.__list),
        t.forEach(function(t) {
            e.__list && e.__list.appendChild(e.generateWebOptionElement(t))
        }))),
        this.removeClass("is-open ui-flip-vertical")
    }
    ,
    UTDropDownControl.prototype.getOptions = function() {
        return this.options.slice()
    }
    ,
    UTDropDownControl.prototype.setIndex = function(t) {
        var e = this.getDropDownElement();
        if (JSUtils.isNumber(t) && e.selectedIndex !== t) {
            if (this.__list) {
                var i = this.__list.children.item(e.selectedIndex)
                  , r = this.__list.children.item(t);
                i && DOMKit.removeClass(i, enums.UIState.SELECTED),
                r && DOMKit.addClass(r, enums.UIState.SELECTED)
            }
            e.selectedIndex = t,
            e.dispatchEvent(JSUtils.createEvent("change"))
        }
    }
    ,
    UTDropDownControl.prototype.getIndex = function() {
        return this.getDropDownElement().selectedIndex
    }
    ,
    UTDropDownControl.prototype.setIndexById = function(t) {
        for (var e = this.options.length; 0 < e--; )
            if (this.options[e].id === t) {
                this.setIndex(e);
                break
            }
    }
    ,
    UTDropDownControl.prototype.setIndexByValue = function(t) {
        for (var e = this.options.length; 0 < e--; )
            if (this.options[e].value === t)
                return this.setIndex(e),
                !0;
        return !1
    }
    ,
    UTDropDownControl.prototype.setDefaultIndexById = function(t, e) {
        for (var i = this.options.length; 0 < i--; )
            if (this.options[i].id === t)
                return this.defaultIndex = i,
                e && this.setIndex(i),
                !0;
        return !1
    }
    ,
    UTDropDownControl.prototype.setDefaultIndexByValue = function(t, e) {
        for (var i = this.options.length; 0 < i--; )
            if (this.options[i].value === t) {
                this.defaultIndex = i,
                e && this.setIndex(i);
                break
            }
    }
    ,
    UTDropDownControl.prototype.getDefaultIndex = function() {
        return this.defaultIndex
    }
    ,
    UTDropDownControl.prototype.blur = function() {
        var t = this.getDropDownElement();
        t === document.activeElement && t.blur()
    }
    ,
    UTDropDownControl.prototype.focus = function() {
        var t = this.getDropDownElement();
        t !== document.activeElement && t.focus()
    }
    ,
    UTDropDownControl.prototype.handleDropdownSearch = function(t) {
        var e = this;
        0 < this.searchTimeout && clearTimeout(this.searchTimeout),
        this.searchTimeout = window.setTimeout(function() {
            e.searchTimeout = 0,
            e.searchString = ""
        }, 1e3);
        var r = this.searchString += t
          , i = this.__list ? DOMKit.HTMLCollectionToArray(this.__list.children) : []
          , o = JSUtils.find(i, function(t) {
            var e = getComputedStyle(t)
              , i = t.textContent || "";
            return "none" !== e.display && "visible" === e.visibility && 0 === i.trim().toLowerCase().indexOf(r.trim().toLowerCase())
        });
        this.__list && o && (this.__list.scrollTop = o.offsetTop)
    }
    ,
    UTDropDownControl.prototype.handleKeyUpEvent = function(t) {
        /^[a-zA-Z0-9 ]$/.test(t.key) && this.handleDropdownSearch(t.key.toString())
    }
    ,
    UTDropDownControl.prototype.onChangeEvent = function(t) {
        this.isInteractionEnabled() && (this.__label.textContent = this.label,
        this._triggerActions(EventType.CHANGE, {
            index: this.getIndex(),
            id: this.id,
            value: this.value
        }))
    }
    ,
    UTDropDownControl.prototype.onFocusEvent = function(t) {
        this.enabled && !this.shieldShowing && (this.shieldShowing = !0,
        gClickShield.showShield(EAClickShieldView.Shield.FULL))
    }
    ,
    UTDropDownControl.prototype.onBlurEvent = function(t) {
        this.shieldShowing && (gClickShield.hideShield(EAClickShieldView.Shield.FULL),
        this.shieldShowing = !1)
    }
    ,
    UTDropDownControl.prototype._touchStarted = function(t) {
        var e = this;
        this.isInteractionEnabled() && requestAnimationFrame(function() {
            return e.addClass(enums.UIState.ACTIVE)
        })
    }
    ,
    UTDropDownControl.prototype._touchMoved = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            return e.removeClass(enums.UIState.ACTIVE)
        })
    }
    ,
    UTDropDownControl.prototype._touchEnded = function(t) {
        var e = this;
        requestAnimationFrame(function() {
            return e.removeClass([enums.UIState.ACTIVE, enums.UIState.HOVER].join(" "))
        })
    }
    ,
    UTDropDownControl.prototype._tapDetected = function(t) {
        if (this.isInteractionEnabled() && this.__list) {
            var e = t.target
              , i = e ? e.nodeName.toLowerCase() : "";
            if ("ul" !== i)
                if ("li" === i) {
                    var r = DOMKit.HTMLCollectionToArray(this.__list.children);
                    this.setIndex(r.indexOf(e)),
                    this.close()
                } else
                    this.isOpen ? this.close() : this.open()
        }
    }
    ,
    UTDropDownControl.prototype._mouseLeave = function(t) {
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTDropDownControl.prototype._mouseEnter = function(t) {
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTDropDownControl
}(UTControl));
UTDropDownControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("inline-list-select"),
        t.classList.add("ut-drop-down-control"),
        this.__animatedContainer = document.createElement("div"),
        this.__animatedContainer.classList.add("inline-container"),
        this.__label = document.createElement("span"),
        this.__label.classList.add("label"),
        this.__animatedContainer.appendChild(this.__label),
        t.appendChild(this.__animatedContainer),
        this.__root = t,
        this._generated = !0
    }
}
,
UTDropDownControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__animatedContainer = null,
    this.__label = null
}
,
UTDropDownControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSearchFilterControl = function(e) {
    function UTSearchFilterControl() {
        var t = e.call(this) || this;
        return t.defaultLabel = "",
        t.hasDefault = !1,
        t.iconTable = null,
        t.setId = "",
        t
    }
    return __extends(UTSearchFilterControl, e),
    Object.defineProperty(UTSearchFilterControl.prototype, "image", {
        get: function() {
            var t;
            return null !== (t = this.__filterImage.getAttribute("src")) && void 0 !== t ? t : ""
        },
        set: function(t) {
            var e = JSUtils.isEmpty(t);
            this.toggleClass("has-image", !e),
            e || this.__filterImage.setAttribute("src", t)
        },
        enumerable: !1,
        configurable: !0
    }),
    UTSearchFilterControl.prototype.init = function() {
        e.prototype.init.call(this),
        this._clearBtn.init(),
        this._clearBtn.addTarget(this, this.onClearSelected, EventType.TAP)
    }
    ,
    UTSearchFilterControl.prototype.dealloc = function() {
        this.iconTable = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTSearchFilterControl.prototype.generateWebOptionElement = function(t) {
        var e = document.createElement("li");
        if (e.textContent = t.label,
        this.iconTable) {
            var i = this.iconTable.get(t.value);
            i && "" !== i && (DOMKit.addClass(e, "with-icon"),
            e.style.backgroundImage = "url('" + i + "')")
        }
        return e
    }
    ,
    UTSearchFilterControl.prototype.setOptions = function(t) {
        e.prototype.setOptions.call(this, t),
        this.removeClass("has-selection"),
        0 === this.getIndex() && this.hasDefault && (this.__label.textContent = this.defaultLabel)
    }
    ,
    UTSearchFilterControl.prototype.getImage = function() {
        return this.image
    }
    ,
    UTSearchFilterControl.prototype.setImage = function(t) {
        this.image = t
    }
    ,
    UTSearchFilterControl.prototype.setDefaultLabel = function(t) {
        this.defaultLabel = t,
        0 === this.getIndex() && this.hasDefault && (this.__label.textContent = this.defaultLabel)
    }
    ,
    UTSearchFilterControl.prototype.setIndex = function(t) {
        e.prototype.setIndex.call(this, t),
        this.toggleClass("has-selection", 0 !== this.getIndex() || !this.hasDefault)
    }
    ,
    UTSearchFilterControl.prototype.setHasDefault = function(t) {
        this.hasDefault = t,
        this.toggleClass("has-default", t)
    }
    ,
    UTSearchFilterControl.prototype.setIconTable = function(t) {
        this.iconTable = t
    }
    ,
    UTSearchFilterControl.prototype.onChangeEvent = function(t) {
        e.prototype.onChangeEvent.call(this, t),
        0 === this.getIndex() && this.hasDefault && (this.__label.textContent = this.defaultLabel)
    }
    ,
    UTSearchFilterControl.prototype.onClearSelected = function(t, e, i) {
        var r = this;
        if (this.isInteractionEnabled()) {
            var o = this.getDropDownElement()
              , n = o.parentNode;
            isPhone() && n && (n.removeChild(o),
            setTimeout(function() {
                return r.__animatedContainer.appendChild(o)
            }, 500)),
            this.setIndex(this.getDefaultIndex())
        }
    }
    ,
    UTSearchFilterControl
}(UTDropDownControl);
UTSearchFilterControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("inline-list-select"),
        t.classList.add("ut-search-filter-control"),
        this.__animatedContainer = document.createElement("div"),
        this.__animatedContainer.classList.add("inline-container");
        var e = document.createElement("div");
        e.classList.add("ut-search-filter-control--row"),
        this.__filterImage = document.createElement("img"),
        this.__filterImage.classList.add("ut-search-filter-control--row-image"),
        e.appendChild(this.__filterImage),
        this.__label = document.createElement("span"),
        this.__label.classList.add("label"),
        e.appendChild(this.__label),
        this._clearBtn = new UTFlatButtonControl,
        this._clearBtn.getRootElement().classList.add("ut-search-filter-control--row-button"),
        e.appendChild(this._clearBtn.getRootElement()),
        this.__animatedContainer.appendChild(e),
        t.appendChild(this.__animatedContainer),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSearchFilterControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__animatedContainer = null,
    this.__filterImage = null,
    this.__label = null,
    this._clearBtn.destroy()
}
,
UTSearchFilterControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTToggleControl = function(i) {
    function UTToggleControl() {
        var t = i.call(this) || this;
        return t.toggled = !1,
        t
    }
    return __extends(UTToggleControl, i),
    UTToggleControl.prototype.init = function() {
        i.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTToggleControl.prototype.setInteractionState = function(t) {
        var e = this._interactionState;
        i.prototype.setInteractionState.call(this, t),
        this._interactionState !== e && this.toggleClass(enums.UIState.DISABLED, !this._interactionState)
    }
    ,
    UTToggleControl.prototype.toggle = function(t) {
        var e = null != t ? t : !this.toggled;
        return e !== this.toggled && (this.toggled = e,
        this.toggleClass("toggled", this.toggled)),
        this.toggled
    }
    ,
    UTToggleControl.prototype.getToggleState = function() {
        return this.toggled
    }
    ,
    UTToggleControl.prototype._tapDetected = function(t) {
        this.getEventDelegate() ? i.prototype._tapDetected.call(this, t) : this.isInteractionEnabled() && (this.toggle(),
        this._triggerActions(EventType.TAP, {
            toggleState: this.toggled
        }))
    }
    ,
    UTToggleControl
}(UTControl);
UTToggleControl.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-toggle-control");
        var e = document.createElement("div");
        e.classList.add("ut-toggle-control--track"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("ut-toggle-control--grip"),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTToggleControl.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTToggleControl.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTToggleCellView = function(i) {
    function UTToggleCellView() {
        return i.call(this) || this
    }
    return __extends(UTToggleCellView, i),
    UTToggleCellView.prototype.init = function() {
        i.prototype.init.call(this),
        this._toggle.init(),
        this._toggle.setEventDelegate(this),
        this.setInteractionState(!0)
    }
    ,
    UTToggleCellView.prototype.setInteractionState = function(t) {
        var e = this._interactionState;
        i.prototype.setInteractionState.call(this, t),
        this._interactionState !== e && this.toggleClass(enums.UIState.DISABLED, !this._interactionState),
        this._toggle.setInteractionState(t)
    }
    ,
    UTToggleCellView.prototype.setLabel = function(t) {
        this.__label.textContent = t
    }
    ,
    UTToggleCellView.prototype.getToggleState = function() {
        return this._toggle.getToggleState()
    }
    ,
    UTToggleCellView.prototype.toggle = function(t) {
        return this._toggle.toggle(t)
    }
    ,
    UTToggleCellView.prototype._tapDetected = function(t) {
        i.prototype._tapDetected.call(this, t),
        this.isInteractionEnabled() && (this.toggle(),
        this._triggerActions(EventType.TAP, {
            toggleState: this._toggle.getToggleState()
        }))
    }
    ,
    UTToggleCellView
}(EATargetActionView);
UTToggleCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-toggle-cell-view"),
        this.__label = document.createElement("span"),
        this.__label.classList.add("ut-toggle-cell-view--label"),
        t.appendChild(this.__label),
        this._toggle = new UTToggleControl,
        t.appendChild(this._toggle.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTToggleCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null,
    this._toggle.destroy()
}
,
UTToggleCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTToggleControlGroupView = function(i) {
    function UTToggleControlGroupView() {
        var t = i.call(this) || this;
        return t.toggles = new EAHashTable,
        t
    }
    return __extends(UTToggleControlGroupView, i),
    UTToggleControlGroupView.prototype.dealloc = function() {
        this.removeSliders(),
        i.prototype.dealloc.call(this)
    }
    ,
    UTToggleControlGroupView.prototype.setInteractionState = function(e) {
        i.prototype.setInteractionState.call(this, e),
        this.getSubviews().forEach(function(t) {
            return t.setInteractionState(e)
        })
    }
    ,
    UTToggleControlGroupView.prototype.reset = function() {
        this.toggles.forEach(function(t) {
            return t.toggle(!1)
        })
    }
    ,
    UTToggleControlGroupView.prototype.addToggleCell = function(t, e, i) {
        var r = this.toggles.has(t);
        if (DebugUtils.Assert(!r, "Toggle control already exists with ID: " + t),
        !r) {
            var o = new UTToggleCellView;
            o.init(),
            o.setLabel(e),
            o.addTarget(this, this.handleToggleChange, EventType.TAP),
            i && o.toggle(i),
            this.toggles.set(t, o),
            this.addSubview(o)
        }
    }
    ,
    UTToggleControlGroupView.prototype.addSlider = function(t, e) {
        this.addToggleCell(t, e)
    }
    ,
    UTToggleControlGroupView.prototype.removeToggleCells = function() {
        this.getSubviews().forEach(function(t) {
            return t.dealloc()
        }),
        this.toggles.clear()
    }
    ,
    UTToggleControlGroupView.prototype.removeSliders = function() {
        this.removeToggleCells()
    }
    ,
    UTToggleControlGroupView.prototype.toggleById = function(t, e) {
        var i;
        null === (i = this.toggles.get(t)) || void 0 === i || i.toggle(e)
    }
    ,
    UTToggleControlGroupView.prototype.toggleSlider = function(t, e) {
        this.toggleById(t, e)
    }
    ,
    UTToggleControlGroupView.prototype.setCellInteractionState = function(t, e) {
        var i;
        null === (i = this.toggles.get(t)) || void 0 === i || i.setInteractionState(e)
    }
    ,
    UTToggleControlGroupView.prototype.setSliderInteractionState = function(t, e) {
        this.setCellInteractionState(t, e)
    }
    ,
    UTToggleControlGroupView.prototype.handleToggleChange = function(e, t, i) {
        var r, o = this, n = null !== (r = this.toggles.keys().filter(function(t) {
            return o.toggles.get(t) === e
        })[0]) && void 0 !== r ? r : "";
        this._triggerActions(EventType.CHANGE, {
            id: n,
            checked: i.toggleState
        })
    }
    ,
    UTToggleControlGroupView
}(EATargetActionView);
UTToggleControlGroupView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-toggle-control-group-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTToggleControlGroupView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTToggleControlGroupView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var ItemViewSize, UTItemInfoStateViewModel = function(i) {
    function UTItemInfoStateViewModel(t) {
        var e = i.call(this) || this;
        return e.configDelegate = t || null,
        e.state = e.configDelegate && parseInt(e.configDelegate.getSessionItem("UTItemInfoState") || "", 10) || UIItemInfoState.MAIN,
        e
    }
    return __extends(UTItemInfoStateViewModel, i),
    UTItemInfoStateViewModel.prototype.setState = function(t) {
        this.configDelegate && (this.configDelegate.setSessionItem("UTItemInfoState", t.toString()),
        getDefaultDispatcher().notify(AppNotification.UI_ITEM_STATE_CHANGE, this, {
            state: t
        })),
        this.state = t
    }
    ,
    UTItemInfoStateViewModel.prototype.getState = function() {
        return this.configDelegate && parseInt(this.configDelegate.getSessionItem("UTItemInfoState") || "", 10) || this.state
    }
    ,
    UTItemInfoStateViewModel.prototype.nextState = function() {
        switch (this.getState()) {
        case UIItemInfoState.MAIN:
            this.setState(UIItemInfoState.BIO);
            break;
        case UIItemInfoState.BIO:
            this.setState(UIItemInfoState.STYLE);
            break;
        case UIItemInfoState.STYLE:
            this.setState(UIItemInfoState.STRENGTH);
            break;
        case UIItemInfoState.STRENGTH:
            this.setState(UIItemInfoState.TRAITS);
            break;
        case UIItemInfoState.TRAITS:
            this.setState(UIItemInfoState.STATS);
            break;
        case UIItemInfoState.STATS:
        default:
            this.setState(UIItemInfoState.MAIN)
        }
        return this.state
    }
    ,
    UTItemInfoStateViewModel
}(EAObject), UTItemCanvasDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTItemCanvasDTO(t) {
        var e = i.call(this) || this;
        return e.dynamic = t.dynamic,
        e.element = t.element ? t.element : null,
        e.height = t.height,
        e.width = t.width,
        e.xPos = t.xPos,
        e.yPos = t.yPos,
        e
    }
    return __extends(UTItemCanvasDTO, i),
    UTItemCanvasDTO
}(EAObject));
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
!function(t) {
    t[t.SMALL = 0] = "SMALL",
    t[t.LARGE = 1] = "LARGE"
}(ItemViewSize = ItemViewSize || {});
var UTItemView = function(e) {
    function UTItemView() {
        var t = e.call(this) || this;
        return t.assets = new EAHashTable,
        t.assetsLoaded = new EAHashTable,
        t.infoStateViewModel = new UTItemInfoStateViewModel(services.UserSettings),
        t.rendered = !1,
        t.renderConcept = !0,
        t.renderRestrictions = !0,
        t.renderSfx = !1,
        t.supportSecondaryViews = !0,
        t
    }
    return __extends(UTItemView, e),
    UTItemView.prototype.init = function() {
        e.prototype.init.call(this),
        getDefaultDispatcher().addObserver(AppNotification.UI_ITEM_STATE_CHANGE, this, this.onInfoStateChanged)
    }
    ,
    UTItemView.prototype.dealloc = function() {
        getDefaultDispatcher().removeObserver(AppNotification.UI_ITEM_STATE_CHANGE, this),
        this.assets.clear(),
        this.assetsLoaded.clear(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTItemView.prototype.setItemInfoState = function(t) {}
    ,
    UTItemView.prototype.render = function(t, e) {
        var i = services.Configuration.getItemRarity(t);
        this.rendered && this.resetRender(),
        this._canvas && (this._canvas.clearCanvas(),
        this.removeClass(UTItemView.CLASS.LOADED),
        this.addClass(UTItemView.CLASS.LOADING)),
        this.assets.clear(),
        this.assetsLoaded.clear(),
        this.renderShell(t, i),
        this.renderItem(t, i, e),
        this.renderAuctionState(t.getAuctionData()),
        this.rendered = !0,
        this.setItemInfoState(this.infoStateViewModel && this.supportSecondaryViews ? this.infoStateViewModel.getState() : enums.UIItemInfoState.MAIN)
    }
    ,
    UTItemView.prototype.renderComplete = function() {
        this.removeClass(UTItemView.CLASS.LOADING),
        this.addClass(UTItemView.CLASS.LOADED)
    }
    ,
    UTItemView.prototype.renderShell = function(t, e) {
        this.rendered && this.removeClass([UTItemView.CLASS.CONCEPT, UTItemView.CLASS.EMPTY].join(" ")),
        t.isValid() ? this.renderConcept && t.concept ? this.addClass(UTItemView.CLASS.CONCEPT) : (this.toggleClass(UTItemView.CLASS.ACTIVE_CLUB_ITEM, t.isActiveClubItem()),
        this.removeClass(UTItemView.STATUS_OVERLAY_TYPE.join(" ")),
        this.addClass(UTItemView.STATUS_OVERLAY_TYPE[e.shell])) : this.addClass(UTItemView.CLASS.EMPTY)
    }
    ,
    UTItemView.prototype.setShell = function(t, e, i) {
        var r = this;
        if (t.isValid() && 0 !== t.stackCount) {
            var o, n = this.getRootElement(), a = t.isPlayer() || t.isManager(), s = t.isClubItem() && t.isSpecial(), l = JSUtils.isString(i) ? i : "";
            o = a || s ? 1 : 0;
            var c = t.hasQualityTiers() ? t.getTier() : ItemRatingTier.NONE
              , u = AssetLocationUtils.getShellUri(e, o, t.rareflag, c, l);
            a ? (this.assets.set(ItemAssetType.SHELL, this.getAssetDimensions(ItemAssetType.SHELL, !1)),
            e === ItemViewSize.SMALL ? this.loadAsset(u, ItemAssetType.SHELL, t, function(t, e) {
                var i = AssetLocationUtils.getLocalShellUri(e.concept, ItemRarity.DEFAULT, ItemRatingTier.NONE, ItemViewSize.SMALL);
                r.loadAsset(i, t, e)
            }) : e === ItemViewSize.LARGE && this.loadAsset(u, ItemAssetType.SHELL, t, function(t, e) {
                var i = AssetLocationUtils.getLocalShellUri(e.concept, ItemRarity.DEFAULT, ItemRatingTier.NONE, ItemViewSize.LARGE);
                r.loadAsset(i, t, e)
            })) : n.style.backgroundImage = "url(" + u + ")"
        }
    }
    ,
    UTItemView.prototype.setLocalShell = function(t, e) {
        var i = this.getRootElement()
          , r = t.concept && this.renderConcept
          , o = r && t.rareflag > ItemRarity.RARE ? 2 : t.rareflag
          , n = t.hasQualityTiers() ? t.getTier() : ItemRatingTier.NONE
          , a = AssetLocationUtils.getLocalShellUri(r, o, n, e);
        this._canvas ? (this.assets.set(ItemAssetType.SHELL, this.getAssetDimensions(ItemAssetType.SHELL, !1)),
        this.loadAsset(a, ItemAssetType.SHELL, t)) : i.style.backgroundImage = "url(" + a + ")"
    }
    ,
    UTItemView.prototype.renderAuctionState = function(t) {
        if (this.rendered) {
            var e = [UTItemView.CLASS.AUCTION_WON, UTItemView.CLASS.AUCTION_WINNING, UTItemView.CLASS.AUCTION_EXPIRED, UTItemView.CLASS.AUCTION_OUTBID].join(" ");
            this.removeClass(e)
        }
        t.isValid() && (t.isWon() ? this.addClass(UTItemView.CLASS.AUCTION_WON) : t.isHighestBid() || t.isBought() || t.isSold() ? this.addClass(UTItemView.CLASS.AUCTION_WINNING) : t.isActiveTrade() && t.isOutbid() ? this.addClass(UTItemView.CLASS.AUCTION_OUTBID) : (t.isClosedTrade() || t.isExpired()) && this.addClass(UTItemView.CLASS.AUCTION_EXPIRED))
    }
    ,
    UTItemView.prototype.renderChemistryBreakdown = function(t, e, i, r) {}
    ,
    UTItemView.prototype.renderChemistryPoints = function(t) {}
    ,
    UTItemView.prototype.applyColors = function(t, e) {
        var i = this.getRootElement();
        DOMKit.findElements(i, t).forEach(function(t) {
            t.style.color = "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 1)"
        })
    }
    ,
    UTItemView.prototype.requestResource = function(t, e, i, r) {
        this.loadAsset(t, e, i, r || this.onLoadAssetError)
    }
    ,
    UTItemView.prototype.loadAsset = function(t, i, r, o) {
        var n = this
          , a = this.assets.get(i);
        if (a) {
            var s = new Image
              , l = function(t) {
                s.removeEventListener("load", l, !1),
                s.removeEventListener("error", l, !1);
                var e = n.assets.get(i);
                e && e === a && ("load" === t.type ? n.onLoadAssetSuccess(i, s, r) : "error" === t.type && (o ? o.apply(n, [i, r]) : n.onLoadAssetError(i, r)))
            };
            t && (s.src = t,
            s.addEventListener("load", l, !1),
            s.addEventListener("error", l, !1))
        }
    }
    ,
    UTItemView.prototype.onLoadAssetSuccess = function(t, e, i) {
        var r = this.assets.get(t);
        this._canvas && r && (r.element = e,
        this.assetsLoaded.set(t, !0),
        this.onLoadComplete(i))
    }
    ,
    UTItemView.prototype.onLoadAssetError = function(t, e) {
        var i = this.assets.get(t);
        this._canvas && i && (i.element = null,
        this.assetsLoaded.set(t, !1),
        this.onLoadComplete(e))
    }
    ,
    UTItemView.prototype.areAssetsLoaded = function() {
        return this.assetsLoaded.length >= this.assets.length
    }
    ,
    UTItemView.prototype.onLoadComplete = function(t) {
        this._canvas && this.areAssetsLoaded() && (this._canvas.setAssets(this.assets),
        this._canvas.setState(this.infoStateViewModel && this.supportSecondaryViews ? this.infoStateViewModel.getState() : enums.UIItemInfoState.MAIN),
        this._traitsCanvas && 0 < t.getNumPlusPlayStyles() && (this._traitsCanvas.setAssets(this.assets),
        this._traitsCanvas.renderPlayerIconTraits(t.getPlusPlayStyles())),
        this.renderComplete())
    }
    ,
    UTItemView.prototype.onInfoStateChanged = function(t, e, i) {
        this.supportSecondaryViews && this.setItemInfoState(i.state)
    }
    ,
    UTItemView.CLASS = {
        ACTIVE_CLUB_ITEM: "activeItem",
        INJURED: "restricted-injured",
        SUSPENDED: "restricted-suspended",
        CONCEPT: "concept",
        EMPTY: "empty",
        LOAN: "loan",
        INVALID_STAT: "invalidStat",
        AUCTION_WINNING: "winning",
        AUCTION_WON: "won",
        AUCTION_EXPIRED: "expired",
        AUCTION_OUTBID: "outbid",
        LOADING: "ut-item-loading",
        LOADED: "ut-item-loaded"
    },
    UTItemView.STATUS_OVERLAY_TYPE = ["common", "rare", "specials"],
    UTItemView
}(EAView)
  , UTBadgeItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTBadgeItemView() {
        return t.call(this) || this
    }
    return __extends(UTBadgeItemView, t),
    UTBadgeItemView.prototype.renderItem = function(t, e) {
        var i = e.getLargeColorMap(t.getTier());
        if (i && this.applyColors(".iconClub", i.footer),
        this._mainImage) {
            var r = this._mainImage
              , o = UTItemEntity.DEFAULT_ASSET_ID;
            r.onerror = function(t) {
                r.onerror = null,
                r.src = AssetLocationUtils.getBadgeImageUri(o)
            }
            ,
            r.src = AssetLocationUtils.getBadgeImageUri(t.teamId)
        }
    }
    ,
    UTBadgeItemView.prototype.canRender = function(t) {
        return t.isBadge()
    }
    ,
    UTBadgeItemView.prototype.resetRender = function() {}
    ,
    UTBadgeItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTBadgeItemView
}(UTItemView))
  , UTLargeBadgeItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTLargeBadgeItemView() {
        return n.call(this) || this
    }
    return __extends(UTLargeBadgeItemView, n),
    UTLargeBadgeItemView.prototype.renderItem = function(t, e) {
        n.prototype.renderItem.call(this, t, e);
        var i = services.Localization
          , r = e.getExpColorMap(t.getTier())
          , o = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.LARGE, o),
        this.__itemName.textContent = i.localize("card.desc.badge"),
        this.__clubName.textContent = UTLocalizationUtil.teamIdToAbbr15(t.teamId, i),
        r && (this.applyColors(".name", r.name),
        this.applyColors(".clubView .clubRow", r.footer))
    }
    ,
    UTLargeBadgeItemView
}(UTBadgeItemView));
UTLargeBadgeItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("badge"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__clubName = document.createElement("div"),
        this.__clubName.classList.add("name"),
        t.appendChild(this.__clubName);
        var i = document.createElement("div");
        i.classList.add("clubView"),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("clubRow"),
        i.appendChild(this.__itemName),
        t.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("badge"),
        r.classList.add("iconClub"),
        t.appendChild(r),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeBadgeItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__clubName = null,
    this.__itemName = null
}
,
UTLargeBadgeItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTBallItemView = function(t) {
    function UTBallItemView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTBallItemView, t),
    UTBallItemView.prototype.renderItem = function(t, e) {
        var i = e.getLargeColorMap(t.getTier());
        if (i && this.applyColors(".iconClub", i.footer),
        this._mainImage) {
            var r = this._mainImage
              , o = AssetLocationUtils.getBallImageUri(t.getStaticData().assetId);
            r.onerror = function(t) {
                o = AssetLocationUtils.getBallImageUri(UTItemEntity.DEFAULT_BALL_ASSET_ID),
                r.onerror = null,
                r.src = o
            }
            ,
            r.src = o
        }
    }
    ,
    UTBallItemView.prototype.canRender = function(t) {
        return t.isBall()
    }
    ,
    UTBallItemView.prototype.resetRender = function() {}
    ,
    UTBallItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTBallItemView
}(UTItemView)
  , UTLargeBallItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTLargeBallItemView() {
        return n.call(this) || this
    }
    return __extends(UTLargeBallItemView, n),
    UTLargeBallItemView.prototype.renderItem = function(t, e) {
        var i = t.getStaticData();
        n.prototype.renderItem.call(this, t, e);
        var r = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.LARGE, r);
        var o = e.getExpColorMap(t.getTier());
        this.__ballName.textContent = services.Localization.localize(i.description),
        o && this.applyColors(".name", o.name)
    }
    ,
    UTLargeBallItemView
}(UTBallItemView));
UTLargeBallItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("ball"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__ballName = document.createElement("div"),
        this.__ballName.classList.add("name"),
        t.appendChild(this.__ballName);
        var i = document.createElement("div");
        i.classList.add("ball"),
        i.classList.add("iconClub"),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeBallItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__ballName = null
}
,
UTLargeBallItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTConsumableItemView = function(t) {
    function UTConsumableItemView() {
        return t.call(this) || this
    }
    return __extends(UTConsumableItemView, t),
    UTConsumableItemView.prototype.getImageUrl = function(t, e) {
        return AssetLocationUtils.getConsumableImageUri(t, e)
    }
    ,
    UTConsumableItemView.prototype.renderItem = function(t, e) {
        this.renderConsumableStack(t);
        var i = e.getExpColorMap(t.getTier());
        if (i && this.applyColors(".iconConsumable", i.footer),
        this._mainImage) {
            var r = t.getStaticData();
            this._mainImage.src = this.getImageUrl(t.getAssetId(), r.assetId)
        }
        this.setConsumableIcon(t)
    }
    ,
    UTConsumableItemView.prototype.canRender = function(t) {
        return t.isConsumable() && !t.isStyleModifier()
    }
    ,
    UTConsumableItemView.prototype.resetRender = function() {
        if (this.__itemIcon) {
            var t = ["healing", "managerLeague", "positioning"].join(" ");
            DOMKit.removeClass(this.__itemIcon, t)
        }
        this.getRootElement().removeAttribute("style")
    }
    ,
    UTConsumableItemView.prototype.renderConsumableStack = function(t) {
        if (this.__stackCount) {
            var e = 1 < t.stackCount;
            this.__stackCount.textContent = e ? t.stackCount.toString() : "",
            DOMKit.toggleDisplayStyle(this.__stackCount, e)
        }
    }
    ,
    UTConsumableItemView.prototype.setConsumableIcon = function(t) {
        if (this.__itemIcon) {
            var e = "";
            switch (t.type) {
            case ItemType.TRAINING:
                t.isManagerLeagueModifier() && (e = "managerLeague");
                break;
            case ItemType.HEALTH:
                e = "healing";
                break;
            default:
                DebugUtils.Assert(!1, "Hit default case for method: setConsumableIcon")
            }
            DOMKit.addClass(this.__itemIcon, e)
        }
    }
    ,
    UTConsumableItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTConsumableItemView
}(UTItemView)
  , UTLargeConsumableItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(l) {
    function UTLargeConsumableItemView() {
        return l.call(this) || this
    }
    return __extends(UTLargeConsumableItemView, l),
    UTLargeConsumableItemView.prototype.renderItem = function(t, e) {
        var i = services.Localization
          , r = t.getStaticData();
        l.prototype.renderItem.call(this, t, e),
        this.setShell(t, ItemViewSize.LARGE),
        this.__itemName.textContent = r.name;
        var o = ""
          , n = ""
          , a = "";
        t.isTraining() ? (t.isManagerLeagueModifier() && (o = i.localize("card.title.leaguechange"),
        n = UTLocalizationUtil.leagueIdToName(t.leagueId, i)),
        this.__itemName.textContent = o,
        this.__line1.textContent = n,
        this.__line2.textContent = a) : t.isHealth() && (o = i.localize("card.title.healing"),
        n = "+" + i.localizeNumber(r.amount),
        t.subtype === ItemSubType.HEALING_ALL && (a = i.localize("card.desc.healing.all.injuries")),
        this.__itemName.textContent = o,
        this.__line1.textContent = n,
        this.__line2.textContent = a);
        var s = e.getExpColorMap(t.getTier());
        s && (this.applyColors(".name", s.name),
        this.applyColors(".infoView .infoRow", s.footer))
    }
    ,
    UTLargeConsumableItemView
}(UTConsumableItemView));
UTLargeConsumableItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("consumable"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__stackCount = document.createElement("div"),
        this.__stackCount.classList.add("infoTab"),
        t.appendChild(this.__stackCount),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("ut-item-consumable-details"),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("name"),
        i.appendChild(this.__itemName);
        var r = document.createElement("div");
        r.classList.add("infoView"),
        this.__line1 = document.createElement("div"),
        this.__line1.classList.add("infoRow"),
        r.appendChild(this.__line1),
        this.__line2 = document.createElement("div"),
        this.__line2.classList.add("infoRow"),
        r.appendChild(this.__line2),
        i.appendChild(r),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("iconConsumable"),
        i.appendChild(this.__itemIcon),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeConsumableItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__stackCount = null,
    this._mainImage.destroy(),
    this.__itemName = null,
    this.__line1 = null,
    this.__line2 = null,
    this.__itemIcon = null
}
,
UTLargeConsumableItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTChemistryStyleItemView = function(t) {
    function UTChemistryStyleItemView() {
        return t.call(this) || this
    }
    return __extends(UTChemistryStyleItemView, t),
    UTChemistryStyleItemView.prototype.renderItem = function(t, e) {
        this.renderConsumableStack(t);
        var i = e.getExpColorMap(t.getTier());
        i && this.applyColors(".iconConsumable", i.footer)
    }
    ,
    UTChemistryStyleItemView.prototype.canRender = function(t) {
        return t.isStyleModifier()
    }
    ,
    UTChemistryStyleItemView.prototype.resetRender = function() {
        this.getRootElement().removeAttribute("style")
    }
    ,
    UTChemistryStyleItemView
}(UTConsumableItemView)
  , UTItemStatChevronsView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTItemStatChevronsView() {
        return t.call(this) || this
    }
    return __extends(UTItemStatChevronsView, t),
    UTItemStatChevronsView.prototype.setChevronCount = function(i) {
        DOMKit.HTMLCollectionToArray(this.getRootElement().children).reverse().forEach(function(t, e) {
            t.style.display = i < e + 1 ? "none" : ""
        })
    }
    ,
    UTItemStatChevronsView.prototype.setChemistryBoost = function(i) {
        DOMKit.HTMLCollectionToArray(this.getRootElement().children).reverse().forEach(function(t, e) {
            DOMKit.toggleClass(t, "chemBoost", e < i)
        })
    }
    ,
    UTItemStatChevronsView
}(EAView));
UTItemStatChevronsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("chevrons");
        var e = document.createElement("div");
        e.classList.add("chevron1"),
        e.classList.add("chevron"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("chevron2"),
        i.classList.add("chevron"),
        t.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("chevron3"),
        r.classList.add("chevron"),
        t.appendChild(r),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemStatChevronsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTItemStatChevronsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTLargeChemistryStyleItemView = function(l) {
    function UTLargeChemistryStyleItemView() {
        return l.call(this) || this
    }
    return __extends(UTLargeChemistryStyleItemView, l),
    UTLargeChemistryStyleItemView.prototype.renderItem = function(t, e) {
        var i = services.Localization
          , r = e.getLargeColorMap(t.getTier())
          , o = AssetLocationUtils.getConsumableImageUri(t.getAssetId(), t.subtype)
          , n = t.subtype
          , a = UTLocalizationUtil.playStyleIdToName(n, services.Localization, t.gender);
        l.prototype.renderItem.call(this, t, e),
        this.setShell(t, ItemViewSize.LARGE),
        this._mainImage.src = o,
        this.__itemName.textContent = a;
        var s = t.isGKStyleModifier();
        this.__statLabel1.textContent = i.localize("cards.cardfront." + (s ? "divingAbbr" : "paceAbbr"), [], {
            gender: t.gender
        }),
        this.__statLabel2.textContent = i.localize("cards.cardfront." + (s ? "handlingAbbr" : "shootingAbbr"), [], {
            gender: t.gender
        }),
        this.__statLabel3.textContent = i.localize("cards.cardfront." + (s ? "kickAbbr" : "passingAbbr"), [], {
            gender: t.gender
        }),
        this.__statLabel4.textContent = i.localize("cards.cardfront." + (s ? "reflexAbbr" : "dribblingAbbr"), [], {
            gender: t.gender
        }),
        this.__statLabel5.textContent = i.localize("cards.cardfront." + (s ? "speedAbbr" : "defendingAbbr"), [], {
            gender: t.gender
        }),
        this.__statLabel6.textContent = i.localize("cards.cardfront." + (s ? "positionAbbr" : "headingAbbr"), [], {
            gender: t.gender
        }),
        this.applyChevrons(repositories.PlayStyle.getPlayStyleBonusById(n, s)),
        r && (this.applyColors(".name", r.name),
        this.applyColors(".styleView .statLabel", r.footer))
    }
    ,
    UTLargeChemistryStyleItemView.prototype.applyChevrons = function(t) {
        var o = this;
        t.slice(0, 6).forEach(function(t, e) {
            var i = o["_chevronSet" + (e + 1)];
            i && i.setChevronCount(t);
            var r = o["__statLabel" + (e + 1)];
            r && DOMKit.toggleClass(r, "chemBoost", 0 < t)
        }, this)
    }
    ,
    UTLargeChemistryStyleItemView
}(UTChemistryStyleItemView);
UTLargeChemistryStyleItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("chemistryStyle"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__stackCount = document.createElement("div"),
        this.__stackCount.classList.add("infoTab"),
        t.appendChild(this.__stackCount),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("name"),
        t.appendChild(this.__itemName);
        var i = document.createElement("div");
        i.classList.add("styleView");
        var r = document.createElement("div");
        r.classList.add("statCellRow");
        var o = document.createElement("div");
        o.classList.add("statCell"),
        this.__statLabel1 = document.createElement("span"),
        this.__statLabel1.classList.add("statLabel"),
        o.appendChild(this.__statLabel1),
        this._chevronSet1 = new UTItemStatChevronsView,
        o.appendChild(this._chevronSet1.getRootElement()),
        r.appendChild(o);
        var n = document.createElement("div");
        n.classList.add("statCell"),
        this.__statLabel2 = document.createElement("span"),
        this.__statLabel2.classList.add("statLabel"),
        n.appendChild(this.__statLabel2),
        this._chevronSet2 = new UTItemStatChevronsView,
        n.appendChild(this._chevronSet2.getRootElement()),
        r.appendChild(n);
        var a = document.createElement("div");
        a.classList.add("statCell"),
        this.__statLabel3 = document.createElement("span"),
        this.__statLabel3.classList.add("statLabel"),
        a.appendChild(this.__statLabel3),
        this._chevronSet3 = new UTItemStatChevronsView,
        a.appendChild(this._chevronSet3.getRootElement()),
        r.appendChild(a);
        var s = document.createElement("div");
        s.classList.add("statCell"),
        this.__statLabel4 = document.createElement("span"),
        this.__statLabel4.classList.add("statLabel"),
        s.appendChild(this.__statLabel4),
        this._chevronSet4 = new UTItemStatChevronsView,
        s.appendChild(this._chevronSet4.getRootElement()),
        r.appendChild(s);
        var l = document.createElement("div");
        l.classList.add("statCell"),
        this.__statLabel5 = document.createElement("span"),
        this.__statLabel5.classList.add("statLabel"),
        l.appendChild(this.__statLabel5),
        this._chevronSet5 = new UTItemStatChevronsView,
        l.appendChild(this._chevronSet5.getRootElement()),
        r.appendChild(l);
        var c = document.createElement("div");
        c.classList.add("statCell"),
        this.__statLabel6 = document.createElement("span"),
        this.__statLabel6.classList.add("statLabel"),
        c.appendChild(this.__statLabel6),
        this._chevronSet6 = new UTItemStatChevronsView,
        c.appendChild(this._chevronSet6.getRootElement()),
        r.appendChild(c),
        i.appendChild(r),
        t.appendChild(i),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("chemistryStyle"),
        this.__itemIcon.classList.add("iconConsumable"),
        t.appendChild(this.__itemIcon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeChemistryStyleItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__stackCount = null,
    this._mainImage.destroy(),
    this.__itemName = null,
    this.__statLabel1 = null,
    this._chevronSet1.destroy(),
    this.__statLabel2 = null,
    this._chevronSet2.destroy(),
    this.__statLabel3 = null,
    this._chevronSet3.destroy(),
    this.__statLabel4 = null,
    this._chevronSet4.destroy(),
    this.__statLabel5 = null,
    this._chevronSet5.destroy(),
    this.__statLabel6 = null,
    this._chevronSet6.destroy(),
    this.__itemIcon = null
}
,
UTLargeChemistryStyleItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTCustomBrickItemView = function(e) {
    function UTCustomBrickItemView() {
        var t = e.call(this) || this;
        return t.imgLoaders = [],
        t
    }
    return __extends(UTCustomBrickItemView, e),
    UTCustomBrickItemView.prototype.generateImageLoader = function(t, e) {
        var i = new EAImageView
          , r = enums.UIThemeVariation.DARK;
        switch (t) {
        case SBCEligibilityKey.NATION_ID:
            i.src = AssetLocationUtils.getFlagImageUri(e, r);
            break;
        case SBCEligibilityKey.LEAGUE_ID:
            i.src = AssetLocationUtils.getLeagueImageUri(e, r);
            break;
        case SBCEligibilityKey.CLUB_ID:
            i.src = AssetLocationUtils.getBadgeImageUri(e, r);
            break;
        default:
            DebugUtils.Assert(!1, "Reached default case: " + t)
        }
        return i
    }
    ,
    UTCustomBrickItemView.prototype.renderCustomRequirement = function(t, e) {
        var i = this.generateImageLoader(t, e);
        this.imgLoaders.push(i),
        this.getRootElement().appendChild(i.getRootElement())
    }
    ,
    UTCustomBrickItemView.prototype.renderItem = function(t, e) {
        this.renderCustomRequirement(SBCEligibilityKey.LEAGUE_ID, t.leagueId),
        this.renderCustomRequirement(SBCEligibilityKey.CLUB_ID, t.teamId),
        this.renderCustomRequirement(SBCEligibilityKey.NATION_ID, t.nationId)
    }
    ,
    UTCustomBrickItemView.prototype.resetRender = function() {
        this.imgLoaders.forEach(function(t) {
            return t.dealloc()
        }),
        this.imgLoaders = [],
        this.getRootElement().removeAttribute("style")
    }
    ,
    UTCustomBrickItemView.prototype.renderShell = function(t, e) {}
    ,
    UTCustomBrickItemView.prototype.canRender = function(t) {
        return t.isCustomBrick()
    }
    ,
    UTCustomBrickItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTCustomBrickItemView
}(UTItemView)
  , UTLargeCustomBrickItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTLargeCustomBrickItemView() {
        return t.call(this) || this
    }
    return __extends(UTLargeCustomBrickItemView, t),
    UTLargeCustomBrickItemView
}(UTCustomBrickItemView));
UTLargeCustomBrickItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("custom-brick"),
        t.classList.add("large"),
        t.classList.add("item"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeCustomBrickItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTLargeCustomBrickItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTKitItemView = function(t) {
    function UTKitItemView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTKitItemView, t),
    UTKitItemView.prototype.renderItem = function(t, e) {
        var i = UTItemEntity.DEFAULT_ASSET_ID
          , r = t.getStaticData()
          , o = r instanceof UTStaticKitItemDataDTO ? r.kitType : KitType.HOME
          , n = e.getLargeColorMap(t.getTier());
        if (n && this.applyColors(".iconClub", n.footer),
        this._mainImage) {
            var a = this._mainImage;
            a.onerror = function(t) {
                a.onerror = null,
                a.src = AssetLocationUtils.getKitImageUri(o, i)
            }
            ,
            a.src = AssetLocationUtils.getKitImageUri(o, t.teamId, r.assetYear)
        }
        if (this._flagImage) {
            var s = this._flagImage;
            s.onerror = function(t) {
                s.onerror = null,
                s.src = AssetLocationUtils.getFlagImageUri(i)
            }
            ,
            s.src = AssetLocationUtils.getFlagImageUri(t.nationId)
        }
        if (this._badgeImage) {
            var l = this._badgeImage;
            l.onerror = function(t) {
                l.onerror = null,
                l.src = AssetLocationUtils.getBadgeImageUri(i)
            }
            ,
            l.src = AssetLocationUtils.getBadgeImageUri(t.teamId)
        }
    }
    ,
    UTKitItemView.prototype.canRender = function(t) {
        return t.isKit()
    }
    ,
    UTKitItemView.prototype.resetRender = function() {}
    ,
    UTKitItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTKitItemView
}(UTItemView)
  , UTLargeKitItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTLargeKitItemView() {
        return n.call(this) || this
    }
    return __extends(UTLargeKitItemView, n),
    UTLargeKitItemView.prototype.renderItem = function(t, e) {
        var i = t.getStaticData();
        n.prototype.renderItem.call(this, t, e);
        var r = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.LARGE, r),
        this.__clubName.textContent = UTLocalizationUtil.teamIdToAbbr15(t.teamId, services.Localization),
        this.__kitText.textContent = i.description;
        var o = e.getExpColorMap(t.getTier());
        o && (this.applyColors(".name", o.name),
        this.applyColors(".clubView .clubRow", o.footer))
    }
    ,
    UTLargeKitItemView
}(UTKitItemView));
UTLargeKitItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("kit"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("kitOverview"),
        this._flagImage = new EAImageView,
        this._flagImage.getRootElement().classList.add("flag"),
        i.appendChild(this._flagImage.getRootElement()),
        this._badgeImage = new EAImageView,
        this._badgeImage.getRootElement().classList.add("badge"),
        i.appendChild(this._badgeImage.getRootElement()),
        t.appendChild(i),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__clubName = document.createElement("div"),
        this.__clubName.classList.add("name"),
        t.appendChild(this.__clubName);
        var r = document.createElement("div");
        r.classList.add("clubView"),
        this.__kitText = document.createElement("div"),
        this.__kitText.classList.add("clubRow"),
        r.appendChild(this.__kitText),
        t.appendChild(r);
        var o = document.createElement("div");
        o.classList.add("kit"),
        o.classList.add("iconClub"),
        t.appendChild(o),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeKitItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._flagImage.destroy(),
    this._badgeImage.destroy(),
    this._mainImage.destroy(),
    this.__clubName = null,
    this.__kitText = null
}
,
UTLargeKitItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTManagerItemView = function(t) {
    function UTManagerItemView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTManagerItemView, t),
    UTManagerItemView.prototype.setFlag = function(t, e) {
        void 0 === e && (e = !1);
        var i = UTItemEntity.DEFAULT_ASSET_ID
          , r = e ? enums.UIThemeVariation.LIGHT : enums.UIThemeVariation.DARK
          , o = AssetLocationUtils.getFlagImageUri(t.nationId, r);
        if (this.assets.set(ItemAssetType.FLAG, this.getAssetDimensions(ItemAssetType.FLAG, !1)),
        this.requestResource(o, ItemAssetType.FLAG, t),
        this._bioFlagImage) {
            var n = this._bioFlagImage;
            n.onerror = function(t) {
                n.onerror = null,
                n.src = AssetLocationUtils.getFlagImageUri(i)
            }
            ,
            n.src = o
        }
    }
    ,
    UTManagerItemView.prototype.setLeague = function(t, e) {
        void 0 === e && (e = !1);
        var i = UTItemEntity.DEFAULT_ASSET_ID
          , r = AssetLocationUtils.getLeagueImageUri(t.leagueId, e ? enums.UIThemeVariation.LIGHT : enums.UIThemeVariation.DARK);
        if (this.assets.set(ItemAssetType.LEAGUE, this.getAssetDimensions(ItemAssetType.LEAGUE, !1)),
        this.requestResource(r, ItemAssetType.LEAGUE, t),
        this._bioLeagueImage) {
            var o = this._bioLeagueImage;
            o.onerror = function(t) {
                o.onerror = null,
                o.src = AssetLocationUtils.getLeagueImageUri(i)
            }
            ,
            o.src = r
        }
    }
    ,
    UTManagerItemView.prototype.onLoadAssetError = function(t, e) {
        function hYb(t, e) {
            i.assetsLoaded.set(t, !1),
            i.onLoadComplete(e)
        }
        var i = this;
        if (t === ItemAssetType.MAIN) {
            var r = void 0;
            return r = e.isBronzeRating() ? UTItemEntity.DEFAULT_BRONZE_ASSET_ID : e.isSilverRating() ? UTItemEntity.DEFAULT_SILVER_ASSET_ID : UTItemEntity.DEFAULT_GOLD_ASSET_ID,
            void this.requestResource(AssetLocationUtils.getPortraitImageUri(r), ItemAssetType.MAIN, e, hYb)
        }
        if (t === ItemAssetType.LEAGUE || t === ItemAssetType.FLAG) {
            var o = void 0
              , n = UTItemEntity.DEFAULT_ASSET_ID;
            return t === ItemAssetType.LEAGUE && this._bioLeagueImage ? (o = AssetLocationUtils.getLeagueImageUri(n),
            this._bioLeagueImage.src = o) : t === ItemAssetType.FLAG && this._bioFlagImage && (o = AssetLocationUtils.getFlagImageUri(n),
            this._bioFlagImage.src = o),
            void (o && this.requestResource(o, t, e, hYb))
        }
        this.assetsLoaded.set(t, !1),
        this.onLoadComplete(e)
    }
    ,
    UTManagerItemView.prototype.renderItem = function(t, e) {
        if (t.isValid()) {
            var i = e.getExpColorMap(t.getTier());
            i && (this.applyColors(".iconStaff", i.footer),
            this.applyColors(".bioView", i.name)),
            this.__position && (this.__position.textContent = services.Localization.localize("cards.cardfrontlarge.manager")),
            this.assets.set(ItemAssetType.MAIN, this.getAssetDimensions(ItemAssetType.MAIN, !1)),
            this.requestResource(AssetLocationUtils.getPortraitImageUri(t.databaseId), ItemAssetType.MAIN, t, this.onLoadAssetError),
            this.setFlag(t),
            this.setLeague(t, !i || i.useLightCrest)
        }
    }
    ,
    UTManagerItemView.prototype.canRender = function(t) {
        return t.isManager()
    }
    ,
    UTManagerItemView.prototype.resetRender = function() {
        this.getRootElement().removeAttribute("style"),
        this.assets.clear()
    }
    ,
    UTManagerItemView
}(UTItemView)
  , UTItemCanvasView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemCanvasView() {
        var t = e.call(this) || this;
        return t.assets = null,
        t.colormap = null,
        t.ctx = null,
        t.rendered = !1,
        t.size = ItemViewSize.LARGE,
        t.tempCanvas = null,
        t
    }
    return __extends(UTItemCanvasView, e),
    Object.defineProperty(UTItemCanvasView.prototype, "hasRendered", {
        get: function() {
            return this.rendered
        },
        enumerable: !1,
        configurable: !0
    }),
    UTItemCanvasView.prototype.init = function() {
        e.prototype.init.call(this);
        var t = this.getRootElement();
        t.style.width = "100%",
        t.style.height = "100%",
        this.ctx = t.getContext("2d"),
        this.ctx && (this.ctx.globalCompositeOperation = "source-over")
    }
    ,
    UTItemCanvasView.prototype.dealloc = function() {
        this.assets = null,
        this.colormap = null,
        this.ctx = null;
        var t = this.getRootElement();
        t && (t.width = 0,
        t.height = 0),
        this.tempCanvas && (this.tempCanvas.width = 0,
        this.tempCanvas.height = 0),
        this.tempCanvas = null,
        this.rendered = !1,
        e.prototype.dealloc.call(this)
    }
    ,
    UTItemCanvasView.prototype.setSize = function(t) {
        if (this.ctx) {
            var e = this.getRootElement()
              , i = this.getCanvasScaling();
            if ((this.size = t) === ItemViewSize.LARGE) {
                var r = 200
                  , o = 144;
                e.width = o * i,
                e.height = r * i,
                e.style.width = o + "px",
                e.style.height = r + "px"
            } else if (t === ItemViewSize.SMALL) {
                r = 114,
                o = 82;
                e.width = o * i,
                e.height = r * i,
                e.style.width = o + "px",
                e.style.height = r + "px"
            }
            this.ctx.scale(i, i)
        }
    }
    ,
    UTItemCanvasView.prototype.setColorMap = function(t) {
        this.colormap = t
    }
    ,
    UTItemCanvasView.prototype.setAssets = function(t) {
        this.assets = t
    }
    ,
    UTItemCanvasView.prototype.setState = function(t) {}
    ,
    UTItemCanvasView.prototype.clearCanvas = function() {
        if (this.ctx) {
            var t = this.getRootElement();
            this.ctx.globalCompositeOperation = "source-over",
            this.ctx.clearRect(0, 0, t.width, t.height),
            this.rendered = !1
        }
    }
    ,
    UTItemCanvasView.prototype.getWidth = function() {
        var t = this.getRootElement()
          , e = this.getCanvasScaling();
        return t ? t.width / e : 0
    }
    ,
    UTItemCanvasView.prototype.getHeight = function() {
        var t = this.getRootElement()
          , e = this.getCanvasScaling();
        return t ? t.height / e : 0
    }
    ,
    UTItemCanvasView.prototype.getTempCanvas = function() {
        if (this.tempCanvas) {
            (e = this.tempCanvas.getContext("2d")) && (e.globalCompositeOperation = "source-over",
            e.clearRect(0, 0, this.tempCanvas.width, this.tempCanvas.height))
        } else {
            var t = this.getRootElement();
            this.tempCanvas = document.createElement("canvas"),
            this.tempCanvas.width = t.width,
            this.tempCanvas.height = t.height;
            var e, i = this.getCanvasScaling();
            null == (e = this.tempCanvas.getContext("2d")) || e.scale(i, i)
        }
        return this.tempCanvas
    }
    ,
    UTItemCanvasView.prototype.createTempCanvas = function() {
        var t = document.createElement("canvas")
          , e = this.getRootElement();
        t.width = e.width,
        t.height = e.height;
        var i = this.getCanvasScaling()
          , r = t.getContext("2d");
        return null == r || r.scale(i, i),
        t
    }
    ,
    UTItemCanvasView.prototype.drawAsset = function(t, e) {
        if (!e && this.ctx && (e = this.ctx),
        e && this.assets) {
            var i = this.assets.get(t);
            if (!i || !i.element || !i.element.complete)
                return;
            var r = i.element.width || i.width
              , o = i.element.height || i.height;
            e.drawImage(i.element, 0, 0, r, o, i.xPos, i.yPos, i.width, i.height)
        }
    }
    ,
    UTItemCanvasView.prototype.drawSilhouette = function(t, e) {
        if (this.ctx) {
            var i = this.getTempCanvas()
              , r = i.getContext("2d")
              , o = this.getCanvasScaling();
            r && (this.drawAsset(t, r),
            r.globalCompositeOperation = "source-atop",
            r.fillStyle = "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 1)",
            r.resetTransform(),
            r.fillRect(0, 0, i.width, i.height),
            r.scale(o, o),
            this.ctx.resetTransform(),
            this.ctx.drawImage(i, 0, 0),
            this.ctx.scale(o, o))
        }
    }
    ,
    UTItemCanvasView.prototype.eraseSilhouette = function(t) {
        this.ctx && (this.ctx.globalCompositeOperation = "destination-out",
        this.drawAsset(t),
        this.ctx.globalCompositeOperation = "source-over")
    }
    ,
    UTItemCanvasView.prototype.eraseAndFillSilhouette = function(t, e) {
        if (this.ctx && this.assets) {
            var i = this.assets.get(t);
            if (!i || !i.element || !i.element.complete)
                return;
            this.eraseSilhouette(t),
            this.ctx.globalCompositeOperation = "destination-over",
            this.ctx.fillStyle = "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 1)",
            this.ctx.fillRect(i.xPos, i.yPos, i.width, i.height),
            this.ctx.globalCompositeOperation = "source-over"
        }
    }
    ,
    UTItemCanvasView.prototype.drawBackgroundSilhouette = function(t, e) {
        var i = this.getRootElement()
          , r = this.getCanvasScaling();
        this.ctx && (this.drawAsset(t),
        this.ctx.fillStyle = "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 1)",
        this.ctx.globalCompositeOperation = "source-in",
        this.ctx.resetTransform(),
        this.ctx.fillRect(0, 0, i.width, i.height),
        this.ctx.scale(r, r),
        this.ctx.globalCompositeOperation = "source-over")
    }
    ,
    UTItemCanvasView.prototype.drawBgColor = function() {
        var t, e, i = null !== (e = null === (t = this.colormap) || void 0 === t ? void 0 : t.background) && void 0 !== e ? e : {
            r: 0,
            g: 0,
            b: 0
        };
        this.drawBackgroundSilhouette(ItemAssetType.SHELL, i)
    }
    ,
    UTItemCanvasView.prototype.exportAssetMask = function(t, e, i) {
        if (void 0 === i && (i = !1),
        this.ctx) {
            var r = this.createTempCanvas()
              , o = r.getContext("2d")
              , n = this.getCanvasScaling();
            return o && (this.drawAsset(t, o),
            o.globalCompositeOperation = i ? "source-out" : "source-atop",
            o.fillStyle = "rgba(" + e.r + ", " + e.g + ", " + e.b + ", 1)",
            o.resetTransform(),
            o.fillRect(0, 0, r.width, r.height),
            o.scale(n, n)),
            r
        }
    }
    ,
    UTItemCanvasView.prototype.drawDivider = function(t, e, i, r) {
        if (DebugUtils.Assert(JSUtils.isValid(this.colormap), "Color map is not defined when attempting to draw dividers."),
        this.ctx && this.colormap) {
            var o = this.colormap.dividers;
            this.ctx.beginPath(),
            this.ctx.moveTo(t, e),
            this.ctx.lineTo(i, r),
            this.ctx.strokeStyle = "rgba(" + o.r + ", " + o.g + ", " + o.b + ", 1)",
            this.ctx.stroke()
        }
    }
    ,
    UTItemCanvasView.prototype.getCanvasScaling = function() {
        return 1 === window.devicePixelRatio ? 1.5 * window.devicePixelRatio : window.devicePixelRatio
    }
    ,
    UTItemCanvasView
}(EAView));
UTItemCanvasView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("canvas");
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemCanvasView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTItemCanvasView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemManagerCanvasView = function(t) {
    function UTItemManagerCanvasView() {
        return t.call(this) || this
    }
    return __extends(UTItemManagerCanvasView, t),
    UTItemManagerCanvasView.prototype.drawHorizontalLines = function(t, e, i, r, o) {
        for (var n = 0; n < o; n++) {
            var a = i + n * r;
            this.drawDivider(t, a, e, a)
        }
    }
    ,
    UTItemManagerCanvasView.prototype.renderMainView = function() {
        this.drawAsset(ItemAssetType.SHELL),
        this.drawAsset(ItemAssetType.MAIN),
        this.drawAsset(ItemAssetType.FLAG),
        this.drawAsset(ItemAssetType.LEAGUE)
    }
    ,
    UTItemManagerCanvasView.prototype.renderBioView = function() {
        this.drawBgColor(),
        this.size === ItemViewSize.LARGE ? this.drawHorizontalLines(22, 122, 80, 30, 3) : this.size === ItemViewSize.SMALL && this.drawHorizontalLines(12, 72, 35, 20, 3)
    }
    ,
    UTItemManagerCanvasView.prototype.setState = function(t) {
        switch (this.clearCanvas(),
        t) {
        case UIItemInfoState.MAIN:
            this.renderMainView();
            break;
        case UIItemInfoState.BIO:
        case UIItemInfoState.STYLE:
        case UIItemInfoState.STRENGTH:
        case UIItemInfoState.TRAITS:
        case UIItemInfoState.STATS:
            this.renderBioView()
        }
        this.rendered = !0
    }
    ,
    UTItemManagerCanvasView
}(UTItemCanvasView)
  , UTLargeManagerItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(a) {
    function UTLargeManagerItemView() {
        return a.call(this) || this
    }
    return __extends(UTLargeManagerItemView, a),
    UTLargeManagerItemView.prototype.init = function() {
        a.prototype.init.call(this),
        this._canvas.init()
    }
    ,
    UTLargeManagerItemView.prototype.setItemInfoState = function(t) {
        DOMKit.toggleDisplayStyle(this.__position, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__mainViewDiv, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__bioViewDiv, t !== UIItemInfoState.MAIN),
        DOMKit.toggleClass(this.__itemName, "main-view", t === UIItemInfoState.MAIN),
        this._canvas.hasRendered && this._canvas.setState(t)
    }
    ,
    UTLargeManagerItemView.prototype.renderItem = function(t, e) {
        var i = services.Localization
          , r = t.getStaticData()
          , o = t.isValid()
          , n = e.getExpColorMap(t.getTier());
        a.prototype.renderItem.call(this, t, e),
        this._canvas && (this._canvas.setSize(ItemViewSize.LARGE),
        n && this._canvas.setColorMap(n)),
        o && this.setShell(t, ItemViewSize.LARGE),
        this.__itemName.textContent = r.name,
        this.__managerText.textContent = i.localize("cards.cardfront.manager", [], {
            gender: t.gender
        }),
        o && n && (this.applyColors(".position", n.header),
        this.applyColors(".name", n.name),
        this.applyColors(".mainView .infoRow", n.footer)),
        this.__managerNation.textContent = UTLocalizationUtil.nationIdToName(t.nationId, i),
        this.__managerLeague.textContent = UTLocalizationUtil.leagueIdToName(t.leagueId, i),
        o && n && this.applyColors(".bioView .infoRow", n.footer)
    }
    ,
    UTLargeManagerItemView.prototype.getAssetDimensions = function(t, e) {
        e = e || !1;
        var i = 0
          , r = 0
          , o = 0
          , n = 0;
        return t === ItemAssetType.MAIN ? (r = i = 95,
        o = 35,
        n = 32) : t === ItemAssetType.LEAGUE ? (r = i = 16,
        o = 80,
        n = 162) : t === ItemAssetType.FLAG ? (i = 16,
        r = 10,
        o = 50,
        n = 165) : t === ItemAssetType.SHELL && (i = 144,
        r = 200),
        new UTItemCanvasDTO({
            dynamic: e,
            height: r,
            width: i,
            xPos: o,
            yPos: n
        })
    }
    ,
    UTLargeManagerItemView
}(UTManagerItemView));
UTLargeManagerItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("manager"),
        t.classList.add("staff"),
        t.classList.add("item"),
        this._canvas = new UTItemManagerCanvasView,
        this._canvas.width = "144",
        this._canvas.height = "200",
        t.appendChild(this._canvas.getRootElement());
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__position = document.createElement("div"),
        this.__position.classList.add("position"),
        t.appendChild(this.__position),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("name"),
        t.appendChild(this.__itemName),
        this.__mainViewDiv = document.createElement("div"),
        this.__mainViewDiv.classList.add("mainView"),
        this.__managerText = document.createElement("div"),
        this.__managerText.classList.add("infoRow"),
        this.__mainViewDiv.appendChild(this.__managerText);
        var i = document.createElement("div");
        i.classList.add("manager"),
        i.classList.add("iconStaff"),
        this.__mainViewDiv.appendChild(i),
        t.appendChild(this.__mainViewDiv),
        this.__bioViewDiv = document.createElement("div"),
        this.__bioViewDiv.classList.add("bioView");
        var r = document.createElement("div");
        r.classList.add("ut-item-row");
        var o = document.createElement("span");
        o.classList.add("ut-item-row-label--left"),
        o.classList.add("ut-item-row-label"),
        this._bioFlagImage = new EAImageView,
        o.appendChild(this._bioFlagImage.getRootElement()),
        r.appendChild(o),
        this.__managerNation = document.createElement("span"),
        this.__managerNation.classList.add("ut-item-row-label--right"),
        this.__managerNation.classList.add("ut-item-row-label"),
        r.appendChild(this.__managerNation),
        this.__bioViewDiv.appendChild(r);
        var n = document.createElement("div");
        n.classList.add("ut-item-row");
        var a = document.createElement("span");
        a.classList.add("ut-item-row-label--left"),
        a.classList.add("ut-item-row-label"),
        this._bioLeagueImage = new EAImageView,
        a.appendChild(this._bioLeagueImage.getRootElement()),
        n.appendChild(a),
        this.__managerLeague = document.createElement("span"),
        this.__managerLeague.classList.add("ut-item-row-label--right"),
        this.__managerLeague.classList.add("ut-item-row-label"),
        n.appendChild(this.__managerLeague),
        this.__bioViewDiv.appendChild(n),
        t.appendChild(this.__bioViewDiv),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeManagerItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._canvas.destroy(),
    this.__position = null,
    this.__itemName = null,
    this.__mainViewDiv = null,
    this.__managerText = null,
    this.__bioViewDiv = null,
    this._bioFlagImage.destroy(),
    this.__managerNation = null,
    this._bioLeagueImage.destroy(),
    this.__managerLeague = null
}
,
UTLargeManagerItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTMiscItemView = function(t) {
    function UTMiscItemView() {
        return t.call(this) || this
    }
    return __extends(UTMiscItemView, t),
    UTMiscItemView.prototype.getImageUrl = function(t, e) {
        return AssetLocationUtils.getMiscImageUri(t, e)
    }
    ,
    UTMiscItemView.prototype.renderItem = function(t, e) {
        var i = t.getStaticData();
        if (t.isPlayerPickItem())
            this.addClass("player-pick");
        else {
            if (!t.isAcademyUnlockToken())
                return t.isFreeXp() && this._mainImage ? (this._mainImage.src = "images/spLogo.png",
                void this._mainImage.addClass("sp-icon")) : void (this.__itemIcon && (t.isFreeCoins() ? DOMKit.addClass(this.__itemIcon, "freeCoins") : t.isDraftToken() && DOMKit.addClass(this.__itemIcon, "draftToken"),
                this._mainImage && (this._mainImage.src = this.getImageUrl(t.subtype, i.assetId))));
            this.addClass("academy-unlock")
        }
    }
    ,
    UTMiscItemView.prototype.canRender = function(t) {
        return t.isMiscItem()
    }
    ,
    UTMiscItemView.prototype.resetRender = function() {
        this.__itemIcon && DOMKit.removeClass(this.__itemIcon, "freeCoins draftToken"),
        DOMKit.removeClass(this.getRootElement(), "player-pick academy-unlock"),
        this.getRootElement().removeAttribute("style"),
        this._mainImage && (this._mainImage.src = "")
    }
    ,
    UTMiscItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTMiscItemView
}(UTItemView)
  , UTLargeMiscItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTLargeMiscItemView() {
        return n.call(this) || this
    }
    return __extends(UTLargeMiscItemView, n),
    UTLargeMiscItemView.prototype.renderItem = function(t, e) {
        var i = t.getStaticData()
          , r = ""
          , o = "";
        n.prototype.renderItem.call(this, t, e),
        o = t.isAcademyUnlockToken() ? services.Localization.localize(i.description) : t.isPlayerPickItem() ? services.Localization.localize("card.title.playerpicks") : t.isFreePack() ? (this.setShell(t, ItemViewSize.LARGE),
        services.Localization.localize("card.title.unlock")) : (this.setShell(t, ItemViewSize.LARGE),
        i.name),
        t.isFreeCoins() ? r = services.Localization.localize("card.desc.misc.coins", [i.amount.toString()]) : t.isFreeXp() ? r = services.Localization.localize("card.desc.misc.xp", [i.amount.toString()]) : t.isDraftToken() ? r = services.Localization.localize("card.desc.misc.drafttoken") : t.isFreePack() && (r = i.hasLoanPackDescription() ? services.Localization.localize("card.desc.FreeLoanPackDesc") : services.Localization.localize("card.desc." + i.name)),
        this.__itemName.textContent = o,
        this.__itemDesc.textContent = r
    }
    ,
    UTLargeMiscItemView
}(UTMiscItemView));
UTLargeMiscItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("misc"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("ut-item-misc-details"),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("name"),
        i.appendChild(this.__itemName);
        var r = document.createElement("div");
        r.classList.add("infoView"),
        this.__itemDesc = document.createElement("div"),
        this.__itemDesc.classList.add("line"),
        r.appendChild(this.__itemDesc),
        i.appendChild(r),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("iconConsumable"),
        i.appendChild(this.__itemIcon),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeMiscItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__itemName = null,
    this.__itemDesc = null,
    this.__itemIcon = null
}
,
UTLargeMiscItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTClockIconView = function(t) {
    function UTClockIconView() {
        return t.call(this) || this
    }
    return __extends(UTClockIconView, t),
    UTClockIconView.prototype._generate = function() {
        this.__root = document.createElement("div"),
        this.addClass("ut-clock-icon-view")
    }
    ,
    UTClockIconView.prototype.render = function(t, e) {
        var i = Math.floor(Date.now() / MS_PER_SECOND)
          , r = e - t
          , o = Math.max(e - i, 0) / r * 100
          , n = ["clockhand-12", "clockhand-11", "clockhand-9", "clockhand-6", "clockhand-3"].join(" ");
        this.removeClass(n),
        0 === t || 75 < o ? this.addClass("clockhand-11") : 50 < o ? this.addClass("clockhand-9") : 25 < o ? this.addClass("clockhand-6") : 0 < o ? this.addClass("clockhand-3") : this.addClass("clockhand-12")
    }
    ,
    UTClockIconView
}(EAView)
  , UTPlayerItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPlayerItemView() {
        var t = e.call(this) || this;
        return t.clockIcon = null,
        t.chemDisplay = null,
        t._traitsCanvas = null,
        t
    }
    return __extends(UTPlayerItemView, e),
    UTPlayerItemView.prototype.dealloc = function() {
        var t;
        null === (t = this.chemDisplay) || void 0 === t || t.dealloc(),
        this.chemDisplay = null,
        this.removeClockIcon(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTPlayerItemView.prototype.removeClockIcon = function() {
        var t;
        this._bottomRightStatusIndicator.removeClass("clock-icon"),
        null === (t = this.clockIcon) || void 0 === t || t.dealloc(),
        this.clockIcon = null
    }
    ,
    UTPlayerItemView.prototype.init = function() {
        e.prototype.init.call(this),
        this._bioNationPoints.setDisplay(!1),
        this._bioLeaguePoints.setDisplay(!1),
        this._bioClubPoints.setDisplay(!1),
        this._canvas.init()
    }
    ,
    UTPlayerItemView.prototype.renderChemistryBreakdown = function(i, t, e, r) {
        var o = this;
        this.hasClass("has-chemistry-breakdown") || this.addClass("has-chemistry-breakdown");
        [0, 1, 2, 3, 4, 5].forEach(function(t) {
            var e = o["_barSet" + (t + 1)];
            e && e.setChemistryBoost(i)
        }, this),
        this._bioNationPoints.render(t, 0),
        this._bioLeaguePoints.render(e, 0),
        this._bioClubPoints.render(r, 0)
    }
    ,
    UTPlayerItemView.prototype.renderChemistryPoints = function(t) {
        this.chemDisplay && this.chemDisplay.removeFromSuperview(),
        this.chemDisplay = t,
        this.addSubview(this.chemDisplay),
        this.layoutSubviews()
    }
    ,
    UTPlayerItemView.prototype.renderItem = function(t, e, i) {
        if (t.isValid()) {
            var r = e.getExpColorMap(t.getTier());
            if (!t.concept && this.renderRestrictions && t.pile !== ItemPile.ANY && (t.isInjured() ? this.addClass(UTItemView.CLASS.INJURED) : t.isSuspended() && this.addClass(UTItemView.CLASS.SUSPENDED)),
            this.toggleClass(UTItemView.CLASS.LOAN, t.isLimitedUse()),
            t.isTimeLimited() || this.removeClockIcon(),
            t.isTimeLimited() ? this.renderTimeLimitedValue(t.startTime, t.endTime) : t.isMatchLimited() ? this._bottomRightStatusIndicator.setLoan(t.loans) : t.isActiveInTimedEvolution() ? this._bottomRightStatusIndicator.setActiveInTimedEvo() : t.isActiveInAcademy() && this._bottomRightStatusIndicator.setActiveInAcademy(),
            this.__playerPosition && (i && i.inPossiblePosition ? this.__playerPosition.textContent = UTLocalizationUtil.positionIdToName(i.generalPosition, services.Localization, t.gender) : this.__playerPosition.textContent = UTLocalizationUtil.positionIdToName(t.preferredPosition, services.Localization, t.gender)),
            this.__playerRating && (this.__playerRating.textContent = t.rating.toString()),
            this.__firstOwner) {
                var o = 1 < t.owners || t.concept;
                this.__firstOwner.style.display = o ? "none" : ""
            }
            this.setPortrait(t),
            this.setRank(t),
            this.setFlag(t),
            this.setBadge(t, !r || r.useLightCrest),
            this.setLeague(t, !r || r.useLightCrest),
            this.setIconTraits(t),
            this.setCosmeticUpgrades(t),
            this.__bioNation && (this.__bioNation.textContent = UTLocalizationUtil.nationIdToAbbr3(t.nationId, services.Localization)),
            this.__bioClub && (this.__bioClub.textContent = UTLocalizationUtil.teamIdToAbbr3(t.teamId, services.Localization)),
            this.__bioLeague && (this.__bioLeague.textContent = UTLocalizationUtil.leagueIdToAbbr5(t.leagueId, services.Localization)),
            DOMKit.toggleDisplayStyle(this.__statsRowMarketAvg, !1),
            services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.MARKET_AVERAGE_ENABLED) && this.setMarketAvg(t.getMarketAverage()),
            this.setSkillMoves(t.getSkillMoves()),
            this.setWeakFoot(t.isLeftFoot(), t.getWeakFoot()),
            this.renderPosition(t, i);
            var n = 0 < t.getNumPlayStyles();
            this.__traitsViewDiv.classList.toggle("empty", !n),
            this._canvas.renderTraits = n,
            this.__emptyTraits.textContent = n ? "" : services.Localization.localize("item.view.traits.empty-traits")
        }
    }
    ,
    UTPlayerItemView.prototype.renderPosition = function(t, e) {
        var i = t.preferredPosition;
        e && e.inPossiblePosition && (i = e.generalPosition);
        var r = UTLocalizationUtil.positionIdToName(i, services.Localization, t.gender);
        this.__strPlayerPosition.textContent = r
    }
    ,
    UTPlayerItemView.prototype.canRender = function(t) {
        return t.isPlayer() && !t.isCustomBrick()
    }
    ,
    UTPlayerItemView.prototype.renderTimeLimitedValue = function(t, e) {
        this.clockIcon || (this.clockIcon = new UTClockIconView,
        this._bottomRightStatusIndicator.addSubview(this.clockIcon),
        this._bottomRightStatusIndicator.layoutSubviews(),
        this._bottomRightStatusIndicator.addClass("clock-icon"),
        this.layoutSubviews()),
        this.clockIcon.render(t, e)
    }
    ,
    UTPlayerItemView.prototype.resetRender = function() {
        this.removeClass([UTItemView.CLASS.SUSPENDED, UTItemView.CLASS.INJURED].join(" ")),
        this.removeClass(UTItemView.CLASS.LOAN),
        this.removeClass("has-chemistry-breakdown"),
        this._bottomRightStatusIndicator.reset(),
        this.getRootElement().removeAttribute("style"),
        this.assets.clear(),
        this._canvas && this._canvas.clearCanvas()
    }
    ,
    UTPlayerItemView.prototype.createConceptRarity = function() {
        return new UTItemRarityDTO({
            colors: [parseInt("d2e2f6", 16), parseInt("a8b7c9", 16), parseInt("4b5e78", 16), parseInt("7a899d", 16)],
            lgColorIndices: [1, 1, 1, 1, 2, 2, 3, 4, 4],
            smColorIndices: [1, 1, 1, 1, 2, 2, 3, 4, 4],
            bigHead: !1,
            hide: !0,
            id: -1,
            levels: !1,
            name: "Concept",
            shell: 0,
            version: 1
        })
    }
    ,
    UTPlayerItemView.prototype.applyChevrons = function(t) {
        var r = this;
        DebugUtils.Assert(6 === t.length, "Expected 6 entries in chevronList array."),
        t.slice(0, 6).forEach(function(t, e) {
            var i = r["_barSet" + (e + 1)];
            i && (i.setBarCount(t),
            i.setChemistryBoost(0))
        }, this)
    }
    ,
    UTPlayerItemView.prototype.applySubAttributes = function(t) {}
    ,
    UTPlayerItemView.prototype.onLoadDynamicPortraitError = function(t, e) {
        t === ItemAssetType.MAIN && (this.assets.set(ItemAssetType.MAIN, this.getAssetDimensions(ItemAssetType.MAIN, !1)),
        this.requestResource(AssetLocationUtils.getPortraitImageUri(e.databaseId), ItemAssetType.MAIN, e))
    }
    ,
    UTPlayerItemView.prototype.onLoadAssetError = function(t, e) {
        function w0b(t, e) {
            i.assetsLoaded.set(t, !1),
            i.onLoadComplete(e)
        }
        var i = this;
        if (t === ItemAssetType.MAIN) {
            var r = void 0;
            return r = e.isBronzeRating() ? UTItemEntity.DEFAULT_BRONZE_ASSET_ID : e.isSilverRating() ? UTItemEntity.DEFAULT_SILVER_ASSET_ID : UTItemEntity.DEFAULT_GOLD_ASSET_ID,
            void this.requestResource(AssetLocationUtils.getPortraitImageUri(r), ItemAssetType.MAIN, e, w0b)
        }
        if (t === ItemAssetType.BADGE || t === ItemAssetType.LEAGUE || t === ItemAssetType.FLAG) {
            var o = void 0
              , n = UTItemEntity.DEFAULT_ASSET_ID;
            return t === ItemAssetType.BADGE && this._bioBadgeImage ? (o = AssetLocationUtils.getBadgeImageUri(n),
            this._bioBadgeImage.src = o) : t === ItemAssetType.LEAGUE && this._bioLeagueImage ? (o = AssetLocationUtils.getLeagueImageUri(n),
            this._bioLeagueImage.src = o) : t === ItemAssetType.FLAG && this._bioFlagImage && (o = AssetLocationUtils.getFlagImageUri(n),
            this._bioFlagImage.src = o),
            void (o && this.requestResource(o, t, e, w0b))
        }
        this.assetsLoaded.set(t, !1),
        this.onLoadComplete(e)
    }
    ,
    UTPlayerItemView.prototype.setPortrait = function(t) {
        if (this._canvas) {
            var e = 0 < t.guidAssetId.length && t.isSpecial()
              , i = e ? AssetLocationUtils.getPortraitImageUri(t.definitionId, t.guidAssetId) : AssetLocationUtils.getPortraitImageUri(t.databaseId)
              , r = e ? this.onLoadDynamicPortraitError : this.onLoadAssetError;
            this.assets.set(ItemAssetType.MAIN, this.getAssetDimensions(ItemAssetType.MAIN, e)),
            this.requestResource(i, ItemAssetType.MAIN, t, r)
        }
    }
    ,
    UTPlayerItemView.prototype.setFlag = function(t, e) {
        void 0 === e && (e = !1);
        var i = e ? enums.UIThemeVariation.LIGHT : enums.UIThemeVariation.DARK
          , r = AssetLocationUtils.getFlagImageUri(t.nationId, i);
        this._canvas && (this.assets.set(ItemAssetType.FLAG, this.getAssetDimensions(ItemAssetType.FLAG, !1)),
        this.requestResource(r, ItemAssetType.FLAG, t),
        this._bioFlagImage && (this._bioFlagImage.src = r))
    }
    ,
    UTPlayerItemView.prototype.setBadge = function(t, e) {
        void 0 === e && (e = !1);
        var i = AssetLocationUtils.getBadgeImageUri(t.teamId, e ? enums.UIThemeVariation.LIGHT : enums.UIThemeVariation.DARK);
        this._canvas && (t.isLeagueHeroItem() || (this.assets.set(ItemAssetType.BADGE, this.getAssetDimensions(ItemAssetType.BADGE, !1)),
        this.loadAsset(i, ItemAssetType.BADGE, t, this.onLoadAssetError)),
        this._bioBadgeImage && (this._bioBadgeImage.src = i))
    }
    ,
    UTPlayerItemView.prototype.setIconTraits = function(n) {
        var a = this
          , t = n.getPlusPlayStyles();
        this._traitsCanvas && 0 < t.length && t.forEach(function(t, e) {
            var i = "images/traits/icontrait" + t.traitId + ".png";
            0 === e && (a.assets.set(ItemAssetType.ICON_TRAIT_EXTENDED, a.getAssetDimensions(ItemAssetType.ICON_TRAIT_EXTENDED, !1)),
            a.loadAsset(i, ItemAssetType.ICON_TRAIT_EXTENDED, n, a.onLoadAssetError));
            var r = a.getAssetDimensions(ItemAssetType.ICON_TRAIT, !1)
              , o = new UTItemCanvasDTO({
                dynamic: !1,
                height: r.height,
                width: r.width,
                xPos: r.xPos,
                yPos: r.yPos - 18 * e
            });
            a.assets.set("trait" + t.traitId, o),
            a.loadAsset(i, "trait" + t.traitId, n, a.onLoadAssetError)
        })
    }
    ,
    UTPlayerItemView.prototype.getAssetTypeFromLayerType = function(t) {
        switch (t) {
        case ItemLayerType.EMBELLISHMENT:
            return ItemAssetType.EMBELLISHMENT;
        case ItemLayerType.BG_FRAME:
            return ItemAssetType.BG_FRAME;
        case ItemLayerType.ANIMATION:
            return ItemAssetType.ANIMATION;
        case ItemLayerType.VFX:
            return ItemAssetType.VFX;
        case ItemLayerType.SFX:
            return ItemAssetType.SFX
        }
    }
    ,
    UTPlayerItemView.prototype.setCosmeticUpgrades = function(r) {
        var o = this;
        this._canvas && r.hasCosmetics() && r.getCosmeticLayers().forEach(function(t) {
            if (t.type !== ItemLayerType.SFX || o.renderSfx) {
                var e = AssetLocationUtils.getCosmeticLayerUri(t)
                  , i = o.getAssetTypeFromLayerType(t.type);
                o.assets.set(i, o.getAssetDimensions(i, !1)),
                o.requestResource(e, i, r)
            }
        })
    }
    ,
    UTPlayerItemView.prototype.setRank = function(t) {
        if (this._canvas && t.hasRank()) {
            var e = AssetLocationUtils.getPlayerRatingUri(t.rankId);
            this.assets.set(ItemAssetType.RANK, this.getAssetDimensions(ItemAssetType.RANK, !1)),
            this.requestResource(e, ItemAssetType.RANK, t)
        }
    }
    ,
    UTPlayerItemView.prototype.setLeague = function(t, e) {
        void 0 === e && (e = !1);
        var i = AssetLocationUtils.getLeagueImageUri(t.leagueId, e ? enums.UIThemeVariation.LIGHT : enums.UIThemeVariation.DARK);
        this._canvas && (t.isLeagueHeroItem() ? (this.assets.set(ItemAssetType.BADGE, this.getAssetDimensions(ItemAssetType.BADGE, !1)),
        this.requestResource(i, ItemAssetType.BADGE, t)) : (this.assets.set(ItemAssetType.LEAGUE, this.getAssetDimensions(ItemAssetType.LEAGUE, !1)),
        this.requestResource(i, ItemAssetType.LEAGUE, t)),
        this._bioLeagueImage && (this._bioLeagueImage.src = i))
    }
    ,
    UTPlayerItemView.prototype.setMarketAvg = function(t) {
        var e = services.Localization;
        DOMKit.toggleDisplayStyle(this.__statsRowMarketAvg, !0),
        this.__playerMarketAvgLabel.textContent = e.localize("cards.cardfront.marketAvg"),
        this.__playerMarketAvg.textContent = 0 < t ? e.localizeNumberShort(t, 1) : e.localize("common.not_applicable_shorthand"),
        DOMKit.toggleClass(this.__playerMarketAvg, "coin", 0 < t)
    }
    ,
    UTPlayerItemView
}(UTItemView))
  , UTItemStatBarsView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTItemStatBarsView() {
        return t.call(this) || this
    }
    return __extends(UTItemStatBarsView, t),
    UTItemStatBarsView.prototype.setBarCount = function(i) {
        DOMKit.HTMLCollectionToArray(this.getRootElement().children).reverse().forEach(function(t, e) {
            DOMKit.toggleClass(t, "enabled", e < i)
        })
    }
    ,
    UTItemStatBarsView.prototype.setChemistryBoost = function(t) {
        DOMKit.toggleClass(this.getRootElement(), "chem-points-0", 0 === t)
    }
    ,
    UTItemStatBarsView.prototype.applyStatBarColors = function(t) {
        this.__bar1.style.backgroundColor = "transparent",
        this.__bar2.style.backgroundColor = "transparent",
        this.__bar3.style.backgroundColor = "transparent",
        this.__bar1.classList.contains("enabled") && (this.__bar1.style.backgroundColor = "rgba(" + t.r + ", " + t.g + ", " + t.b + ", 1)"),
        this.__bar2.classList.contains("enabled") && (this.__bar2.style.backgroundColor = "rgba(" + t.r + ", " + t.g + ", " + t.b + ", 1)"),
        this.__bar3.classList.contains("enabled") && (this.__bar3.style.backgroundColor = "rgba(" + t.r + ", " + t.g + ", " + t.b + ", 1)")
    }
    ,
    UTItemStatBarsView
}(EAView));
UTItemStatBarsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("bars"),
        this.__bar1 = document.createElement("div"),
        this.__bar1.classList.add("bar1"),
        this.__bar1.classList.add("bar"),
        t.appendChild(this.__bar1),
        this.__bar2 = document.createElement("div"),
        this.__bar2.classList.add("bar2"),
        this.__bar2.classList.add("bar"),
        t.appendChild(this.__bar2),
        this.__bar3 = document.createElement("div"),
        this.__bar3.classList.add("bar3"),
        this.__bar3.classList.add("bar"),
        t.appendChild(this.__bar3),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemStatBarsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__bar1 = null,
    this.__bar2 = null,
    this.__bar3 = null
}
,
UTItemStatBarsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemPlayerCanvasView = function(e) {
    function UTItemPlayerCanvasView() {
        var t = e.call(this) || this;
        return t.renderConcept = !1,
        t.renderTraits = !1,
        t
    }
    return __extends(UTItemPlayerCanvasView, e),
    UTItemPlayerCanvasView.prototype.drawHorizontalLines = function(t, e, i, r, o) {
        for (var n = 0; n < r; n++) {
            var a = i + n * o;
            this.drawDivider(t, a, e, a)
        }
    }
    ,
    UTItemPlayerCanvasView.prototype.smallViewAlternateViewLines = function(t) {
        void 0 === t && (t = UIItemInfoState.MAIN),
        this.size !== ItemViewSize.LARGE && this.drawHorizontalLines(12, 72, 35, 3, 20)
    }
    ,
    UTItemPlayerCanvasView.prototype.renderMainView = function() {
        var t, e, i, r, o, n, a, s = null !== (e = null === (t = this.colormap) || void 0 === t ? void 0 : t.header) && void 0 !== e ? e : {
            r: 255,
            g: 255,
            b: 255
        };
        (null === (i = this.assets) || void 0 === i ? void 0 : i.has(ItemAssetType.BG_FRAME)) ? this.drawAsset(ItemAssetType.BG_FRAME) : this.drawAsset(ItemAssetType.SHELL),
        (null === (r = this.assets) || void 0 === r ? void 0 : r.has(ItemAssetType.EMBELLISHMENT)) && this.drawAsset(ItemAssetType.EMBELLISHMENT),
        (null === (o = this.assets) || void 0 === o ? void 0 : o.has(ItemAssetType.ANIMATION)) && this.drawAsset(ItemAssetType.ANIMATION),
        (null === (n = this.assets) || void 0 === n ? void 0 : n.has(ItemAssetType.VFX)) && this.drawAsset(ItemAssetType.VFX),
        (null === (a = this.assets) || void 0 === a ? void 0 : a.has(ItemAssetType.SFX)) && this.drawAsset(ItemAssetType.SFX),
        this.ctx && (this.ctx.globalCompositeOperation = "source-atop",
        this.drawAsset(ItemAssetType.MAIN),
        this.ctx.globalCompositeOperation = "source-over"),
        this.eraseAndFillSilhouette(ItemAssetType.RANK, s),
        this.drawAsset(ItemAssetType.FLAG),
        this.drawAsset(ItemAssetType.BADGE),
        this.drawAsset(ItemAssetType.LEAGUE)
    }
    ,
    UTItemPlayerCanvasView.prototype.renderStyleView = function() {
        this.drawBgColor(),
        this.size === ItemViewSize.SMALL ? this.smallViewAlternateViewLines() : this.drawHorizontalLines(22, 122, 110, 3, 20)
    }
    ,
    UTItemPlayerCanvasView.prototype.renderBioView = function() {
        this.drawBgColor(),
        this.size === ItemViewSize.SMALL ? this.smallViewAlternateViewLines(UIItemInfoState.BIO) : this.drawHorizontalLines(22, 122, 80, 3, 30)
    }
    ,
    UTItemPlayerCanvasView.prototype.renderStatsView = function() {
        this.drawBgColor(),
        this.size === ItemViewSize.SMALL ? this.smallViewAlternateViewLines(UIItemInfoState.STATS) : this.drawHorizontalLines(22, 122, 61, 3, 23)
    }
    ,
    UTItemPlayerCanvasView.prototype.renderTraitsView = function() {
        this.drawBgColor(),
        this.renderTraits && (this.size === ItemViewSize.SMALL ? this.smallViewAlternateViewLines(UIItemInfoState.TRAITS) : this.drawHorizontalLines(22, 122, 61, 5, 23))
    }
    ,
    UTItemPlayerCanvasView.prototype.renderStrengthView = function() {
        this.drawBgColor(),
        this.size === ItemViewSize.SMALL ? this.smallViewAlternateViewLines(UIItemInfoState.STRENGTH) : this.drawHorizontalLines(22, 122, 61, 5, 23)
    }
    ,
    UTItemPlayerCanvasView.prototype.setState = function(t) {
        switch (this.clearCanvas(),
        t) {
        case UIItemInfoState.TRAITS:
            this.renderTraitsView();
            break;
        case UIItemInfoState.STRENGTH:
            this.renderStrengthView();
            break;
        case UIItemInfoState.STYLE:
            this.renderStyleView();
            break;
        case UIItemInfoState.BIO:
            this.renderBioView();
            break;
        case UIItemInfoState.STATS:
            this.renderStatsView();
            break;
        case UIItemInfoState.MAIN:
            this.renderMainView()
        }
        this.rendered = !0
    }
    ,
    UTItemPlayerCanvasView
}(UTItemCanvasView)
  , UTItemPlayerStateIndicatorView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTItemPlayerStateIndicatorView() {
        return t.call(this) || this
    }
    return __extends(UTItemPlayerStateIndicatorView, t),
    UTItemPlayerStateIndicatorView.prototype.init = function() {
        t.prototype.init.call(this),
        this.reset()
    }
    ,
    UTItemPlayerStateIndicatorView.prototype.reset = function() {
        this.removeClass(JSUtils.getObjectValues(UTItemPlayerStateIndicatorView.State).join(" ")),
        this.__label.textContent = ""
    }
    ,
    UTItemPlayerStateIndicatorView.prototype.setState = function(t) {
        this.removeClass(JSUtils.getObjectValues(UTItemPlayerStateIndicatorView.State).join(" ")),
        this.addClass(t)
    }
    ,
    UTItemPlayerStateIndicatorView.prototype.setLoan = function(t) {
        this.__label.textContent = t.toString(),
        this.setState(UTItemPlayerStateIndicatorView.State.LOAN)
    }
    ,
    UTItemPlayerStateIndicatorView.prototype.setActiveInAcademy = function() {
        this.reset(),
        this.setState(UTItemPlayerStateIndicatorView.State.ACADEMY)
    }
    ,
    UTItemPlayerStateIndicatorView.prototype.setActiveInTimedEvo = function() {
        this.reset(),
        this.setState(UTItemPlayerStateIndicatorView.State.ACADEMY_TIMED)
    }
    ,
    UTItemPlayerStateIndicatorView.State = {
        NONE: "",
        LOAN: "loan",
        ACADEMY: "academy-active",
        ACADEMY_TIMED: "academy-timed-active"
    },
    UTItemPlayerStateIndicatorView
}(EAView));
UTItemPlayerStateIndicatorView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-item-player-state-indicator-view"),
        this.__label = document.createElement("span"),
        t.appendChild(this.__label),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemPlayerStateIndicatorView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null
}
,
UTItemPlayerStateIndicatorView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemTraitsCanvasView = function(t) {
    function UTItemTraitsCanvasView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTItemTraitsCanvasView, t),
    UTItemTraitsCanvasView.prototype.setColorMap = function(t) {
        this.colormap = t
    }
    ,
    UTItemTraitsCanvasView.prototype.renderPlayerIconTraits = function(t) {
        var e = t.map(function(t) {
            return t.traitId
        });
        1 === t.length ? this.renderSingleIconTrait("trait" + e[0]) : 1 < t.length && (this.size === ItemViewSize.SMALL ? this.renderExtendedSingleIconTrait() : this.renderMultipleIconTraits(t))
    }
    ,
    UTItemTraitsCanvasView.prototype.renderSingleIconTrait = function(t, e) {
        var i = 9
          , r = null != e ? e : 79;
        if (this.size === ItemViewSize.LARGE && (i = 14,
        r = null != e ? e : 121,
        8),
        this.ctx && this.colormap) {
            var o = this.colormap.name
              , n = this.colormap.background;
            this.ctx.strokeStyle = "rgb(" + o.r + ", " + o.g + ", " + o.b + ")",
            this.ctx.fillStyle = "rgb(" + n.r + ", " + n.g + ", " + n.b + ")",
            this.drawDiamond(this.ctx, i, r),
            this.drawSilhouette(t, o)
        }
    }
    ,
    UTItemTraitsCanvasView.prototype.renderMultipleIconTraits = function(t) {
        var e = this
          , i = 121;
        t.forEach(function(t) {
            e.renderSingleIconTrait("trait" + t.traitId, i),
            i -= 18
        })
    }
    ,
    UTItemTraitsCanvasView.prototype.renderExtendedSingleIconTrait = function() {
        this.renderAdditionalAbilitiesIndicator(),
        this.renderSingleIconTrait(ItemAssetType.ICON_TRAIT_EXTENDED, 73)
    }
    ,
    UTItemTraitsCanvasView.prototype.renderAdditionalAbilitiesIndicator = function() {
        if (this.ctx && this.colormap) {
            var t = this.colormap.name
              , e = this.colormap.background;
            this.ctx.strokeStyle = "rgb(" + t.r + ", " + t.g + ", " + t.b + ")",
            this.ctx.fillStyle = "rgb(" + e.r + ", " + e.g + ", " + e.b + ")",
            this.drawDiamond(this.ctx, 9, 79),
            this.drawDiamond(this.ctx, 9, 76)
        }
    }
    ,
    UTItemTraitsCanvasView.prototype.drawDiamond = function(t, e, i) {
        var r = 2 * Math.PI / 6;
        t.beginPath();
        for (var o = 0; o < 4; o++) {
            var n = r * (o + 3)
              , a = 0 == o || 3 == o ? -2 : 0;
            t.lineTo(e + 8 * Math.cos(n), i + 8 * Math.sin(n) + a)
        }
        t.lineTo(e, i + 8),
        t.closePath(),
        t.fill(),
        t.stroke()
    }
    ,
    UTItemTraitsCanvasView
}(UTItemCanvasView)
  , UTLargePlayerItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(P) {
    function UTLargePlayerItemView() {
        return P.call(this) || this
    }
    return __extends(UTLargePlayerItemView, P),
    UTLargePlayerItemView.prototype.setItemInfoState = function(t) {
        var e;
        DOMKit.toggleDisplayStyle(this.__playStyle, t !== UIItemInfoState.BIO),
        DOMKit.toggleDisplayStyle(this.__mainViewDiv, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__bioViewDiv, t === UIItemInfoState.BIO),
        DOMKit.toggleDisplayStyle(this.__statsViewDiv, t === UIItemInfoState.STATS),
        DOMKit.toggleDisplayStyle(this.__styleViewDiv, t === UIItemInfoState.STYLE),
        DOMKit.toggleDisplayStyle(this.__strengthViewDiv, t === UIItemInfoState.STRENGTH),
        DOMKit.toggleDisplayStyle(this.__traitsViewDiv, t === UIItemInfoState.TRAITS),
        DOMKit.toggleClass(this.__playerName, "main-view", t === UIItemInfoState.MAIN),
        this._canvas.hasRendered && this._canvas.setState(t),
        null === (e = this._traitsCanvas) || void 0 === e || e.setDisplay(t === UIItemInfoState.MAIN)
    }
    ,
    UTLargePlayerItemView.prototype.renderItem = function(a, t, e) {
        var i, r;
        if (a.isValid()) {
            a.concept ? (t = this.createConceptRarity(),
            this.setLocalShell(a, ItemViewSize.LARGE)) : this.setShell(a, ItemViewSize.LARGE, t.getGuid()),
            !this._traitsCanvas && 0 < a.getNumPlusPlayStyles() && (this._traitsCanvas = new UTItemTraitsCanvasView,
            this._traitsCanvas.init(),
            this.addSubview(this._traitsCanvas),
            this.layoutSubviews(),
            this._traitsCanvas.setAssets(this.assets));
            var o = this.getRootElement()
              , n = a.getStaticData()
              , s = t.getLargeColorMap(a.getTier());
            this._canvas && (this._canvas.setSize(ItemViewSize.LARGE),
            null === (i = this._traitsCanvas) || void 0 === i || i.setSize(ItemViewSize.LARGE),
            s && (this._canvas.setColorMap(s),
            null === (r = this._traitsCanvas) || void 0 === r || r.setColorMap(s)),
            this._canvas.renderConcept = a.concept),
            P.prototype.renderItem.call(this, a, t, e),
            this.__playerName.textContent = n.name;
            var l = a.isGK();
            DOMKit.findElements(o, ".statValue.Pace")[0].innerHTML = a.getAttribute(PlayerAttribute.ONE).toString(),
            DOMKit.findElements(o, ".statValue.Shooting")[0].innerHTML = a.getAttribute(PlayerAttribute.TWO).toString(),
            DOMKit.findElements(o, ".statValue.Passing")[0].innerHTML = a.getAttribute(PlayerAttribute.THREE).toString(),
            DOMKit.findElements(o, ".statValue.Dribbling")[0].innerHTML = a.getAttribute(PlayerAttribute.FOUR).toString(),
            DOMKit.findElements(o, ".statValue.Defending")[0].innerHTML = a.getAttribute(PlayerAttribute.FIVE).toString(),
            DOMKit.findElements(o, ".statValue.Header")[0].innerHTML = a.getAttribute(PlayerAttribute.SIX).toString();
            function w3b(t, e) {
                DOMKit.findElements(o, t).forEach(function(t) {
                    return t.innerHTML = e
                })
            }
            var c = services.Localization
              , u = "cards.cardfront." + (l ? "divingAbbr" : "paceAbbr");
            w3b(".statLabel.Pace", c.localize(u, [], {
                gender: a.gender
            }));
            var p = "cards.cardfront." + (l ? "positionAbbr" : "headingAbbr");
            w3b(".statLabel.Header", c.localize(p, [], {
                gender: a.gender
            }));
            var d = "cards.cardfront." + (l ? "reflexAbbr" : "dribblingAbbr");
            w3b(".statLabel.Dribbling", c.localize(d, [], {
                gender: a.gender
            }));
            var h = "cards.cardfront." + (l ? "handlingAbbr" : "shootingAbbr");
            w3b(".statLabel.Shooting", c.localize(h, [], {
                gender: a.gender
            }));
            var y = "cards.cardfront." + (l ? "speedAbbr" : "defendingAbbr");
            w3b(".statLabel.Defending", c.localize(y, [], {
                gender: a.gender
            }));
            var _ = "cards.cardfront." + (l ? "kickAbbr" : "passingAbbr");
            if (w3b(".statLabel.Passing", c.localize(_, [], {
                gender: a.gender
            })),
            s && (this.applyColors(".playerOverview", s.header),
            this.applyColors(".name", s.name),
            this.applyColors(".ut-item-view--main .statValue", s.attributeValues),
            this.applyColors(".ut-item-view--main .statLabel", s.footer),
            this.applyColors(".playStyle span", s.playStyleText),
            this.applyColors(".playStyle", s.playStyleIcon),
            this.applyColors(".icon_chemistry_first_owner", s.playStyleIcon)),
            s && this.applyColors(".ut-item-view--bio", s.name),
            this.renderRestrictions)
                if (a.isSuspended())
                    DOMKit.toggleDisplayStyle(this.__statsRowInjury, !0),
                    this.__injuryLabel.textContent = services.Localization.localize("item.status.suspended"),
                    this.__injury.textContent = services.Localization.localize("item.status.outnummatches", [a.getCurrentRedCards().toString()]);
                else if (a.isInjured()) {
                    var m = c.localize("item.status.injured", [], {
                        gender: a.gender
                    })
                      , T = UTLocalizationUtil.injuryTypeToName(a.injuryType, services.Localization);
                    DOMKit.toggleDisplayStyle(this.__statsRowInjury, !0),
                    this.__injuryLabel.textContent = m + " " + T,
                    this.__injury.textContent = services.Localization.localize("item.status.outnummatches", [a.injuryGames.toString()])
                } else
                    DOMKit.toggleDisplayStyle(this.__statsRowInjury, !1);
            s && this.applyColors(".ut-item-view--stats", s.name);
            var f = a.playStyle
              , g = UTLocalizationUtil.playStyleIdToName(f, services.Localization, a.gender);
            if (DOMKit.addClass(this.__playStyle, "chemstyle" + f),
            a.isValid()) {
                var E = repositories.PlayStyle.getPlayStyleBonusById(f, a.isGK());
                this.applyChevrons(E)
            }
            this.__playStyleName.textContent = g,
            DOMKit.addClass(this.__playStyleLarge, "chemstyle" + f),
            s && (this.applyColors(".ut-item-view--style", s.name),
            this._barSet1.applyStatBarColors(s.attributeValues),
            this._barSet2.applyStatBarColors(s.attributeValues),
            this._barSet3.applyStatBarColors(s.attributeValues),
            this._barSet4.applyStatBarColors(s.attributeValues),
            this._barSet5.applyStatBarColors(s.attributeValues),
            this._barSet6.applyStatBarColors(s.attributeValues));
            var S = a.getPlayerKeySubAttributes()
              , v = [this.__keyAttVal1, this.__keyAttVal2, this.__keyAttVal3, this.__keyAttVal4, this.__keyAttVal5]
              , b = [this.__keyAttLabel1, this.__keyAttLabel2, this.__keyAttLabel3, this.__keyAttLabel4, this.__keyAttLabel5];
            S && 5 <= S.length && S.forEach(function(t, e) {
                if (t.highlight && DOMKit.addClass(v[e], "ut-item-view--strength-key-attribute"),
                v[e].textContent = t.value().toString(),
                b[e].textContent = c.localize("item.subattribute." + ItemSubAttribute[t.type]),
                t.type === ItemSubAttribute.weakfoot || t.type === ItemSubAttribute.skillmove) {
                    var i = new EAImageView;
                    i.src = "images/star.png",
                    i.addClass("ut-skill-star"),
                    v[e].prepend(i.getRootElement())
                }
            });
            var C = a.getPlayStyles()
              , I = [this.__traitLabel1, this.__traitLabel2, this.__traitLabel3, this.__traitLabel4, this.__traitLabel5]
              , A = [this.__traitIcon1, this.__traitIcon2, this.__traitIcon3, this.__traitIcon4, this.__traitIcon5];
            if (A.forEach(function(t) {
                return t.className = ""
            }),
            I.forEach(function(t) {
                return t.textContent = ""
            }),
            C.slice(0, 5).forEach(function(t, e) {
                var i = t.traitId
                  , r = "extendedPlayerInfo.signatureAbility.name." + i
                  , o = c.localize(r, [], {
                    gender: a.gender
                })
                  , n = t.isIcon ? "icon" : "base";
                I[e].textContent = o,
                DOMKit.toggleClass(I[e], "ut-item-row-label ut-item-row-label--left plus", t.isIcon),
                A[e].className = "icon_" + n + "trait" + i
            }),
            5 < C.length) {
                var U = (C.length - 4).toString()
                  , w = services.Localization.localize("extendedPlayerInfo.signatureAbility.more", [U]);
                this.__traitLabel5.textContent = w,
                this.__traitIcon5.className = ""
            }
            s && (this.applyColors(".ut-item-view--strength", s.name),
            this.applyColors(".ut-item-view--traits", s.name),
            this.applyColors(".ut-item-view--positions-header", s.name))
        }
    }
    ,
    UTLargePlayerItemView.prototype.renderPosition = function(e, t) {
        var i;
        P.prototype.renderPosition.call(this, e, t),
        DOMKit.HTMLCollectionToArray(this.__positionHeader.children).filter(function(t) {
            return t.classList.contains("otherPositions")
        }).forEach(function(t) {
            t.remove()
        });
        var r = e.preferredPosition;
        t && t.inPossiblePosition && (r = t.generalPosition);
        var o = e.possiblePositions.filter(function(t) {
            return t !== r
        }).map(function(t) {
            return UTLocalizationUtil.positionIdToName(t, services.Localization, e.gender)
        })
          , n = [];
        o.forEach(function(t) {
            var e = document.createElement("span");
            e.classList.add("otherPositions"),
            e.textContent = t,
            n.push(e)
        }),
        (i = this.__positionHeader).append.apply(i, n)
    }
    ,
    UTLargePlayerItemView.prototype.resetRender = function() {
        function s4b(t) {
            return (t.className.match(/(^|\s)chemstyle\S+/g) || []).join(" ")
        }
        var t = this.getRootElement();
        P.prototype.resetRender.call(this),
        DOMKit.findElements(t, ".statLabel").forEach(function(t) {
            return DOMKit.removeClass(t, "gold silver bronze")
        }),
        DOMKit.removeClass(this.__playStyle, s4b(this.__playStyle)),
        DOMKit.removeClass(this.__playStyleLarge, s4b(this.__playStyleLarge))
    }
    ,
    UTLargePlayerItemView.prototype.getAssetDimensions = function(t, e) {
        void 0 === e && (e = !1);
        var i = 0
          , r = 0
          , o = 0
          , n = 0;
        return t === ItemAssetType.MAIN ? (i = e ? 144 : 95,
        r = e ? 200 : 95,
        o = e ? 0 : 36,
        n = e ? 0 : 32) : t === ItemAssetType.RANK ? (r = i = 10,
        o = 32,
        n = 36) : t === ItemAssetType.BADGE ? (r = i = 14,
        o = 85,
        n = 163) : t === ItemAssetType.LEAGUE ? (r = i = 14,
        o = 65,
        n = 163) : t === ItemAssetType.FLAG ? (i = 14,
        r = 9,
        o = 40,
        n = 165) : t === ItemAssetType.ANIMATION || t === ItemAssetType.BG_FRAME || t === ItemAssetType.EMBELLISHMENT || t === ItemAssetType.SHELL || t === ItemAssetType.VFX || t === ItemAssetType.SFX ? (i = 144,
        r = 200) : t === ItemAssetType.ICON_TRAIT && (r = i = 14,
        n = 114,
        o = 7),
        new UTItemCanvasDTO({
            dynamic: e,
            height: r,
            width: i,
            xPos: o,
            yPos: n
        })
    }
    ,
    UTLargePlayerItemView.prototype.setSkillMoves = function(t) {
        this.__skillMovesLabel.textContent = services.Localization.localize("cards.cardfront.skillMovesAbbr"),
        this.__skillMovesRating.textContent = t.toString()
    }
    ,
    UTLargePlayerItemView.prototype.setWeakFoot = function(t, e) {
        var i = services.Localization.localize("cards.cardfront.weakFootAbbr")
          , r = t ? services.Localization.localize("cards.cardfront.weakFootRightAbbr") : services.Localization.localize("cards.cardfront.weakFootLeftAbbr");
        this.__weakFootLabel.textContent = i + " (" + r + ")",
        this.__weakFootRating.textContent = e.toString()
    }
    ,
    UTLargePlayerItemView.prototype.getShellMask = function(t) {
        var e;
        void 0 === t && (t = !1);
        var i = {
            r: 255,
            g: 0,
            b: 0
        };
        return (null === (e = this.assets) || void 0 === e ? void 0 : e.has(ItemAssetType.BG_FRAME)) ? this._canvas.exportAssetMask(ItemAssetType.BG_FRAME, i, t) : this._canvas.exportAssetMask(ItemAssetType.SHELL, i, t)
    }
    ,
    UTLargePlayerItemView.prototype.getShellSillouhette = function(t) {
        var e;
        return (null === (e = this.assets) || void 0 === e ? void 0 : e.has(ItemAssetType.BG_FRAME)) ? this._canvas.exportAssetMask(ItemAssetType.BG_FRAME, t) : this._canvas.exportAssetMask(ItemAssetType.SHELL, t)
    }
    ,
    UTLargePlayerItemView
}(UTPlayerItemView));
UTLargePlayerItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("player"),
        t.classList.add("item"),
        this._canvas = new UTItemPlayerCanvasView,
        this._canvas.width = "152",
        this._canvas.height = "212",
        t.appendChild(this._canvas.getRootElement());
        var e = document.createElement("div");
        e.classList.add("ut-item-loader"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("statusOverlay"),
        t.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("ut-item-player-status--restricted"),
        r.classList.add("ut-item-player-status"),
        t.appendChild(r),
        this.__playerName = document.createElement("div"),
        this.__playerName.classList.add("name"),
        t.appendChild(this.__playerName),
        this.__mainViewDiv = document.createElement("div"),
        this.__mainViewDiv.classList.add("ut-item-view--main"),
        this.__mainViewDiv.classList.add("ut-item-view");
        var o = document.createElement("div");
        o.classList.add("playerOverview"),
        this.__playerRating = document.createElement("div"),
        this.__playerRating.classList.add("rating"),
        o.appendChild(this.__playerRating),
        this.__playerPosition = document.createElement("div"),
        this.__playerPosition.classList.add("position"),
        o.appendChild(this.__playerPosition),
        this.__playStyle = document.createElement("div"),
        this.__playStyle.classList.add("playStyle"),
        o.appendChild(this.__playStyle),
        this.__firstOwner = document.createElement("div"),
        this.__firstOwner.classList.add("icon_chemistry_first_owner"),
        this.__firstOwner.classList.add("fut_icon"),
        o.appendChild(this.__firstOwner),
        this.__mainViewDiv.appendChild(o);
        var n = document.createElement("div");
        n.classList.add("item-view--player-stats");
        var a = document.createElement("div");
        a.classList.add("item-view--player-stat"),
        this.__attribute0 = document.createElement("span"),
        this.__attribute0.classList.add("Pace"),
        this.__attribute0.classList.add("statLabel"),
        a.appendChild(this.__attribute0);
        var s = document.createElement("span");
        s.classList.add("Pace"),
        s.classList.add("statValue"),
        a.appendChild(s),
        n.appendChild(a);
        var l = document.createElement("div");
        l.classList.add("item-view--player-stat"),
        this.__attribute1 = document.createElement("span"),
        this.__attribute1.classList.add("Shooting"),
        this.__attribute1.classList.add("statLabel"),
        l.appendChild(this.__attribute1);
        var c = document.createElement("span");
        c.classList.add("Shooting"),
        c.classList.add("statValue"),
        l.appendChild(c),
        n.appendChild(l);
        var u = document.createElement("div");
        u.classList.add("item-view--player-stat"),
        this.__attribute2 = document.createElement("span"),
        this.__attribute2.classList.add("Passing"),
        this.__attribute2.classList.add("statLabel"),
        u.appendChild(this.__attribute2);
        var p = document.createElement("span");
        p.classList.add("Passing"),
        p.classList.add("statValue"),
        u.appendChild(p),
        n.appendChild(u);
        var d = document.createElement("div");
        d.classList.add("item-view--player-stat"),
        this.__attribute3 = document.createElement("span"),
        this.__attribute3.classList.add("Dribbling"),
        this.__attribute3.classList.add("statLabel"),
        d.appendChild(this.__attribute3);
        var h = document.createElement("span");
        h.classList.add("Dribbling"),
        h.classList.add("statValue"),
        d.appendChild(h),
        n.appendChild(d);
        var y = document.createElement("div");
        y.classList.add("item-view--player-stat"),
        this.__attribute4 = document.createElement("span"),
        this.__attribute4.classList.add("Defending"),
        this.__attribute4.classList.add("statLabel"),
        y.appendChild(this.__attribute4);
        var _ = document.createElement("span");
        _.classList.add("Defending"),
        _.classList.add("statValue"),
        y.appendChild(_),
        n.appendChild(y);
        var m = document.createElement("div");
        m.classList.add("item-view--player-stat"),
        this.__attribute5 = document.createElement("span"),
        this.__attribute5.classList.add("Header"),
        this.__attribute5.classList.add("statLabel"),
        m.appendChild(this.__attribute5);
        var T = document.createElement("span");
        T.classList.add("Header"),
        T.classList.add("statValue"),
        m.appendChild(T),
        n.appendChild(m),
        this.__mainViewDiv.appendChild(n),
        t.appendChild(this.__mainViewDiv),
        this.__statsViewDiv = document.createElement("div"),
        this.__statsViewDiv.classList.add("ut-item-view--stats"),
        this.__statsViewDiv.classList.add("ut-item-view"),
        this.__statsRowMarketAvg = document.createElement("div"),
        this.__statsRowMarketAvg.classList.add("ut-item-row"),
        this.__playerMarketAvgLabel = document.createElement("span"),
        this.__playerMarketAvgLabel.classList.add("ut-item-row-label--left"),
        this.__playerMarketAvgLabel.classList.add("ut-item-row-label"),
        this.__statsRowMarketAvg.appendChild(this.__playerMarketAvgLabel),
        this.__playerMarketAvg = document.createElement("span"),
        this.__playerMarketAvg.classList.add("ut-item-row-label--right"),
        this.__playerMarketAvg.classList.add("ut-item-row-label"),
        this.__statsRowMarketAvg.appendChild(this.__playerMarketAvg),
        this.__statsViewDiv.appendChild(this.__statsRowMarketAvg),
        this.__skillMoves = document.createElement("div"),
        this.__skillMoves.classList.add("ut-item-row"),
        this.__skillMovesLabel = document.createElement("span"),
        this.__skillMovesLabel.classList.add("ut-item-row-label--left"),
        this.__skillMovesLabel.classList.add("ut-item-row-label"),
        this.__skillMoves.appendChild(this.__skillMovesLabel);
        var f = document.createElement("div");
        f.classList.add("ut-skill-star"),
        this.__skillMoves.appendChild(f),
        this.__skillMovesRating = document.createElement("span"),
        this.__skillMoves.appendChild(this.__skillMovesRating),
        this.__statsViewDiv.appendChild(this.__skillMoves),
        this.__weakFoot = document.createElement("div"),
        this.__weakFoot.classList.add("ut-item-row"),
        this.__weakFootLabel = document.createElement("span"),
        this.__weakFootLabel.classList.add("ut-item-row-label--left"),
        this.__weakFootLabel.classList.add("ut-item-row-label"),
        this.__weakFoot.appendChild(this.__weakFootLabel);
        var g = document.createElement("div");
        g.classList.add("ut-skill-star"),
        this.__weakFoot.appendChild(g),
        this.__weakFootRating = document.createElement("span"),
        this.__weakFoot.appendChild(this.__weakFootRating),
        this.__statsViewDiv.appendChild(this.__weakFoot),
        this.__statsRowInjury = document.createElement("div"),
        this.__statsRowInjury.classList.add("ut-item-injury-row"),
        this.__injuryLabel = document.createElement("span"),
        this.__injuryLabel.classList.add("ut-item-row-label"),
        this.__statsRowInjury.appendChild(this.__injuryLabel),
        this.__injury = document.createElement("span"),
        this.__injury.classList.add("ut-item-row-label"),
        this.__statsRowInjury.appendChild(this.__injury),
        this.__statsViewDiv.appendChild(this.__statsRowInjury),
        t.appendChild(this.__statsViewDiv),
        this.__styleViewDiv = document.createElement("div"),
        this.__styleViewDiv.classList.add("ut-item-view--style"),
        this.__styleViewDiv.classList.add("ut-item-view"),
        this.__playStyleName = document.createElement("div"),
        this.__playStyleName.classList.add("name"),
        this.__styleViewDiv.appendChild(this.__playStyleName),
        this.__playStyleLarge = document.createElement("div"),
        this.__playStyleLarge.classList.add("playStyle"),
        this.__playStyleLarge.classList.add("ut-play-style--large"),
        this.__styleViewDiv.appendChild(this.__playStyleLarge);
        var E = document.createElement("div");
        E.classList.add("statCellRow");
        var S = document.createElement("div");
        S.classList.add("statCell"),
        this._barSet1 = new UTItemStatBarsView,
        S.appendChild(this._barSet1.getRootElement());
        var v = document.createElement("span");
        v.classList.add("Pace"),
        v.classList.add("statLabel"),
        S.appendChild(v),
        E.appendChild(S);
        var b = document.createElement("div");
        b.classList.add("statCell"),
        this._barSet4 = new UTItemStatBarsView,
        b.appendChild(this._barSet4.getRootElement());
        var C = document.createElement("span");
        C.classList.add("Dribbling"),
        C.classList.add("statLabel"),
        b.appendChild(C),
        E.appendChild(b),
        this.__styleViewDiv.appendChild(E);
        var I = document.createElement("div");
        I.classList.add("statCellRow");
        var A = document.createElement("div");
        A.classList.add("statCell"),
        this._barSet2 = new UTItemStatBarsView,
        A.appendChild(this._barSet2.getRootElement());
        var U = document.createElement("span");
        U.classList.add("Shooting"),
        U.classList.add("statLabel"),
        A.appendChild(U),
        I.appendChild(A);
        var w = document.createElement("div");
        w.classList.add("statCell"),
        this._barSet5 = new UTItemStatBarsView,
        w.appendChild(this._barSet5.getRootElement());
        var P = document.createElement("span");
        P.classList.add("Defending"),
        P.classList.add("statLabel"),
        w.appendChild(P),
        I.appendChild(w),
        this.__styleViewDiv.appendChild(I);
        var O = document.createElement("div");
        O.classList.add("statCellRow");
        var R = document.createElement("div");
        R.classList.add("statCell"),
        this._barSet3 = new UTItemStatBarsView,
        R.appendChild(this._barSet3.getRootElement());
        var L = document.createElement("span");
        L.classList.add("Passing"),
        L.classList.add("statLabel"),
        R.appendChild(L),
        O.appendChild(R);
        var D = document.createElement("div");
        D.classList.add("statCell"),
        this._barSet6 = new UTItemStatBarsView,
        D.appendChild(this._barSet6.getRootElement());
        var V = document.createElement("span");
        V.classList.add("Header"),
        V.classList.add("statLabel"),
        D.appendChild(V),
        O.appendChild(D),
        this.__styleViewDiv.appendChild(O),
        t.appendChild(this.__styleViewDiv),
        this.__bioViewDiv = document.createElement("div"),
        this.__bioViewDiv.classList.add("ut-item-view--bio"),
        this.__bioViewDiv.classList.add("ut-item-view"),
        this.__positionHeader = document.createElement("div"),
        this.__positionHeader.classList.add("ut-item-view--positions-header"),
        this.__strPlayerPosition = document.createElement("span"),
        this.__strPlayerPosition.classList.add("currentPosition"),
        this.__positionHeader.appendChild(this.__strPlayerPosition),
        this.__bioViewDiv.appendChild(this.__positionHeader);
        var N = document.createElement("div");
        N.classList.add("ut-item-row"),
        this.__bioNation = document.createElement("span"),
        this.__bioNation.classList.add("ut-item-row-label--left"),
        this.__bioNation.classList.add("ut-item-row-label"),
        N.appendChild(this.__bioNation);
        var M = document.createElement("span");
        M.classList.add("ut-item-row-label--center"),
        M.classList.add("ut-item-row-label"),
        this._bioNationPoints = new UTSquadSlotChemistryPointsView,
        this._bioNationPoints.getRootElement().classList.add("ut-player-item-bio-points"),
        M.appendChild(this._bioNationPoints.getRootElement()),
        N.appendChild(M);
        var B = document.createElement("span");
        B.classList.add("ut-item-row-label--right"),
        B.classList.add("ut-item-row-label"),
        this._bioFlagImage = new EAImageView,
        B.appendChild(this._bioFlagImage.getRootElement()),
        N.appendChild(B),
        this.__bioViewDiv.appendChild(N);
        var F = document.createElement("div");
        F.classList.add("ut-item-row"),
        this.__bioLeague = document.createElement("span"),
        this.__bioLeague.classList.add("ut-item-row-label--left"),
        this.__bioLeague.classList.add("ut-item-row-label"),
        F.appendChild(this.__bioLeague);
        var x = document.createElement("span");
        x.classList.add("ut-item-row-label--center"),
        x.classList.add("ut-item-row-label"),
        this._bioLeaguePoints = new UTSquadSlotChemistryPointsView,
        this._bioLeaguePoints.getRootElement().classList.add("ut-player-item-bio-points"),
        x.appendChild(this._bioLeaguePoints.getRootElement()),
        F.appendChild(x);
        var j = document.createElement("span");
        j.classList.add("ut-item-row-label--right"),
        j.classList.add("ut-item-row-label"),
        this._bioLeagueImage = new EAImageView,
        j.appendChild(this._bioLeagueImage.getRootElement()),
        F.appendChild(j),
        this.__bioViewDiv.appendChild(F);
        var G = document.createElement("div");
        G.classList.add("ut-item-row"),
        this.__bioClub = document.createElement("span"),
        this.__bioClub.classList.add("ut-item-row-label--left"),
        this.__bioClub.classList.add("ut-item-row-label"),
        G.appendChild(this.__bioClub);
        var k = document.createElement("span");
        k.classList.add("ut-item-row-label--center"),
        k.classList.add("ut-item-row-label"),
        this._bioClubPoints = new UTSquadSlotChemistryPointsView,
        this._bioClubPoints.getRootElement().classList.add("ut-player-item-bio-points"),
        k.appendChild(this._bioClubPoints.getRootElement()),
        G.appendChild(k);
        var q = document.createElement("span");
        q.classList.add("ut-item-row-label--right"),
        q.classList.add("ut-item-row-label"),
        this._bioBadgeImage = new EAImageView,
        q.appendChild(this._bioBadgeImage.getRootElement()),
        G.appendChild(q),
        this.__bioViewDiv.appendChild(G),
        t.appendChild(this.__bioViewDiv),
        this.__strengthViewDiv = document.createElement("div"),
        this.__strengthViewDiv.classList.add("ut-item-view--strength"),
        this.__strengthViewDiv.classList.add("ut-item-view"),
        this.__keyAtt1 = document.createElement("div"),
        this.__keyAtt1.classList.add("ut-item-row"),
        this.__keyAttLabel1 = document.createElement("span"),
        this.__keyAttLabel1.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel1.classList.add("ut-item-row-label"),
        this.__keyAtt1.appendChild(this.__keyAttLabel1),
        this.__keyAttVal1 = document.createElement("span"),
        this.__keyAttVal1.classList.add("ut-item-row-label--right"),
        this.__keyAttVal1.classList.add("ut-item-row-label"),
        this.__keyAtt1.appendChild(this.__keyAttVal1),
        this.__strengthViewDiv.appendChild(this.__keyAtt1),
        this.__keyAtt2 = document.createElement("div"),
        this.__keyAtt2.classList.add("ut-item-row"),
        this.__keyAttLabel2 = document.createElement("span"),
        this.__keyAttLabel2.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel2.classList.add("ut-item-row-label"),
        this.__keyAtt2.appendChild(this.__keyAttLabel2),
        this.__keyAttVal2 = document.createElement("span"),
        this.__keyAttVal2.classList.add("ut-item-row-label--right"),
        this.__keyAttVal2.classList.add("ut-item-row-label"),
        this.__keyAtt2.appendChild(this.__keyAttVal2),
        this.__strengthViewDiv.appendChild(this.__keyAtt2),
        this.__keyAtt3 = document.createElement("div"),
        this.__keyAtt3.classList.add("ut-item-row"),
        this.__keyAttLabel3 = document.createElement("span"),
        this.__keyAttLabel3.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel3.classList.add("ut-item-row-label"),
        this.__keyAtt3.appendChild(this.__keyAttLabel3),
        this.__keyAttVal3 = document.createElement("span"),
        this.__keyAttVal3.classList.add("ut-item-row-label--right"),
        this.__keyAttVal3.classList.add("ut-item-row-label"),
        this.__keyAtt3.appendChild(this.__keyAttVal3),
        this.__strengthViewDiv.appendChild(this.__keyAtt3),
        this.__keyAtt4 = document.createElement("div"),
        this.__keyAtt4.classList.add("ut-item-row"),
        this.__keyAttLabel4 = document.createElement("span"),
        this.__keyAttLabel4.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel4.classList.add("ut-item-row-label"),
        this.__keyAtt4.appendChild(this.__keyAttLabel4),
        this.__keyAttVal4 = document.createElement("span"),
        this.__keyAttVal4.classList.add("ut-item-row-label--right"),
        this.__keyAttVal4.classList.add("ut-item-row-label"),
        this.__keyAtt4.appendChild(this.__keyAttVal4),
        this.__strengthViewDiv.appendChild(this.__keyAtt4),
        this.__keyAtt5 = document.createElement("div"),
        this.__keyAtt5.classList.add("ut-item-row"),
        this.__keyAttLabel5 = document.createElement("span"),
        this.__keyAttLabel5.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel5.classList.add("ut-item-row-label"),
        this.__keyAtt5.appendChild(this.__keyAttLabel5),
        this.__keyAttVal5 = document.createElement("span"),
        this.__keyAttVal5.classList.add("ut-item-row-label--right"),
        this.__keyAttVal5.classList.add("ut-item-row-label"),
        this.__keyAtt5.appendChild(this.__keyAttVal5),
        this.__strengthViewDiv.appendChild(this.__keyAtt5),
        t.appendChild(this.__strengthViewDiv),
        this.__traitsViewDiv = document.createElement("div"),
        this.__traitsViewDiv.classList.add("ut-item-view--traits"),
        this.__traitsViewDiv.classList.add("ut-item-view"),
        this.__emptyTraits = document.createElement("div"),
        this.__emptyTraits.classList.add("ut-item-view--empty-message"),
        this.__traitsViewDiv.appendChild(this.__emptyTraits),
        this.__trait1 = document.createElement("div"),
        this.__trait1.classList.add("ut-item-row"),
        this.__traitLabel1 = document.createElement("span"),
        this.__traitLabel1.classList.add("ut-item-row-label--left"),
        this.__traitLabel1.classList.add("ut-item-row-label"),
        this.__trait1.appendChild(this.__traitLabel1);
        var H = document.createElement("span");
        H.classList.add("ut-item-row-label--right"),
        H.classList.add("ut-item-row-label"),
        this.__traitIcon1 = document.createElement("span"),
        H.appendChild(this.__traitIcon1),
        this.__trait1.appendChild(H),
        this.__traitsViewDiv.appendChild(this.__trait1),
        this.__trait2 = document.createElement("div"),
        this.__trait2.classList.add("ut-item-row"),
        this.__traitLabel2 = document.createElement("span"),
        this.__traitLabel2.classList.add("ut-item-row-label--left"),
        this.__traitLabel2.classList.add("ut-item-row-label"),
        this.__trait2.appendChild(this.__traitLabel2);
        var K = document.createElement("span");
        K.classList.add("ut-item-row-label--right"),
        K.classList.add("ut-item-row-label"),
        this.__traitIcon2 = document.createElement("span"),
        K.appendChild(this.__traitIcon2),
        this.__trait2.appendChild(K),
        this.__traitsViewDiv.appendChild(this.__trait2),
        this.__trait3 = document.createElement("div"),
        this.__trait3.classList.add("ut-item-row"),
        this.__traitLabel3 = document.createElement("span"),
        this.__traitLabel3.classList.add("ut-item-row-label--left"),
        this.__traitLabel3.classList.add("ut-item-row-label"),
        this.__trait3.appendChild(this.__traitLabel3);
        var z = document.createElement("span");
        z.classList.add("ut-item-row-label--right"),
        z.classList.add("ut-item-row-label"),
        this.__traitIcon3 = document.createElement("span"),
        z.appendChild(this.__traitIcon3),
        this.__trait3.appendChild(z),
        this.__traitsViewDiv.appendChild(this.__trait3),
        this.__trait4 = document.createElement("div"),
        this.__trait4.classList.add("ut-item-row"),
        this.__traitLabel4 = document.createElement("span"),
        this.__traitLabel4.classList.add("ut-item-row-label--left"),
        this.__traitLabel4.classList.add("ut-item-row-label"),
        this.__trait4.appendChild(this.__traitLabel4);
        var Y = document.createElement("span");
        Y.classList.add("ut-item-row-label--right"),
        Y.classList.add("ut-item-row-label"),
        this.__traitIcon4 = document.createElement("span"),
        Y.appendChild(this.__traitIcon4),
        this.__trait4.appendChild(Y),
        this.__traitsViewDiv.appendChild(this.__trait4),
        this.__trait5 = document.createElement("div"),
        this.__trait5.classList.add("ut-item-row"),
        this.__traitLabel5 = document.createElement("span"),
        this.__traitLabel5.classList.add("ut-item-row-label--left"),
        this.__traitLabel5.classList.add("ut-item-row-label"),
        this.__trait5.appendChild(this.__traitLabel5);
        var W = document.createElement("span");
        W.classList.add("ut-item-row-label--right"),
        W.classList.add("ut-item-row-label"),
        this.__traitIcon5 = document.createElement("span"),
        W.appendChild(this.__traitIcon5),
        this.__trait5.appendChild(W),
        this.__traitsViewDiv.appendChild(this.__trait5),
        t.appendChild(this.__traitsViewDiv),
        this._bottomRightStatusIndicator = new UTItemPlayerStateIndicatorView,
        t.appendChild(this._bottomRightStatusIndicator.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargePlayerItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._canvas.destroy(),
    this.__playerName = null,
    this.__mainViewDiv = null,
    this.__playerRating = null,
    this.__playerPosition = null,
    this.__playStyle = null,
    this.__firstOwner = null,
    this.__attribute0 = null,
    this.__attribute1 = null,
    this.__attribute2 = null,
    this.__attribute3 = null,
    this.__attribute4 = null,
    this.__attribute5 = null,
    this.__statsViewDiv = null,
    this.__statsRowMarketAvg = null,
    this.__playerMarketAvgLabel = null,
    this.__playerMarketAvg = null,
    this.__skillMoves = null,
    this.__skillMovesLabel = null,
    this.__skillMovesRating = null,
    this.__weakFoot = null,
    this.__weakFootLabel = null,
    this.__weakFootRating = null,
    this.__statsRowInjury = null,
    this.__injuryLabel = null,
    this.__injury = null,
    this.__styleViewDiv = null,
    this.__playStyleName = null,
    this.__playStyleLarge = null,
    this._barSet1.destroy(),
    this._barSet4.destroy(),
    this._barSet2.destroy(),
    this._barSet5.destroy(),
    this._barSet3.destroy(),
    this._barSet6.destroy(),
    this.__bioViewDiv = null,
    this.__positionHeader = null,
    this.__strPlayerPosition = null,
    this.__bioNation = null,
    this._bioNationPoints.destroy(),
    this._bioFlagImage.destroy(),
    this.__bioLeague = null,
    this._bioLeaguePoints.destroy(),
    this._bioLeagueImage.destroy(),
    this.__bioClub = null,
    this._bioClubPoints.destroy(),
    this._bioBadgeImage.destroy(),
    this.__strengthViewDiv = null,
    this.__keyAtt1 = null,
    this.__keyAttLabel1 = null,
    this.__keyAttVal1 = null,
    this.__keyAtt2 = null,
    this.__keyAttLabel2 = null,
    this.__keyAttVal2 = null,
    this.__keyAtt3 = null,
    this.__keyAttLabel3 = null,
    this.__keyAttVal3 = null,
    this.__keyAtt4 = null,
    this.__keyAttLabel4 = null,
    this.__keyAttVal4 = null,
    this.__keyAtt5 = null,
    this.__keyAttLabel5 = null,
    this.__keyAttVal5 = null,
    this.__traitsViewDiv = null,
    this.__emptyTraits = null,
    this.__trait1 = null,
    this.__traitLabel1 = null,
    this.__traitIcon1 = null,
    this.__trait2 = null,
    this.__traitLabel2 = null,
    this.__traitIcon2 = null,
    this.__trait3 = null,
    this.__traitLabel3 = null,
    this.__traitIcon3 = null,
    this.__trait4 = null,
    this.__traitLabel4 = null,
    this.__traitIcon4 = null,
    this.__trait5 = null,
    this.__traitLabel5 = null,
    this.__traitIcon5 = null,
    this._bottomRightStatusIndicator.destroy()
}
,
UTLargePlayerItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTStadiumItemView = function(t) {
    function UTStadiumItemView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTStadiumItemView, t),
    UTStadiumItemView.prototype.renderItem = function(t, e) {
        var i = e.getLargeColorMap(t.getTier())
          , r = t.getStaticData().assetId;
        if (i && this.applyColors(".iconClub", i.footer),
        this._mainImage) {
            var o = this._mainImage;
            o.onerror = function(t) {
                o.onerror = null,
                o.src = AssetLocationUtils.getStadiumImageUri(UTItemEntity.DEFAULT_ASSET_ID)
            }
            ,
            o.src = AssetLocationUtils.getStadiumImageUri(r)
        }
    }
    ,
    UTStadiumItemView.prototype.renderStadiumRestrictions = function(t) {
        this.__restrictedBanner && t.bannerRestricted && (this.__restrictedBanner.style.display = "none"),
        this.__restrictedTifo && t.tifoRestricted && (this.__restrictedTifo.style.display = "none")
    }
    ,
    UTStadiumItemView.prototype.canRender = function(t) {
        return t.isStadium()
    }
    ,
    UTStadiumItemView.prototype.resetRender = function() {}
    ,
    UTStadiumItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTStadiumItemView
}(UTItemView)
  , UTLargeStadiumItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(n) {
    function UTLargeStadiumItemView() {
        return n.call(this) || this
    }
    return __extends(UTLargeStadiumItemView, n),
    UTLargeStadiumItemView.prototype.renderItem = function(t, e) {
        var i = t.getStaticData();
        n.prototype.renderItem.call(this, t, e);
        var r = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.LARGE, r),
        this.renderStadiumRestrictions(t),
        this.__stadiumName.textContent = i.description;
        var o = e.getExpColorMap(t.getTier());
        o && (this.applyColors(".name", o.name),
        this.applyColors(".clubView .clubRow", o.footer))
    }
    ,
    UTLargeStadiumItemView
}(UTStadiumItemView));
UTLargeStadiumItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("stadium"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__stadiumName = document.createElement("div"),
        this.__stadiumName.classList.add("name"),
        t.appendChild(this.__stadiumName);
        var i = document.createElement("div");
        i.classList.add("stadium"),
        i.classList.add("iconClub"),
        t.appendChild(i),
        this.__restrictedIcons = document.createElement("div"),
        this.__restrictedIcons.classList.add("restricted"),
        this.__restrictedBanner = document.createElement("div"),
        this.__restrictedBanner.classList.add("banner"),
        this.__restrictedBanner.classList.add("iconClub"),
        this.__restrictedIcons.appendChild(this.__restrictedBanner),
        this.__restrictedTifo = document.createElement("div"),
        this.__restrictedTifo.classList.add("tifo"),
        this.__restrictedTifo.classList.add("iconClub"),
        this.__restrictedIcons.appendChild(this.__restrictedTifo),
        t.appendChild(this.__restrictedIcons),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeStadiumItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__stadiumName = null,
    this.__restrictedIcons = null,
    this.__restrictedBanner = null,
    this.__restrictedTifo = null
}
,
UTLargeStadiumItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTVanityItemView = function(t) {
    function UTVanityItemView() {
        return t.call(this) || this
    }
    return __extends(UTVanityItemView, t),
    UTVanityItemView.prototype.getVanityStyleFromSubtype = function(t) {
        switch (t) {
        case ItemSubType.VANITY_TIFO_BASE:
            return "vanity--tifo_base";
        case ItemSubType.VANITY_TIFO_BIG:
            return "vanity--tifo_big";
        case ItemSubType.VANITY_TIFO_MOVING:
            return "vanity--tifo_moving";
        case ItemSubType.VANITY_STADIUM_THEME:
            return "vanity--theme";
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN:
            return "vanity--mow_pattern";
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR:
            return "vanity--line_color";
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE:
            return "vanity--goal_package";
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP:
            return "vanity--prop";
        case ItemSubType.VANITY_STADIUM_BASE_STRUCTURE_COLOR:
            return "vanity--stucture_color";
        case ItemSubType.VANITY_STADIUM_BASE_SEAT_COLOR:
            return "vanity--seat_color";
        case ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON:
            return "vanity--flame_cannon";
        case ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON:
            return "vanity--confetti_cannon";
        case ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON:
            return "vanity--sparkler_cannon";
        case ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON:
            return "vanity--fireworks_cannon";
        case ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC:
            return "vanity--anthem";
        case ItemSubType.VANITY_AUDIO_GOAL_SCORE:
            return "vanity--goal_score";
        case ItemSubType.VANITY_AUDIO_CLUB_NICKNAME:
            return "vanity--nickname";
        case ItemSubType.VANITY_AUDIO_CROWD_CHANT:
            return "vanity--chant";
        case ItemSubType.VANITY_PLAYER_CELEBRATION:
            return "vanity--celebration";
        case ItemSubType.VANITY_TINTED_BANNER:
            return "vanity--tinted_banner";
        case ItemSubType.VANITY_POLE_BANNER:
            return "vanity--pole_banner";
        case ItemSubType.VANITY_CROWD_CARDS:
            return "vanity--crowd_cards";
        case ItemSubType.VANITY_VIP_AREA:
            return "vanity--vip_area";
        default:
            return "vanity--none"
        }
    }
    ,
    UTVanityItemView.prototype.handleMainImageError = function(e, t, i) {
        var r = this;
        if (void 0 === t && (t = !1),
        void 0 === i && (i = ItemViewSize.LARGE),
        this._mainImage) {
            var o = this._mainImage;
            if (t)
                o.addClass("authentic"),
                o.onerror = function(t) {
                    return r.handleMainImageError(e, !1, i)
                }
                ,
                o.src = AssetLocationUtils.getBadgeImageUri(e.getItemAssetId(), enums.UIThemeVariation.LIGHT);
            else {
                var n = e.subtype === ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN ? UTItemEntity.DEFAULT_MOWPATTERN_ASSET_ID : UTItemEntity.DEFAULT_ASSET_ID;
                o.removeClass("authentic"),
                o.onerror = null,
                o.src = AssetLocationUtils.getVanityImageUri(e.subtype, n, i)
            }
        }
    }
    ,
    UTVanityItemView.prototype.renderItem = function(t, e) {
        var i = e.getExpColorMap(t.getTier());
        i && this.applyColors(".iconClub", i.footer),
        DOMKit.addClass(this.__icon, this.getVanityStyleFromSubtype(t.subtype))
    }
    ,
    UTVanityItemView.prototype.canRender = function(t) {
        return t.isVanityItem()
    }
    ,
    UTVanityItemView.prototype.resetRender = function() {}
    ,
    UTVanityItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTVanityItemView
}(UTItemView)
  , UTLargeVanityItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(c) {
    function UTLargeVanityItemView() {
        return c.call(this) || this
    }
    return __extends(UTLargeVanityItemView, c),
    UTLargeVanityItemView.prototype.renderItem = function(e, t) {
        var i = this
          , r = e.getStaticData()
          , o = e.isSpecial() ? null == t ? void 0 : t.getGuid() : void 0;
        if (c.prototype.renderItem.call(this, e, t),
        this._mainImage) {
            var n = this._mainImage
              , a = "";
            a = e.authenticity && (e.subtype === ItemSubType.VANITY_STADIUM_THEME || e.isAudioItem()) ? (n.addClass("authentic"),
            AssetLocationUtils.getBadgeImageUri(e.getItemAssetId(), enums.UIThemeVariation.LIGHT)) : AssetLocationUtils.getVanityImageUri(e.subtype, e.getItemAssetId(), ItemViewSize.LARGE),
            n.onerror = function(t) {
                return i.handleMainImageError(e, e.authenticity && e.subtype !== ItemSubType.VANITY_STADIUM_THEME, ItemViewSize.LARGE)
            }
            ,
            n.src = a
        }
        this.setShell(e, ItemViewSize.LARGE, o);
        var s = t.getLargeColorMap(e.getTier())
          , l = services.Localization.localize(r.name);
        this.__vanityName.textContent = l,
        this.__vanityText.textContent = services.Localization.localize("item.vanity.subtype" + e.subtype.toString()),
        s && (this.applyColors(".name", s.name),
        this.applyColors(".clubView .clubRow", s.footer),
        this.applyColors(".vanity.iconClub", s.playStyleIcon))
    }
    ,
    UTLargeVanityItemView
}(UTVanityItemView));
UTLargeVanityItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("large"),
        t.classList.add("vanity"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__vanityName = document.createElement("div"),
        this.__vanityName.classList.add("name"),
        t.appendChild(this.__vanityName);
        var i = document.createElement("div");
        i.classList.add("clubView"),
        this.__vanityText = document.createElement("div"),
        this.__vanityText.classList.add("clubRow"),
        i.appendChild(this.__vanityText),
        t.appendChild(i),
        this.__icon = document.createElement("div"),
        this.__icon.classList.add("vanity"),
        this.__icon.classList.add("iconClub"),
        t.appendChild(this.__icon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTLargeVanityItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__vanityName = null,
    this.__vanityText = null,
    this.__icon = null
}
,
UTLargeVanityItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallBadgeItemView = function(r) {
    function UTSmallBadgeItemView() {
        return r.call(this) || this
    }
    return __extends(UTSmallBadgeItemView, r),
    UTSmallBadgeItemView.prototype.renderItem = function(t, e) {
        r.prototype.renderItem.call(this, t, e);
        var i = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.SMALL, i)
    }
    ,
    UTSmallBadgeItemView
}(UTBadgeItemView);
UTSmallBadgeItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("badge"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("badge"),
        i.classList.add("iconClub"),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallBadgeItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy()
}
,
UTSmallBadgeItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallBallItemView = function(r) {
    function UTSmallBallItemView() {
        return r.call(this) || this
    }
    return __extends(UTSmallBallItemView, r),
    UTSmallBallItemView.prototype.renderItem = function(t, e) {
        r.prototype.renderItem.call(this, t, e);
        var i = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.SMALL, i)
    }
    ,
    UTSmallBallItemView
}(UTBallItemView);
UTSmallBallItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("ball"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("ball"),
        i.classList.add("iconClub"),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallBallItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy()
}
,
UTSmallBallItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallConsumableItemView = function(r) {
    function UTSmallConsumableItemView() {
        return r.call(this) || this
    }
    return __extends(UTSmallConsumableItemView, r),
    UTSmallConsumableItemView.prototype.getImageUrl = function(t, e) {
        return AssetLocationUtils.getConsumableImageUri(t, e)
    }
    ,
    UTSmallConsumableItemView.prototype.renderItem = function(t, e) {
        r.prototype.renderItem.call(this, t, e),
        this.setShell(t, ItemViewSize.SMALL);
        var i = e.getSmallColorMap(t.getTier());
        i && this.applyColors(".itemDesc", i.footer)
    }
    ,
    UTSmallConsumableItemView
}(UTConsumableItemView);
UTSmallConsumableItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("consumable"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__stackCount = document.createElement("div"),
        this.__stackCount.classList.add("infoTab"),
        t.appendChild(this.__stackCount),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__desc = document.createElement("div"),
        this.__desc.classList.add("itemDesc"),
        t.appendChild(this.__desc),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("iconConsumable"),
        t.appendChild(this.__itemIcon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallConsumableItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__stackCount = null,
    this._mainImage.destroy(),
    this.__desc = null,
    this.__itemIcon = null
}
,
UTSmallConsumableItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallChemistryStyleItemView = function(o) {
    function UTSmallChemistryStyleItemView() {
        return o.call(this) || this
    }
    return __extends(UTSmallChemistryStyleItemView, o),
    UTSmallChemistryStyleItemView.prototype.renderItem = function(t, e) {
        var i = e.getSmallColorMap(t.getTier())
          , r = AssetLocationUtils.getConsumableImageUri(t.getAssetId(), t.subtype);
        o.prototype.renderItem.call(this, t, e),
        this.setShell(t, ItemViewSize.SMALL),
        this._mainImage.src = r,
        i && this.applyColors(".itemDesc", i.footer)
    }
    ,
    UTSmallChemistryStyleItemView
}(UTChemistryStyleItemView);
UTSmallChemistryStyleItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("chemistryStyle"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__stackCount = document.createElement("div"),
        this.__stackCount.classList.add("infoTab"),
        t.appendChild(this.__stackCount),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__desc = document.createElement("div"),
        this.__desc.classList.add("itemDesc"),
        t.appendChild(this.__desc),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("chemistryStyle"),
        this.__itemIcon.classList.add("iconConsumable"),
        t.appendChild(this.__itemIcon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallChemistryStyleItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__stackCount = null,
    this._mainImage.destroy(),
    this.__desc = null,
    this.__itemIcon = null
}
,
UTSmallChemistryStyleItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallCustomBrickItemView = function(r) {
    function UTSmallCustomBrickItemView() {
        return r.call(this) || this
    }
    return __extends(UTSmallCustomBrickItemView, r),
    UTSmallCustomBrickItemView.prototype.renderItem = function(t, e) {
        r.prototype.renderItem.call(this, t, e);
        var i = services.Localization;
        this.__nation.textContent = 0 === t.nationId ? i.localize("roles.defaultRole") : UTLocalizationUtil.nationIdToAbbr3(t.nationId, i),
        this.__league.textContent = 0 === t.leagueId ? i.localize("roles.defaultRole") : UTLocalizationUtil.leagueIdToAbbr5(t.leagueId, i),
        this.__team.textContent = 0 === t.teamId ? i.localize("roles.defaultRole") : UTLocalizationUtil.teamIdToAbbr3(t.teamId, i)
    }
    ,
    UTSmallCustomBrickItemView
}(UTCustomBrickItemView);
UTSmallCustomBrickItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("custom-brick"),
        t.classList.add("small"),
        t.classList.add("item");
        var e = document.createElement("div");
        e.classList.add("lock"),
        t.appendChild(e),
        this.__league = document.createElement("span"),
        t.appendChild(this.__league),
        this.__team = document.createElement("span"),
        t.appendChild(this.__team),
        this.__nation = document.createElement("span"),
        t.appendChild(this.__nation),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallCustomBrickItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__league = null,
    this.__team = null,
    this.__nation = null
}
,
UTSmallCustomBrickItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallKitItemView = function(o) {
    function UTSmallKitItemView() {
        return o.call(this) || this
    }
    return __extends(UTSmallKitItemView, o),
    UTSmallKitItemView.prototype.renderItem = function(t, e) {
        o.prototype.renderItem.call(this, t, e);
        var i = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.SMALL, i),
        this.__desc.textContent = t.getStaticData().description;
        var r = e.getSmallColorMap(t.getTier());
        r && this.applyColors(".itemDesc", r.footer)
    }
    ,
    UTSmallKitItemView
}(UTKitItemView);
UTSmallKitItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("kit"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("kitOverview"),
        this._flagImage = new EAImageView,
        this._flagImage.getRootElement().classList.add("flag"),
        i.appendChild(this._flagImage.getRootElement()),
        this._badgeImage = new EAImageView,
        this._badgeImage.getRootElement().classList.add("badge"),
        i.appendChild(this._badgeImage.getRootElement()),
        t.appendChild(i),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__desc = document.createElement("div"),
        this.__desc.classList.add("itemDesc"),
        t.appendChild(this.__desc);
        var r = document.createElement("div");
        r.classList.add("kit"),
        r.classList.add("iconClub"),
        t.appendChild(r),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallKitItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._flagImage.destroy(),
    this._badgeImage.destroy(),
    this._mainImage.destroy(),
    this.__desc = null
}
,
UTSmallKitItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallManagerItemView = function(o) {
    function UTSmallManagerItemView() {
        return o.call(this) || this
    }
    return __extends(UTSmallManagerItemView, o),
    UTSmallManagerItemView.prototype.init = function() {
        o.prototype.init.call(this),
        this._canvas.init()
    }
    ,
    UTSmallManagerItemView.prototype.setItemInfoState = function(t) {
        DOMKit.toggleDisplayStyle(this.__position, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__iconDiv, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__bioViewDiv, t !== UIItemInfoState.MAIN),
        this._canvas.hasRendered && this._canvas.setState(t)
    }
    ,
    UTSmallManagerItemView.prototype.renderItem = function(t, e) {
        t.getStaticData();
        var i = t.isValid()
          , r = e.getSmallColorMap(t.getTier());
        o.prototype.renderItem.call(this, t, e),
        this._canvas && (this._canvas.setSize(ItemViewSize.SMALL),
        r && this._canvas.setColorMap(r)),
        i && (this.setShell(t, ItemViewSize.SMALL),
        r && (this.applyColors(".position", r.header),
        this.applyColors(".itemDesc", r.footer))),
        this.__managerNation.textContent = UTLocalizationUtil.nationIdToAbbr3(t.nationId, services.Localization),
        this.__managerLeague.textContent = UTLocalizationUtil.leagueIdToAbbr5(t.leagueId, services.Localization)
    }
    ,
    UTSmallManagerItemView.prototype.getAssetDimensions = function(t, e) {
        e = e || !1;
        var i = 0
          , r = 0
          , o = 0
          , n = 0;
        return t === ItemAssetType.MAIN ? (r = i = 50,
        o = 24,
        n = 22) : t === ItemAssetType.LEAGUE ? (r = i = 16,
        o = 46,
        n = 77) : t === ItemAssetType.FLAG ? (i = 16,
        r = 10,
        o = 20,
        n = 80) : t === ItemAssetType.SHELL && (i = 82,
        r = 114),
        new UTItemCanvasDTO({
            dynamic: e,
            height: r,
            width: i,
            xPos: o,
            yPos: n
        })
    }
    ,
    UTSmallManagerItemView
}(UTManagerItemView);
UTSmallManagerItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("manager"),
        t.classList.add("staff"),
        t.classList.add("item"),
        this._canvas = new UTItemManagerCanvasView,
        this._canvas.width = "82",
        this._canvas.height = "114",
        t.appendChild(this._canvas.getRootElement());
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this.__position = document.createElement("div"),
        this.__position.classList.add("position"),
        t.appendChild(this.__position),
        this.__iconDiv = document.createElement("div"),
        this.__iconDiv.classList.add("manager"),
        this.__iconDiv.classList.add("iconStaff"),
        t.appendChild(this.__iconDiv),
        this.__bioViewDiv = document.createElement("div"),
        this.__bioViewDiv.classList.add("bioView");
        var i = document.createElement("div");
        i.classList.add("ut-item-row");
        var r = document.createElement("span");
        r.classList.add("ut-item-row-label--left"),
        r.classList.add("ut-item-row-label"),
        this._bioFlagImage = new EAImageView,
        r.appendChild(this._bioFlagImage.getRootElement()),
        i.appendChild(r),
        this.__managerNation = document.createElement("span"),
        this.__managerNation.classList.add("ut-item-row-label--right"),
        this.__managerNation.classList.add("ut-item-row-label"),
        i.appendChild(this.__managerNation),
        this.__bioViewDiv.appendChild(i);
        var o = document.createElement("div");
        o.classList.add("ut-item-row");
        var n = document.createElement("span");
        n.classList.add("ut-item-row-label--left"),
        n.classList.add("ut-item-row-label"),
        this._bioLeagueImage = new EAImageView,
        n.appendChild(this._bioLeagueImage.getRootElement()),
        o.appendChild(n),
        this.__managerLeague = document.createElement("span"),
        this.__managerLeague.classList.add("ut-item-row-label--right"),
        this.__managerLeague.classList.add("ut-item-row-label"),
        o.appendChild(this.__managerLeague),
        this.__bioViewDiv.appendChild(o),
        t.appendChild(this.__bioViewDiv),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallManagerItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._canvas.destroy(),
    this.__position = null,
    this.__iconDiv = null,
    this.__bioViewDiv = null,
    this._bioFlagImage.destroy(),
    this.__managerNation = null,
    this._bioLeagueImage.destroy(),
    this.__managerLeague = null
}
,
UTSmallManagerItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallMiscItemView = function(i) {
    function UTSmallMiscItemView() {
        return i.call(this) || this
    }
    return __extends(UTSmallMiscItemView, i),
    UTSmallMiscItemView.prototype.getImageUrl = function(t, e) {
        return AssetLocationUtils.getMiscImageUri(t, e, ItemViewSize.SMALL)
    }
    ,
    UTSmallMiscItemView.prototype.renderItem = function(t, e) {
        i.prototype.renderItem.call(this, t, e),
        t.isAcademyUnlockToken() ? this.__itemName.textContent = services.Localization.localize(t.getStaticData().description) : t.isPlayerPickItem() ? this.__itemName.textContent = services.Localization.localize("card.title.playerpicks") : this.setShell(t, ItemViewSize.SMALL)
    }
    ,
    UTSmallMiscItemView
}(UTMiscItemView);
UTSmallMiscItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("misc"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("ut-item-misc-details"),
        this.__itemName = document.createElement("div"),
        this.__itemName.classList.add("name"),
        i.appendChild(this.__itemName),
        this.__itemIcon = document.createElement("div"),
        this.__itemIcon.classList.add("iconConsumable"),
        i.appendChild(this.__itemIcon),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallMiscItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__itemName = null,
    this.__itemIcon = null
}
,
UTSmallMiscItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallPlayerItemView = function(g) {
    function UTSmallPlayerItemView() {
        return g.call(this) || this
    }
    return __extends(UTSmallPlayerItemView, g),
    UTSmallPlayerItemView.prototype.setItemInfoState = function(t) {
        var e;
        DOMKit.toggleDisplayStyle(this.__statsViewDiv, t === UIItemInfoState.STATS),
        DOMKit.toggleDisplayStyle(this.__bioViewDiv, t === UIItemInfoState.BIO),
        DOMKit.toggleDisplayStyle(this.__mainViewDiv, t === UIItemInfoState.MAIN),
        DOMKit.toggleDisplayStyle(this.__styleViewDiv, t === UIItemInfoState.STYLE),
        DOMKit.toggleDisplayStyle(this.__strengthViewDiv, t === UIItemInfoState.STRENGTH),
        DOMKit.toggleDisplayStyle(this.__traitsViewDiv, t === UIItemInfoState.TRAITS),
        DOMKit.toggleDisplayStyle(this.__playStyle, t === UIItemInfoState.STYLE || t === UIItemInfoState.MAIN),
        this._canvas.hasRendered && this._canvas.setState(t),
        null === (e = this._traitsCanvas) || void 0 === e || e.setDisplay(t === UIItemInfoState.MAIN)
    }
    ,
    UTSmallPlayerItemView.prototype.renderItem = function(a, t, e) {
        var i, r, o;
        if (a.isValid()) {
            a.concept ? (t = this.createConceptRarity(),
            this.setLocalShell(a, ItemViewSize.SMALL)) : this.setShell(a, ItemViewSize.SMALL, t.getGuid()),
            !this._traitsCanvas && 0 < a.getNumPlusPlayStyles() && (this._traitsCanvas = new UTItemTraitsCanvasView,
            this._traitsCanvas.init(),
            this.addSubview(this._traitsCanvas),
            this.layoutSubviews(),
            this._traitsCanvas.setAssets(this.assets));
            var n = a.playStyle
              , s = t.getSmallColorMap(a.getTier());
            this._canvas && (this._canvas.setSize(ItemViewSize.SMALL),
            null === (i = this._traitsCanvas) || void 0 === i || i.setSize(ItemViewSize.SMALL),
            s && (this._canvas.setColorMap(s),
            null === (r = this._traitsCanvas) || void 0 === r || r.setColorMap(s)),
            this._canvas.renderConcept = a.concept),
            g.prototype.renderItem.call(this, a, t, e),
            s && (this.applyColors(".playerOverview", s.header),
            this.applyColors(".playStyle", s.playStyleIcon),
            this.applyColors(".ut-item-view--bio", s.footer),
            this.applyColors(".icon_chemistry_first_owner", s.name)),
            DOMKit.addClass(this.__playStyle, "chemstyle" + n),
            s && this.applyColors(".ut-item-view--stats", s.footer);
            var l = a.isGK()
              , c = services.Localization;
            if (this.__statLabel1.textContent = c.localize("cards.cardfront." + (l ? "divingAbbr" : "paceAbbr"), [], {
                gender: a.gender
            }),
            this.__statLabel2.textContent = c.localize("cards.cardfront." + (l ? "handlingAbbr" : "shootingAbbr"), [], {
                gender: a.gender
            }),
            this.__statLabel3.textContent = c.localize("cards.cardfront." + (l ? "kickAbbr" : "passingAbbr"), [], {
                gender: a.gender
            }),
            this.__statLabel4.textContent = c.localize("cards.cardfront." + (l ? "reflexAbbr" : "dribblingAbbr"), [], {
                gender: a.gender
            }),
            this.__statLabel5.textContent = c.localize("cards.cardfront." + (l ? "speedAbbr" : "defendingAbbr"), [], {
                gender: a.gender
            }),
            this.__statLabel6.textContent = c.localize("cards.cardfront." + (l ? "positionAbbr" : "headingAbbr"), [], {
                gender: a.gender
            }),
            a.isValid()) {
                var u = repositories.PlayStyle.getPlayStyleBonusById(n, a.isGK());
                this.applyChevrons(u)
            }
            s && (this.applyColors(".ut-item-view--style", s.footer),
            this._barSet1.applyStatBarColors(s.attributeValues),
            this._barSet2.applyStatBarColors(s.attributeValues),
            this._barSet3.applyStatBarColors(s.attributeValues),
            this._barSet4.applyStatBarColors(s.attributeValues),
            this._barSet5.applyStatBarColors(s.attributeValues),
            this._barSet6.applyStatBarColors(s.attributeValues));
            var p = null === (o = a.getPlayerKeySubAttributes()) || void 0 === o ? void 0 : o.slice(0, 3)
              , d = [this.__keyAttVal1, this.__keyAttVal2, this.__keyAttVal3]
              , h = [this.__keyAttLabel1, this.__keyAttLabel2, this.__keyAttLabel3];
            p && p.forEach(function(t, e) {
                if (t.highlight && DOMKit.addClass(d[e], "ut-item-view--strength-key-attribute"),
                d[e].textContent = t.value().toString(),
                h[e].textContent = c.localize("item.subattribute." + ItemSubAttribute[t.type]),
                t.type === ItemSubAttribute.weakfoot || t.type === ItemSubAttribute.skillmove) {
                    var i = new EAImageView;
                    i.src = "images/star.png",
                    i.addClass("ut-skill-star"),
                    d[e].prepend(i.getRootElement())
                }
            });
            var y = a.getPlayStyles()
              , _ = [this.__traitLabel1, this.__traitLabel2, this.__traitLabel3]
              , m = [this.__traitIcon1, this.__traitIcon2, this.__traitIcon3];
            if (m.forEach(function(t) {
                return t.className = ""
            }),
            _.forEach(function(t) {
                return t.textContent = ""
            }),
            y.slice(0, 3).forEach(function(t, e) {
                var i = t.traitId
                  , r = "extendedPlayerInfo.signatureAbility.name." + i
                  , o = c.localize(r, [], {
                    gender: a.gender
                })
                  , n = t.isIcon ? "icon" : "base";
                _[e].textContent = o,
                _[e].className = "ut-item-row-label ut-item-row-label--left\n\t\t\t\t\t" + (t.isIcon ? "plus" : ""),
                m[e].className = "icon_" + n + "trait" + i
            }),
            3 < y.length) {
                var T = (y.length - 2).toString()
                  , f = services.Localization.localize("extendedPlayerInfo.signatureAbility.more", [T]);
                this.__traitLabel3.textContent = f,
                this.__traitIcon3.className = ""
            }
            s && (this.applyColors(".ut-item-view--strength", s.name),
            this.applyColors(".ut-item-view--traits", s.name),
            this.applyColors(".ut-item-view--positions-header", s.name))
        }
    }
    ,
    UTSmallPlayerItemView.prototype.renderPosition = function(e, t) {
        g.prototype.renderPosition.call(this, e, t);
        var i = e.preferredPosition;
        t && t.inPossiblePosition && (i = t.generalPosition);
        var r = e.possiblePositions.filter(function(t) {
            return t !== i
        }).map(function(t) {
            return UTLocalizationUtil.positionIdToName(t, services.Localization, e.gender)
        });
        0 === r.length ? this.__strPlayerOtherPositions.textContent = "" : this.__strPlayerOtherPositions.textContent = ", " + r.join(",")
    }
    ,
    UTSmallPlayerItemView.prototype.resetRender = function() {
        g.prototype.resetRender.call(this);
        DOMKit.removeClass(this.__playStyle, (this.__playStyle.className.match(/(^|\s)chemstyle\S+/g) || []).join(" "))
    }
    ,
    UTSmallPlayerItemView.prototype.getAssetDimensions = function(t, e) {
        e = e || !1;
        var i = 0
          , r = 0
          , o = 0
          , n = 0;
        return t === ItemAssetType.MAIN ? (i = e ? 82 : 50,
        r = e ? 114 : 50,
        o = e ? 0 : 24,
        n = e ? 6 : 22) : t === ItemAssetType.RANK ? (r = i = 6,
        o = 21,
        n = 20) : t === ItemAssetType.BADGE ? (r = i = 16,
        o = 52,
        n = 77) : t === ItemAssetType.LEAGUE ? (r = i = 16,
        o = 33,
        n = 77) : t === ItemAssetType.FLAG ? (i = 16,
        r = 10,
        o = 14,
        n = 80) : t === ItemAssetType.ANIMATION || t === ItemAssetType.BG_FRAME || t === ItemAssetType.EMBELLISHMENT || t === ItemAssetType.SHELL || t === ItemAssetType.VFX || t === ItemAssetType.SFX ? (i = 82,
        r = 114) : t === ItemAssetType.ICON_TRAIT ? (r = i = 14,
        n = 72,
        o = 2) : t === ItemAssetType.ICON_TRAIT_EXTENDED && (r = i = 14,
        n = 66,
        o = 2),
        new UTItemCanvasDTO({
            dynamic: e,
            height: r,
            width: i,
            xPos: o,
            yPos: n
        })
    }
    ,
    UTSmallPlayerItemView.prototype.setSkillMoves = function(t) {
        this.__skillMovesLabel.textContent = services.Localization.localize("cards.cardfront.skillMovesAbbr"),
        this.__skillMovesRating.textContent = t.toString()
    }
    ,
    UTSmallPlayerItemView.prototype.setWeakFoot = function(t, e) {
        var i = services.Localization.localize("cards.cardfront.weakFootAbbr")
          , r = t ? services.Localization.localize("cards.cardfront.weakFootRightAbbr") : services.Localization.localize("cards.cardfront.weakFootLeftAbbr");
        this.__weakFootLabel.textContent = i + " (" + r + ")",
        this.__weakFootRating.textContent = e.toString()
    }
    ,
    UTSmallPlayerItemView
}(UTPlayerItemView);
UTSmallPlayerItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("player"),
        t.classList.add("item"),
        this._canvas = new UTItemPlayerCanvasView,
        this._canvas.width = "97",
        this._canvas.height = "114",
        t.appendChild(this._canvas.getRootElement());
        var e = document.createElement("div");
        e.classList.add("ut-item-loader"),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("statusOverlay"),
        t.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("ut-item-player-status--restricted"),
        r.classList.add("ut-item-player-status"),
        t.appendChild(r),
        this.__mainViewDiv = document.createElement("div"),
        this.__mainViewDiv.classList.add("ut-item-view--main"),
        this.__mainViewDiv.classList.add("ut-item-view");
        var o = document.createElement("div");
        o.classList.add("playerOverview"),
        this.__playerRating = document.createElement("div"),
        this.__playerRating.classList.add("rating"),
        o.appendChild(this.__playerRating),
        this.__playerPosition = document.createElement("div"),
        this.__playerPosition.classList.add("position"),
        o.appendChild(this.__playerPosition),
        this.__playStyle = document.createElement("div"),
        this.__playStyle.classList.add("playStyle"),
        o.appendChild(this.__playStyle),
        this.__firstOwner = document.createElement("div"),
        this.__firstOwner.classList.add("icon_chemistry_first_owner"),
        this.__firstOwner.classList.add("fut_icon"),
        o.appendChild(this.__firstOwner),
        this.__mainViewDiv.appendChild(o),
        t.appendChild(this.__mainViewDiv),
        this.__statsViewDiv = document.createElement("div"),
        this.__statsViewDiv.classList.add("ut-item-view--stats"),
        this.__statsViewDiv.classList.add("ut-item-view"),
        this.__statsRowMarketAvg = document.createElement("div"),
        this.__statsRowMarketAvg.classList.add("ut-item-row"),
        this.__playerMarketAvgLabel = document.createElement("span"),
        this.__playerMarketAvgLabel.classList.add("ut-item-row-label--left"),
        this.__playerMarketAvgLabel.classList.add("ut-item-row-label"),
        this.__statsRowMarketAvg.appendChild(this.__playerMarketAvgLabel),
        this.__playerMarketAvg = document.createElement("span"),
        this.__playerMarketAvg.classList.add("ut-item-row-label--right"),
        this.__playerMarketAvg.classList.add("ut-item-row-label"),
        this.__statsRowMarketAvg.appendChild(this.__playerMarketAvg),
        this.__statsViewDiv.appendChild(this.__statsRowMarketAvg),
        this.__skillMoves = document.createElement("div"),
        this.__skillMoves.classList.add("ut-item-row"),
        this.__skillMovesLabel = document.createElement("span"),
        this.__skillMovesLabel.classList.add("ut-item-row-label--left"),
        this.__skillMovesLabel.classList.add("ut-item-row-label"),
        this.__skillMoves.appendChild(this.__skillMovesLabel);
        var n = document.createElement("div");
        n.classList.add("ut-skill-star"),
        this.__skillMoves.appendChild(n),
        this.__skillMovesRating = document.createElement("span"),
        this.__skillMoves.appendChild(this.__skillMovesRating),
        this.__statsViewDiv.appendChild(this.__skillMoves),
        this.__weakFoot = document.createElement("div"),
        this.__weakFoot.classList.add("ut-item-row"),
        this.__weakFootLabel = document.createElement("span"),
        this.__weakFootLabel.classList.add("ut-item-row-label--left"),
        this.__weakFootLabel.classList.add("ut-item-row-label"),
        this.__weakFoot.appendChild(this.__weakFootLabel);
        var a = document.createElement("div");
        a.classList.add("ut-skill-star"),
        this.__weakFoot.appendChild(a),
        this.__weakFootRating = document.createElement("span"),
        this.__weakFoot.appendChild(this.__weakFootRating),
        this.__statsViewDiv.appendChild(this.__weakFoot),
        t.appendChild(this.__statsViewDiv),
        this.__styleViewDiv = document.createElement("div"),
        this.__styleViewDiv.classList.add("ut-item-view--style"),
        this.__styleViewDiv.classList.add("ut-item-view");
        var s = document.createElement("div");
        s.classList.add("ut-item-row"),
        s.classList.add("statCellRow");
        var l = document.createElement("div");
        l.classList.add("statCell"),
        this._barSet1 = new UTItemStatBarsView,
        l.appendChild(this._barSet1.getRootElement()),
        this.__statLabel1 = document.createElement("span"),
        this.__statLabel1.classList.add("statLabel"),
        l.appendChild(this.__statLabel1),
        s.appendChild(l);
        var c = document.createElement("div");
        c.classList.add("statCell"),
        this._barSet4 = new UTItemStatBarsView,
        c.appendChild(this._barSet4.getRootElement()),
        this.__statLabel4 = document.createElement("span"),
        this.__statLabel4.classList.add("Dribbling"),
        this.__statLabel4.classList.add("statLabel"),
        c.appendChild(this.__statLabel4),
        s.appendChild(c),
        this.__styleViewDiv.appendChild(s);
        var u = document.createElement("div");
        u.classList.add("ut-item-row"),
        u.classList.add("statCellRow");
        var p = document.createElement("div");
        p.classList.add("statCell"),
        this._barSet2 = new UTItemStatBarsView,
        p.appendChild(this._barSet2.getRootElement()),
        this.__statLabel2 = document.createElement("span"),
        this.__statLabel2.classList.add("Shooting"),
        this.__statLabel2.classList.add("statLabel"),
        p.appendChild(this.__statLabel2),
        u.appendChild(p);
        var d = document.createElement("div");
        d.classList.add("statCell"),
        this._barSet5 = new UTItemStatBarsView,
        d.appendChild(this._barSet5.getRootElement()),
        this.__statLabel5 = document.createElement("span"),
        this.__statLabel5.classList.add("Defending"),
        this.__statLabel5.classList.add("statLabel"),
        d.appendChild(this.__statLabel5),
        u.appendChild(d),
        this.__styleViewDiv.appendChild(u);
        var h = document.createElement("div");
        h.classList.add("ut-item-row"),
        h.classList.add("statCellRow");
        var y = document.createElement("div");
        y.classList.add("statCell"),
        this._barSet3 = new UTItemStatBarsView,
        y.appendChild(this._barSet3.getRootElement()),
        this.__statLabel3 = document.createElement("span"),
        this.__statLabel3.classList.add("Passing"),
        this.__statLabel3.classList.add("statLabel"),
        y.appendChild(this.__statLabel3),
        h.appendChild(y);
        var _ = document.createElement("div");
        _.classList.add("statCell"),
        this._barSet6 = new UTItemStatBarsView,
        _.appendChild(this._barSet6.getRootElement()),
        this.__statLabel6 = document.createElement("span"),
        this.__statLabel6.classList.add("Header"),
        this.__statLabel6.classList.add("statLabel"),
        _.appendChild(this.__statLabel6),
        h.appendChild(_),
        this.__styleViewDiv.appendChild(h),
        t.appendChild(this.__styleViewDiv),
        this.__bioViewDiv = document.createElement("div"),
        this.__bioViewDiv.classList.add("ut-item-view--bio"),
        this.__bioViewDiv.classList.add("ut-item-view"),
        this.__positionHeader = document.createElement("div"),
        this.__positionHeader.classList.add("ut-item-view--positions-header"),
        this.__strPlayerPosition = document.createElement("span"),
        this.__strPlayerPosition.classList.add("currentPosition"),
        this.__positionHeader.appendChild(this.__strPlayerPosition),
        this.__strPlayerOtherPositions = document.createElement("span"),
        this.__strPlayerOtherPositions.classList.add("otherPositions"),
        this.__positionHeader.appendChild(this.__strPlayerOtherPositions),
        this.__bioViewDiv.appendChild(this.__positionHeader);
        var m = document.createElement("div");
        m.classList.add("ut-item-row"),
        this.__bioNation = document.createElement("span"),
        this.__bioNation.classList.add("ut-item-row-label--left"),
        this.__bioNation.classList.add("ut-item-row-label"),
        m.appendChild(this.__bioNation);
        var T = document.createElement("span");
        T.classList.add("ut-item-row-label--center"),
        T.classList.add("ut-item-row-label"),
        this._bioNationPoints = new UTSquadSlotChemistryPointsView,
        this._bioNationPoints.getRootElement().classList.add("ut-player-item-bio-points"),
        T.appendChild(this._bioNationPoints.getRootElement()),
        m.appendChild(T);
        var f = document.createElement("span");
        f.classList.add("ut-item-row-label--right"),
        f.classList.add("ut-item-row-label"),
        this._bioFlagImage = new EAImageView,
        f.appendChild(this._bioFlagImage.getRootElement()),
        m.appendChild(f),
        this.__bioViewDiv.appendChild(m);
        var g = document.createElement("div");
        g.classList.add("ut-item-row"),
        this.__bioLeague = document.createElement("span"),
        this.__bioLeague.classList.add("ut-item-row-label--left"),
        this.__bioLeague.classList.add("ut-item-row-label"),
        g.appendChild(this.__bioLeague);
        var E = document.createElement("span");
        E.classList.add("ut-item-row-label--center"),
        E.classList.add("ut-item-row-label"),
        this._bioLeaguePoints = new UTSquadSlotChemistryPointsView,
        this._bioLeaguePoints.getRootElement().classList.add("ut-player-item-bio-points"),
        E.appendChild(this._bioLeaguePoints.getRootElement()),
        g.appendChild(E);
        var S = document.createElement("span");
        S.classList.add("ut-item-row-label--right"),
        S.classList.add("ut-item-row-label"),
        this._bioLeagueImage = new EAImageView,
        S.appendChild(this._bioLeagueImage.getRootElement()),
        g.appendChild(S),
        this.__bioViewDiv.appendChild(g);
        var v = document.createElement("div");
        v.classList.add("ut-item-row"),
        this.__bioClub = document.createElement("span"),
        this.__bioClub.classList.add("ut-item-row-label--left"),
        this.__bioClub.classList.add("ut-item-row-label"),
        v.appendChild(this.__bioClub);
        var b = document.createElement("span");
        b.classList.add("ut-item-row-label--center"),
        b.classList.add("ut-item-row-label"),
        this._bioClubPoints = new UTSquadSlotChemistryPointsView,
        this._bioClubPoints.getRootElement().classList.add("ut-player-item-bio-points"),
        b.appendChild(this._bioClubPoints.getRootElement()),
        v.appendChild(b);
        var C = document.createElement("span");
        C.classList.add("ut-item-row-label--right"),
        C.classList.add("ut-item-row-label"),
        this._bioBadgeImage = new EAImageView,
        C.appendChild(this._bioBadgeImage.getRootElement()),
        v.appendChild(C),
        this.__bioViewDiv.appendChild(v),
        t.appendChild(this.__bioViewDiv),
        this.__strengthViewDiv = document.createElement("div"),
        this.__strengthViewDiv.classList.add("ut-item-view--strength"),
        this.__strengthViewDiv.classList.add("ut-item-view"),
        this.__keyAtt1 = document.createElement("div"),
        this.__keyAtt1.classList.add("ut-item-row"),
        this.__keyAttLabel1 = document.createElement("span"),
        this.__keyAttLabel1.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel1.classList.add("ut-item-row-label"),
        this.__keyAtt1.appendChild(this.__keyAttLabel1),
        this.__keyAttVal1 = document.createElement("span"),
        this.__keyAttVal1.classList.add("ut-item-row-label--right"),
        this.__keyAttVal1.classList.add("ut-item-row-label"),
        this.__keyAtt1.appendChild(this.__keyAttVal1),
        this.__strengthViewDiv.appendChild(this.__keyAtt1),
        this.__keyAtt2 = document.createElement("div"),
        this.__keyAtt2.classList.add("ut-item-row"),
        this.__keyAttLabel2 = document.createElement("span"),
        this.__keyAttLabel2.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel2.classList.add("ut-item-row-label"),
        this.__keyAtt2.appendChild(this.__keyAttLabel2),
        this.__keyAttVal2 = document.createElement("span"),
        this.__keyAttVal2.classList.add("ut-item-row-label--right"),
        this.__keyAttVal2.classList.add("ut-item-row-label"),
        this.__keyAtt2.appendChild(this.__keyAttVal2),
        this.__strengthViewDiv.appendChild(this.__keyAtt2),
        this.__keyAtt3 = document.createElement("div"),
        this.__keyAtt3.classList.add("ut-item-row"),
        this.__keyAttLabel3 = document.createElement("span"),
        this.__keyAttLabel3.classList.add("ut-item-row-label--left"),
        this.__keyAttLabel3.classList.add("ut-item-row-label"),
        this.__keyAtt3.appendChild(this.__keyAttLabel3),
        this.__keyAttVal3 = document.createElement("span"),
        this.__keyAttVal3.classList.add("ut-item-row-label--right"),
        this.__keyAttVal3.classList.add("ut-item-row-label"),
        this.__keyAtt3.appendChild(this.__keyAttVal3),
        this.__strengthViewDiv.appendChild(this.__keyAtt3),
        t.appendChild(this.__strengthViewDiv),
        this.__traitsViewDiv = document.createElement("div"),
        this.__traitsViewDiv.classList.add("ut-item-view--traits"),
        this.__traitsViewDiv.classList.add("ut-item-view"),
        this.__emptyTraits = document.createElement("div"),
        this.__emptyTraits.classList.add("ut-item-view--empty-message"),
        this.__traitsViewDiv.appendChild(this.__emptyTraits),
        this.__trait1 = document.createElement("div"),
        this.__trait1.classList.add("ut-item-row"),
        this.__traitLabel1 = document.createElement("span"),
        this.__traitLabel1.classList.add("ut-item-row-label--left"),
        this.__traitLabel1.classList.add("ut-item-row-label"),
        this.__trait1.appendChild(this.__traitLabel1);
        var I = document.createElement("span");
        I.classList.add("ut-item-row-label--right"),
        I.classList.add("ut-item-row-label"),
        this.__traitIcon1 = document.createElement("span"),
        I.appendChild(this.__traitIcon1),
        this.__trait1.appendChild(I),
        this.__traitsViewDiv.appendChild(this.__trait1),
        this.__trait2 = document.createElement("div"),
        this.__trait2.classList.add("ut-item-row"),
        this.__traitLabel2 = document.createElement("span"),
        this.__traitLabel2.classList.add("ut-item-row-label--left"),
        this.__traitLabel2.classList.add("ut-item-row-label"),
        this.__trait2.appendChild(this.__traitLabel2);
        var A = document.createElement("span");
        A.classList.add("ut-item-row-label--right"),
        A.classList.add("ut-item-row-label"),
        this.__traitIcon2 = document.createElement("span"),
        A.appendChild(this.__traitIcon2),
        this.__trait2.appendChild(A),
        this.__traitsViewDiv.appendChild(this.__trait2),
        this.__trait3 = document.createElement("div"),
        this.__trait3.classList.add("ut-item-row"),
        this.__traitLabel3 = document.createElement("span"),
        this.__traitLabel3.classList.add("ut-item-row-label--left"),
        this.__traitLabel3.classList.add("ut-item-row-label"),
        this.__trait3.appendChild(this.__traitLabel3);
        var U = document.createElement("span");
        U.classList.add("ut-item-row-label--right"),
        U.classList.add("ut-item-row-label"),
        this.__traitIcon3 = document.createElement("span"),
        U.appendChild(this.__traitIcon3),
        this.__trait3.appendChild(U),
        this.__traitsViewDiv.appendChild(this.__trait3),
        this.__trait4 = document.createElement("div"),
        this.__trait4.classList.add("ut-item-row"),
        this.__traitLabel4 = document.createElement("span"),
        this.__traitLabel4.classList.add("ut-item-row-label--left"),
        this.__traitLabel4.classList.add("ut-item-row-label"),
        this.__trait4.appendChild(this.__traitLabel4);
        var w = document.createElement("span");
        w.classList.add("ut-item-row-label--right"),
        w.classList.add("ut-item-row-label"),
        this.__traitIcon4 = document.createElement("span"),
        w.appendChild(this.__traitIcon4),
        this.__trait4.appendChild(w),
        this.__traitsViewDiv.appendChild(this.__trait4),
        t.appendChild(this.__traitsViewDiv),
        this._bottomRightStatusIndicator = new UTItemPlayerStateIndicatorView,
        t.appendChild(this._bottomRightStatusIndicator.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallPlayerItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._canvas.destroy(),
    this.__mainViewDiv = null,
    this.__playerRating = null,
    this.__playerPosition = null,
    this.__playStyle = null,
    this.__firstOwner = null,
    this.__statsViewDiv = null,
    this.__statsRowMarketAvg = null,
    this.__playerMarketAvgLabel = null,
    this.__playerMarketAvg = null,
    this.__skillMoves = null,
    this.__skillMovesLabel = null,
    this.__skillMovesRating = null,
    this.__weakFoot = null,
    this.__weakFootLabel = null,
    this.__weakFootRating = null,
    this.__styleViewDiv = null,
    this._barSet1.destroy(),
    this.__statLabel1 = null,
    this._barSet4.destroy(),
    this.__statLabel4 = null,
    this._barSet2.destroy(),
    this.__statLabel2 = null,
    this._barSet5.destroy(),
    this.__statLabel5 = null,
    this._barSet3.destroy(),
    this.__statLabel3 = null,
    this._barSet6.destroy(),
    this.__statLabel6 = null,
    this.__bioViewDiv = null,
    this.__positionHeader = null,
    this.__strPlayerPosition = null,
    this.__strPlayerOtherPositions = null,
    this.__bioNation = null,
    this._bioNationPoints.destroy(),
    this._bioFlagImage.destroy(),
    this.__bioLeague = null,
    this._bioLeaguePoints.destroy(),
    this._bioLeagueImage.destroy(),
    this.__bioClub = null,
    this._bioClubPoints.destroy(),
    this._bioBadgeImage.destroy(),
    this.__strengthViewDiv = null,
    this.__keyAtt1 = null,
    this.__keyAttLabel1 = null,
    this.__keyAttVal1 = null,
    this.__keyAtt2 = null,
    this.__keyAttLabel2 = null,
    this.__keyAttVal2 = null,
    this.__keyAtt3 = null,
    this.__keyAttLabel3 = null,
    this.__keyAttVal3 = null,
    this.__traitsViewDiv = null,
    this.__emptyTraits = null,
    this.__trait1 = null,
    this.__traitLabel1 = null,
    this.__traitIcon1 = null,
    this.__trait2 = null,
    this.__traitLabel2 = null,
    this.__traitIcon2 = null,
    this.__trait3 = null,
    this.__traitLabel3 = null,
    this.__traitIcon3 = null,
    this.__trait4 = null,
    this.__traitLabel4 = null,
    this.__traitIcon4 = null,
    this._bottomRightStatusIndicator.destroy()
}
,
UTSmallPlayerItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallStadiumItemView = function(r) {
    function UTSmallStadiumItemView() {
        return r.call(this) || this
    }
    return __extends(UTSmallStadiumItemView, r),
    UTSmallStadiumItemView.prototype.renderItem = function(t, e) {
        r.prototype.renderItem.call(this, t, e);
        var i = t.isSpecial() ? null == e ? void 0 : e.getGuid() : void 0;
        this.setShell(t, ItemViewSize.SMALL, i),
        this.renderStadiumRestrictions(t)
    }
    ,
    UTSmallStadiumItemView
}(UTStadiumItemView);
UTSmallStadiumItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("stadium"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement());
        var i = document.createElement("div");
        i.classList.add("stadium"),
        i.classList.add("iconClub"),
        t.appendChild(i),
        this.__restrictedIcons = document.createElement("div"),
        this.__restrictedIcons.classList.add("restricted"),
        this.__restrictedBanner = document.createElement("div"),
        this.__restrictedBanner.classList.add("banner"),
        this.__restrictedBanner.classList.add("iconClub"),
        this.__restrictedIcons.appendChild(this.__restrictedBanner),
        this.__restrictedTifo = document.createElement("div"),
        this.__restrictedTifo.classList.add("tifo"),
        this.__restrictedTifo.classList.add("iconClub"),
        this.__restrictedIcons.appendChild(this.__restrictedTifo),
        t.appendChild(this.__restrictedIcons),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallStadiumItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__restrictedIcons = null,
    this.__restrictedBanner = null,
    this.__restrictedTifo = null
}
,
UTSmallStadiumItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallVanityItemView = function(s) {
    function UTSmallVanityItemView() {
        return s.call(this) || this
    }
    return __extends(UTSmallVanityItemView, s),
    UTSmallVanityItemView.prototype.renderItem = function(e, t) {
        var i = this;
        s.prototype.renderItem.call(this, e, t);
        var r = t.getLargeColorMap(e.getTier())
          , o = e.isSpecial() ? null == t ? void 0 : t.getGuid() : void 0;
        if (this._mainImage) {
            var n = this._mainImage
              , a = "";
            a = e.authenticity && (e.subtype === ItemSubType.VANITY_STADIUM_THEME || e.isAudioItem()) ? (n.addClass("authentic"),
            AssetLocationUtils.getBadgeImageUri(e.getItemAssetId(), enums.UIThemeVariation.LIGHT)) : AssetLocationUtils.getVanityImageUri(e.subtype, e.getItemAssetId(), ItemViewSize.SMALL),
            n.onerror = function(t) {
                return i.handleMainImageError(e, e.authenticity && e.subtype !== ItemSubType.VANITY_STADIUM_THEME, ItemViewSize.SMALL)
            }
            ,
            n.src = a
        }
        this.setShell(e, ItemViewSize.SMALL, o),
        r && this.applyColors(".vanity.iconClub", r.playStyleIcon)
    }
    ,
    UTSmallVanityItemView
}(UTVanityItemView);
UTSmallVanityItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("small"),
        t.classList.add("vanity"),
        t.classList.add("item");
        var e = document.createElement("span");
        e.classList.add("statusOverlay"),
        t.appendChild(e),
        this._mainImage = new EAImageView,
        this._mainImage.getRootElement().classList.add("photo"),
        t.appendChild(this._mainImage.getRootElement()),
        this.__icon = document.createElement("div"),
        this.__icon.classList.add("vanity"),
        this.__icon.classList.add("iconClub"),
        t.appendChild(this.__icon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallVanityItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._mainImage.destroy(),
    this.__icon = null
}
,
UTSmallVanityItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSmallTacticsPlayerItemView = function(t) {
    function UTSmallTacticsPlayerItemView() {
        return t.call(this) || this
    }
    return __extends(UTSmallTacticsPlayerItemView, t),
    UTSmallTacticsPlayerItemView.prototype.renderItem = function(t, e, i) {
        var r = services.Localization;
        this.__oopIcon.style.display = "none",
        this.__name.textContent = t.getStaticData().name,
        this.__variation.textContent = r.localize("item variation"),
        this.__position.textContent = r.localize("extendedPlayerInfo.positions.position" + i.generalPosition.toString())
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.setOutOfPosition = function(t) {
        DOMKit.toggleDisplayStyle(this.__oopIcon, t)
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.setRole = function(t, e, i, r) {
        var o = services.Localization;
        this.__roleType.textContent = "",
        this.__roleText.textContent = o.localize("tactics.roles.role" + t, [], {
            gender: r
        }),
        (e || i) && (this.__roleType.textContent = i ? "++" : "+")
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.setVariation = function(t, e) {
        var i = services.Localization;
        this.__variation.textContent = i.localize("tactics.roles.variation" + t, [], {
            gender: e
        })
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.resetRender = function() {
        this.getRootElement().removeAttribute("style")
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.renderShell = function(t, e) {}
    ,
    UTSmallTacticsPlayerItemView.prototype.renderAuctionState = function(t) {}
    ,
    UTSmallTacticsPlayerItemView.prototype.canRender = function(t) {
        return t.isPlayer()
    }
    ,
    UTSmallTacticsPlayerItemView.prototype.getAssetDimensions = function(t, e) {
        return new UTItemCanvasDTO({
            dynamic: e,
            height: 0,
            width: 0,
            xPos: 0,
            yPos: 0
        })
    }
    ,
    UTSmallTacticsPlayerItemView
}(UTItemView);
UTSmallTacticsPlayerItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("tactics"),
        t.classList.add("small"),
        t.classList.add("item"),
        this.__name = document.createElement("div"),
        this.__name.classList.add("name"),
        this.__name.classList.add("item-tactics-row"),
        t.appendChild(this.__name);
        var e = document.createElement("div");
        e.classList.add("role"),
        e.classList.add("item-tactics-row"),
        this.__roleText = document.createElement("span"),
        this.__roleText.classList.add("role-label"),
        e.appendChild(this.__roleText),
        this.__roleType = document.createElement("span"),
        this.__roleType.classList.add("role-type"),
        e.appendChild(this.__roleType),
        t.appendChild(e),
        this.__variation = document.createElement("div"),
        this.__variation.classList.add("variation"),
        this.__variation.classList.add("item-tactics-row"),
        t.appendChild(this.__variation),
        this.__position = document.createElement("div"),
        this.__position.classList.add("position"),
        this.__position.classList.add("item-tactics-row"),
        t.appendChild(this.__position),
        this.__oopIcon = document.createElement("div"),
        this.__oopIcon.classList.add("icon-oop"),
        t.appendChild(this.__oopIcon),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSmallTacticsPlayerItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__name = null,
    this.__roleText = null,
    this.__roleType = null,
    this.__variation = null,
    this.__position = null,
    this.__oopIcon = null
}
,
UTSmallTacticsPlayerItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemViewFactory = function(t) {
    function UTItemViewFactory() {
        return t.call(this) || this
    }
    return __extends(UTItemViewFactory, t),
    UTItemViewFactory.prototype.createLargeItem = function(t) {
        var e;
        switch (t.type) {
        case ItemType.PLAYER:
            e = t.isCustomBrick() ? new UTLargeCustomBrickItemView : new UTLargePlayerItemView;
            break;
        case ItemType.MANAGER:
            e = new UTLargeManagerItemView;
            break;
        case ItemType.BADGE:
            e = new UTLargeBadgeItemView;
            break;
        case ItemType.KIT:
            e = new UTLargeKitItemView;
            break;
        case ItemType.BALL:
            e = new UTLargeBallItemView;
            break;
        case ItemType.STADIUM:
            e = new UTLargeStadiumItemView;
            break;
        case ItemType.TRAINING:
            e = t.isStyleModifier() ? new UTLargeChemistryStyleItemView : new UTLargeConsumableItemView;
            break;
        case ItemType.HEALTH:
            e = new UTLargeConsumableItemView;
            break;
        case ItemType.MISC:
            e = new UTLargeMiscItemView;
            break;
        case ItemType.VANITY:
            e = new UTLargeVanityItemView;
            break;
        default:
            e = new UTLargePlayerItemView
        }
        return e
    }
    ,
    UTItemViewFactory.prototype.createSmallItem = function(t) {
        var e;
        switch (DebugUtils.Assert(t instanceof UTItemEntity, "Expected an item entity"),
        t.type) {
        case ItemType.PLAYER:
            e = t.isCustomBrick() ? new UTSmallCustomBrickItemView : new UTSmallPlayerItemView;
            break;
        case ItemType.MANAGER:
            e = new UTSmallManagerItemView;
            break;
        case ItemType.BADGE:
            e = new UTSmallBadgeItemView;
            break;
        case ItemType.KIT:
            e = new UTSmallKitItemView;
            break;
        case ItemType.BALL:
            e = new UTSmallBallItemView;
            break;
        case ItemType.STADIUM:
            e = new UTSmallStadiumItemView;
            break;
        case ItemType.TRAINING:
            e = t.isStyleModifier() ? new UTSmallChemistryStyleItemView : new UTSmallConsumableItemView;
            break;
        case ItemType.HEALTH:
            e = new UTSmallConsumableItemView;
            break;
        case ItemType.MISC:
            e = new UTSmallMiscItemView;
            break;
        case ItemType.VANITY:
            e = new UTSmallVanityItemView;
            break;
        default:
            e = new UTSmallPlayerItemView
        }
        return e
    }
    ,
    UTItemViewFactory.prototype.createTacticalItem = function(t) {
        return DebugUtils.Assert(t instanceof UTItemEntity, "Expected an item entity"),
        new UTSmallTacticsPlayerItemView
    }
    ,
    UTItemViewFactory
}(EAObject);
NamespaceManager.Register("factories"),
JSUtils.isObject(factories) && (factories.ItemView = new UTItemViewFactory);
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTListTagView = function(e) {
    function UTListTagView() {
        var t = e.call(this) || this;
        return t.text = "",
        t
    }
    return __extends(UTListTagView, e),
    UTListTagView.prototype.render = function() {
        this.__tagName.textContent = this.text
    }
    ,
    UTListTagView.prototype.setString = function(t) {
        this.text = t
    }
    ,
    UTListTagView.prototype.getString = function() {
        return this.text
    }
    ,
    UTListTagView
}(EAView)
  , UTListActiveTagView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTListActiveTagView() {
        var t = e.call(this) || this;
        return t.iconClass = "",
        t
    }
    return __extends(UTListActiveTagView, e),
    UTListActiveTagView.prototype.setIconClass = function(t) {
        var e = "icon_" + t;
        DOMKit.removeClass(this.__activeTagIcon, this.iconClass),
        DOMKit.addClass(this.__activeTagIcon, e),
        this.iconClass = e
    }
    ,
    UTListActiveTagView
}(UTListTagView));
UTListActiveTagView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-list-tag-view"),
        t.classList.add("ut-list-active-tag-view");
        var e = document.createElement("div");
        e.classList.add("label-container"),
        this.__activeTagIcon = document.createElement("span"),
        this.__activeTagIcon.classList.add("fut_icon"),
        e.appendChild(this.__activeTagIcon),
        this.__tagName = document.createElement("span"),
        this.__tagName.classList.add("label"),
        e.appendChild(this.__tagName),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTListActiveTagView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__activeTagIcon = null,
    this.__tagName = null
}
,
UTListActiveTagView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTListChemistryTagView = function(r) {
    function UTListChemistryTagView() {
        return r.call(this) || this
    }
    return __extends(UTListChemistryTagView, r),
    UTListChemistryTagView.prototype.setChemistryImpactString = function(t, e) {
        var i = services.Localization.localize("common.fraction", [t.toString(), UTSquadEntity.TOTAL_MAX_CHEM.toString()]);
        e < 0 ? (this.setState("negative"),
        i = i + " " + e.toString()) : 0 < e ? (this.setState("positive"),
        i = i + " +" + e.toString()) : this.setState("neutral"),
        r.prototype.setString.call(this, i)
    }
    ,
    UTListChemistryTagView.prototype.setState = function(t) {
        this.removeClass("negative positive neutral"),
        this.addClass(t)
    }
    ,
    UTListChemistryTagView
}(UTListTagView);
UTListChemistryTagView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-list-tag-view"),
        t.classList.add("ut-list-chemistry-tag-view");
        var e = document.createElement("div");
        e.classList.add("label-container"),
        this.__tagName = document.createElement("span"),
        this.__tagName.classList.add("label"),
        e.appendChild(this.__tagName),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTListChemistryTagView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__tagName = null
}
,
UTListChemistryTagView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTHealingListDataView = function(i) {
    function UTHealingListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTHealingListDataView, i),
    UTHealingListDataView.prototype.render = function(t, e) {
        if (this.__label.textContent = this.loc.localize("listdata.injury", [UTLocalizationUtil.injuryTypeToName(t.injuryType, this.loc), t.injuryGames.toString()]),
        e && e.isInjuryHealing()) {
            var i = e.getStaticData()
              , r = t.injuryGames - (i.amount < 0 ? t.injuryGames : i.amount);
            this.__delta.textContent = " -" + r
        }
    }
    ,
    UTHealingListDataView.prototype.update = function(t, e) {}
    ,
    UTHealingListDataView
}(EAView);
UTHealingListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-healing-list-data-view"),
        this.__label = document.createElement("span"),
        t.appendChild(this.__label),
        this.__delta = document.createElement("span"),
        this.__delta.classList.add("statIncrease"),
        t.appendChild(this.__delta),
        this.__root = t,
        this._generated = !0
    }
}
,
UTHealingListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null,
    this.__delta = null
}
,
UTHealingListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTManagerLeagueListDataView = function(i) {
    function UTManagerLeagueListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTManagerLeagueListDataView, i),
    UTManagerLeagueListDataView.prototype.render = function(t, e) {
        var i = UTLocalizationUtil.leagueIdToName(t.leagueId, this.loc);
        if (this.__label.textContent = this.loc.localize("listdata.change", [i]),
        e && e.isManagerLeagueModifier()) {
            var r = UTLocalizationUtil.leagueIdToName(e.getStaticData().amount, this.loc);
            this.__delta.textContent = " " + r
        }
    }
    ,
    UTManagerLeagueListDataView.prototype.update = function(t) {}
    ,
    UTManagerLeagueListDataView
}(EAView);
UTManagerLeagueListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-manager-league-list-data-view"),
        this.__label = document.createElement("span"),
        t.appendChild(this.__label),
        this.__delta = document.createElement("span"),
        this.__delta.classList.add("statIncrease"),
        t.appendChild(this.__delta),
        this.__root = t,
        this._generated = !0
    }
}
,
UTManagerLeagueListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null,
    this.__delta = null
}
,
UTManagerLeagueListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerPositionListDataView = function(i) {
    function UTPlayerPositionListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e.squadRepo = t.squadRepo,
        e
    }
    return __extends(UTPlayerPositionListDataView, i),
    UTPlayerPositionListDataView.prototype.render = function(t, e) {
        var i = this.loc.localize("extendedPlayerInfo.positions.position" + t.preferredPosition, [], {
            gender: t.gender
        });
        this.__label.textContent = this.loc.localize("listdata.change", [i])
    }
    ,
    UTPlayerPositionListDataView.prototype.update = function(t) {}
    ,
    UTPlayerPositionListDataView
}(EAView);
UTPlayerPositionListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-player-position-list-data-view"),
        this.__label = document.createElement("span"),
        t.appendChild(this.__label),
        this.__delta = document.createElement("span"),
        this.__delta.classList.add("statIncrease"),
        t.appendChild(this.__delta),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerPositionListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null,
    this.__delta = null
}
,
UTPlayerPositionListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerStatsListDataView = function(i) {
    function UTPlayerStatsListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTPlayerStatsListDataView, i),
    UTPlayerStatsListDataView.prototype.render = function(o, t, e) {
        var n = this
          , i = o.getAttributes()
          , a = DOMKit.findElements(this.getRootElement(), ".label")
          , s = DOMKit.findElements(this.getRootElement(), ".value")
          , l = o.isGK() ? GK_STAT_NAMES : PLAYER_STAT_NAMES;
        if (i.forEach(function(t, e) {
            var i = a[e]
              , r = s[e];
            o.isValid() ? (i.innerHTML = n.loc.localize(l[e], [], {
                gender: o.gender
            }),
            r.innerHTML = t.toString()) : (i.innerHTML = "",
            r.innerHTML = ""),
            DOMKit.removeClass(i, "statIncrease statDecrease"),
            DOMKit.removeClass(r, "statIncrease statDecrease")
        }),
        t && t.isValid() && t.isPlayer() && o.isPlayer() && t.isGK() === o.isGK()) {
            var c = t.getAttributes();
            i.forEach(function(t, e) {
                var i = c[e];
                if (t !== i) {
                    var r = i < t ? "statIncrease" : "statDecrease";
                    DOMKit.addClass(a[e], r),
                    DOMKit.addClass(s[e], r)
                }
            })
        }
        JSUtils.isNumber(e) && 0 <= e && (this.__slotPosition.textContent = UTLocalizationUtil.positionIdToName(e, this.loc, o.gender),
        DOMKit.addClass(this.__slotPosition, this.getZoneClass(e)))
    }
    ,
    UTPlayerStatsListDataView.prototype.update = function(t) {}
    ,
    UTPlayerStatsListDataView.prototype.getZoneClass = function(e) {
        if (0 === e)
            return "zone-gk";
        var t = JSUtils.find(POSITION_ZONE_LOOKUP, function(t) {
            return e >= t.minPosId && e <= t.maxPosId
        });
        if (t)
            switch (t.value) {
            case ZONE_ATTACKER_VALUE:
                return "zone-att";
            case ZONE_DEFENDER_VALUE:
                return "zone-def";
            case ZONE_MIDFIELDER_VALUE:
                return "zone-mid"
            }
        return ""
    }
    ,
    UTPlayerStatsListDataView
}(EAView);
UTPlayerStatsListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("player-stats-data-component");
        var e = document.createElement("ul")
          , i = document.createElement("li")
          , r = document.createElement("span");
        r.classList.add("label"),
        i.appendChild(r);
        var o = document.createElement("span");
        o.classList.add("value"),
        i.appendChild(o),
        e.appendChild(i);
        var n = document.createElement("li")
          , a = document.createElement("span");
        a.classList.add("label"),
        n.appendChild(a);
        var s = document.createElement("span");
        s.classList.add("value"),
        n.appendChild(s),
        e.appendChild(n);
        var l = document.createElement("li")
          , c = document.createElement("span");
        c.classList.add("label"),
        l.appendChild(c);
        var u = document.createElement("span");
        u.classList.add("value"),
        l.appendChild(u),
        e.appendChild(l);
        var p = document.createElement("li")
          , d = document.createElement("span");
        d.classList.add("label"),
        p.appendChild(d);
        var h = document.createElement("span");
        h.classList.add("value"),
        p.appendChild(h),
        e.appendChild(p);
        var y = document.createElement("li")
          , _ = document.createElement("span");
        _.classList.add("label"),
        y.appendChild(_);
        var m = document.createElement("span");
        m.classList.add("value"),
        y.appendChild(m),
        e.appendChild(y);
        var T = document.createElement("li")
          , f = document.createElement("span");
        f.classList.add("label"),
        T.appendChild(f);
        var g = document.createElement("span");
        g.classList.add("value"),
        T.appendChild(g),
        e.appendChild(T),
        t.appendChild(e),
        this.__slotPosition = document.createElement("span"),
        this.__slotPosition.classList.add("slot-position"),
        t.appendChild(this.__slotPosition),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerStatsListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__slotPosition = null
}
,
UTPlayerStatsListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayStyleListDataView = function(i) {
    function UTPlayStyleListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTPlayStyleListDataView, i),
    UTPlayStyleListDataView.prototype.render = function(t, e, i) {
        void 0 === e && (e = !1),
        this.applyStatBars(t),
        this.__label1.textContent = this.loc.localize("cards.cardfront." + (e ? "divingAbbr" : "paceAbbr"), [], {
            gender: i
        }),
        this.__label2.textContent = this.loc.localize("cards.cardfront." + (e ? "handlingAbbr" : "shootingAbbr"), [], {
            gender: i
        }),
        this.__label3.textContent = this.loc.localize("cards.cardfront." + (e ? "kickAbbr" : "passingAbbr"), [], {
            gender: i
        }),
        this.__label4.textContent = this.loc.localize("cards.cardfront." + (e ? "reflexAbbr" : "dribblingAbbr"), [], {
            gender: i
        }),
        this.__label5.textContent = this.loc.localize("cards.cardfront." + (e ? "speedAbbr" : "defendingAbbr"), [], {
            gender: i
        }),
        this.__label6.textContent = this.loc.localize("cards.cardfront." + (e ? "positionAbbr" : "headingAbbr"), [], {
            gender: i
        })
    }
    ,
    UTPlayStyleListDataView.prototype.update = function(t) {}
    ,
    UTPlayStyleListDataView.prototype.applyStatBars = function(t) {
        var o = [this._statBarSet1, this._statBarSet2, this._statBarSet3, this._statBarSet4, this._statBarSet5, this._statBarSet6]
          , n = [this.__label1, this.__label2, this.__label3, this.__label4, this.__label5, this.__label6];
        t.slice(0, 6).forEach(function(t, e) {
            var i = o[e]
              , r = n[e];
            i && i.setBarCount(t),
            r && DOMKit.toggleClass(r, "chemBoost", 0 < t)
        })
    }
    ,
    UTPlayStyleListDataView
}(EAView);
UTPlayStyleListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("list-data-playstyle"),
        t.classList.add("styleView");
        var e = document.createElement("ul")
          , i = document.createElement("li");
        this.__label1 = document.createElement("span"),
        this.__label1.classList.add("Pace"),
        this.__label1.classList.add("statLabel"),
        i.appendChild(this.__label1),
        this._statBarSet1 = new UTItemStatBarsView,
        i.appendChild(this._statBarSet1.getRootElement()),
        e.appendChild(i);
        var r = document.createElement("li");
        this.__label2 = document.createElement("span"),
        this.__label2.classList.add("Shooting"),
        this.__label2.classList.add("statLabel"),
        r.appendChild(this.__label2),
        this._statBarSet2 = new UTItemStatBarsView,
        r.appendChild(this._statBarSet2.getRootElement()),
        e.appendChild(r);
        var o = document.createElement("li");
        this.__label3 = document.createElement("span"),
        this.__label3.classList.add("Passing"),
        this.__label3.classList.add("statLabel"),
        o.appendChild(this.__label3),
        this._statBarSet3 = new UTItemStatBarsView,
        o.appendChild(this._statBarSet3.getRootElement()),
        e.appendChild(o);
        var n = document.createElement("li");
        this.__label4 = document.createElement("span"),
        this.__label4.classList.add("Dibbling"),
        this.__label4.classList.add("statLabel"),
        n.appendChild(this.__label4),
        this._statBarSet4 = new UTItemStatBarsView,
        n.appendChild(this._statBarSet4.getRootElement()),
        e.appendChild(n);
        var a = document.createElement("li");
        this.__label5 = document.createElement("span"),
        this.__label5.classList.add("Defending"),
        this.__label5.classList.add("statLabel"),
        a.appendChild(this.__label5),
        this._statBarSet5 = new UTItemStatBarsView,
        a.appendChild(this._statBarSet5.getRootElement()),
        e.appendChild(a);
        var s = document.createElement("li");
        this.__label6 = document.createElement("span"),
        this.__label6.classList.add("Header"),
        this.__label6.classList.add("statLabel"),
        s.appendChild(this.__label6),
        this._statBarSet6 = new UTItemStatBarsView,
        s.appendChild(this._statBarSet6.getRootElement()),
        e.appendChild(s),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayStyleListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label1 = null,
    this._statBarSet1.destroy(),
    this.__label2 = null,
    this._statBarSet2.destroy(),
    this.__label3 = null,
    this._statBarSet3.destroy(),
    this.__label4 = null,
    this._statBarSet4.destroy(),
    this.__label5 = null,
    this._statBarSet5.destroy(),
    this.__label6 = null,
    this._statBarSet6.destroy()
}
,
UTPlayStyleListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTRestoreItemListDataView = function(i) {
    function UTRestoreItemListDataView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTRestoreItemListDataView, i),
    UTRestoreItemListDataView.prototype.init = function() {
        i.prototype.init.call(this),
        this._restoreStats = new UTPlayerStatsListDataView({
            localization: this.loc
        }),
        this._restoreStats.addClass("ut-list-data-restore--stats"),
        DOMKit.insertBefore(this._restoreStats.getRootElement(), this.__restoreDate)
    }
    ,
    UTRestoreItemListDataView.prototype.dealloc = function() {
        this._restoreStats && (DOMKit.remove(this._restoreStats.getRootElement()),
        this._restoreStats.dealloc()),
        i.prototype.dealloc.call(this)
    }
    ,
    UTRestoreItemListDataView.prototype.render = function(t) {
        var e;
        null === (e = this._restoreStats) || void 0 === e || e.render(t),
        this.__restoreLabelDate.textContent = this.loc.localize("undoDiscard.row.dateLabel"),
        this.__restoreValueDate.textContent = this.loc.localizeDate(new Date(t.discardDate)),
        this.__restoreLabelPrice.textContent = this.loc.localize("undoDiscard.row.priceLabel"),
        this.__restoreValuePrice.textContent = this.loc.localizeNumber(t.discardValue)
    }
    ,
    UTRestoreItemListDataView.prototype.update = function(t) {}
    ,
    UTRestoreItemListDataView
}(EAView);
UTRestoreItemListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-list-data-restore"),
        this.__restoreDate = document.createElement("div"),
        this.__restoreDate.classList.add("ut-list-data-restore--date"),
        this.__restoreLabelDate = document.createElement("span"),
        this.__restoreLabelDate.classList.add("label"),
        this.__restoreDate.appendChild(this.__restoreLabelDate),
        this.__restoreValueDate = document.createElement("span"),
        this.__restoreValueDate.classList.add("value"),
        this.__restoreDate.appendChild(this.__restoreValueDate),
        t.appendChild(this.__restoreDate);
        var e = document.createElement("div");
        e.classList.add("ut-list-data-restore--price"),
        this.__restoreLabelPrice = document.createElement("span"),
        this.__restoreLabelPrice.classList.add("label"),
        e.appendChild(this.__restoreLabelPrice),
        this.__restoreValuePrice = document.createElement("span"),
        this.__restoreValuePrice.classList.add("currency-coins"),
        this.__restoreValuePrice.classList.add("value"),
        e.appendChild(this.__restoreValuePrice),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTRestoreItemListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__restoreDate = null,
    this.__restoreLabelDate = null,
    this.__restoreValueDate = null,
    this.__restoreLabelPrice = null,
    this.__restoreValuePrice = null
}
,
UTRestoreItemListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTStringListDataView = function(t) {
    function UTStringListDataView() {
        return t.call(this) || this
    }
    return __extends(UTStringListDataView, t),
    UTStringListDataView.prototype.render = function(t) {
        this.__str.textContent = t
    }
    ,
    UTStringListDataView.prototype.update = function() {}
    ,
    UTStringListDataView
}(EAView);
UTStringListDataView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("dataString"),
        this.__str = document.createElement("span"),
        this.__str.classList.add("subtype"),
        t.appendChild(this.__str),
        this.__root = t,
        this._generated = !0
    }
}
,
UTStringListDataView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__str = null
}
,
UTStringListDataView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSquadChemistryPointView = function(t) {
    function UTSquadChemistryPointView() {
        return t.call(this) || this
    }
    return __extends(UTSquadChemistryPointView, t),
    UTSquadChemistryPointView.prototype.reset = function() {
        this.removeClass(JSUtils.getObjectValues(UTSquadChemistryPointView.STATES).join(" "))
    }
    ,
    UTSquadChemistryPointView.prototype.render = function(t) {
        this.removeClass(JSUtils.getObjectValues(UTSquadChemistryPointView.STATES).join(" ")),
        this.addClass(t)
    }
    ,
    UTSquadChemistryPointView.STATES = {
        NONE: "",
        POTENTIAL: "state-potential",
        OBTAINED: "state-obtained"
    },
    UTSquadChemistryPointView
}(EAView);
UTSquadChemistryPointView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-squad-chemistry-point-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSquadChemistryPointView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTSquadChemistryPointView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSquadSlotChemistryPointsView = function(e) {
    function UTSquadSlotChemistryPointsView() {
        var t = e.call(this) || this;
        return t.pointViews = [t._point1, t._point2, t._point3],
        t
    }
    return __extends(UTSquadSlotChemistryPointsView, e),
    UTSquadSlotChemistryPointsView.prototype.dealloc = function() {
        this.pointViews = [],
        e.prototype.dealloc.call(this)
    }
    ,
    UTSquadSlotChemistryPointsView.prototype.reset = function() {
        this.pointViews.forEach(function(t) {
            return t.reset()
        })
    }
    ,
    UTSquadSlotChemistryPointsView.prototype.isItemView = function() {
        this.hasClass("item") || this.addClass("item")
    }
    ,
    UTSquadSlotChemistryPointsView.prototype.render = function(r, o, t) {
        void 0 === o && (o = 0),
        void 0 === t && (t = !0),
        t && this.pointViews.forEach(function(t, e) {
            t.reset();
            var i = e + 1;
            i <= r ? t.render(UTSquadChemistryPointView.STATES.OBTAINED) : i <= o && t.render(UTSquadChemistryPointView.STATES.POTENTIAL)
        }),
        this.toggleClass("attention", !t),
        this.setDisplay(!0)
    }
    ,
    UTSquadSlotChemistryPointsView.prototype.setState = function(t) {
        this.removeClass(JSUtils.getObjectValues(UTSquadSlotChemistryPointsView.State).join(" ")),
        this.addClass(t)
    }
    ,
    UTSquadSlotChemistryPointsView.State = {
        NEGATIVE: "negative",
        NEUTRAL: "neutral",
        POSITIVE: "positive"
    },
    UTSquadSlotChemistryPointsView
}(EAView);
UTSquadSlotChemistryPointsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-squad-slot-chemistry-points-view");
        var e = document.createElement("div");
        e.classList.add("ut-squad-slot-chemistry-points-view--container"),
        this._point1 = new UTSquadChemistryPointView,
        e.appendChild(this._point1.getRootElement()),
        this._point2 = new UTSquadChemistryPointView,
        e.appendChild(this._point2.getRootElement()),
        this._point3 = new UTSquadChemistryPointView,
        e.appendChild(this._point3.getRootElement()),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSquadSlotChemistryPointsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._point1.destroy(),
    this._point2.destroy(),
    this._point3.destroy()
}
,
UTSquadSlotChemistryPointsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemTableCellView = function(e) {
    function UTItemTableCellView() {
        var t = e.call(this) || this;
        return t.activeTagComponent = null,
        t.chemistryTagComponent = null,
        t.chemistryPointsComponent = null,
        t.comparisonData = null,
        t.data = null,
        t.dataComponent = null,
        t.disableActionButton = !1,
        t.hasAction = !1,
        t.isDirty = !0,
        t.itemComponent = null,
        t.renderMode = ListItemPriority.DEFAULT,
        t.slotData = null,
        t.tapCallback = null,
        t
    }
    return __extends(UTItemTableCellView, e),
    UTItemTableCellView.prototype.init = function() {
        e.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTItemTableCellView.prototype.dealloc = function() {
        this.itemComponent && (this.itemComponent.dealloc(),
        this.itemComponent = null),
        this.activeTagComponent && (this.activeTagComponent.dealloc(),
        this.activeTagComponent = null),
        this.chemistryTagComponent && (this.chemistryTagComponent.dealloc(),
        this.chemistryTagComponent = null),
        this.chemistryPointsComponent && (this.chemistryPointsComponent = null),
        this.dataComponent && (this.dataComponent.dealloc(),
        this.dataComponent = null),
        this.data && this.data.getAuctionData().onDataUpdated.unobserve(this),
        this.data = null,
        this.slotData = null,
        this.comparisonData = null,
        this.tapCallback = null,
        this.actionCallback = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTItemTableCellView.prototype.setData = function(t, e, i) {
        this.data && this.data.getAuctionData().onDataUpdated.unobserve(this),
        this.renderMode = null != i ? i : ListItemPriority.DEFAULT,
        this.isDirty = !0,
        this.data = t,
        this.slotData = null != e ? e : null,
        this.data.getAuctionData().onDataUpdated.observe(this, this._eAuctionUpdated),
        this.setInteractionState(!0)
    }
    ,
    UTItemTableCellView.prototype.getData = function() {
        return this.data
    }
    ,
    UTItemTableCellView.prototype.setComparisonData = function(t) {
        this.comparisonData = t
    }
    ,
    UTItemTableCellView.prototype.isActionDisabled = function() {
        return this.disableActionButton
    }
    ,
    UTItemTableCellView.prototype.setIsActionDisabled = function(t) {
        this.disableActionButton = t
    }
    ,
    UTItemTableCellView.prototype.setDirty = function(t) {
        this.isDirty = t
    }
    ,
    UTItemTableCellView.prototype.setDataComponent = function(t) {
        this.dataComponent = t
    }
    ,
    UTItemTableCellView.prototype.setActiveTagComponent = function(t) {
        this.activeTagComponent = t
    }
    ,
    UTItemTableCellView.prototype.setChemistryTagComponent = function(t) {
        this.chemistryTagComponent = t
    }
    ,
    UTItemTableCellView.prototype.setChemistryPointsComponent = function(t) {
        this.chemistryPointsComponent = t
    }
    ,
    UTItemTableCellView.prototype.setAction = function(t, e) {
        DebugUtils.Assert(!this.hasAction, "Action already set."),
        this.hasAction || (this.actionCallback = e,
        this.addClass("has-action"),
        this._btnAction.addClass(t),
        this._btnAction.addTarget(this, this.actionCallback, EventType.TAP),
        this._btnAction.init(),
        this.hasAction = !0)
    }
    ,
    UTItemTableCellView.prototype.setActionState = function(t) {
        t ? this.enableAction() : this.disableAction()
    }
    ,
    UTItemTableCellView.prototype.disableAction = function() {
        this._btnAction.setInteractionState(!1)
    }
    ,
    UTItemTableCellView.prototype.enableAction = function() {
        this._btnAction.setInteractionState(!0)
    }
    ,
    UTItemTableCellView.prototype.render = function(t) {
        var e, i, r, o, n;
        if (void 0 === t && (t = !1),
        DebugUtils.Assert(JSUtils.isValid(this.data), "Missing item data in list row component."),
        this.data) {
            if (this.itemComponent && this.itemComponent.canRender(this.data) || (this.itemComponent && this.itemComponent.dealloc(),
            this.itemComponent = factories.ItemView.createSmallItem(this.data),
            this.itemComponent.init(),
            this.__entityContainer.insertBefore(this.itemComponent.getRootElement(), this.__entityContainer.firstChild)),
            this.renderItemData(),
            this.itemComponent.render(this.data, null !== (e = this.slotData) && void 0 !== e ? e : void 0),
            this.renderName(),
            this.dataComponent && this.isDirty && (this.dataComponent.dealloc(),
            this.dataComponent = null),
            this.dataComponent ? this._updateDataComponent(this.dataComponent, this.data, null !== (i = this.comparisonData) && void 0 !== i ? i : void 0, null !== (r = this.slotData) && void 0 !== r ? r : void 0) : this.setDataComponent(this._generateDataComponent(this.data, this.comparisonData)),
            !this.activeTagComponent && t && this.setActiveTagComponent(this._generateActiveTagComponent()),
            this.slotData && !this.slotData.isValid() && this.data.isPlayer() && (this.__name.textContent = BLANK_STR),
            this.dataComponent)
                if (this.__entityContainer.appendChild(this.dataComponent.getRootElement()),
                this.dataComponent instanceof UTPlayerStatsListDataView && this.slotData)
                    this.dataComponent.render(this.data, null !== (o = this.comparisonData) && void 0 !== o ? o : void 0, this.slotData.generalPosition);
                else if (this.dataComponent instanceof UTPlayStyleListDataView) {
                    var a = this.data
                      , s = a.isPlayer() ? a.playStyle : a.subtype
                      , l = a.isPlayer() ? a.isGK() : a.isGKStyleModifier()
                      , c = repositories.PlayStyle.getPlayStyleBonusById(s, l);
                    this.dataComponent.render(c, l, null !== (n = this.overrideGender) && void 0 !== n ? n : a.gender)
                } else
                    !this.dataComponent || this.dataComponent instanceof UTStringListDataView ? this.dataComponent instanceof UTStringListDataView && this.addClass("has-substring") : this.dataComponent.render(this.data, this.comparisonData);
            this.activeTagComponent && (this.addClass("is-active"),
            this.__rowContent.appendChild(this.activeTagComponent.getRootElement()),
            this.activeTagComponent.render()),
            this.chemistryTagComponent && (this.__rowContent.appendChild(this.chemistryTagComponent.getRootElement()),
            this.chemistryTagComponent.render()),
            this.chemistryPointsComponent && this.itemComponent.renderChemistryPoints(this.chemistryPointsComponent),
            this._highlightUnassignedBought(),
            this.isDirty = !1,
            this.onTimedUpdate()
        }
    }
    ,
    UTItemTableCellView.prototype.renderChemistryBreakdown = function(t, e, i, r) {
        var o;
        null === (o = this.itemComponent) || void 0 === o || o.renderChemistryBreakdown(t, e, i, r)
    }
    ,
    UTItemTableCellView.prototype.renderItemData = function() {
        var t;
        if (DebugUtils.Assert(JSUtils.isValid(this.data), "Expected item data when rendering table cell."),
        this.data)
            switch (this.renderMode) {
            case ListItemPriority.DEFAULT:
                var e = this.data.getAuctionData()
                  , i = services.Localization;
                if (services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.TRADING_ENABLED) && e.isValid()) {
                    var r = 0 < e.currentBid ? e.currentBid : e.startingBid
                      , o = e.isClosedTrade() ? "auctioninfo.sold.condensed" : "auctioninfo.currentbid.condensed";
                    this.__auctionTimeLabel.textContent = i.localize("auctioninfo.timeremaining.condensed"),
                    this.addClass(UTItemTableCellView.CLASS.HAS_AUCTION_DATA),
                    this.__auctionBidLabel.textContent = i.localize(o),
                    this.__auctionBidValue.textContent = i.localizeNumber(r),
                    this.__auctionStartLabel.textContent = i.localize("auctioninfo.startprice"),
                    this.__auctionStartValue.textContent = i.localizeNumber(e.startingBid),
                    0 === e.buyNowPrice ? (DOMKit.toggleDisplayStyle(this.__auctionBuyLabel, !1),
                    DOMKit.toggleDisplayStyle(this.__auctionBuyValue, !1)) : (this.__auctionBuyLabel.textContent = i.localize("auctioninfo.buynowprice.condensed"),
                    this.__auctionBuyValue.textContent = i.localizeNumber(e.buyNowPrice)),
                    null === (t = this.itemComponent) || void 0 === t || t.renderAuctionState(e)
                } else
                    this.removeClass(UTItemTableCellView.CLASS.HAS_AUCTION_DATA),
                    DOMKit.toggleDisplayStyle(this.__auction, !1);
                break;
            default:
                this.removeClass(UTItemTableCellView.CLASS.HAS_AUCTION_DATA),
                DOMKit.toggleDisplayStyle(this.__auction, !1)
            }
    }
    ,
    UTItemTableCellView.prototype.setSelected = function(t) {
        this.toggleClass(enums.UIState.SELECTED, t)
    }
    ,
    UTItemTableCellView.prototype.renderName = function() {
        if (DebugUtils.Assert(JSUtils.isValid(this.data), "Expected item data to render the item name."),
        this.data) {
            var t = services.Localization
              , e = this.data.getStaticData()
              , i = BLANK_STR;
            if (this.data.isBadge() || this.data.isKit())
                i = UTLocalizationUtil.teamIdToAbbr15(this.data.teamId, t);
            else if (this.data.isBall())
                i = t.localize(e.description);
            else if (this.data.isInjuryHealing())
                switch (this.data.subtype) {
                case ItemSubType.HEALING_ALL:
                    i = t.localize("list.healing.all.injuries");
                    break;
                default:
                    i = t.localize("card.title.healing")
                }
            else
                this.data.isPlayer() || this.data.isManager() ? i = e.name : this.data.isVanityItem() ? i = t.localize(e.name) : this.data.isMiscItem() ? this.data.isFreeCoins() ? i = t.localize("card.desc.misc.coins", [e.amount.toString()]) : this.data.isFreeXp() ? i = t.localize("card.desc.misc.xp", [e.amount.toString()]) : this.data.isDraftToken() ? i = t.localize("card.desc.misc.drafttoken") : this.data.isAcademyUnlockToken() ? i = t.localize(e.description) : this.data.isFreePack() ? i = e.hasLoanPackDescription() ? t.localize("card.desc.FreeLoanPackDesc") : t.localize("card.desc." + e.name) : this.data.isPlayerPickItem() && (i = t.localize("card.desc.misc.draftitem")) : this.data.isStadium() ? i = e.description : this.data.isStyleModifier() ? i = UTLocalizationUtil.playStyleIdToName(this.data.subtype, t, this.overrideGender) : this.data.isManagerLeagueModifier() && (i = t.localize("global.leagueFull." + APP_YEAR + ".league" + this.data.leagueId));
            this.__auctionTime.textContent = BLANK_STR,
            this.__name.textContent = i
        }
    }
    ,
    UTItemTableCellView.prototype.onTimedUpdate = function() {
        this.dataComponent && this.dataComponent.update(this.data),
        this._renderAuctionState()
    }
    ,
    UTItemTableCellView.prototype._renderAuctionState = function() {
        var t;
        if (this.data) {
            var e = this.data.getAuctionData()
              , i = [UTItemTableCellView.CLASS.WON, UTItemTableCellView.CLASS.EXPIRED, UTItemTableCellView.CLASS.HIGHEST_BID, UTItemTableCellView.CLASS.OUTBID, UTItemTableCellView.CLASS.PROCESSING].join(" ");
            switch (this.removeClass(i),
            this.itemComponent && this.itemComponent.removeClass(i),
            this.renderMode) {
            case ListItemPriority.DEFAULT:
                if (services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.TRADING_ENABLED) && e.isValid()) {
                    if (e.getSecondsRemaining() <= 0) {
                        e.isWon() || e.isSold() ? this.addClass(UTItemTableCellView.CLASS.WON) : e.isPendingExpiry() ? e.isOutbid() ? this.addClass(UTItemTableCellView.CLASS.OUTBID) : e.isHighestBid() && this.addClass(UTItemTableCellView.CLASS.HIGHEST_BID) : this.addClass(UTItemTableCellView.CLASS.EXPIRED);
                        var r = e.isPendingExpiry() ? "auctioninfo.timeremaining.pending.condensed" : "watchlist.dock.categories.expired.condensed";
                        this.__auctionTime.textContent = services.Localization.localize(r),
                        DOMKit.removeClass(this.__auctionTime, "expiring alarm-txt")
                    } else {
                        var o = e.getSecondsRemaining();
                        this.__auctionTime.textContent = services.Localization.localizeAuctionTimeRemaining(o),
                        0 < o && o < AUCTION_COUNTDOWN_FLASING_THRESHOLD ? (DOMKit.addClass(this.__auctionTime, "alarm-txt"),
                        o <= AUCTION_COUNTDOWN_ALERT_THRESHOLD && DOMKit.addClass(this.__auctionTime, "expiring")) : DOMKit.removeClass(this.__auctionTime, "expiring alarm-txt"),
                        e.isWon() ? this.addClass(UTItemTableCellView.CLASS.WON) : e.isOutbid() ? this.addClass(UTItemTableCellView.CLASS.OUTBID) : e.isHighestBid() && this.addClass(UTItemTableCellView.CLASS.HIGHEST_BID)
                    }
                    this.__auctionBidValue.textContent = 0 < e.currentBid ? services.Localization.localizeNumber(e.currentBid) : BLANK_STR
                } else
                    DOMKit.toggleDisplayStyle(this.__auction, !1),
                    this._highlightUnassignedBought();
                null === (t = this.itemComponent) || void 0 === t || t.renderAuctionState(e),
                DOMKit.toggleClass(this.__name, "watchIcon", !e.tradeOwner && e.watched && !e.isWon());
                break;
            default:
                this.removeClass(UTItemTableCellView.CLASS.HAS_AUCTION_DATA),
                this._highlightUnassignedBought(),
                DOMKit.toggleDisplayStyle(this.__auction, !1)
            }
        }
    }
    ,
    UTItemTableCellView.prototype._highlightUnassignedBought = function() {
        var t = !!this.data && (this.data.pile === ItemPile.PURCHASED && 0 < this.data.lastSalePrice);
        this.toggleClass("won", t)
    }
    ,
    UTItemTableCellView.prototype._updateDataComponent = function(t, e, i, r) {
        e.isPlayer() && t instanceof UTPlayerStatsListDataView ? t.render(e, i, r ? r.generalPosition : void 0) : t.update(e)
    }
    ,
    UTItemTableCellView.prototype._generateActiveTagComponent = function() {
        var t = new UTListActiveTagView
          , e = services.Localization.localize("listrow.clubitem.active");
        return t.setIconClass("club"),
        t.setString(e),
        t
    }
    ,
    UTItemTableCellView.prototype._generateDataComponent = function(t, e) {
        var i = null
          , r = t.getStaticData()
          , o = services.Localization;
        if ((null == e ? void 0 : e.isConsumable()) && !e.canApplyTo(t)) {
            if (this.disableAction(),
            i = new UTStringListDataView,
            t.isManager())
                i.render(o.localize("panel.applyitem.invaliditem_manager"));
            else if (t.isPlayer()) {
                var n = o.localize("panel.applyitem.invaliditem", [], {
                    gender: t.gender
                });
                i.render(n)
            }
            i.addClass("unapplicableConsumable")
        } else if (t.isStyleModifier())
            i = new UTPlayStyleListDataView({
                localization: o
            }),
            this.addClass(UTItemTableCellView.CLASS.CHEMISTRY_STYLE);
        else if ((null == e ? void 0 : e.isManagerLeagueModifier()) && t.isManager())
            i = new UTManagerLeagueListDataView({
                localization: o
            });
        else if ((null == e ? void 0 : e.isConsumable()) && t.isPlayer())
            e.isInjuryHealing() ? i = new UTHealingListDataView({
                localization: o
            }) : e.isStyleModifier() ? (i = new UTPlayStyleListDataView({
                localization: o
            }),
            this.addClass(UTItemTableCellView.CLASS.CHEMISTRY_STYLE)) : e.isTraining() && (i = new UTPlayerStatsListDataView({
                localization: o
            }));
        else if (t.isPlayer())
            i = t.isRecoverable() ? new UTRestoreItemListDataView({
                localization: o
            }) : new UTPlayerStatsListDataView({
                localization: o
            });
        else if (t.isHealth()) {
            var a = o.localize("listrow.clubitem.consumableAmount");
            (i = new UTStringListDataView).render(a + ": +" + o.localizeNumber(r.amount))
        } else if (t.isManagerLeagueModifier()) {
            var s = (a = o.localize("listrow.clubitem.consumableLeague")) + ": +" + UTLocalizationUtil.leagueIdToAbbr5(t.leagueId, o);
            (i = new UTStringListDataView).render(s)
        }
        return DOMKit.toggleClass(this.__name, "untradeable", t.untradeable && !t.getAuctionData().isSold() || t.isLimitedUse()),
        i
    }
    ,
    UTItemTableCellView.prototype.setTapCallback = function(t) {
        this.tapCallback = t,
        DOMKit.addClass(this.__rowContent, "has-tap-callback")
    }
    ,
    UTItemTableCellView.prototype._mouseEnter = function(t) {
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTItemTableCellView.prototype._mouseLeave = function(t) {
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTItemTableCellView.prototype._touchStarted = function(t) {
        e.prototype._touchStarted.call(this, t),
        DOMKit.addClass(this.__rowContent, enums.UIState.ACTIVE)
    }
    ,
    UTItemTableCellView.prototype._touchMoved = function(t) {
        e.prototype._touchMoved.call(this, t),
        DOMKit.removeClass(this.__rowContent, enums.UIState.ACTIVE)
    }
    ,
    UTItemTableCellView.prototype._touchEnded = function(t) {
        e.prototype._touchEnded.call(this, t),
        DOMKit.removeClass(this.__rowContent, enums.UIState.ACTIVE)
    }
    ,
    UTItemTableCellView.prototype._tapDetected = function(t) {
        e.prototype._tapDetected.call(this, t),
        this.tapCallback && this.data && this.tapCallback(this.data)
    }
    ,
    UTItemTableCellView.prototype._eAuctionUpdated = function(t, e) {
        this.itemComponent && this.renderItemData(),
        this._renderAuctionState()
    }
    ,
    UTItemTableCellView.prototype.setOverrideGender = function(t) {
        this.overrideGender = t
    }
    ,
    UTItemTableCellView.CLASS = {
        HAS_AUCTION_DATA: "has-auction-data",
        SBC: "sbc",
        HAS_ACTION: "hasAction",
        WON: "won",
        EXPIRED: "expired",
        OUTBID: "outbid",
        HIGHEST_BID: "highest-bid",
        PROCESSING: "processing",
        CHEMISTRY_STYLE: "chemistryStyle"
    },
    UTItemTableCellView
}(EATargetActionView);
UTItemTableCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("listFUTItem"),
        this._btnAction = new UTImageButtonControl,
        this._btnAction.getRootElement().classList.add("btnAction"),
        t.appendChild(this._btnAction.getRootElement()),
        this.__rowContent = document.createElement("div"),
        this.__rowContent.classList.add("rowContent"),
        this.__entityContainer = document.createElement("div"),
        this.__entityContainer.classList.add("entityContainer"),
        this.__name = document.createElement("div"),
        this.__name.classList.add("name"),
        this.__entityContainer.appendChild(this.__name),
        this.__rowContent.appendChild(this.__entityContainer),
        this.__auction = document.createElement("div"),
        this.__auction.classList.add("auction");
        var e = document.createElement("div");
        e.classList.add("auctionStartPrice"),
        e.classList.add("auctionValue"),
        this.__auctionStartLabel = document.createElement("span"),
        this.__auctionStartLabel.classList.add("label"),
        e.appendChild(this.__auctionStartLabel),
        this.__auctionStartValue = document.createElement("span"),
        this.__auctionStartValue.classList.add("currency-coins"),
        this.__auctionStartValue.classList.add("value"),
        e.appendChild(this.__auctionStartValue),
        this.__auction.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("auctionValue"),
        this.__auctionBidLabel = document.createElement("span"),
        this.__auctionBidLabel.classList.add("label"),
        i.appendChild(this.__auctionBidLabel),
        this.__auctionBidValue = document.createElement("span"),
        this.__auctionBidValue.classList.add("currency-coins"),
        this.__auctionBidValue.classList.add("value"),
        i.appendChild(this.__auctionBidValue),
        this.__auction.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("auctionValue"),
        this.__auctionBuyLabel = document.createElement("span"),
        this.__auctionBuyLabel.classList.add("label"),
        r.appendChild(this.__auctionBuyLabel),
        this.__auctionBuyValue = document.createElement("span"),
        this.__auctionBuyValue.classList.add("currency-coins"),
        this.__auctionBuyValue.classList.add("value"),
        r.appendChild(this.__auctionBuyValue),
        this.__auction.appendChild(r);
        var o = document.createElement("div");
        o.classList.add("auction-state"),
        this.__auctionTimeLabel = document.createElement("span"),
        this.__auctionTimeLabel.classList.add("label"),
        o.appendChild(this.__auctionTimeLabel),
        this.__auctionTime = document.createElement("span"),
        this.__auctionTime.classList.add("time"),
        o.appendChild(this.__auctionTime),
        this.__auction.appendChild(o),
        this.__rowContent.appendChild(this.__auction),
        t.appendChild(this.__rowContent),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemTableCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._btnAction.destroy(),
    this.__rowContent = null,
    this.__entityContainer = null,
    this.__name = null,
    this.__auction = null,
    this.__auctionStartLabel = null,
    this.__auctionStartValue = null,
    this.__auctionBidLabel = null,
    this.__auctionBidValue = null,
    this.__auctionBuyLabel = null,
    this.__auctionBuyValue = null,
    this.__auctionTimeLabel = null,
    this.__auctionTime = null
}
,
UTItemTableCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPinnedItemTableCellView = function(e) {
    function UTPinnedItemTableCellView() {
        return e.call(this) || this
    }
    return __extends(UTPinnedItemTableCellView, e),
    UTPinnedItemTableCellView.prototype.init = function() {
        e.prototype.init.call(this),
        this._btnRight.init(),
        this._btnLeft.init()
    }
    ,
    UTPinnedItemTableCellView.prototype.dealloc = function() {
        var t;
        null === (t = this.itemCell) || void 0 === t || t.dealloc(),
        this.itemCell = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTPinnedItemTableCellView.prototype.getBtnLeft = function() {
        return this._btnLeft
    }
    ,
    UTPinnedItemTableCellView.prototype.getBtnRight = function() {
        return this._btnRight
    }
    ,
    UTPinnedItemTableCellView.prototype.toggleIteratorButtons = function(t) {
        this.toggleClass("has-iterator", t)
    }
    ,
    UTPinnedItemTableCellView.prototype.setHasNext = function(t) {
        this._btnRight.setDisplay(t)
    }
    ,
    UTPinnedItemTableCellView.prototype.setHasPrev = function(t) {
        this._btnLeft.setDisplay(t)
    }
    ,
    UTPinnedItemTableCellView.prototype.pinListItem = function(t, e) {
        this.itemCell ? (this.itemCell.setData(t, e),
        this.itemCell.setInteractionState(!1),
        this.itemCell.render()) : (this.itemCell = new UTItemTableCellView,
        this.itemCell.setData(t, e),
        this.itemCell.render(),
        this.itemCell.setInteractionState(!1),
        this.addSubview(this.itemCell, this.__list),
        this.layoutSubviews())
    }
    ,
    UTPinnedItemTableCellView.prototype.setChemistryPointsComponent = function(t) {
        var e, i;
        null === (e = this.itemCell) || void 0 === e || e.setChemistryPointsComponent(t),
        null === (i = this.itemCell) || void 0 === i || i.render()
    }
    ,
    UTPinnedItemTableCellView.prototype.renderChemistryBreakdown = function(t, e, i, r) {
        var o;
        null === (o = this.itemCell) || void 0 === o || o.renderChemistryBreakdown(t, e, i, r)
    }
    ,
    UTPinnedItemTableCellView.prototype.onTimedUpdate = function() {
        var t;
        null === (t = this.itemCell) || void 0 === t || t.onTimedUpdate()
    }
    ,
    UTPinnedItemTableCellView.prototype.refreshItem = function() {
        var t;
        null === (t = this.itemCell) || void 0 === t || t.render()
    }
    ,
    UTPinnedItemTableCellView
}(EAView);
UTPinnedItemTableCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-pinned-item"),
        this._btnLeft = new UTFlatButtonControl,
        this._btnLeft.getRootElement().classList.add("btn-left"),
        t.appendChild(this._btnLeft.getRootElement()),
        this.__list = document.createElement("ul"),
        t.appendChild(this.__list),
        this._btnRight = new UTFlatButtonControl,
        this._btnRight.getRootElement().classList.add("btn-right"),
        t.appendChild(this._btnRight.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPinnedItemTableCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._btnLeft.destroy(),
    this.__list = null,
    this._btnRight.destroy()
}
,
UTPinnedItemTableCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTClubSearchFiltersView = function(e) {
    function UTClubSearchFiltersView() {
        var t = e.call(this) || this;
        return t.onFilterChange = new EAObservable,
        t.onSearchModeChange = new EAObservable,
        t.pinnedItemView = null,
        t
    }
    return __extends(UTClubSearchFiltersView, e),
    UTClubSearchFiltersView.prototype.init = function() {
        var t = services.Localization;
        e.prototype.init.call(this),
        this._sortDropDown.init(),
        this._btnReset.init(),
        this._btnReset.setText(t.localize("search.pagination.reset")),
        this._btnSearch.init(),
        this._btnSearch.setText(t.localize("button.search")),
        this._filterContainer.init(),
        this._filterContainer.onFilterChange.observe(this, this.onFilterChanged),
        this._filterContainer.onSearchModeChange.observe(this, this.onSearchModeChanged),
        this.__filterTitle.textContent = t.localize("search.sort.filterBy"),
        this.__sortTitle.textContent = t.localize("search.sort.sortBy")
    }
    ,
    UTClubSearchFiltersView.prototype.dealloc = function() {
        this.onSearchModeChange.dealloc(),
        this.onFilterChange.dealloc(),
        this._filterContainer.onSearchModeChange.unobserve(this),
        this._filterContainer.onFilterChange.unobserve(this),
        e.prototype.dealloc.call(this),
        this.pinnedItemView = null
    }
    ,
    UTClubSearchFiltersView.prototype.setInteractionState = function(t) {
        this._btnSearch.setInteractionState(t),
        this._btnReset.setInteractionState(t),
        this._filterContainer.setInteractionState(t),
        this._searchOptions.setInteractionState(t),
        e.prototype.setInteractionState.call(this, t)
    }
    ,
    UTClubSearchFiltersView.prototype.setupSearchOptions = function(t) {
        if (t.includeUntradeableToggle || t.includeLimitedUseToggle || t.includeSquadPlayersToggle || t.includeEvolutionsToggle) {
            var e = services.Localization;
            this.__filterTitle.style.display = "",
            this._searchOptions.init(),
            t.includeUntradeableToggle && this._searchOptions.addToggleCell(enums.UISortOptionType.UNTRADEABLE, e.localize("search.sort.header")),
            t.includeSquadPlayersToggle && this._searchOptions.addToggleCell(enums.UISortOptionType.EXCLUDE_SQUAD, e.localize("search.sort.squadPlayers")),
            t.includeLimitedUseToggle && this._searchOptions.addToggleCell(enums.UISortOptionType.EXCLUDE_LIMITED_USE, e.localize("search.sort.limitedUsePlayers")),
            t.includeEvolutionsToggle && this._searchOptions.addToggleCell(enums.UISortOptionType.ACADEMY, e.localize("search.sort.academy-only")),
            this._searchOptions.layoutSubviews()
        } else
            this._searchOptions.setDisplay(!1),
            this.__filterTitle.style.display = "none"
    }
    ,
    UTClubSearchFiltersView.prototype.setSortOptions = function(t) {
        this._sortDropDown.setOptions(t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleSortOptions = function(t) {
        DOMKit.toggleDisplayStyle(this.__sortContainer, t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleLimitedUseItems = function(t) {
        this._searchOptions.setCellInteractionState(enums.UISortOptionType.EXCLUDE_LIMITED_USE, t),
        t || this._searchOptions.toggleById(enums.UISortOptionType.EXCLUDE_LIMITED_USE, t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleUntradeableSlider = function(t) {
        this._searchOptions.setCellInteractionState(enums.UISortOptionType.UNTRADEABLE, t),
        t || this._searchOptions.toggleById(enums.UISortOptionType.UNTRADEABLE, t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleExcludeSquadSlider = function(t) {
        this._searchOptions.setCellInteractionState(enums.UISortOptionType.EXCLUDE_SQUAD, t),
        t || this._searchOptions.toggleById(enums.UISortOptionType.EXCLUDE_SQUAD, t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleAcademyPlayers = function(t) {
        this._searchOptions.setCellInteractionState(enums.UISortOptionType.ACADEMY, t),
        t || this._searchOptions.toggleById(enums.UISortOptionType.ACADEMY, t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleOvrRange = function(t, e) {
        this._filterContainer.toggleOvrRange(t, e)
    }
    ,
    UTClubSearchFiltersView.prototype.togglePileFilter = function(t) {
        this._filterContainer.togglePileFilter(t)
    }
    ,
    UTClubSearchFiltersView.prototype.toggleDisplay = function(t) {
        this.setDisplay(t)
    }
    ,
    UTClubSearchFiltersView.prototype.setPileFilter = function(t, e) {
        this._filterContainer.setPileFilter(t, e)
    }
    ,
    UTClubSearchFiltersView.prototype.setSearchTypeImage = function() {
        this._filterContainer.setPileFilterImage()
    }
    ,
    UTClubSearchFiltersView.prototype.appendPinnedItemView = function(t) {
        this.pinnedItemView = t,
        this.__searchContainer.insertBefore(t.getRootElement(), this.__searchContainer.firstChild)
    }
    ,
    UTClubSearchFiltersView.prototype.setPlayerSearch = function(t) {
        this._filterContainer.setPlayerSearch(t)
    }
    ,
    UTClubSearchFiltersView.prototype.resetPlayerName = function() {
        this._filterContainer.resetPlayerName()
    }
    ,
    UTClubSearchFiltersView.prototype.togglePlayerNameRow = function(t) {
        this._filterContainer.togglePlayerNameRow(t)
    }
    ,
    UTClubSearchFiltersView.prototype.setFilters = function(t, e) {
        this._filterContainer.setFilters(t, e),
        this._filterContainer.togglePlayerNameRow(t.searchCriteria.type === SearchType.PLAYER && !t.isMarketSearch)
    }
    ,
    UTClubSearchFiltersView.prototype.setFilterValue = function(t, e) {
        this._filterContainer.setFilterValue(t, e)
    }
    ,
    UTClubSearchFiltersView.prototype.setFilterDefaultValue = function(t, e) {
        this._filterContainer.setFilterDefaultValue(t, e)
    }
    ,
    UTClubSearchFiltersView.prototype.setFilterLock = function(t, e) {
        this._filterContainer.setFilterLock(t, e)
    }
    ,
    UTClubSearchFiltersView.prototype.getSortOptions = function() {
        return this._searchOptions
    }
    ,
    UTClubSearchFiltersView.prototype.getSortDropDown = function() {
        return this._sortDropDown
    }
    ,
    UTClubSearchFiltersView.prototype.getSearchButton = function() {
        return this._btnSearch
    }
    ,
    UTClubSearchFiltersView.prototype.getResetButton = function() {
        return this._btnReset
    }
    ,
    UTClubSearchFiltersView.prototype.hideFiltersContainer = function() {
        this._filterContainer.hide()
    }
    ,
    UTClubSearchFiltersView.prototype.getPlayerNameSearch = function() {
        return this._filterContainer.getPlayerNameSearch()
    }
    ,
    UTClubSearchFiltersView.prototype.setResetButtonDisplay = function(t) {
        this._btnReset.setDisplay(t)
    }
    ,
    UTClubSearchFiltersView.prototype.onSearchModeChanged = function(t, e) {
        this.onSearchModeChange.notify(e)
    }
    ,
    UTClubSearchFiltersView.prototype.onFilterChanged = function(t, e, i, r) {
        this.onFilterChange.notify(e, i, r)
    }
    ,
    UTClubSearchFiltersView
}(EAView);
UTClubSearchFiltersView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-club-search-filters-view");
        var e = document.createElement("div");
        e.classList.add("ut-pinned-list-container"),
        e.classList.add("ut-content-container"),
        this.__searchContainer = document.createElement("div"),
        this.__searchContainer.classList.add("ut-content");
        var i = document.createElement("div");
        i.classList.add("ut-pinned-list"),
        this.__sortContainer = document.createElement("div"),
        this.__sortContainer.classList.add("sort-filter-container"),
        this.__filterTitle = document.createElement("h4"),
        this.__sortContainer.appendChild(this.__filterTitle),
        this._searchOptions = new UTToggleControlGroupView,
        this.__sortContainer.appendChild(this._searchOptions.getRootElement()),
        this.__sortTitle = document.createElement("h4"),
        this.__sortContainer.appendChild(this.__sortTitle),
        this._sortDropDown = new UTDropDownControl,
        this.__sortContainer.appendChild(this._sortDropDown.getRootElement()),
        i.appendChild(this.__sortContainer),
        this._filterContainer = new UTItemSearchView,
        this._filterContainer.getRootElement().classList.add("filter-container"),
        i.appendChild(this._filterContainer.getRootElement()),
        this.__searchContainer.appendChild(i);
        var r = document.createElement("div");
        r.classList.add("button-container"),
        this._btnReset = new UTStandardButtonControl,
        r.appendChild(this._btnReset.getRootElement()),
        this._btnSearch = new UTStandardButtonControl,
        this._btnSearch.getRootElement().classList.add("call-to-action"),
        r.appendChild(this._btnSearch.getRootElement()),
        this.__searchContainer.appendChild(r),
        e.appendChild(this.__searchContainer),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTClubSearchFiltersView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__searchContainer = null,
    this.__sortContainer = null,
    this.__filterTitle = null,
    this._searchOptions.destroy(),
    this.__sortTitle = null,
    this._sortDropDown.destroy(),
    this._filterContainer.destroy(),
    this._btnReset.destroy(),
    this._btnSearch.destroy()
}
,
UTClubSearchFiltersView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTMyClubSearchFiltersViewController = function(a) {
    function UTMyClubSearchFiltersViewController() {
        var t = a.call(this) || this;
        return t.clubViewModel = null,
        t.searchCriteria = null,
        t.searchViewModel = new UTItemSearchViewModel,
        t
    }
    return __extends(UTMyClubSearchFiltersViewController, a),
    UTMyClubSearchFiltersViewController.prototype.init = function() {
        var t, e;
        if (!this.initialized) {
            a.prototype.init.call(this);
            var i = this.getView();
            i.getSortDropDown().setDefaultIndexById(SearchSortID.RATING_DESC, !0),
            i.onFilterChange.observe(this, this.onFilterChanged);
            var r = (null === (t = this.searchCriteria) || void 0 === t ? void 0 : t.type) === SearchType.PLAYER;
            i.setupSearchOptions({
                includeEvolutionsToggle: r,
                includeLimitedUseToggle: r,
                includeSquadPlayersToggle: r,
                includeUntradeableToggle: !0
            }),
            i.setSortOptions((null === (e = this.searchCriteria) || void 0 === e ? void 0 : e.type) === SearchType.STAFF ? factories.DataProvider.getStaffSortTypeDP() : factories.DataProvider.getSortTypeDP()),
            i.getSortDropDown().setDefaultIndexById(SearchSortID.RATING_DESC, !0),
            this.updateOvrRangeVisibility()
        }
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.initWithSearchCriteria = function(t) {
        this.initialized || (this.searchCriteria = t,
        this.searchViewModel.updateSearchCriteria(t),
        this.searchViewModel.defaultSearchCriteria.type = t.type,
        this.searchViewModel.defaultSearchCriteria.count = t.count,
        t.type !== SearchType.STAFF && (this.searchViewModel.defaultSearchCriteria.category = t.category),
        this.init())
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.dealloc = function() {
        a.prototype.dealloc.call(this),
        this.clubViewModel = null,
        this.searchCriteria = null
    }
    ,
    UTMyClubSearchFiltersViewController.prototype._getViewInstanceFromData = function() {
        return new UTClubSearchFiltersView
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.clubsearch")
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.viewDidAppear = function() {
        a.prototype.viewDidAppear.call(this),
        this.searchViewModel.searchCriteria.untradeables = SearchUntradeables.DEFAULT,
        this.searchViewModel.searchCriteria.excludeDefIds = [],
        this.searchViewModel.searchCriteria.academyOnly = !1,
        this.searchViewModel.searchCriteria.excludeLimitedUse = !1;
        var t, e = this.searchViewModel.searchCriteria.sortBy, i = this.searchViewModel.searchCriteria.sort, r = this.searchViewModel.searchCriteria.type, o = this.getView();
        if (o.setFilters(this.searchViewModel, this.searchViewModel.searchCriteria.zone === ZONE_NO_GK_VALUE),
        t = e === SearchSortType.RECENCY ? SearchSortID.RECENCY_DESC : e === SearchSortType.RATING ? i === SearchSortOrder.DESCENDING ? SearchSortID.RATING_DESC : SearchSortID.RATING_ASC : i === SearchSortOrder.DESCENDING ? SearchSortID.VALUE_DESC : SearchSortID.VALUE_ASC,
        o.getSortDropDown().setIndexById(t),
        r === SearchType.BALL || r === SearchType.CLUB_INFO || r === SearchType.STADIUM || r === SearchType.VANITY) {
            var n = r === SearchType.VANITY || r === SearchType.CLUB_INFO ? this.searchViewModel.searchCriteria.category : r;
            o.setFilterDefaultValue(enums.UISearchFilters.TYPE, n),
            o.setFilterLock(enums.UISearchFilters.TYPE, !0)
        }
        o.getSearchButton().addTarget(this, this.onSearchSelected, EventType.TAP),
        o.getResetButton().addTarget(this, this.onResetSelected, EventType.TAP),
        o.getPlayerNameSearch().addTarget(this, this.onPlayerNameChange, EventType.CHANGE),
        o.getSortOptions().addTarget(this, this.onSortToggleSelected, EventType.CHANGE),
        o.getSortDropDown().addTarget(this, this.onDropDownChanged, EventType.CHANGE)
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.viewDidDisappear = function() {
        a.prototype.viewDidDisappear.call(this);
        var t = this.getView();
        t.getSearchButton().removeTarget(this, this.onSearchSelected, EventType.TAP),
        t.getResetButton().removeTarget(this, this.onResetSelected, EventType.TAP),
        t.getPlayerNameSearch().removeTarget(this, this.onPlayerNameChange, EventType.CHANGE),
        t.getSortOptions().removeTarget(this, this.onSortToggleSelected, EventType.CHANGE),
        t.getSortDropDown().removeTarget(this, this.onDropDownChanged, EventType.CHANGE)
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.setSearchResultViewModel = function(t) {
        this.clubViewModel = t
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onSearchSelected = function(t, e, i) {
        var r, o;
        null === (r = this.clubViewModel) || void 0 === r || r.resetCollection([]),
        this.searchCriteria && (this.searchCriteria.update(this.searchViewModel.searchCriteria),
        this.searchCriteria.offset = 0),
        null === (o = this.getNavigationController()) || void 0 === o || o.popViewController()
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onResetSelected = function(t, e, i) {
        var r = this.getView()
          , o = r.getSortDropDown();
        this.searchViewModel.resetSearch(),
        r.setFilters(this.searchViewModel, this.searchViewModel.searchCriteria.zone === ZONE_NO_GK_VALUE),
        r.getPlayerNameSearch().clearInput(),
        r.getSortOptions().reset(),
        o.setIndex(o.getDefaultIndex())
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onSortToggleSelected = function(t, e, i) {
        var r = this;
        i.id === enums.UISortOptionType.UNTRADEABLE ? this.searchViewModel.searchCriteria.untradeables = i.checked ? SearchUntradeables.ONLY : SearchUntradeables.DEFAULT : i.id === enums.UISortOptionType.ACADEMY ? this.searchViewModel.searchCriteria.academyOnly = i.checked : i.id === enums.UISortOptionType.EXCLUDE_LIMITED_USE ? this.searchViewModel.searchCriteria.excludeLimitedUse = i.checked : i.id === enums.UISortOptionType.EXCLUDE_SQUAD && (i.checked ? this.searchViewModel.requestActiveSquadDefIds().observe(this, function(t, e) {
            t.unobserve(r),
            r.searchViewModel.searchCriteria.excludeDefIds = e.data ? e.data.defIds : []
        }) : this.searchViewModel.searchCriteria.excludeDefIds = [])
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onDropDownChanged = function(t, e, i) {
        var r = "Club Search Filters - Sort By DropDown changed to: ";
        switch (this.searchViewModel.searchCriteria.sort = i.value,
        i.id) {
        case SearchSortID.VALUE_DESC:
            this.searchViewModel.searchCriteria.sortBy = SearchSortType.VALUE,
            r += "'Highest Quick Sell'";
            break;
        case SearchSortID.VALUE_ASC:
            this.searchViewModel.searchCriteria.sortBy = SearchSortType.VALUE,
            r += "'Lowest Quick Sell'";
            break;
        case SearchSortID.RATING_DESC:
            this.searchViewModel.searchCriteria.sortBy = SearchSortType.RATING,
            r += "'Rating High to Low'";
            break;
        case SearchSortID.RATING_ASC:
            this.searchViewModel.searchCriteria.sortBy = SearchSortType.RATING,
            r += "'Rating Low to High'";
            break;
        case SearchSortID.RECENCY_DESC:
            this.searchViewModel.searchCriteria.sortBy = SearchSortType.RECENCY,
            r += "'Most Recent'";
            break;
        default:
            DebugUtils.Assert(!1, "Unknown search sort ID")
        }
        TelemetryManager.trackEvent(TelemetryManager.Sections.CLUB, TelemetryManager.Categories.FILTER, r)
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onFilterChanged = function(t, e, i, r) {
        this.searchViewModel.updateFromFilterChange(e, i, r),
        this.getView().setFilters(this.searchViewModel, this.searchViewModel.searchCriteria.zone === ZONE_NO_GK_VALUE)
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.onPlayerNameChange = function(t, e, i) {
        var r = this.getView()
          , o = r.getPlayerNameSearch().getSelected();
        o ? this.searchViewModel.setPlayerData(o) : this.searchViewModel.clearPlayerData(),
        r.setFilters(this.searchViewModel),
        o && (r.setFilterValue(enums.UISearchFilters.NATION, -1),
        r.setFilterValue(enums.UISearchFilters.LEAGUE, -1),
        r.setFilterValue(enums.UISearchFilters.CLUB, -1))
    }
    ,
    UTMyClubSearchFiltersViewController.prototype.updateOvrRangeVisibility = function() {
        var t = this.getView()
          , e = this.searchViewModel.searchCriteria.type
          , i = this.searchViewModel.searchFeature;
        t.toggleOvrRange(e, i)
    }
    ,
    UTMyClubSearchFiltersViewController
}(EAViewController)
  , UTStadiumMessage = function UTStadiumMessage(t, e) {
    this.id = t,
    this.data = e
}
  , UTStadiumMessageProducer = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTStadiumMessageProducer() {
        return t.call(this) || this
    }
    return __extends(UTStadiumMessageProducer, t),
    UTStadiumMessageProducer.prototype.createMessage = function(t, e) {
        return new UTStadiumMessage(t,e)
    }
    ,
    UTStadiumMessageProducer.prototype.publishMessage = function(t) {
        services.MessageQueue.enqueue(t)
    }
    ,
    UTStadiumMessageProducer
}(EAObject))
  , UTPseudoTableView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPseudoTableView() {
        var t = e.call(this) || this;
        return t._rowGroups = [],
        t
    }
    return __extends(UTPseudoTableView, e),
    UTPseudoTableView.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this._rowGroups = []
    }
    ,
    UTPseudoTableView.prototype.addRowGroup = function(t) {
        if (t) {
            var r = document.createElement("ul");
            DOMKit.addClass(r, UTPseudoTableView.CLASS.TABLE_HEAD),
            this.getRootElement().appendChild(r),
            t.forEach(function(t, e) {
                var i = document.createElement("li");
                i.textContent = t,
                DOMKit.addClass(i, UTPseudoTableView.CLASS.TABLE_DATA),
                r.appendChild(i)
            })
        }
        var e = document.createElement("ul");
        return DOMKit.addClass(e, UTPseudoTableView.CLASS.TABLE_BODY),
        this.getRootElement().appendChild(e),
        this._rowGroups.push(e),
        this._rowGroups.length
    }
    ,
    UTPseudoTableView.prototype.addRowData = function(t, r, e) {
        var o = this;
        0 === this._rowGroups.length && this.addRowGroup();
        var i = JSUtils.isNumber(e) ? this._rowGroups[e] : this._rowGroups[this._rowGroups.length - 1]
          , n = document.createElement("li");
        DOMKit.addClass(n, UTPseudoTableView.CLASS.TABLE_ROW),
        i.appendChild(n),
        t.forEach(function(t, e) {
            var i = document.createElement("div");
            DOMKit.addClass(i, UTPseudoTableView.CLASS.TABLE_DATA),
            JSUtils.isString(t) || JSUtils.isNumber(t) ? i.textContent = t.toString() : t instanceof EAView ? (i.appendChild(t.getRootElement()),
            o.addSubview(t, i)) : t instanceof Element && i.appendChild(t),
            n.appendChild(i),
            Array.isArray(r) && e < r.length && !JSUtils.isEmpty(r[e]) && DOMKit.addClass(i, r[e])
        }, this)
    }
    ,
    UTPseudoTableView.CLASS = {
        TABLE_ROW: "table-row",
        TABLE_HEAD: "table-header-group",
        TABLE_BODY: "table-row-group",
        TABLE_DATA: "table-cell"
    },
    UTPseudoTableView.Style = {
        NONE: "",
        ALTERNATING: "alternating"
    },
    UTPseudoTableView
}(EAView));
UTPseudoTableView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("table"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPseudoTableView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTPseudoTableView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTProgressBarView = function(e) {
    function UTProgressBarView() {
        var t = e.call(this) || this;
        return t.progress = 0,
        t
    }
    return __extends(UTProgressBarView, e),
    UTProgressBarView.prototype.setProgress = function(t) {
        (t = Math.max(Math.min(t, 100), 0)) !== this.progress && (this.progress = t,
        this.__fill.style.width = this.progress + "%",
        this.toggleClass("in-progress", 0 <= this.progress),
        this.toggleClass("completed", 100 <= this.progress))
    }
    ,
    UTProgressBarView.prototype.setProgressLabel = function(t) {
        this.__label.textContent = t
    }
    ,
    UTProgressBarView.prototype.setFeedbackState = function(t) {
        var e = JSUtils.getObjectValues(enums.UIFeedbackState);
        0 <= e.indexOf(t) && (this.removeClass(e.join(" ")),
        this.addClass(t))
    }
    ,
    UTProgressBarView
}(EAView);
UTProgressBarView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-progress-bar"),
        this.__fill = document.createElement("div"),
        this.__fill.classList.add("ut-progress-bar--fill"),
        t.appendChild(this.__fill),
        this.__label = document.createElement("span"),
        this.__label.classList.add("ut-progress-bar--label"),
        t.appendChild(this.__label),
        this.__root = t,
        this._generated = !0
    }
}
,
UTProgressBarView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__fill = null,
    this.__label = null
}
,
UTProgressBarView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSquadChemistrySectionHeaderView = function(t) {
    function UTSquadChemistrySectionHeaderView() {
        return t.call(this) || this
    }
    return __extends(UTSquadChemistrySectionHeaderView, t),
    UTSquadChemistrySectionHeaderView.prototype.setTitle = function(t) {
        this.__label.textContent = t
    }
    ,
    UTSquadChemistrySectionHeaderView
}(EAView);
UTSquadChemistrySectionHeaderView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-squad-chemistry-section-header-view"),
        this.__label = document.createElement("span"),
        t.appendChild(this.__label),
        this.__root = t,
        this._generated = !0
    }
}
,
UTSquadChemistrySectionHeaderView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null
}
,
UTSquadChemistrySectionHeaderView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
__spreadArrays = this && this.__spreadArrays || function() {
    for (var t = 0, e = 0, i = arguments.length; e < i; e++)
        t += arguments[e].length;
    var r = Array(t)
      , o = 0;
    for (e = 0; e < i; e++)
        for (var n = arguments[e], a = 0, s = n.length; a < s; a++,
        o++)
            r[o] = n[a];
    return r
}
;
var UTCompareActionPanelView = function(r) {
    function UTCompareActionPanelView() {
        var t = r.call(this) || this;
        return t._progressBars = [],
        t._progressBarsOther = [],
        t._stats = [],
        t._statsOther = [],
        t._labels = [],
        t.entryViews = [],
        t
    }
    return __extends(UTCompareActionPanelView, r),
    UTCompareActionPanelView.prototype.dealloc = function() {
        this.entryViews.forEach(function(t) {
            return t.dealloc()
        }),
        r.prototype.dealloc.call(this)
    }
    ,
    UTCompareActionPanelView.prototype.init = function() {
        DOMKit.toggleDisplayStyle(this.__chemistryContainer, !1);
        for (var t = ["value", "", "", "", "value"], e = PLAYER_STAT_NAMES.length + 1, i = 0; i < e; i++)
            this._progressBars.push(new UTProgressBarView),
            DOMKit.addClass(this._progressBars[i].getRootElement(), "stats-progress-bar reverse"),
            this._progressBarsOther.push(new UTProgressBarView),
            DOMKit.addClass(this._progressBarsOther[i].getRootElement(), "stats-progress-bar"),
            this._labels.push(document.createElement("span")),
            this._stats.push(document.createElement("span")),
            this._statsOther.push(document.createElement("span")),
            this._attributesTable.addRowData([this._stats[i], this._progressBars[i].getRootElement(), this._labels[i], this._progressBarsOther[i].getRootElement(), this._statsOther[i]], t);
        this.setupChemToggle(),
        this.layoutSubviews(),
        r.prototype.init.call(this)
    }
    ,
    UTCompareActionPanelView.prototype._canCompare = function(t, e) {
        return !(!t || !e) && (t.compareType(e) && t.isGK() === e.isGK())
    }
    ,
    UTCompareActionPanelView.prototype.clearRoles = function() {
        this.__roleLabel.textContent = "",
        this.__roleLabelOther.textContent = "",
        this.__roleBonus.textContent = "",
        this.__roleBonusOther.textContent = ""
    }
    ,
    UTCompareActionPanelView.prototype.render = function(t, e, i) {
        void 0 === i && (i = [0, 0]);
        var r = services.Localization;
        this.__positionLabel.textContent = r.localize("card.title.position") + ":",
        this.__positionLabelOther.textContent = r.localize("card.title.position") + ":",
        this.__position.textContent = "",
        this.__positionOther.textContent = "";
        var o = "statIncrease"
          , n = "statDecrease"
          , a = t.getAttributes().concat(i[0])
          , s = a.length
          , l = this._canCompare(t, e)
          , c = UTSquadEntity.TOTAL_MAX_CHEM
          , u = [];
        if (DOMKit.toggleDisplayStyle(this.__attributesContainer, !(t.isManager() || (null == e ? void 0 : e.isManager()))),
        this.__attributesTitle.textContent = r.localize("compare.title.attributes"),
        e) {
            u = this.setupLabelKeys(e.isGK()),
            e.isValid() && (e.isManager() ? this.__positionOther.textContent = r.localize("extendedPlayerInfo.positions.manager") : this.__positionOther.textContent = UTLocalizationUtil.positionIdToName(e.preferredPosition, r, e.gender));
            var p = e.getAttributes().concat(i[1]);
            for (m = 0; m < p.length; m++) {
                var d = a[m] < p[m] && l
                  , h = a[m] > p[m] && l
                  , y = (T = "cards.cardfront.chemistryAbbr" === u[m]) ? Math.round(p[m] / c * 100) : p[m];
                if (this._labels[m].textContent = r.localize(u[m], [], {
                    gender: t.gender
                }),
                this._progressBarsOther[m].toggleClass(o, d),
                this._progressBarsOther[m].setProgress(y),
                this._progressBarsOther[m].setProgressLabel(d ? TextUtils.addSignToNum(p[m] - a[m]) : ""),
                this._statsOther[m].textContent = p[m].toString(),
                this._progressBarsOther[m].removeClass(n),
                DOMKit.removeClass(this._statsOther[m], n),
                T && h) {
                    var _ = Math.max(35, y);
                    this._progressBarsOther[m].addClass(n),
                    this._progressBarsOther[m].setProgressLabel(TextUtils.addSignToNum(p[m] - a[m])),
                    this._progressBarsOther[m].setProgress(_),
                    DOMKit.toggleClass(this._statsOther[m], n, h)
                } else
                    this._progressBars[m].toggleClass(o, h),
                    this._progressBars[m].setProgressLabel(h ? TextUtils.addSignToNum(a[m] - p[m]) : ""),
                    DOMKit.toggleClass(this._statsOther[m], o, d),
                    DOMKit.toggleClass(this._stats[m], o, h)
            }
        } else
            for (var m = 0; m < s; m++)
                this._progressBarsOther[m].setProgress(0),
                this._progressBarsOther[m].setProgressLabel(""),
                this._progressBarsOther[m].removeClass(o),
                this._statsOther[m].textContent = BLANK_STR,
                DOMKit.removeClass(this._statsOther[m], o);
        if (t.isValid()) {
            u = this.setupLabelKeys(t.isGK()),
            t.isValid() && (t.isManager() ? this.__position.textContent = r.localize("extendedPlayerInfo.positions.manager") : this.__position.textContent = UTLocalizationUtil.positionIdToName(t.preferredPosition, r, t.gender));
            for (m = 0; m < s; m++) {
                var T;
                y = (T = "cards.cardfront.chemistryAbbr" === u[m]) ? Math.round(a[m] / c * 100) : a[m];
                this._labels[m].textContent = r.localize(u[m]),
                this._progressBars[m].setProgress(y),
                this._stats[m].textContent = a[m].toString()
            }
        } else
            for (var m = 0; m < s; m++)
                this._progressBars[m].setProgress(0),
                this._progressBars[m].setProgressLabel(""),
                this._progressBars[m].removeClass(o),
                this._stats[m].textContent = BLANK_STR,
                DOMKit.removeClass(this._stats[m], o)
    }
    ,
    UTCompareActionPanelView.prototype.renderPlusRoleBonus = function() {
        this.__roleBonus.textContent = "+"
    }
    ,
    UTCompareActionPanelView.prototype.renderPlusPlusRoleBonus = function() {
        this.__roleBonus.textContent = "++"
    }
    ,
    UTCompareActionPanelView.prototype.renderPlusRoleBonusOther = function() {
        this.__roleBonusOther.textContent = "+"
    }
    ,
    UTCompareActionPanelView.prototype.renderPlusPlusRoleBonusOther = function() {
        this.__roleBonusOther.textContent = "++"
    }
    ,
    UTCompareActionPanelView.prototype.setRoleLabel = function(t) {
        this.__roleLabel.textContent = t
    }
    ,
    UTCompareActionPanelView.prototype.setRoleLabelOther = function(t) {
        this.__roleLabelOther.textContent = t
    }
    ,
    UTCompareActionPanelView.prototype.clearHeaderAndEntries = function() {
        this.entryViews.forEach(function(t) {
            return t.dealloc()
        }),
        this.entryViews = [],
        this.removeSubviews()
    }
    ,
    UTCompareActionPanelView.prototype.setupLabelKeys = function(t) {
        var e = __spreadArrays(t ? GK_STAT_NAMES : PLAYER_STAT_NAMES);
        return e.includes("cards.cardfront.chemistryAbbr") || e.push("cards.cardfront.chemistryAbbr"),
        e
    }
    ,
    UTCompareActionPanelView.prototype.renderChemistryComparison = function(t, e, i, r, o) {
        var n = i.chemistry;
        this.setChemistry(n),
        this.setParameterChemistry(t, e, i.getParameterChemistry(), r, o)
    }
    ,
    UTCompareActionPanelView.prototype.setChemistry = function(t) {
        var e = services.Localization
          , i = t.toString()
          , r = UTSquadEntity.TOTAL_MAX_CHEM.toString()
          , o = e.localize("squad.chemistry.fraction", [i, r])
          , n = e.localize("squad.chemistry.label") + " " + o;
        this.__chemistryTitle.textContent = n
    }
    ,
    UTCompareActionPanelView.prototype.setParameterChemistry = function(e, i, r, o, n) {
        var a = this;
        if (this.entryViews.forEach(function(t) {
            return t.dealloc()
        }),
        i) {
            var t = services.Localization.localize("squad.chemistry.section-title.replacement", [], {
                gender: i.gender
            });
            this.entryViews.push(this.generateSectionHeaderView(t)),
            r.filter(function(t) {
                return t.typeId === ChemistryParamId.NATION && t.metaId === i.nationId || t.typeId === ChemistryParamId.LEAGUE && t.metaId === i.leagueId || t.typeId === ChemistryParamId.CLUB && t.metaId === i.teamId
            }).sort(function(t, e) {
                return t.typeId - e.typeId
            }).forEach(function(e) {
                var t = o.find(function(t) {
                    return t.metaId === e.metaId && t.typeId === e.typeId
                });
                a.entryViews.push(n ? a.generateEntryView(e, null != t ? t : null) : a.generateCollapsedEntryView(e, null != t ? t : null))
            })
        }
        this.entryViews.push(this.generateSectionHeaderView(services.Localization.localize("squad.chemistry.section-title.current", [], {
            gender: e.gender
        }))),
        o.filter(function(t) {
            return t.typeId === ChemistryParamId.NATION && t.metaId === e.nationId || t.typeId === ChemistryParamId.LEAGUE && t.metaId === e.leagueId || t.typeId === ChemistryParamId.CLUB && t.metaId === e.teamId
        }).sort(function(t, e) {
            return t.typeId - e.typeId
        }).forEach(function(e) {
            var t = r.find(function(t) {
                return t.metaId === e.metaId && t.typeId === e.typeId
            });
            a.entryViews.push(n ? a.generateEntryView(null != t ? t : null, e) : a.generateCollapsedEntryView(null != t ? t : null, e))
        }),
        0 < this.entryViews.length && (this.addSubview(n ? this.generateFullHeaderView() : this.generateCondensedHeaderView(), this.__chemistryEntries),
        this.entryViews.forEach(function(t) {
            return a.addSubview(t, a.__chemistryEntries)
        }),
        this.layoutSubviews(),
        DOMKit.toggleDisplayStyle(this.__chemistryContainer, 0 < this.entryViews.length))
    }
    ,
    UTCompareActionPanelView.prototype.generateEntryView = function(t, e) {
        var i = new UTSquadChemistryFullEntryView;
        return i.init(),
        i.renderWithDiff(t, e),
        i
    }
    ,
    UTCompareActionPanelView.prototype.generateCollapsedEntryView = function(t, e) {
        var i = new UTSquadChemistryCondensedEntryView;
        return i.init(),
        i.renderWithDiff(t, e),
        i
    }
    ,
    UTCompareActionPanelView.prototype.generateCondensedHeaderView = function() {
        var t = new UTSquadChemistryCondensedHeaderView;
        return t.init(),
        t.render(),
        t
    }
    ,
    UTCompareActionPanelView.prototype.generateFullHeaderView = function() {
        var t = new UTSquadChemistryFullHeaderView;
        return t.init(),
        t.render(),
        t
    }
    ,
    UTCompareActionPanelView.prototype.generateSectionHeaderView = function(t) {
        var e = new UTSquadChemistrySectionHeaderView;
        return e.init(),
        e.setTitle(t),
        e
    }
    ,
    UTCompareActionPanelView.prototype.setupChemToggle = function() {
        this._fullViewChemToggle.init(),
        this._fullViewChemToggle.addToggleCell(UTSquadChemistryPopupView.CHEM_FULLVIEW_SLIDER, services.Localization.localize("squad.chemistry.fullview.title"))
    }
    ,
    UTCompareActionPanelView.prototype.getCollapsedChemToggle = function() {
        return this._fullViewChemToggle
    }
    ,
    UTCompareActionPanelView.prototype.appendSwapButton = function(t) {
        this.addSubview(t, this.__btnContainer)
    }
    ,
    UTCompareActionPanelView.CHEM_FULLVIEW_SLIDER = "chemFullEnabled",
    UTCompareActionPanelView
}(EAView);
UTCompareActionPanelView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("section");
        t.classList.add("ut-compare-items-panel-view"),
        t.classList.add("DetailPanel");
        var e = document.createElement("div");
        e.classList.add("extended");
        var i = document.createElement("div");
        i.classList.add("compare-positions");
        var r = document.createElement("div");
        r.classList.add("compare-positions--cell");
        var o = document.createElement("div");
        o.classList.add("compare-positions--position"),
        this.__positionLabel = document.createElement("span"),
        o.appendChild(this.__positionLabel),
        this.__position = document.createElement("span"),
        o.appendChild(this.__position),
        r.appendChild(o);
        var n = document.createElement("div");
        n.classList.add("compare-positions--cell-role"),
        this.__roleLabel = document.createElement("span"),
        n.appendChild(this.__roleLabel),
        this.__roleBonus = document.createElement("span"),
        this.__roleBonus.classList.add("compare-positions--cell-role-bonus"),
        n.appendChild(this.__roleBonus),
        r.appendChild(n),
        i.appendChild(r);
        var a = document.createElement("div");
        a.classList.add("compare-positions--cell");
        var s = document.createElement("div");
        s.classList.add("compare-positions--position"),
        this.__positionLabelOther = document.createElement("span"),
        s.appendChild(this.__positionLabelOther),
        this.__positionOther = document.createElement("span"),
        s.appendChild(this.__positionOther),
        a.appendChild(s);
        var l = document.createElement("div");
        l.classList.add("compare-positions--cell-role"),
        this.__roleLabelOther = document.createElement("span"),
        l.appendChild(this.__roleLabelOther),
        this.__roleBonusOther = document.createElement("span"),
        this.__roleBonusOther.classList.add("compare-positions--cell-role-bonus"),
        l.appendChild(this.__roleBonusOther),
        a.appendChild(l),
        i.appendChild(a),
        e.appendChild(i),
        this.__btnContainer = document.createElement("div"),
        this.__btnContainer.classList.add("ut-compare-items-panel-view--btn-container"),
        e.appendChild(this.__btnContainer),
        t.appendChild(e),
        this.__chemistryContainer = document.createElement("div"),
        this.__chemistryContainer.classList.add("ut-compare-items-panel-view--chemistry"),
        this._fullViewChemToggle = new UTToggleControlGroupView,
        this.__chemistryContainer.appendChild(this._fullViewChemToggle.getRootElement()),
        this.__chemistryTitle = document.createElement("h2"),
        this.__chemistryContainer.appendChild(this.__chemistryTitle),
        this.__chemistryEntries = document.createElement("div"),
        this.__chemistryContainer.appendChild(this.__chemistryEntries),
        t.appendChild(this.__chemistryContainer),
        this.__attributesContainer = document.createElement("div"),
        this.__attributesContainer.classList.add("ut-compare-items-panel-view--attributes"),
        this.__attributesTitle = document.createElement("h2"),
        this.__attributesContainer.appendChild(this.__attributesTitle),
        this._attributesTable = new UTPseudoTableView,
        this._attributesTable.getRootElement().classList.add("stats-table"),
        this.__attributesContainer.appendChild(this._attributesTable.getRootElement()),
        t.appendChild(this.__attributesContainer),
        this.__root = t,
        this._generated = !0
    }
}
,
UTCompareActionPanelView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__positionLabel = null,
    this.__position = null,
    this.__roleLabel = null,
    this.__roleBonus = null,
    this.__positionLabelOther = null,
    this.__positionOther = null,
    this.__roleLabelOther = null,
    this.__roleBonusOther = null,
    this.__btnContainer = null,
    this.__chemistryContainer = null,
    this._fullViewChemToggle.destroy(),
    this.__chemistryTitle = null,
    this.__chemistryEntries = null,
    this.__attributesContainer = null,
    this.__attributesTitle = null,
    this._attributesTable.destroy()
}
,
UTCompareActionPanelView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTCompareActionPanelViewController = function(e) {
    function UTCompareActionPanelViewController() {
        var t = e.call(this) || this;
        return t.chemCalculator = new UTSquadChemCalculatorUtils(services.Chemistry,repositories.TeamConfig),
        t._btnSwap = null,
        t.onSwap = new EAObservable,
        t.isFullViewToggled = !1,
        t.currentChemistryEntries = [],
        t.hypotheticalChemistry = null,
        t.otherItem = null,
        t
    }
    return __extends(UTCompareActionPanelViewController, e),
    UTCompareActionPanelViewController.prototype.initWithSwapButton = function() {
        this._btnSwap = new UTStandardButtonControl,
        this._btnSwap.addTarget(this, this._eSwapPlayers, EventType.TAP),
        this._btnSwap.init(),
        this.init()
    }
    ,
    UTCompareActionPanelViewController.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this._btnSwap && (this._btnSwap.dealloc(),
        this._btnSwap = null)
    }
    ,
    UTCompareActionPanelViewController.prototype.setItems = function(e, i, t) {
        var r, o, n = [0, 0];
        if (t && !e.isManager()) {
            var a = t.getFormation();
            if (n[0] = t.getChemistry(),
            a && i) {
                var s = t.getFieldPlayers().map(function(t) {
                    return t.item === e ? i : t.item === i ? e : t.item
                })
                  , l = t.getManager().item
                  , c = this.chemCalculator.calculate(a, s, l);
                n[1] = c.chemistry
            }
        }
        var u = this.getView();
        if (u.clearRoles(),
        t && i) {
            var p = t.getActiveTactic()
              , d = t.getSlot(e)
              , h = t.getSlot(i)
              , y = void 0;
            y = h instanceof UTNullSquadSlotEntity ? null === (r = null == p ? void 0 : p.getRoleByPosition(d.generalPosition)) || void 0 === r ? void 0 : r.type : null === (o = null == p ? void 0 : p.getRoleByPosition(h.generalPosition)) || void 0 === o ? void 0 : o.type;
            var _ = e.getPlusRoles().map(function(t) {
                return t.type
            })
              , m = i.getPlusRoles().map(function(t) {
                return t.type
            })
              , T = e.getPlusPlusRoles().map(function(t) {
                return t.type
            })
              , f = i.getPlusPlusRoles().map(function(t) {
                return t.type
            });
            if (y) {
                var g = UTLocalizationUtil.mapTacticRoleToLocString(y, e.gender);
                u.setRoleLabel(g);
                var E = UTLocalizationUtil.mapTacticRoleToLocString(y, i.gender);
                u.setRoleLabelOther(E),
                _.includes(y) ? u.renderPlusRoleBonus() : T.includes(y) && u.renderPlusPlusRoleBonus(),
                m.includes(y) ? u.renderPlusRoleBonusOther() : f.includes(y) && u.renderPlusPlusRoleBonusOther()
            }
        }
        if (u.render(e, i, n),
        this._btnSwap && i) {
            var S = e.isManager() ? "manager" : "player"
              , v = !(i.isValid() && e.isValid() && !e.compareType(i))
              , b = services.Localization.localize("infopanel.label.swap" + S, [], {
                gender: e.gender
            });
            this._btnSwap.setInteractionState(v),
            this._btnSwap.setText(b)
        }
    }
    ,
    UTCompareActionPanelViewController.prototype.setChemistryComparison = function(t, e, i) {
        var r = t.getFormation()
          , o = t.getSlot(e)
          , n = o.isValid() && o.index < UTSquadEntity.FIELD_PLAYERS;
        if (r && i && (e.isManager() || n)) {
            var a = this.chemCalculator.calculate(r, t.getPlayers().map(function(t) {
                return t.item === e ? i : t.item
            }), i.isManager() ? i : t.getManager().item);
            this.hypotheticalChemistry = a,
            this.currentChemistryEntries = t.getParameterChemistry(),
            this.item = e,
            this.otherItem = i,
            this.renderChem()
        }
    }
    ,
    UTCompareActionPanelViewController.prototype.renderChem = function() {
        this.hypotheticalChemistry && this.getView().renderChemistryComparison(this.item, this.otherItem, this.hypotheticalChemistry, this.currentChemistryEntries, this.isFullViewToggled)
    }
    ,
    UTCompareActionPanelViewController.prototype._getViewInstanceFromData = function() {
        return new UTCompareActionPanelView
    }
    ,
    UTCompareActionPanelViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this);
        var t = this.getView();
        t.getCollapsedChemToggle().layoutSubviews(),
        t.getCollapsedChemToggle().addTarget(this, this.eChemFullViewToggled, EventType.CHANGE),
        t.getCollapsedChemToggle().toggleById(UTCompareActionPanelView.CHEM_FULLVIEW_SLIDER, !1),
        this._btnSwap && !this._btnSwap.isSubview(t) && (this._btnSwap.addClass("call-to-action"),
        t.appendSwapButton(this._btnSwap),
        t.layoutSubviews())
    }
    ,
    UTCompareActionPanelViewController.prototype.viewWillDisappear = function() {
        var t = this.getView();
        e.prototype.viewWillDisappear.call(this),
        t.getCollapsedChemToggle().removeTarget(this, this.eChemFullViewToggled, EventType.CHANGE)
    }
    ,
    UTCompareActionPanelViewController.prototype._eSwapPlayers = function(t, e, i) {
        this.onSwap.notify()
    }
    ,
    UTCompareActionPanelViewController.prototype.eChemFullViewToggled = function(t, e, i) {
        if (i.id === UTCompareActionPanelView.CHEM_FULLVIEW_SLIDER) {
            var r = this.getView();
            r.clearHeaderAndEntries(),
            this._btnSwap && !this._btnSwap.isSubview(r) && (this._btnSwap.addClass("call-to-action"),
            r.appendSwapButton(this._btnSwap),
            r.layoutSubviews()),
            i.checked ? this.isFullViewToggled = !0 : this.isFullViewToggled = !1,
            this.renderChem()
        }
    }
    ,
    UTCompareActionPanelViewController
}(EAViewController)
  , UTCompareDetailsView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTCompareDetailsView() {
        var t = e.call(this) || this;
        return t._item = null,
        t._otherItem = null,
        t
    }
    return __extends(UTCompareDetailsView, e),
    UTCompareDetailsView.prototype.dealloc = function() {
        this._item && (this._item.dealloc(),
        this._item = null),
        this._otherItem && (this._otherItem.dealloc(),
        this._otherItem = null),
        e.prototype.dealloc.call(this)
    }
    ,
    UTCompareDetailsView.prototype.setPrimaryItem = function(t) {
        this._item && !this._item.canRender(t) && (this._item.dealloc(),
        this._item = null),
        this._item ? this._item.render(t) : (this._item = this._generateItemView(t),
        this.__itemContainer.insertBefore(this._item.getRootElement(), this.__itemContainer.firstChild))
    }
    ,
    UTCompareDetailsView.prototype.setComparisonItem = function(t) {
        this._otherItem && !this._otherItem.canRender(t) && (this._otherItem.dealloc(),
        this._otherItem = null),
        this._otherItem ? this._otherItem.render(t) : (this._otherItem = this._generateItemView(t),
        this.__itemContainer.appendChild(this._otherItem.getRootElement()))
    }
    ,
    UTCompareDetailsView.prototype.render = function(t, e) {
        this.setPrimaryItem(t),
        this.setComparisonItem(null != e ? e : factories.Item.createItem())
    }
    ,
    UTCompareDetailsView.prototype._generateItemView = function(t) {
        var e = factories.ItemView.createLargeItem(t);
        return e.init(),
        e.render(t),
        e.addClass("sm"),
        e
    }
    ,
    UTCompareDetailsView.prototype.renderChemistryComparison = function(t, e, i) {
        var r, o, n, a, s = new UTSquadSlotChemistryPointsView;
        s.isItemView(),
        s.render(e.points, 0, i),
        s.setState(UTSquadSlotChemistryPointsView.State.NEUTRAL),
        null === (r = this._item) || void 0 === r || r.renderChemistryPoints(s),
        null === (o = this._item) || void 0 === o || o.renderChemistryBreakdown(e.points, e.getPointsByParameter(ChemistryParamId.NATION), e.getPointsByParameter(ChemistryParamId.LEAGUE), e.getPointsByParameter(ChemistryParamId.CLUB));
        var l = new UTSquadSlotChemistryPointsView;
        l.isItemView(),
        l.render(t.points),
        l.setState(UTSquadSlotChemistryPointsView.State.NEUTRAL),
        null === (n = this._otherItem) || void 0 === n || n.renderChemistryPoints(l),
        null === (a = this._otherItem) || void 0 === a || a.renderChemistryBreakdown(t.points, t.getPointsByParameter(ChemistryParamId.NATION), t.getPointsByParameter(ChemistryParamId.LEAGUE), t.getPointsByParameter(ChemistryParamId.CLUB))
    }
    ,
    UTCompareDetailsView.prototype.appendPanel = function(t) {
        this.addSubview(t)
    }
    ,
    UTCompareDetailsView.prototype.setAsSBC = function(t) {
        this.toggleClass("sbc", t)
    }
    ,
    UTCompareDetailsView
}(EAView));
UTCompareDetailsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("section");
        t.classList.add("CompareDetails"),
        t.classList.add("DetailView");
        var e = document.createElement("section");
        e.classList.add("detail-carousel"),
        e.classList.add("panelContainer"),
        this.__itemContainer = document.createElement("div"),
        this.__itemContainer.classList.add("item-container"),
        e.appendChild(this.__itemContainer),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTCompareDetailsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__itemContainer = null
}
,
UTCompareDetailsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSwapComparePlayersViewController = function(e) {
    function UTSwapComparePlayersViewController() {
        var t = e.call(this) || this;
        return t.chemCalculator = new UTSquadChemCalculatorUtils(services.Chemistry,repositories.TeamConfig),
        t.onSwap = new EAObservable,
        t.panel = new UTCompareActionPanelViewController,
        t
    }
    return __extends(UTSwapComparePlayersViewController, e),
    UTSwapComparePlayersViewController.prototype.init = function() {
        this.initialized || (this.panel.initWithSwapButton(),
        this.panel.onSwap.observe(this, this.onSwapSelected),
        this.addChildViewController(this.panel),
        e.prototype.init.call(this))
    }
    ,
    UTSwapComparePlayersViewController.prototype.dealloc = function() {
        this.onSwap.dealloc(),
        this.panel.dealloc(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTSwapComparePlayersViewController.prototype._getViewInstanceFromData = function() {
        return new UTCompareDetailsView
    }
    ,
    UTSwapComparePlayersViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("leaderboard.compare.Title")
    }
    ,
    UTSwapComparePlayersViewController.prototype.viewDidAppear = function() {
        e.prototype.viewDidAppear.call(this);
        var t = this.getView();
        this.panel && !this.panel.getView().isSubview(t) && (t.appendPanel(this.panel.getView()),
        t.layoutSubviews(),
        this.panel.viewDidAppear())
    }
    ,
    UTSwapComparePlayersViewController.prototype.setItemData = function(t, e, i) {
        this.getView().render(t, e),
        this.panel.setItems(t, e, i)
    }
    ,
    UTSwapComparePlayersViewController.prototype.setChemistryData = function(t, e, i) {
        this.panel.setChemistryComparison(t, e, i);
        var r = t.getFormation()
          , o = t.getFieldPlayers().find(function(t) {
            return t.item === e
        });
        if (o && r && i) {
            var n = this.chemCalculator.calculate(r, t.getPlayers().map(function(t) {
                return t.item
            }), t.getManager().item)
              , a = this.chemCalculator.calculate(r, t.getPlayers().map(function(t) {
                return t.index === o.index ? i : t.item
            }), i.isManager() ? i : t.getManager().item);
            this.getView().renderChemistryComparison(a.getSlotChemistry(o.index), n.getSlotChemistry(o.index), o.inPossiblePosition)
        }
    }
    ,
    UTSwapComparePlayersViewController.prototype.onSwapSelected = function(t) {
        this.onSwap.notify()
    }
    ,
    UTSwapComparePlayersViewController
}(EAViewController)
  , UTPinnedItemViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTPinnedItemViewController() {
        var t = e.call(this) || this;
        return t.collection = null,
        t.item = null,
        t.onItemChange = new EAObservable,
        t.slot = null,
        t
    }
    return __extends(UTPinnedItemViewController, e),
    UTPinnedItemViewController.prototype.init = function() {
        e.prototype.init.call(this);
        var t = this.getView();
        t.init(),
        t.toggleIteratorButtons(JSUtils.isValid(this.collection)),
        t.getBtnRight().addTarget(this, this.onNextButtonSelected, EventType.TAP),
        t.getBtnLeft().addTarget(this, this.onPrevButtonSelected, EventType.TAP),
        this.collection && (t.setHasNext(!this.collection.endOfList),
        t.setHasPrev(!this.collection.startOfList))
    }
    ,
    UTPinnedItemViewController.prototype.initWithItem = function(t) {
        this.setItem(t),
        this.init()
    }
    ,
    UTPinnedItemViewController.prototype.initWithSlot = function(t) {
        this.slot = t,
        this.initWithItem(t.item)
    }
    ,
    UTPinnedItemViewController.prototype.initWithIterator = function(t) {
        var e = t.current();
        this.collection = t,
        e instanceof UTSquadSlotEntity ? this.initWithSlot(e) : e instanceof UTItemEntity ? this.initWithItem(e) : this.init()
    }
    ,
    UTPinnedItemViewController.prototype.dealloc = function() {
        var t;
        e.prototype.dealloc.call(this),
        null === (t = this.item) || void 0 === t || t.getAuctionData().onDataUpdated.unobserve(this),
        this.item = null,
        this.slot = null,
        this.onItemChange.dealloc()
    }
    ,
    UTPinnedItemViewController.prototype._getViewInstanceFromData = function() {
        return new UTPinnedItemTableCellView
    }
    ,
    UTPinnedItemViewController.prototype.viewDidAppear = function() {
        if (e.prototype.viewDidAppear.call(this),
        this.collection) {
            var t = this.getView();
            t.setHasNext(-1 !== this.getNextIndex(this.collection)),
            t.setHasPrev(-1 !== this.getPrevIndex(this.collection))
        }
    }
    ,
    UTPinnedItemViewController.prototype.setItem = function(t) {
        var e, i = this.getView(), r = t.getAuctionData();
        if (null === (e = this.item) || void 0 === e || e.getAuctionData().onDataUpdated.unobserve(this),
        this.item = t,
        this.slot && this.slot.index < UTSquadEntity.FIELD_PLAYERS) {
            i.pinListItem(t, this.slot);
            var o = new UTSquadSlotChemistryPointsView;
            o.isItemView(),
            o.render(this.slot.chemistry, 0, this.slot.inPossiblePosition),
            o.setState(UTSquadSlotChemistryPointsView.State.NEUTRAL),
            i.setChemistryPointsComponent(o),
            i.renderChemistryBreakdown(this.slot.chemistry, this.slot.nationChemistryPoints, this.slot.leagueChemistryPoints, this.slot.clubChemistryPoints)
        } else
            i.pinListItem(t);
        r.isValid() && r.onDataUpdated.observe(this, this.onTimedUpdate)
    }
    ,
    UTPinnedItemViewController.prototype.getItem = function() {
        return this.item
    }
    ,
    UTPinnedItemViewController.prototype.setSlot = function(t) {
        this.slot = t,
        this.setItem(this.slot.item)
    }
    ,
    UTPinnedItemViewController.prototype.getNextIndex = function(t) {
        for (var e = t.getIndex() + 1, i = t.get(e); null !== i; ) {
            if (!(i instanceof UTSquadSlotEntity ? i.item : i).isCustomBrick())
                return e;
            i = t.get(++e)
        }
        return -1
    }
    ,
    UTPinnedItemViewController.prototype.getPrevIndex = function(t) {
        for (var e = t.getIndex() - 1, i = t.get(e); null !== i; ) {
            if (!(i instanceof UTSquadSlotEntity ? i.item : i).isCustomBrick())
                return e;
            i = t.get(--e)
        }
        return -1
    }
    ,
    UTPinnedItemViewController.prototype.onTimedUpdate = function() {
        this.getView().onTimedUpdate()
    }
    ,
    UTPinnedItemViewController.prototype.refresh = function() {
        this.getView().refreshItem()
    }
    ,
    UTPinnedItemViewController.prototype.onPrevButtonSelected = function(t, e, i) {
        if (this.collection && !this.collection.startOfList) {
            this.collection.setIndex(this.getPrevIndex(this.collection));
            var r = this.collection.current()
              , o = this.getView();
            r instanceof UTSquadSlotEntity ? this.setSlot(r) : r instanceof UTItemEntity && this.setItem(r),
            o.setHasNext(-1 !== this.getNextIndex(this.collection)),
            o.setHasPrev(-1 !== this.getPrevIndex(this.collection)),
            this.onItemChange.notify(r)
        }
    }
    ,
    UTPinnedItemViewController.prototype.onNextButtonSelected = function(t, e, i) {
        if (this.collection && !this.collection.endOfList) {
            this.collection.setIndex(this.getNextIndex(this.collection));
            var r = this.collection.current()
              , o = this.getView();
            r instanceof UTSquadSlotEntity ? this.setSlot(r) : r instanceof UTItemEntity && this.setItem(r),
            o.setHasNext(-1 !== this.getNextIndex(this.collection)),
            o.setHasPrev(-1 !== this.getPrevIndex(this.collection)),
            this.onItemChange.notify(r)
        }
    }
    ,
    UTPinnedItemViewController
}(EAViewController))
  , UTClubItemSearchHeaderView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTClubItemSearchHeaderView() {
        return t.call(this) || this
    }
    return __extends(UTClubItemSearchHeaderView, t),
    UTClubItemSearchHeaderView.prototype.init = function() {
        t.prototype.init.call(this),
        this._btnSearch.init(),
        this._btnSearch.setText(services.Localization.localize("button.search"))
    }
    ,
    UTClubItemSearchHeaderView.prototype.getButton = function() {
        return this._btnSearch
    }
    ,
    UTClubItemSearchHeaderView.prototype.setTitle = function(t) {
        this.__title.textContent = t
    }
    ,
    UTClubItemSearchHeaderView.prototype.getTitle = function() {
        var t;
        return null !== (t = this.__title.textContent) && void 0 !== t ? t : ""
    }
    ,
    UTClubItemSearchHeaderView.prototype.setImagesFromImgLoader = function(t) {
        var e = this;
        DOMKit.empty(this.__imageContainer),
        t.forEach(function(t) {
            return e.__imageContainer.appendChild(t.getRootElement())
        })
    }
    ,
    UTClubItemSearchHeaderView.prototype.toggleSearch = function(t) {
        this.__searchContainer && DOMKit.toggleDisplayStyle(this.__searchContainer, t)
    }
    ,
    UTClubItemSearchHeaderView
}(EAView));
UTClubItemSearchHeaderView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-list-header"),
        this.__imageContainer = document.createElement("span"),
        this.__imageContainer.classList.add("ut-list-header-icon"),
        t.appendChild(this.__imageContainer),
        this.__title = document.createElement("span"),
        this.__title.classList.add("ut-list-header-title"),
        t.appendChild(this.__title),
        this.__searchContainer = document.createElement("span"),
        this.__searchContainer.classList.add("ut-list-header-action"),
        this._btnSearch = new UTStandardButtonControl,
        this._btnSearch.getRootElement().classList.add("mini"),
        this._btnSearch.getRootElement().classList.add("call-to-action"),
        this.__searchContainer.appendChild(this._btnSearch.getRootElement()),
        t.appendChild(this.__searchContainer),
        this.__root = t,
        this._generated = !0
    }
}
,
UTClubItemSearchHeaderView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__imageContainer = null,
    this.__title = null,
    this.__searchContainer = null,
    this._btnSearch.destroy()
}
,
UTClubItemSearchHeaderView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var BaseNoResultsView = function(t) {
    function BaseNoResultsView() {
        return t.call(this) || this
    }
    return __extends(BaseNoResultsView, t),
    BaseNoResultsView.prototype.setHeading = function(t) {
        this.__title.innerHTML = t
    }
    ,
    BaseNoResultsView.prototype.setDescription = function(t) {
        this.__description.innerHTML = t
    }
    ,
    BaseNoResultsView.prototype.setIconClass = function(t) {
        var e = "icon_" + t;
        this.iconClass && DOMKit.removeClass(this.__icon, this.iconClass),
        DOMKit.addClass(this.__icon, e),
        this.iconClass = e
    }
    ,
    BaseNoResultsView
}(EAView);
BaseNoResultsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("base-no-results-view");
        var e = document.createElement("div");
        e.classList.add("contents"),
        this.__icon = document.createElement("span"),
        this.__icon.classList.add("base-no-results-icon"),
        e.appendChild(this.__icon),
        this.__title = document.createElement("h2"),
        this.__title.classList.add("base-no-results-title"),
        e.appendChild(this.__title),
        this.__description = document.createElement("p"),
        this.__description.classList.add("base-no-results-description"),
        e.appendChild(this.__description),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
BaseNoResultsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__icon = null,
    this.__title = null,
    this.__description = null
}
,
BaseNoResultsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTListNoResultsView = function(t) {
    function UTListNoResultsView() {
        return t.call(this) || this
    }
    return __extends(UTListNoResultsView, t),
    UTListNoResultsView.prototype.init = function() {
        t.prototype.init.call(this),
        this._button.init(),
        this._button.setDisplay(!1)
    }
    ,
    UTListNoResultsView.prototype.setupButton = function(t, e) {
        this._button.addTarget(this, e, EventType.TAP),
        this._button.setText(t),
        this._button.setDisplay(!0)
    }
    ,
    UTListNoResultsView
}(BaseNoResultsView);
UTListNoResultsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-no-results-view");
        var e = document.createElement("div");
        e.classList.add("contents");
        var i = document.createElement("span");
        i.classList.add("no-results-icon"),
        e.appendChild(i),
        this.__title = document.createElement("h2"),
        e.appendChild(this.__title),
        this.__description = document.createElement("p"),
        e.appendChild(this.__description),
        this._button = new UTStandardButtonControl,
        this._button.getRootElement().classList.add("call-to-action"),
        e.appendChild(this._button.getRootElement()),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTListNoResultsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this.__description = null,
    this._button.destroy()
}
,
UTListNoResultsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPaginatedItemListView = function(e) {
    function UTPaginatedItemListView() {
        var t = e.call(this) || this;
        return t.listRows = [],
        t.noResultsView = null,
        t.paginationDirection = !0,
        t
    }
    return __extends(UTPaginatedItemListView, e),
    UTPaginatedItemListView.prototype.init = function() {
        e.prototype.init.call(this),
        this._botPrev.addTarget(this, this._ePreviousPage, EventType.TAP),
        this._botPrev.setText(services.Localization.localize("label.prev")),
        this._botPrev.init(),
        this._botNext.addTarget(this, this._eNextPage, EventType.TAP),
        this._botNext.setText(services.Localization.localize("label.next")),
        this._botNext.init(),
        this.setPaginationState(!1, !1),
        this.setInteractionState(!0)
    }
    ,
    UTPaginatedItemListView.prototype.setScrollInertia = function(t) {
        t ? (this.__itemList.style.removeProperty("-webkit-overflow-scrolling"),
        this.__itemList.style.removeProperty("scroll-behavior")) : (this.__itemList.style.scrollBehavior = "auto",
        this.__itemList.style["-webkit-overflow-scrolling"] = "touch")
    }
    ,
    UTPaginatedItemListView.prototype.dealloc = function() {
        this.removeListRows(),
        this.noResultsView && (this.noResultsView.dealloc(),
        this.noResultsView = null),
        e.prototype.dealloc.call(this)
    }
    ,
    UTPaginatedItemListView.prototype.removeListRows = function() {
        0 < this.listRows.length && (this.listRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.listRows = [])
    }
    ,
    UTPaginatedItemListView.prototype.setItems = function(t) {
        return this.removeListRows(),
        this.listRows = t.map(function(t) {
            var e = new UTItemTableCellView;
            return e.setData(t),
            e
        }),
        this.listRows
    }
    ,
    UTPaginatedItemListView.prototype.setItemsForAcademy = function(t, a, s) {
        var l = this;
        this.removeListRows(),
        t.forEach(function(t) {
            var e = new UTItemTableCellView
              , i = t.isEnrolledInAcademy() || s.includes(t.id)
              , r = a.meetsRequirements(t);
            if (i || !r || t.isLimitedUse()) {
                e.setIsActionDisabled(!0);
                var o = new UTStringListDataView
                  , n = "";
                n = r ? i ? "academy.clubsearch.playeralreadyslotted" : "academy.clubsearch.playerisloaned" : "academy.clubsearch.requirementsnotmet",
                o.render(services.Localization.localize(n)),
                e.setDataComponent(o)
            }
            e.setData(t),
            e.setDirty(!1),
            l.listRows.push(e)
        })
    }
    ,
    UTPaginatedItemListView.prototype.removeItemsById = function(t) {
        var e = this;
        t.forEach(function(i) {
            var t = JSUtils.find(e.listRows, function(t) {
                var e;
                return (null === (e = t.getData()) || void 0 === e ? void 0 : e.id) === i
            });
            t && (t.dealloc(),
            e.listRows.splice(e.listRows.indexOf(t), 1))
        }, this),
        this._renderItems()
    }
    ,
    UTPaginatedItemListView.prototype._renderItems = function(r) {
        var o = this;
        void 0 === r && (r = 0),
        this.listRows.forEach(function(t) {
            var e, i = r === (null === (e = t.getData()) || void 0 === e ? void 0 : e.id);
            t.render(i),
            o.__itemList.appendChild(t.getRootElement())
        }),
        this.noResultsView && 0 < this.listRows.length && (this.noResultsView.dealloc(),
        this.noResultsView = null)
    }
    ,
    UTPaginatedItemListView.prototype.renderItems = function(t) {
        void 0 === t && (t = 0),
        this._renderItems(t),
        this.__itemList.scrollTop = this.paginationDirection ? 0 : this.__itemList.scrollHeight
    }
    ,
    UTPaginatedItemListView.prototype.getRows = function() {
        return this.listRows
    }
    ,
    UTPaginatedItemListView.prototype.setRowTapCallback = function(e) {
        e = e || this._eItemSelected.bind(this),
        this.listRows.forEach(function(t) {
            e && t.setTapCallback(e)
        }, this)
    }
    ,
    UTPaginatedItemListView.prototype.disableRowTap = function() {
        this.listRows.forEach(function(t) {
            return t.setInteractionState(!1)
        })
    }
    ,
    UTPaginatedItemListView.prototype.setRowActionCallback = function(i) {
        var r = this;
        this.listRows.forEach(function(t) {
            var e = i || r._eItemActionSelected.bind(r, t);
            t.setAction(enums.UIRowActionClass.ADD, e),
            t.isActionDisabled() && t.disableAction()
        }, this)
    }
    ,
    UTPaginatedItemListView.prototype.setComparisonData = function(e) {
        this.listRows.forEach(function(t) {
            t.setComparisonData(e),
            t.render()
        })
    }
    ,
    UTPaginatedItemListView.prototype.setPaginationState = function(t, e) {
        this._botPrev.setDisplay(t),
        this._botNext.setDisplay(e),
        DOMKit.toggleClass(this.__itemList, "paginated", t || e),
        DOMKit.toggleDisplayStyle(this.__botPagination, t || e)
    }
    ,
    UTPaginatedItemListView.prototype.render = function(t, e, i) {
        this.setPaginationState(e, i),
        this.setItems(t),
        this.renderItems()
    }
    ,
    UTPaginatedItemListView.prototype.appendEmptyListMessage = function(t, e, i, r) {
        this.removeListRows(),
        this.noResultsView && this.noResultsView.dealloc(),
        this.noResultsView = new UTListNoResultsView,
        this.noResultsView.init(),
        this.noResultsView.setHeading(t),
        this.noResultsView.setDescription(e || services.Localization.localize("popup.error.noresults.description")),
        i && r && this.noResultsView.setupButton(i, r),
        this.getRootElement().appendChild(this.noResultsView.getRootElement())
    }
    ,
    UTPaginatedItemListView.prototype.selectRow = function(i) {
        this.listRows.forEach(function(t) {
            var e;
            return t.setSelected((null === (e = t.getData()) || void 0 === e ? void 0 : e.id) === i)
        })
    }
    ,
    UTPaginatedItemListView.prototype.setSelectedRow = function(t) {
        for (var e = 0; e < this.listRows.length; e++) {
            var i = this.listRows[e];
            i.setSelected(i === t)
        }
    }
    ,
    UTPaginatedItemListView.prototype.onTimedUpdate = function() {
        this.listRows.forEach(function(t) {
            return t.onTimedUpdate()
        })
    }
    ,
    UTPaginatedItemListView.prototype._ePreviousPage = function(t, e, i) {
        this.isInteractionEnabled() && (this.paginationDirection = !1,
        this._triggerActions(enums.UIPaginationEvent.PREVIOUS))
    }
    ,
    UTPaginatedItemListView.prototype._eNextPage = function(t, e, i) {
        this.isInteractionEnabled() && (this.paginationDirection = !0,
        this._triggerActions(enums.UIPaginationEvent.NEXT))
    }
    ,
    UTPaginatedItemListView.prototype._eItemSelected = function(t) {
        this.isInteractionEnabled() && this._triggerActions(enums.UIListEvent.ROW_SELECT, {
            item: t
        })
    }
    ,
    UTPaginatedItemListView.prototype._eItemActionSelected = function(t) {
        isPhone() || this.setSelectedRow(t),
        this.isInteractionEnabled() && this._triggerActions(enums.UIListEvent.ROW_ACTION, {
            item: t.getData()
        })
    }
    ,
    UTPaginatedItemListView
}(EATargetActionView);
UTPaginatedItemListView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("paginated-item-list"),
        this.__itemList = document.createElement("ul"),
        t.appendChild(this.__itemList),
        this.__botPagination = document.createElement("div"),
        this.__botPagination.classList.add("pagingContainer"),
        this._botPrev = new UTFlatButtonControl,
        this._botPrev.getRootElement().classList.add("pagination"),
        this._botPrev.getRootElement().classList.add("prev"),
        this.__botPagination.appendChild(this._botPrev.getRootElement()),
        this._botNext = new UTFlatButtonControl,
        this._botNext.getRootElement().classList.add("pagination"),
        this._botNext.getRootElement().classList.add("next"),
        this.__botPagination.appendChild(this._botNext.getRootElement()),
        t.appendChild(this.__botPagination),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPaginatedItemListView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__itemList = null,
    this.__botPagination = null,
    this._botPrev.destroy(),
    this._botNext.destroy()
}
,
UTPaginatedItemListView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTClubSearchResultsView = function(e) {
    function UTClubSearchResultsView() {
        var t = e.call(this) || this;
        return t.activeSquad = null,
        t.header = null,
        t.onSearch = new EAObservable,
        t.pinnedItem = null,
        t.pinnedItemView = null,
        t
    }
    return __extends(UTClubSearchResultsView, e),
    UTClubSearchResultsView.prototype.init = function() {
        e.prototype.init.call(this),
        this._subTypesDropDown.init(),
        this._list.init(),
        this._list.addTarget(this, this.bubbleEvent, enums.UIListEvent.ROW_SELECT),
        this._list.addTarget(this, this.bubbleEvent, enums.UIListEvent.ROW_ACTION),
        this._list.addTarget(this, this.bubbleEvent, enums.UIPaginationEvent.NEXT),
        this._list.addTarget(this, this.bubbleEvent, enums.UIPaginationEvent.PREVIOUS),
        this.setInteractionState(!0)
    }
    ,
    UTClubSearchResultsView.prototype.dealloc = function() {
        this.header && (this.header.getButton().removeTarget(this, this.onSearchSelected, EventType.TAP),
        this.header.dealloc(),
        this.header = null),
        this.onSearch.dealloc(),
        this.pinnedItem = null,
        this.pinnedItemView = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTClubSearchResultsView.prototype.updateListTopPosition = function() {
        var t = 0;
        this.header && (t += this.header.getRootElement().offsetHeight),
        this.pinnedItemView && (t += this.pinnedItemView.getRootElement().offsetHeight),
        this._list.getRootElement().style.top = t + "px"
    }
    ,
    UTClubSearchResultsView.prototype.setSubTypesOptions = function(t) {
        this._subTypesDropDown.setOptions(t)
    }
    ,
    UTClubSearchResultsView.prototype.setItems = function(t, e) {
        var n = this;
        if (void 0 === e && (e = 0),
        0 < t.length) {
            var i = this._list.setItems(t);
            (this.pinnedItem || this.activeSquad) && i.forEach(function(t) {
                var e, i, r = t.getData();
                if ((null === (e = n.pinnedItem) || void 0 === e ? void 0 : e.isValid()) && t.setComparisonData(n.pinnedItem),
                r && (null === (i = n.activeSquad) || void 0 === i ? void 0 : i.containsItem(r, !0))) {
                    var o = new UTListActiveTagView;
                    o.setIconClass("squad"),
                    t.setActiveTagComponent(o)
                }
            }),
            this._list.renderItems(e)
        } else
            this.setEmptyListMessage(!0)
    }
    ,
    UTClubSearchResultsView.prototype.renderAcademyItems = function(t, e, i) {
        0 < t.length ? (this._list.setItemsForAcademy(t, e, i),
        this._list.renderItems()) : this.setEmptyListMessage(!0)
    }
    ,
    UTClubSearchResultsView.prototype.setItemsWithChemDiff = function(t, a, s, l, c) {
        var u = this;
        0 < t.length ? (this._list.setItems(t).forEach(function(t, e) {
            var i, r, o = t.getData();
            if ((null === (i = u.pinnedItem) || void 0 === i ? void 0 : i.isValid()) && t.setComparisonData(u.pinnedItem),
            o && (null === (r = u.activeSquad) || void 0 === r ? void 0 : r.containsItem(o, !0))) {
                var n = new UTListActiveTagView;
                n.setIconClass("squad"),
                t.setActiveTagComponent(n)
            }
            u.setChemistryData(!(null == o ? void 0 : o.isManager()), t, a[e], s[e], l[e], c[e])
        }),
        this._list.renderItems(0)) : this.setEmptyListMessage(!0)
    }
    ,
    UTClubSearchResultsView.prototype.setChemistryData = function(t, e, i, r, o, n) {
        var a = new UTListChemistryTagView;
        if (a.setChemistryImpactString(i, r),
        e.setChemistryTagComponent(a),
        t) {
            var s = UTSquadSlotChemistryPointsView.State.NEUTRAL;
            0 < n ? s = UTSquadSlotChemistryPointsView.State.POSITIVE : n < 0 && (s = UTSquadSlotChemistryPointsView.State.NEGATIVE);
            var l = new UTSquadSlotChemistryPointsView;
            l.isItemView(),
            l.render(o),
            l.setState(s),
            e.setChemistryPointsComponent(l)
        }
    }
    ,
    UTClubSearchResultsView.prototype.setScrollInertia = function(t) {
        this._list.setScrollInertia(t)
    }
    ,
    UTClubSearchResultsView.prototype.setActionableStates = function(o) {
        var t, n = this;
        (null === (t = this.pinnedItem) || void 0 === t ? void 0 : t.isValid()) && this._list.getRows().forEach(function(t, e) {
            var i = t.getData()
              , r = !1;
            JSUtils.isBoolean(o[e]) ? r = o[e] : n.pinnedItem && i && (r = n.pinnedItem.compareType(i)),
            t.setActionState(r)
        })
    }
    ,
    UTClubSearchResultsView.prototype.setEmptyListMessage = function(t) {
        var e, i = services.Localization;
        t ? this._list.appendEmptyListMessage(i.localize("popup.error.searchauctions.retrysearch"), void 0, i.localize("button.searchagain"), this.onSearch.notify.bind(this.onSearch)) : (this._list.appendEmptyListMessage(i.localize("clubitems.categoryempty")),
        null === (e = this.header) || void 0 === e || e.toggleSearch(!1))
    }
    ,
    UTClubSearchResultsView.prototype.setRowTapCallback = function(t) {
        this._list.setRowTapCallback(t)
    }
    ,
    UTClubSearchResultsView.prototype.disableRowTap = function() {
        this._list.disableRowTap()
    }
    ,
    UTClubSearchResultsView.prototype.setRowActionCallback = function(t) {
        this._list.setRowActionCallback(t)
    }
    ,
    UTClubSearchResultsView.prototype.setPaginationState = function(t, e) {
        this._list.setPaginationState(t, e)
    }
    ,
    UTClubSearchResultsView.prototype.appendPinnedItemView = function(t) {
        this.pinnedItemView = t;
        var e = this.getRootElement();
        e.insertBefore(t.getRootElement(), e.firstChild),
        this.updateListTopPosition()
    }
    ,
    UTClubSearchResultsView.prototype.selectListRow = function(t) {
        this._list.selectRow(t)
    }
    ,
    UTClubSearchResultsView.prototype.setPinnedItemData = function(t) {
        this.pinnedItem = t,
        this._list.setComparisonData(t)
    }
    ,
    UTClubSearchResultsView.prototype.setActiveSquadData = function(t) {
        this.activeSquad = t
    }
    ,
    UTClubSearchResultsView.prototype.setItemTypeHeader = function(t, e) {
        var i = services.Localization;
        this.header || (this.header = new UTClubItemSearchHeaderView,
        this.header.init(),
        this.header.toggleSearch(!1),
        this.header.getButton().addTarget(this, this.onSearchSelected, EventType.TAP),
        this.getRootElement().insertBefore(this.header.getRootElement(), this.getRootElement().firstChild));
        var r = "";
        switch (t) {
        case ItemType.PLAYER:
        case ItemSubType.PLAYER:
            r = i.localize("search.filters.players"),
            e[0].src = "images/icon_club_categories_player.png";
            break;
        case ItemType.HEALTH:
            r = i.localize("card.title.healing"),
            e[0].src = "images/consumable_healing.png";
            break;
        case ItemSubType.TRAINING_PLAYER_FORMATION_3412:
            r = i.localize("navbar.label.managerleague"),
            e[0].src = "images/consumable_league.png";
            break;
        case ItemSubType.TRAINING_PLAYERSTYLE_GENERAL_1:
            r = i.localize("navbar.label.playstyle"),
            e[0].src = "images/consumable_chemistry.png";
            break;
        case ItemType.MANAGER:
        case ItemSubType.MANAGER:
            r = i.localize("search.filters.staff"),
            e[0].src = "images/icon-Staff.png";
            break;
        case ItemType.KIT:
        case ItemSubType.KIT:
            r = i.localize("clubtype.kit"),
            e[0].src = AssetLocationUtils.getFilterPlaceholderImageUri(ItemSubType.KIT);
            break;
        case ItemType.BADGE:
        case ItemSubType.BADGE:
            r = i.localize("clubtype.badge"),
            e[0].src = AssetLocationUtils.getFilterPlaceholderImageUri(ItemSubType.BADGE);
            break;
        case ItemType.BALL:
        case ItemSubType.BALL:
            r = i.localize("clubtype.ball"),
            e[0].src = AssetLocationUtils.getFilterPlaceholderImageUri(ItemSubType.BALL);
            break;
        case ItemType.STADIUM:
        case ItemSubType.STADIUM:
            r = i.localize("clubtype.stadium"),
            e[0].src = AssetLocationUtils.getFilterPlaceholderImageUri(ItemSubType.STADIUM),
            e[0].addClass("activeStadium");
            break;
        case ItemSubType.VANITY_TIFO_BASE:
        case ItemSubType.VANITY_TIFO_BIG:
        case ItemSubType.VANITY_TIFO_MOVING:
        case ItemSubType.VANITY_STADIUM_THEME:
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_MOW_PATTERN:
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_LINE_COLOR:
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_GOAL_PACKAGE:
        case ItemSubType.VANITY_STADIUM_BASE_PITCH_PROP:
        case ItemSubType.VANITY_STADIUM_BASE_STRUCTURE_COLOR:
        case ItemSubType.VANITY_STADIUM_BASE_SEAT_COLOR:
        case ItemSubType.VANITY_PYROTECHNICS_FLAME_CANNON:
        case ItemSubType.VANITY_PYROTECHNICS_CONFETTI_CANNON:
        case ItemSubType.VANITY_PYROTECHNICS_SPARKLER_CANNON:
        case ItemSubType.VANITY_PYROTECHNICS_FIREWORKS_CANNON:
        case ItemSubType.VANITY_AUDIO_ANTHEM_MUSIC:
        case ItemSubType.VANITY_AUDIO_GOAL_SCORE:
        case ItemSubType.VANITY_AUDIO_CLUB_NICKNAME:
        case ItemSubType.VANITY_AUDIO_CROWD_CHANT:
        case ItemSubType.VANITY_PLAYER_CELEBRATION:
        case ItemSubType.VANITY_TINTED_BANNER:
        case ItemSubType.VANITY_POLE_BANNER:
        case ItemSubType.VANITY_CROWD_CARDS:
        case ItemSubType.VANITY_VIP_AREA:
            r = i.localize("item.vanity.subtype" + t),
            e[0].src = AssetLocationUtils.getFilterPlaceholderImageUri(t)
        }
        this.header.setTitle(r),
        this.header.setImagesFromImgLoader(e),
        this.header.show(),
        this.updateListTopPosition()
    }
    ,
    UTClubSearchResultsView.prototype.toggleHeaderSearchBtn = function(t) {
        var e;
        null === (e = this.header) || void 0 === e || e.toggleSearch(t)
    }
    ,
    UTClubSearchResultsView.prototype.getSubTypesDropDown = function() {
        return this._subTypesDropDown
    }
    ,
    UTClubSearchResultsView.prototype.toggleSubTypesOptions = function(t) {
        DOMKit.toggleDisplayStyle(this._subTypesDropDown.getRootElement(), t)
    }
    ,
    UTClubSearchResultsView.prototype.bubbleEvent = function(t, e, i) {
        this.isInteractionEnabled() && this._triggerActions(e, i)
    }
    ,
    UTClubSearchResultsView.prototype.onSearchSelected = function(t, e, i) {
        this.onSearch.notify()
    }
    ,
    UTClubSearchResultsView
}(EATargetActionView);
UTClubSearchResultsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-pinned-list-container"),
        t.classList.add("ut-club-search-results-view"),
        this._subTypesDropDown = new UTDropDownControl,
        t.appendChild(this._subTypesDropDown.getRootElement()),
        this._list = new UTPaginatedItemListView,
        this._list.getRootElement().classList.add("ut-pinned-list"),
        t.appendChild(this._list.getRootElement()),
        this.__root = t,
        this._generated = !0
    }
}
,
UTClubSearchResultsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._subTypesDropDown.destroy(),
    this._list.destroy()
}
,
UTClubSearchResultsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTSelectItemFromClubViewController = function(r) {
    function UTSelectItemFromClubViewController() {
        var t = r.call(this) || this;
        return t.challenge = null,
        t.chemCalculator = new UTSquadChemCalculatorUtils(services.Chemistry,repositories.TeamConfig),
        t.clubSearchType = ItemSearchFeature.CLUB,
        t.clubViewModel = new UTClubViewModel([]),
        t.iterator = null,
        t.onItemChange = new EAObservable,
        t.pinnedItem = null,
        t.searchCriteria = null,
        t.slotIndex = 0,
        t.squad = null,
        t
    }
    return __extends(UTSelectItemFromClubViewController, r),
    UTSelectItemFromClubViewController.prototype.initWithSearchCriteria = function(t) {
        var e;
        this.initialized || (this.searchCriteria = t,
        this.searchCriteria.count = this.clubViewModel.numItemsPerPage + 1,
        (null === (e = this.squad) || void 0 === e ? void 0 : e.isSBC()) && (this.searchCriteria.excludeLimitedUse = !0),
        this.init())
    }
    ,
    UTSelectItemFromClubViewController.prototype.initWithCriteriaAndSquad = function(t, e, i) {
        var r;
        if (!this.initialized) {
            if (this.squad = e,
            this.slotIndex = i,
            this.pinnedItem = new UTPinnedItemViewController,
            this.iterator) {
                var o = null === (r = this.iterator.current()) || void 0 === r ? void 0 : r.item;
                o ? this.pinnedItem.initWithItem(o) : this.pinnedItem.init();
                var n = this.squad.getSlot(this.slotIndex);
                if (!(null == o ? void 0 : o.isManager()) && n.index < UTSquadEntity.FIELD_PLAYERS) {
                    var a = new UTSquadSlotChemistryPointsView;
                    a.isItemView(),
                    a.render(n.chemistry, 0, n.inPossiblePosition),
                    a.setState(UTSquadSlotChemistryPointsView.State.NEUTRAL);
                    var s = this.pinnedItem.getView();
                    s.setChemistryPointsComponent(a),
                    s.renderChemistryBreakdown(n.chemistry, n.nationChemistryPoints, n.leagueChemistryPoints, n.clubChemistryPoints)
                }
                this.pinnedItem.onItemChange.observe(this, this.onItemChanged)
            } else
                this.pinnedItem.initWithItem(this.squad.getSlot(this.slotIndex).item);
            this.addChildViewController(this.pinnedItem),
            this.initWithSearchCriteria(t)
        }
    }
    ,
    UTSelectItemFromClubViewController.prototype.initWithCriteriaAndSBCChallenge = function(t, e, i) {
        this.initialized || (DebugUtils.Assert(JSUtils.isValid(e.squad), "Expected squad building challenge to have a valid squad."),
        this.challenge = e,
        this.getView().addClass("sbc"),
        this.challenge.squad ? this.initWithCriteriaAndSquad(t, this.challenge.squad, i) : this.initWithSearchCriteria(t))
    }
    ,
    UTSelectItemFromClubViewController.prototype.dealloc = function() {
        r.prototype.dealloc.call(this),
        this.searchCriteria = null,
        this.squad = null,
        this.challenge = null,
        this.pinnedItem && (this.pinnedItem.dealloc(),
        this.pinnedItem = null),
        this.chemCalculator.dealloc(),
        this.onItemChange.dealloc()
    }
    ,
    UTSelectItemFromClubViewController.prototype._getViewInstanceFromData = function() {
        return new UTClubSearchResultsView
    }
    ,
    UTSelectItemFromClubViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.clubsearch")
    }
    ,
    UTSelectItemFromClubViewController.prototype.viewWillAppear = function() {
        var i = this;
        r.prototype.viewWillAppear.call(this),
        services.Squad.requestSquadByType("active").observe(this, function(t, e) {
            t.unobserve(i),
            e.success && e.data && e.data.squad && i.getView().setActiveSquadData(e.data.squad);
            i.requestItems()
        })
    }
    ,
    UTSelectItemFromClubViewController.prototype.viewDidAppear = function() {
        r.prototype.viewDidAppear.call(this);
        var t = this.getView();
        if (t.toggleSubTypesOptions(!1),
        this.pinnedItem) {
            var e = this.pinnedItem.getItem();
            t.appendPinnedItemView(this.pinnedItem.getView()),
            e && t.setPinnedItemData(e),
            this.pinnedItem.viewDidAppear()
        }
        t.updateListTopPosition(),
        t.onSearch.observe(this, this.onModifySearchSelected),
        t.addTarget(this, this.onTableCellSelected, enums.UIListEvent.ROW_SELECT),
        t.addTarget(this, this.onTableCellActionSelected, enums.UIListEvent.ROW_ACTION),
        t.addTarget(this, this.onNextPage, enums.UIPaginationEvent.NEXT),
        t.addTarget(this, this.onPreviousPage, enums.UIPaginationEvent.PREVIOUS),
        TelemetryManager.trackPage(TelemetryManager.Sections.CLUB, "Swap Club Results")
    }
    ,
    UTSelectItemFromClubViewController.prototype.viewWillDisappear = function() {
        var t = this.getView();
        r.prototype.viewWillDisappear.call(this),
        t.onSearch.unobserve(this),
        t.removeTarget(this, this.onTableCellSelected, enums.UIListEvent.ROW_SELECT),
        t.removeTarget(this, this.onTableCellActionSelected, enums.UIListEvent.ROW_ACTION),
        t.removeTarget(this, this.onNextPage, enums.UIPaginationEvent.NEXT),
        t.removeTarget(this, this.onPreviousPage, enums.UIPaginationEvent.PREVIOUS)
    }
    ,
    UTSelectItemFromClubViewController.prototype.setIterator = function(t) {
        this.iterator = t
    }
    ,
    UTSelectItemFromClubViewController.prototype.setItemSearchType = function(t) {
        this.clubSearchType = t
    }
    ,
    UTSelectItemFromClubViewController.prototype.updateItemList = function(t) {
        var e, i, l = this, r = this.getView();
        if (0 < t.length)
            if (this.squad && (this.slotIndex < UTSquadEntity.FIELD_PLAYERS || this.squad.getSlot(this.slotIndex).item.isManager())) {
                var c = []
                  , u = []
                  , p = []
                  , d = [];
                t.forEach(function(e) {
                    if (l.squad && l.squad.getFormation()) {
                        var t = l.squad.getPlayers().map(function(t) {
                            return t.index === l.slotIndex ? e : t.item
                        })
                          , i = l.squad.getSlot(l.slotIndex).item.isManager() ? e : l.squad.getManager().item
                          , r = l.squad.getFormation()
                          , o = 0;
                        if (r) {
                            var n = l.chemCalculator.calculate(r, t, i);
                            if (o = n.chemistry,
                            !e.isManager()) {
                                var a = n.getSlotChemistry(l.slotIndex).points;
                                p.push(a),
                                d.push(a - l.squad.getSlot(l.slotIndex).chemistry)
                            }
                        } else if (!e.isManager()) {
                            var s = l.squad.getSlot(l.slotIndex).chemistry;
                            p.push(0),
                            d.push(0 - s)
                        }
                        c.push(o),
                        u.push(o - l.squad.getChemistry())
                    }
                }),
                r.setItemsWithChemDiff(t, c, u, p, d)
            } else
                r.setItems(t);
        else
            r.setEmptyListMessage(null === (i = null === (e = this.searchCriteria) || void 0 === e ? void 0 : e.isModified()) || void 0 === i || i);
        r.setPaginationState(this.clubViewModel.hasPreviousPage(), this.clubViewModel.hasNextPage()),
        r.setRowActionCallback(),
        r.setRowTapCallback()
    }
    ,
    UTSelectItemFromClubViewController.prototype.handleItemRetrieval = function(t, e) {
        var i, r, o = this.clubViewModel.getIndex(), n = services.Configuration.getFeatureSetting(UTServerSettingsRepository.KEY.SBC_ALLOW_UNTRADEABLE), a = this.squad;
        if (a) {
            var s = null === (r = null === (i = this.iterator) || void 0 === i ? void 0 : i.current()) || void 0 === r ? void 0 : r.item;
            t = t.filter(function(t) {
                var e = !a.isSBC() || (n || !t.untradeable) && !t.isEnrolledInAcademy()
                  , i = !0;
                if (s && a.containsItem(t)) {
                    var r = t.compareResourceTo(s)
                      , o = t.compareResourceTo(s, !0);
                    i = r && (!o || t.limitedUseType !== s.limitedUseType)
                }
                return e && i
            })
        }
        this.searchCriteria && (this.clubViewModel.sortByRecency = this.searchCriteria.sortBy === SearchSortType.RECENCY,
        this.clubViewModel.sort = this.searchCriteria.sort,
        this.clubViewModel.sortType = this.searchCriteria.sortBy),
        this.clubViewModel.removeArray(t),
        this.clubViewModel.addArray(t),
        this.clubViewModel.isFull = e,
        this.clubViewModel.setIndex(o),
        !this.searchCriteria || this.clubViewModel.canShowPage(this.clubViewModel.getCurrentPage()) && !this.clubViewModel.shouldRequestItems() ? this.updateItemList(this.clubViewModel.getPageItems()) : (this.searchCriteria.offset += this.searchCriteria.count,
        this.requestItems())
    }
    ,
    UTSelectItemFromClubViewController.prototype.requestItems = function() {
        var i = this;
        this.clubViewModel.canShowPage() && !this.clubViewModel.shouldRequestItems() ? this.updateItemList(this.clubViewModel.getPageItems()) : this.searchCriteria && (this.searchCriteria.type === SearchType.PLAYER && this.clubSearchType === ItemSearchFeature.CONCEPT ? services.Item.searchConceptItems(this.searchCriteria).observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) ? i.handleItemRetrieval(e.response.items, e.response.endOfList) : NetworkErrorManager.handleStatus(e.status)
        }) : this.clubSearchType === ItemSearchFeature.STORAGE ? services.Item.searchStorageItems(this.searchCriteria).observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) ? i.handleItemRetrieval(e.response.items, e.response.endOfList) : NetworkErrorManager.handleStatus(e.status)
        }) : services.Club.search(this.searchCriteria).observe(this, function(t, e) {
            t.unobserve(i),
            e.success && JSUtils.isObject(e.response) ? i.handleItemRetrieval(e.response.items, e.response.retrievedAll) : e.error && NetworkErrorManager.handleStatus(e.status)
        }))
    }
    ,
    UTSelectItemFromClubViewController.prototype.addItemToSlot = function(t, e) {
        var o = this;
        void 0 === e && (e = function() {}
        );
        var i = this.challenge ? this.challenge.squad : this.squad
          , r = null == i ? void 0 : i.getSlot(this.slotIndex)
          , n = (null == r ? void 0 : r.generalPosition) == PlayerPosition.GK
          , a = t.isCarson();
        if (n && a)
            utils.PopupManager.showConfirmation(utils.PopupManager.Confirmations.PLAYER_NOT_ELIGIBLE, {
                params: []
            });
        else {
            null == i || i.addItemToSlot(this.slotIndex, t),
            this.challenge ? services.SBC.saveChallenge(this.challenge).observe(this, function(t, e) {
                var i;
                if (t.unobserve(o),
                !e.success) {
                    var r = "notification.sbcChallenges.failedToSave";
                    (null === (i = o.challenge) || void 0 === i ? void 0 : i.hasExpired()) ? r = "notification.sbcChallenges.expired" : e.error && e.error.code === UtasErrorCode.SERVICE_IS_DISABLED && (r = "sbc.notification.disabled"),
                    services.Notification.queue([services.Localization.localize(r), UINotificationType.NEGATIVE])
                }
            }) : null == i || i.save();
            var s = services.UserSettings.getSessionItem(UserSettingsKey.DONT_SHOW_APPLY_PRESET_POPUP);
            t.isManager() && i && "true" !== s ? this.applyManagerPreset(t, i, e) : e(),
            services.Notification.queue([services.Localization.localize("infopanel.label.swapped"), UINotificationType.POSITIVE])
        }
    }
    ,
    UTSelectItemFromClubViewController.prototype.applyManagerPreset = function(t, e, i) {
        var r = services.Localization
          , o = new UTTacticsPopupViewModel
          , n = new UTTacticsPresetPopupViewController(t,o)
          , a = new UTSquadTacticsViewModel(services.Squad);
        n.onExit.observe(this, function() {
            i()
        }),
        e && a.setSquad(e),
        n.initWithTacticsViewModel(a),
        n.modalDisplayDimensions.width = "24em";
        var s = services.Squad.getManagerPresetById(t.id);
        if (s) {
            var l = n.getView()
              , c = repositories.Squad.getFormationById(s.formation.id);
            c && (l.setStepText(1),
            l.setActionButtonText(r.localize("popup.applyPreset.apply")),
            l.setDescription(r.localize("popup.applyPreset.description1")),
            l.renderPresetInfo(s, null == c ? void 0 : c.name),
            l.toggleDontShowAgainContainer(!0),
            gPopupClickShield.setActivePopup(n))
        }
    }
    ,
    UTSelectItemFromClubViewController.prototype.onTableCellSelected = function(t, e, i) {
        var r = this
          , o = i.item;
        if (!(!o || o.isManager() && this.slotIndex !== UTSquadEntity.MANAGER_SLOT_INDEX || o.isPlayer() && this.slotIndex === UTSquadEntity.MANAGER_SLOT_INDEX)) {
            var n = this.getNavigationController()
              , a = null == n ? void 0 : n.getPreviousController()
              , s = new UTSwapComparePlayersViewController;
            s.init(),
            s.onSwap.observe(this, function() {
                var t, e = null === (t = r.iterator) || void 0 === t ? void 0 : t.current();
                r.addItemToSlot(o, function() {
                    a && (null == n || n.popToViewController(a))
                }),
                r.pinnedItem && e && r.pinnedItem.setSlot(e)
            }),
            this.squad && (s.setItemData(this.squad.getSlot(this.slotIndex).item, o, this.squad),
            s.setChemistryData(this.squad, this.squad.getSlot(this.slotIndex).item, o)),
            null == n || n.pushViewController(s)
        }
    }
    ,
    UTSelectItemFromClubViewController.prototype.onTableCellActionSelected = function(t, e, i) {
        function nyc(t) {
            n.searchCriteria && (n.searchCriteria.defId = []),
            n.addItemToSlot(t, function() {
                var t;
                null === (t = n.getNavigationController()) || void 0 === t || t.popViewController()
            })
        }
        var n = this
          , a = i.item;
        if (DebugUtils.Assert(a instanceof UTItemEntity, "Expected to receive an item entity."),
        a)
            if (a.concept) {
                var r = new UTSearchCriteriaDTO;
                r.type = SearchType.PLAYER,
                r.defId = [a.definitionId],
                services.Club.search(r).observe(this, function(t, e) {
                    var i;
                    if (t.unobserve(n),
                    e.success && JSUtils.isObject(e.response)) {
                        var r = e.response && 0 < e.response.items.length ? JSUtils.find(e.response.items, function(t) {
                            return t.definitionId === a.definitionId
                        }) : null
                          , o = !((null == r ? void 0 : r.isLimitedUse()) && (null === (i = n.squad) || void 0 === i ? void 0 : i.isSBC()));
                        nyc(r && o ? r : a)
                    }
                })
            } else
                nyc(a)
    }
    ,
    UTSelectItemFromClubViewController.prototype.onModifySearchSelected = function(t) {
        var e;
        null === (e = this.getNavigationController()) || void 0 === e || e.popViewController()
    }
    ,
    UTSelectItemFromClubViewController.prototype.onNextPage = function(t, e, i) {
        this.clubViewModel.hasNextPage() && (this.clubViewModel.nextPage(),
        this.clubViewModel.shouldRequestItems() ? (this.searchCriteria && (this.searchCriteria.offset += this.searchCriteria.count),
        this.requestItems()) : this.updateItemList(this.clubViewModel.getPageItems()))
    }
    ,
    UTSelectItemFromClubViewController.prototype.onPreviousPage = function(t, e, i) {
        this.clubViewModel.hasPreviousPage() && this.updateItemList(this.clubViewModel.previousPage())
    }
    ,
    UTSelectItemFromClubViewController.prototype.onItemChanged = function(t, e) {
        this.getView().setPinnedItemData(e.getItem()),
        this.slotIndex = e.getIndex(),
        this.onItemChange.notify(e)
    }
    ,
    UTSelectItemFromClubViewController
}(EAViewController)
  , UTClubSearchFiltersViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(l) {
    function UTClubSearchFiltersViewController() {
        var t = l.call(this) || this;
        return t.challenge = null,
        t.clubSearchType = ItemSearchFeature.CLUB,
        t.displayAsDetails = !1,
        t.item = null,
        t.iterator = null,
        t.onItemChange = new EAObservable,
        t.pinnedItemVC = null,
        t.squad = null,
        t.viewmodel = new UTItemSearchViewModel,
        t
    }
    return __extends(UTClubSearchFiltersViewController, l),
    UTClubSearchFiltersViewController.prototype.init = function() {
        var t;
        if (!this.initialized) {
            l.prototype.init.call(this);
            var e = this.getView();
            e.onSearchModeChange.observe(this, this.onSearchModeChanged),
            e.onFilterChange.observe(this, this._eFilterChanged);
            var i = this.viewmodel.searchCriteria.type === SearchType.PLAYER
              , r = services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.SBC_ALLOW_UNTRADEABLE)
              , o = !this.isSbcSearch() || r
              , n = !(null === (t = this.squad) || void 0 === t ? void 0 : t.isActive())
              , a = i && (!this.squad || !this.squad.isSBC())
              , s = i && !this.isSbcSearch();
            e.setupSearchOptions({
                includeEvolutionsToggle: s,
                includeLimitedUseToggle: a,
                includeSquadPlayersToggle: n,
                includeUntradeableToggle: o
            }),
            e.setSortOptions(this.viewmodel.searchCriteria.type === SearchType.STAFF ? factories.DataProvider.getStaffSortTypeDP() : factories.DataProvider.getSortTypeDP()),
            e.getSortDropDown().setDefaultIndexById(SearchSortID.RATING_DESC, !0),
            o || (this.viewmodel.searchCriteria.untradeables = SearchUntradeables.EXCLUDE),
            TelemetryManager.trackPage(TelemetryManager.Sections.CLUB, "Club Search Filters"),
            this.updateOvrRangeVisibility()
        }
    }
    ,
    UTClubSearchFiltersViewController.prototype.initWithItem = function(t) {
        this.initialized || (this.setItem(t),
        this.pinnedItemVC = new UTPinnedItemViewController,
        this.pinnedItemVC.initWithItem(t),
        this.addChildViewController(this.pinnedItemVC),
        this.init())
    }
    ,
    UTClubSearchFiltersViewController.prototype.initWithSquad = function(t, e) {
        if (!this.initialized) {
            this.squad = t;
            var i = null == e ? void 0 : e.current()
              , r = this.viewmodel.defaultSearchCriteria;
            i && (r.position = i.generalPositionName),
            this.viewmodel.updateSearchCriteria(r),
            i ? this.initWithItem(i.item) : this.init(),
            this.pinnedItemVC = new UTPinnedItemViewController,
            e ? (this.iterator = e,
            this.pinnedItemVC.initWithIterator(e),
            this.pinnedItemVC.onItemChange.observe(this, this._eOnItemChange)) : this.pinnedItemVC.init(),
            this.addChildViewController(this.pinnedItemVC),
            this.item && this.adaptFiltersToItem(this.item)
        }
    }
    ,
    UTClubSearchFiltersViewController.prototype.initWithSBCChallenge = function(t, e) {
        this.initialized || (DebugUtils.Assert(JSUtils.isValid(t.squad), "Expected a squad building challenge with a loaded squad."),
        this.challenge = t,
        this.getView().addClass("sbc"),
        this.challenge.squad ? this.initWithSquad(this.challenge.squad, e) : this.init())
    }
    ,
    UTClubSearchFiltersViewController.prototype.dealloc = function() {
        l.prototype.dealloc.call(this),
        this.item = null,
        this.squad = null,
        this.challenge = null,
        this.iterator = null,
        this.pinnedItemVC && (this.pinnedItemVC.dealloc(),
        this.pinnedItemVC = null),
        this.onItemChange.dealloc()
    }
    ,
    UTClubSearchFiltersViewController.prototype._getViewInstanceFromData = function() {
        return new UTClubSearchFiltersView
    }
    ,
    UTClubSearchFiltersViewController.prototype.viewDidAppear = function() {
        var t, e;
        l.prototype.viewDidAppear.call(this);
        var i = this.getView()
          , r = null === (t = this.iterator) || void 0 === t ? void 0 : t.current();
        if (null === (e = this.getNavigationController()) || void 0 === e || e.setNavigationVisibility(!0, !0),
        r && this.setItem(r.item),
        this.viewmodel.updateSearchCriteria(this.viewmodel.searchCriteria),
        i.setFilters(this.viewmodel),
        this.item && this.adaptFiltersToItem(this.item),
        this.pinnedItemVC) {
            if (this.iterator) {
                var o = this.iterator.current();
                o && (this.pinnedItemVC.setSlot(o),
                this.pinnedItemVC.setItem(o.item))
            }
            i.appendPinnedItemView(this.pinnedItemVC.getView()),
            this.pinnedItemVC.viewDidAppear()
        }
        services.Club.getStats(),
        i.getSearchButton().addTarget(this, this._eSearchSelected, EventType.TAP),
        i.getResetButton().addTarget(this, this.onResetSelected, EventType.TAP),
        i.getPlayerNameSearch().addTarget(this, this.onPlayerNameChange, EventType.CHANGE),
        i.getSortOptions().addTarget(this, this.onSortToggleChanged, EventType.CHANGE),
        i.getSortDropDown().addTarget(this, this.onDropDownChanged, EventType.CHANGE)
    }
    ,
    UTClubSearchFiltersViewController.prototype.viewDidDisappear = function() {
        l.prototype.viewDidDisappear.call(this);
        var t = this.getView();
        t.getSearchButton().removeTarget(this, this._eSearchSelected, EventType.TAP),
        t.getResetButton().removeTarget(this, this.onResetSelected, EventType.TAP),
        t.getPlayerNameSearch().removeTarget(this, this.onPlayerNameChange, EventType.CHANGE),
        t.getSortOptions().removeTarget(this, this.onSortToggleChanged, EventType.CHANGE),
        t.getSortDropDown().removeTarget(this, this.onDropDownChanged, EventType.CHANGE)
    }
    ,
    UTClubSearchFiltersViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("navbar.label.clubsearch")
    }
    ,
    UTClubSearchFiltersViewController.prototype.hasStoragePileSearch = function() {
        return services.Configuration.checkFeatureEnabled(UTServerSettingsRepository.KEY.STORAGE_PILE_ENABLED) && this.isSbcSearch()
    }
    ,
    UTClubSearchFiltersViewController.prototype.isSbcSearch = function() {
        return JSUtils.isValid(this.challenge)
    }
    ,
    UTClubSearchFiltersViewController.prototype.adaptFiltersToItem = function(t) {
        var e = this.getView();
        if (e.togglePileFilter(t.isPlayer()),
        t.isPlayer())
            e.setPileFilter(factories.DataProvider.getSearchPileDP(this.hasStoragePileSearch()), this.clubSearchType),
            t.isCustomBrick() && e.setInteractionState(!1);
        else if (t.isManager() || t.isManagerConsumable())
            e.setFilterDefaultValue(enums.UISearchFilters.TYPE, SearchCategory.MANAGER),
            e.setFilterValue(enums.UISearchFilters.TYPE, SearchCategory.MANAGER),
            e.setFilterLock(enums.UISearchFilters.TYPE, !0);
        else if (t.isGKStyleModifier()) {
            var i = PlayerPosition[PlayerPosition.GK];
            e.setFilterDefaultValue(enums.UISearchFilters.POSITION, i),
            e.setFilterValue(enums.UISearchFilters.POSITION, i),
            e.setFilterLock(enums.UISearchFilters.POSITION, !0)
        }
    }
    ,
    UTClubSearchFiltersViewController.prototype.setSearchCriteria = function(t) {
        this.viewmodel.updateSearchCriteria(t)
    }
    ,
    UTClubSearchFiltersViewController.prototype.setItem = function(t) {
        var e, i = (null === (e = this.item) || void 0 === e ? void 0 : e.type) !== t.type;
        if (this.item = t,
        !i)
            return !1;
        var r = this.viewmodel.defaultSearchCriteria
          , o = t.isManager() || t.isManagerConsumable();
        return r.type = SearchType.PLAYER,
        o ? (r.type = SearchType.STAFF,
        r.category = SearchCategory.MANAGER) : t.isPlayerStyleModifier() ? r.zone = ZONE_NO_GK_VALUE : t.isGKStyleModifier() && (r.position = PlayerPosition[PlayerPosition.GK]),
        this.viewmodel.updateSearchCriteria(r),
        !0
    }
    ,
    UTClubSearchFiltersViewController.prototype.onSearchModeChanged = function(t, e) {
        var i, r = null !== (i = JSUtils.enumFromStringValue(ItemSearchFeature, e)) && void 0 !== i ? i : ItemSearchFeature.CLUB;
        this.clubSearchType = r,
        this.viewmodel.searchFeature = r;
        var o = this.getView()
          , n = r === ItemSearchFeature.CONCEPT
          , a = r === ItemSearchFeature.STORAGE;
        n ? (o.setFilterValue(enums.UISearchFilters.PLAYSTYLE, -1),
        o.setFilterDefaultValue(enums.UISearchFilters.PLAYSTYLE, -1)) : o.setFilterLock(enums.UISearchFilters.POSITION, !1),
        o.toggleUntradeableSlider(!a),
        o.setFilterLock(enums.UISearchFilters.PLAYSTYLE, n),
        o.toggleAcademyPlayers(!(n || a)),
        o.toggleExcludeSquadSlider(!(n || a)),
        o.toggleLimitedUseItems(!(n || a)),
        this.updateOvrRangeVisibility()
    }
    ,
    UTClubSearchFiltersViewController.prototype.onSortToggleChanged = function(t, e, i) {
        var o = this;
        i.id === enums.UISortOptionType.UNTRADEABLE ? this.viewmodel.searchCriteria.untradeables = i.checked ? SearchUntradeables.ONLY : SearchUntradeables.DEFAULT : i.id === enums.UISortOptionType.ACADEMY ? this.viewmodel.searchCriteria.academyOnly = i.checked : i.id === enums.UISortOptionType.EXCLUDE_LIMITED_USE ? this.viewmodel.searchCriteria.excludeLimitedUse = i.checked : i.id === enums.UISortOptionType.EXCLUDE_SQUAD && (i.checked ? this.viewmodel.requestActiveSquadDefIds().observe(this, function(t, e) {
            var i, r;
            t.unobserve(o),
            o.viewmodel.searchCriteria.excludeDefIds = null !== (r = null === (i = e.data) || void 0 === i ? void 0 : i.defIds) && void 0 !== r ? r : []
        }) : this.viewmodel.searchCriteria.excludeDefIds = [])
    }
    ,
    UTClubSearchFiltersViewController.prototype.onDropDownChanged = function(t, e, i) {
        var r = "Club Search Filters - Sort By DropDown changed to: ";
        switch (this.viewmodel.searchCriteria.sort = i.value,
        i.id) {
        case SearchSortID.VALUE_DESC:
            this.viewmodel.searchCriteria.sortBy = SearchSortType.VALUE,
            r += "'Highest Quick Sell'";
            break;
        case SearchSortID.VALUE_ASC:
            this.viewmodel.searchCriteria.sortBy = SearchSortType.VALUE,
            r += "'Lowest Quick Sell'";
            break;
        case SearchSortID.RATING_DESC:
            this.viewmodel.searchCriteria.sortBy = SearchSortType.RATING,
            r += "'Rating High to Low'";
            break;
        case SearchSortID.RATING_ASC:
            this.viewmodel.searchCriteria.sortBy = SearchSortType.RATING,
            r += "'Rating Low to High'";
            break;
        case SearchSortID.RECENCY_DESC:
            this.viewmodel.searchCriteria.sortBy = SearchSortType.RECENCY,
            r += "'Most Recent'";
            break;
        default:
            DebugUtils.Assert(!1, "Unknown search sort ID")
        }
        TelemetryManager.trackEvent(TelemetryManager.Sections.CLUB, TelemetryManager.Categories.FILTER, r)
    }
    ,
    UTClubSearchFiltersViewController.prototype._eFilterChanged = function(t, e, i, r) {
        this.viewmodel.updateFromFilterChange(e, i, r),
        this.getView().setFilters(this.viewmodel)
    }
    ,
    UTClubSearchFiltersViewController.prototype.onResetSelected = function(t, e, i) {
        var r;
        this.viewmodel.resetSearch();
        var o = this.getView()
          , n = o.getSortDropDown();
        o.setFilters(this.viewmodel),
        o.getSortOptions().reset(),
        n.setIndex(n.getDefaultIndex()),
        null === (r = services.User.getUser()) || void 0 === r || r.squadSearchCriteria.reset()
    }
    ,
    UTClubSearchFiltersViewController.prototype.onPlayerNameChange = function(t, e, i) {
        var r = this.getView()
          , o = r.getPlayerNameSearch().getSelected();
        o ? this.viewmodel.setPlayerData(o) : this.viewmodel.clearPlayerData(),
        r.setFilters(this.viewmodel),
        this.item && this.adaptFiltersToItem(this.item),
        o && (r.setFilterValue(enums.UISearchFilters.NATION, -1),
        r.setFilterValue(enums.UISearchFilters.LEAGUE, -1),
        r.setFilterValue(enums.UISearchFilters.CLUB, -1))
    }
    ,
    UTClubSearchFiltersViewController.prototype._eSearchSelected = function(t, e, i) {
        var r, o, n, a, s;
        if (hasConnection()) {
            var l = this.item && this.item.isConsumable() ? new UTClubSearchResultsViewController : new UTSelectItemFromClubViewController
              , c = this.viewmodel.searchCriteria;
            if (c.offset = 0,
            l instanceof UTClubSearchResultsViewController)
                this.item && l.setConsumableToApply(this.item),
                l.initWithSearchCriteria(c),
                l.displayAsDetails = this.displayAsDetails;
            else {
                var u = null !== (n = null === (o = null === (r = this.iterator) || void 0 === r ? void 0 : r.current()) || void 0 === o ? void 0 : o.index) && void 0 !== n ? n : 0;
                l.setItemSearchType(this.clubSearchType),
                l.onItemChange.observe(this, this._eOnItemChange),
                this.iterator && l.setIterator(this.iterator),
                this.challenge ? l.initWithCriteriaAndSBCChallenge(c, this.challenge, u) : this.squad ? l.initWithCriteriaAndSquad(c, this.squad, u) : l.initWithSearchCriteria(c)
            }
            var p = null === (a = services.User.getUser()) || void 0 === a ? void 0 : a.squadSearchCriteria;
            p && (p.update(c),
            p.defId = [],
            p.sort = SearchSortOrder.DESCENDING,
            p.sortBy = SearchSortType.VALUE,
            p.untradeables = SearchUntradeables.DEFAULT,
            p.excludeLimitedUse = !1,
            p.academyOnly = !1),
            null === (s = this.getNavigationController()) || void 0 === s || s.pushViewController(l)
        } else
            utils.PopupManager.showAlert(utils.PopupManager.Alerts.NO_INTERNET_CONNECTION)
    }
    ,
    UTClubSearchFiltersViewController.prototype._eOnItemChange = function(t, e) {
        var i = this.getView()
          , r = this.setItem(e.item)
          , o = this.viewmodel.searchCriteria;
        o.position = 0 < e.generalPositionName.length ? e.generalPositionName : SearchType.ANY,
        r ? i.setFilters(this.viewmodel) : i.setFilterValue(enums.UISearchFilters.POSITION, o.position),
        this.item && this.adaptFiltersToItem(this.item),
        this.onItemChange.notify(e)
    }
    ,
    UTClubSearchFiltersViewController.prototype.updateOvrRangeVisibility = function() {
        var t = this.getView()
          , e = this.viewmodel.searchCriteria.type
          , i = this.viewmodel.searchFeature;
        t.toggleOvrRange(e, i)
    }
    ,
    UTClubSearchFiltersViewController
}(EAViewController))
  , UTApplicableConsumableListView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTApplicableConsumableListView() {
        var t = e.call(this) || this;
        return t.pinnedRow = null,
        t.consumableRows = [],
        t
    }
    return __extends(UTApplicableConsumableListView, e),
    UTApplicableConsumableListView.prototype.dealloc = function() {
        this._removeListRows(),
        this.pinnedRow && (this.pinnedRow.dealloc(),
        this.pinnedRow = null),
        e.prototype.dealloc.call(this)
    }
    ,
    UTApplicableConsumableListView.prototype._generateItemRow = function(t) {
        var e = new UTItemTableCellView;
        return e.setData(t),
        e.setOverrideGender(this.itemsGender),
        e.render(),
        this.consumableRows.push(e),
        this.__consumableList.appendChild(e.getRootElement()),
        e
    }
    ,
    UTApplicableConsumableListView.prototype._removeListRows = function() {
        0 < this.consumableRows.length && (this.consumableRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.consumableRows = [])
    }
    ,
    UTApplicableConsumableListView.prototype._setItemRowAction = function(t, e) {
        t.setAction(enums.UIRowActionClass.ADD, e)
    }
    ,
    UTApplicableConsumableListView.prototype._setItemRowTapCB = function(t, e) {
        t.setTapCallback(e)
    }
    ,
    UTApplicableConsumableListView.prototype.setItems = function(t) {
        var n = this;
        DOMKit.empty(this.__consumableList),
        this._removeListRows(),
        t.forEach(function(t) {
            var e, i = n._generateItemRow(t), r = null === (e = n.pinnedRow) || void 0 === e ? void 0 : e.getData(), o = r instanceof UTItemEntity && t.canApplyTo(r);
            n._setItemRowAction(i, function() {
                return n.handleCellAction(t)
            }),
            i.setActionState(o)
        }, this)
    }
    ,
    UTApplicableConsumableListView.prototype.setPinnedItem = function(t) {
        DOMKit.empty(this.__pinnedList),
        this.pinnedRow && this.pinnedRow.dealloc(),
        this.pinnedRow = new UTItemTableCellView,
        this.pinnedRow.setData(t),
        this.pinnedRow.render(),
        this.itemsGender = t.gender,
        this.__pinnedList.appendChild(this.pinnedRow.getRootElement()),
        this.__consumableList.style.top = this.__pinnedList.offsetHeight + "px"
    }
    ,
    UTApplicableConsumableListView.prototype.handleCellAction = function(t) {
        this._triggerActions(UTApplicableConsumableListView.Events.APPLY, {
            item: t
        })
    }
    ,
    UTApplicableConsumableListView.Events = {
        APPLY: "UTApplicableConsumableListView.Events.APPLY"
    },
    UTApplicableConsumableListView
}(EATargetActionView));
UTApplicableConsumableListView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-pinned-list-container"),
        t.classList.add("SquadConsumablesSection"),
        this.__pinnedList = document.createElement("ul"),
        this.__pinnedList.classList.add("ut-pinned-item"),
        t.appendChild(this.__pinnedList),
        this.__consumableList = document.createElement("ul"),
        this.__consumableList.classList.add("ut-pinned-list"),
        this.__consumableList.classList.add("searchResults"),
        t.appendChild(this.__consumableList),
        this.__root = t,
        this._generated = !0
    }
}
,
UTApplicableConsumableListView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__pinnedList = null,
    this.__consumableList = null
}
,
UTApplicableConsumableListView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTApplicableConsumableListViewController = function(e) {
    function UTApplicableConsumableListViewController() {
        var t = e.call(this) || this;
        return t.challenge = null,
        t.items = [],
        t.pinnedItem = null,
        t.squad = null,
        t
    }
    return __extends(UTApplicableConsumableListViewController, e),
    UTApplicableConsumableListViewController.prototype.init = function() {
        var t;
        this.initialized || (e.prototype.init.call(this),
        TelemetryManager.trackPage((null === (t = this.squad) || void 0 === t ? void 0 : t.isSBC()) ? TelemetryManager.Sections.SBC : TelemetryManager.Sections.SQUADS, "Squad Consumables"))
    }
    ,
    UTApplicableConsumableListViewController.prototype.initWithItems = function(t, e) {
        this.initialized || (DebugUtils.Assert(Array.isArray(t), "Initialization expected an array of item entities."),
        DebugUtils.Assert(e instanceof UTItemEntity, "Initialization expected an item entity."),
        this.items = t,
        this.pinnedItem = e,
        this.init())
    }
    ,
    UTApplicableConsumableListViewController.prototype.initWithItemsAndSquad = function(t, e, i) {
        this.initialized || (DebugUtils.Assert(i instanceof UTSquadEntity, "Initialization expected a squad entity."),
        this.squad = i,
        this.initWithItems(t, e))
    }
    ,
    UTApplicableConsumableListViewController.prototype.initWithItemsAndSBCChallenge = function(t, e, i) {
        this.initialized || (DebugUtils.Assert(i instanceof UTSBCChallengeEntity, "Initialization expected a challenge entity."),
        this.challenge = i,
        this.challenge.squad && this.initWithItemsAndSquad(t, e, this.challenge.squad))
    }
    ,
    UTApplicableConsumableListViewController.prototype.dealloc = function() {
        e.prototype.dealloc.call(this),
        this.items = [],
        this.pinnedItem = null,
        this.squad = null,
        this.challenge = null
    }
    ,
    UTApplicableConsumableListViewController.prototype._getViewInstanceFromData = function() {
        return new UTApplicableConsumableListView
    }
    ,
    UTApplicableConsumableListViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("panel.applyitem.button")
    }
    ,
    UTApplicableConsumableListViewController.prototype.viewDidAppear = function() {
        var t;
        null === (t = this.getNavigationController()) || void 0 === t || t.setNavigationVisibility(!0, !0),
        this.getView().addTarget(this, this._eApplyConsumable, UTApplicableConsumableListView.Events.APPLY),
        this._refreshView(),
        e.prototype.viewDidAppear.call(this)
    }
    ,
    UTApplicableConsumableListViewController.prototype.viewWillDisappear = function() {
        this.getView().removeTarget(this, this._eApplyConsumable, UTApplicableConsumableListView.Events.APPLY),
        e.prototype.viewWillDisappear.call(this)
    }
    ,
    UTApplicableConsumableListViewController.prototype._refreshView = function() {
        var t = this.getView();
        this.pinnedItem && t.setPinnedItem(this.pinnedItem),
        t.setItems(this.items),
        t.setInteractionState(!0)
    }
    ,
    UTApplicableConsumableListViewController.prototype._eApplyConsumable = function(t, e, i) {
        var r, o = this, n = this.getView();
        n.setInteractionState(!1);
        var a = i.item;
        this.pinnedItem ? (gClickShield.showShield(EAClickShieldView.Shield.LOADING),
        services.Item.applyTo(a, this.pinnedItem).observe(this, function(t, e) {
            var i;
            if (t.unobserve(o),
            e.success) {
                var r = o.challenge ? o.challenge.squad : o.squad;
                services.Notification.queue([services.Localization.localize("notification.item.appliedConsumable"), UINotificationType.NEUTRAL]),
                r && a.isManagerLeagueModifier() && r.updateChemistry(),
                o.challenge ? services.SBC.saveChallenge(o.challenge).observe(o, o._onSBCSaveComplete) : o.squad && o.squad.save(),
                o.items = o.items.filter(function(t) {
                    return 0 < t.stackCount
                }),
                0 < o.items.length ? o._refreshView() : null === (i = o.getNavigationController()) || void 0 === i || i.popViewController(!0)
            } else
                NetworkErrorManager.handleStatus(e.status);
            gClickShield.hideShield(EAClickShieldView.Shield.LOADING)
        })) : (DebugUtils.Assert(!1, "Attempted to apply consumable when no target set."),
        n.setInteractionState(!0),
        null === (r = this.getNavigationController()) || void 0 === r || r.popToRootViewController(!0))
    }
    ,
    UTApplicableConsumableListViewController.prototype._onSBCSaveComplete = function(t, e) {
        var i;
        if (t.unobserve(this),
        !e.success) {
            var r = "notification.sbcChallenges.failedToSave";
            (null === (i = this.challenge) || void 0 === i ? void 0 : i.hasExpired()) ? r = "notification.sbcChallenges.expired" : e.error && e.error.code === UtasErrorCode.SERVICE_IS_DISABLED && (r = "sbc.notification.disabled"),
            services.Notification.queue([services.Localization.localize(r), UINotificationType.NEGATIVE])
        }
    }
    ,
    UTApplicableConsumableListViewController
}(EAViewController)
  , UTConsumableStatsDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTConsumableStatsDTO() {
        var t = e.call(this) || this;
        return t.healing = 0,
        t.managerLeagueModifier = 0,
        t.playStyle = 0,
        t.position = 0,
        t
    }
    return __extends(UTConsumableStatsDTO, e),
    Object.defineProperty(UTConsumableStatsDTO.prototype, "total", {
        get: function() {
            return this.healing + this.managerLeagueModifier + this.playStyle + this.position
        },
        enumerable: !1,
        configurable: !0
    }),
    UTConsumableStatsDTO
}(EAObject))
  , UTConsumableCategoriesViewModel = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTConsumableCategoriesViewModel(t) {
        var e = i.call(this, t) || this;
        return e.organizeItems(),
        e
    }
    return __extends(UTConsumableCategoriesViewModel, i),
    UTConsumableCategoriesViewModel.prototype.getTotals = function(e, t) {
        var i = new UTConsumableStatsDTO;
        return this.values().forEach(function(t) {
            (!e || e && t.canApplyTo(e)) && (t.isInjuryHealing() ? i.healing += t.stackCount : t.isManagerLeagueModifier() ? i.managerLeagueModifier += t.stackCount : t.isStyleModifier() && (i.playStyle += t.stackCount))
        }, this),
        i
    }
    ,
    UTConsumableCategoriesViewModel.prototype.getItems = function(t, e) {
        function pCc(t) {
            return !e || t.canApplyTo(e)
        }
        if (JSUtils.isNumber(t))
            switch (t) {
            case enums.UIConsumableCategory.HEALING:
                return this.values().filter(function(t) {
                    return t.isInjuryHealing() && pCc(t)
                });
            case enums.UIConsumableCategory.LEAGUEMOD:
                return this.values().filter(function(t) {
                    return t.isManagerLeagueModifier() && pCc(t)
                });
            case enums.UIConsumableCategory.PLAYSTYLE:
                return this.values().filter(function(t) {
                    return t.isStyleModifier() && pCc(t)
                })
            }
        return e ? this.values().filter(pCc) : this.values()
    }
    ,
    UTConsumableCategoriesViewModel
}(UTClubViewModel))
  , UTClubCategoryRowView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTClubCategoryRowView() {
        return e.call(this) || this
    }
    return __extends(UTClubCategoryRowView, e),
    UTClubCategoryRowView.prototype.init = function() {
        e.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTClubCategoryRowView.prototype.show = function() {
        this.setDisplay(!0)
    }
    ,
    UTClubCategoryRowView.prototype.hide = function() {
        this.setDisplay(!1)
    }
    ,
    UTClubCategoryRowView.prototype.setTitle = function(t) {
        this.__title.textContent = t
    }
    ,
    UTClubCategoryRowView.prototype.setStackCount = function(t) {
        var e = services.Localization;
        if (0 === t)
            this.__stack.textContent = e.localize("club.consumables.NA");
        else {
            var i = 1 === t ? e.localize("dock.label.item") : e.localize("dock.label.items");
            this.__stack.textContent = t.toString() + " " + i
        }
    }
    ,
    UTClubCategoryRowView.prototype.showStackCount = function(t) {
        DOMKit.toggleDisplayStyle(this.__stack, t)
    }
    ,
    UTClubCategoryRowView.prototype._mouseLeave = function(t) {
        this.removeClass([enums.UIState.ACTIVE, enums.UIState.HOVER].join(" "))
    }
    ,
    UTClubCategoryRowView.prototype._mouseEnter = function(t) {
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTClubCategoryRowView.prototype._touchStarted = function(t) {
        e.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTClubCategoryRowView.prototype._touchMoved = function(t) {
        e.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTClubCategoryRowView.prototype._touchEnded = function(t) {
        e.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTClubCategoryRowView.prototype._touchCancelled = function(t) {
        e.prototype._touchCancelled.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTClubCategoryRowView.prototype._tapDetected = function(t) {
        e.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP)
    }
    ,
    UTClubCategoryRowView
}(EATargetActionView));
UTClubCategoryRowView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("has-tap-callback"),
        t.classList.add("rowContent"),
        t.classList.add("ListRowClubCategory"),
        this.__imageContainer = document.createElement("div"),
        this.__imageContainer.classList.add("icon"),
        t.appendChild(this.__imageContainer);
        var e = document.createElement("header");
        this.__title = document.createElement("h1"),
        this.__title.classList.add("categoryTitle"),
        e.appendChild(this.__title),
        this.__stack = document.createElement("h2"),
        this.__stack.classList.add("stackValue"),
        e.appendChild(this.__stack),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTClubCategoryRowView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__imageContainer = null,
    this.__title = null,
    this.__stack = null
}
,
UTClubCategoryRowView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTConsumableCategoriesView = function(e) {
    function UTConsumableCategoriesView() {
        var t = e.call(this) || this;
        return t.pinnedRow = null,
        t.noResultsView = null,
        t
    }
    return __extends(UTConsumableCategoriesView, e),
    UTConsumableCategoriesView.prototype.init = function() {
        e.prototype.init.call(this);
        var t = services.Localization;
        this._healing.init(),
        this._healing.setTitle(t.localize("club.category.healing")),
        this._healing.setDisplay(!1),
        this._chemstyle.init(),
        this._chemstyle.setTitle(t.localize("trainingtype.playStyle")),
        this._chemstyle.setDisplay(!1),
        this._leaguemod.init(),
        this._leaguemod.setTitle(t.localize("card.title.leagueModifier")),
        this._leaguemod.setDisplay(!1)
    }
    ,
    UTConsumableCategoriesView.prototype.dealloc = function() {
        this.pinnedRow && (this.pinnedRow.destroy(),
        this.pinnedRow = null),
        this.noResultsView && (this.noResultsView.destroy(),
        this.noResultsView = null),
        e.prototype.dealloc.call(this)
    }
    ,
    UTConsumableCategoriesView.prototype.setCategoryValues = function(t) {
        function gDc(t, e) {
            0 !== e ? (t.setStackCount(e),
            t.setDisplay(!0),
            t.addTarget(i, i._eCategorySelected, EventType.TAP)) : t.setDisplay(!1)
        }
        var i = this;
        0 < t.total ? (gDc.call(this, this._healing, t.healing),
        gDc.call(this, this._leaguemod, t.managerLeagueModifier),
        gDc.call(this, this._chemstyle, t.playStyle)) : (this.noResultsView = new UTListNoResultsView,
        this.noResultsView.init(),
        this.noResultsView.setHeading(services.Localization.localize("popup.error.searchauctions.retrysearch")),
        this.noResultsView.setDescription(services.Localization.localize("consumables.empty")),
        DOMKit.empty(this.__categoryList),
        this.__categoryList.appendChild(this.noResultsView.getRootElement()))
    }
    ,
    UTConsumableCategoriesView.prototype.setPinnedItem = function(t) {
        DOMKit.empty(this.__pinnedList),
        this.pinnedRow && this.pinnedRow.dealloc(),
        this.pinnedRow = new UTItemTableCellView,
        this.pinnedRow.setData(t),
        this.pinnedRow.render(),
        this.__pinnedList.appendChild(this.pinnedRow.getRootElement()),
        this.__categoryList.style.top = this.__pinnedList.offsetHeight + "px"
    }
    ,
    UTConsumableCategoriesView.prototype._eCategorySelected = function(t, e, i) {
        var r = null;
        t === this._healing ? r = enums.UIConsumableCategory.HEALING : t === this._leaguemod ? r = enums.UIConsumableCategory.LEAGUEMOD : t === this._chemstyle && (r = enums.UIConsumableCategory.PLAYSTYLE),
        JSUtils.isNumber(r) && this._triggerActions(e, {
            category: r
        })
    }
    ,
    UTConsumableCategoriesView
}(EATargetActionView);
UTConsumableCategoriesView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-pinned-list-container"),
        t.classList.add("SquadConsumables"),
        this.__pinnedList = document.createElement("ul"),
        this.__pinnedList.classList.add("ut-pinned-item"),
        t.appendChild(this.__pinnedList),
        this.__categoryList = document.createElement("div"),
        this.__categoryList.classList.add("ut-pinned-list"),
        this.__categoryList.classList.add("consumablesFilterOptions"),
        this.__categoryList.classList.add("searchFilterOptions"),
        this._healing = new UTClubCategoryRowView,
        this._healing.getRootElement().classList.add("consumable"),
        this._healing.getRootElement().classList.add("healing"),
        this.__categoryList.appendChild(this._healing.getRootElement()),
        this._leaguemod = new UTClubCategoryRowView,
        this._leaguemod.getRootElement().classList.add("consumable"),
        this._leaguemod.getRootElement().classList.add("leaguemodifier"),
        this.__categoryList.appendChild(this._leaguemod.getRootElement()),
        this._chemstyle = new UTClubCategoryRowView,
        this._chemstyle.getRootElement().classList.add("consumable"),
        this._chemstyle.getRootElement().classList.add("chemstyles"),
        this.__categoryList.appendChild(this._chemstyle.getRootElement()),
        t.appendChild(this.__categoryList),
        this.__root = t,
        this._generated = !0
    }
}
,
UTConsumableCategoriesView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__pinnedList = null,
    this.__categoryList = null,
    this._healing.destroy(),
    this._leaguemod.destroy(),
    this._chemstyle.destroy()
}
,
UTConsumableCategoriesView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerPositionCellView = function(i) {
    function UTPlayerPositionCellView(t) {
        var e = i.call(this) || this;
        return e.loc = t.localization,
        e
    }
    return __extends(UTPlayerPositionCellView, i),
    UTPlayerPositionCellView.prototype.init = function() {
        i.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTPlayerPositionCellView.prototype.setInteractionState = function(t) {
        var e = this._interactionState;
        i.prototype.setInteractionState.call(this, t),
        this._interactionState !== e && this.toggleClass(enums.UIState.DISABLED, !this._interactionState)
    }
    ,
    UTPlayerPositionCellView.prototype.setPosition = function(t, e) {
        var i = UTLocalizationUtil.positionIdToName(t, this.loc)
          , r = UTLocalizationUtil.positionIdToName(e, this.loc);
        this.__title.textContent = this.loc.localize("player.position.transfer", [i, r])
    }
    ,
    UTPlayerPositionCellView.prototype.toggleSelected = function(t) {
        this.toggleClass(enums.UIState.SELECTED, t)
    }
    ,
    UTPlayerPositionCellView.prototype._mouseEnter = function(t) {
        i.prototype._mouseEnter.call(this, t),
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTPlayerPositionCellView.prototype._mouseLeave = function(t) {
        i.prototype._mouseLeave.call(this, t),
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTPlayerPositionCellView.prototype._touchStarted = function(t) {
        i.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTPlayerPositionCellView.prototype._touchMoved = function(t) {
        i.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTPlayerPositionCellView.prototype._touchEnded = function(t) {
        i.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTPlayerPositionCellView.prototype._tapDetected = function(t) {
        i.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP)
    }
    ,
    UTPlayerPositionCellView
}(EATargetActionView);
UTPlayerPositionCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-player-position-table-cell-view"),
        this.__title = document.createElement("h1"),
        this.__title.classList.add("ut-player-position-table-cell-view--title"),
        t.appendChild(this.__title),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerPositionCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null
}
,
UTPlayerPositionCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTApplicablePositionSelectView = function(r) {
    function UTApplicablePositionSelectView(t, e) {
        var i = r.call(this) || this;
        return i.currentPosition = t,
        i.positionCellViews = [],
        i.loc = e.localization,
        i.selectedPosition = null,
        i
    }
    return __extends(UTApplicablePositionSelectView, r),
    UTApplicablePositionSelectView.prototype.init = function() {
        r.prototype.init.call(this),
        this.__title.textContent = this.loc.localize("popups.title.position-select"),
        this.__description.textContent = this.loc.localize("popups.description.position-select"),
        this._btnCancel.init(),
        this._btnConfirm.init(),
        this._btnConfirm.setInteractionState(!1),
        this._btnCancel.setText(this.loc.localize("common.dialog.cancel")),
        this._btnConfirm.setText(this.loc.localize("common.dialog.apply")),
        this._btnCancel.addTarget(this, this.onDismissButtonSelected, EventType.TAP),
        this._btnConfirm.addTarget(this, this.onConfirmButtonSelected, EventType.TAP),
        this._btnExit.init(),
        this._btnExit.addTarget(this, this.onDismissButtonSelected, EventType.TAP),
        this.setInteractionState(!0)
    }
    ,
    UTApplicablePositionSelectView.prototype.dealloc = function() {
        this.clearPositionCells(),
        r.prototype.dealloc.call(this)
    }
    ,
    UTApplicablePositionSelectView.prototype.clearPositionCells = function() {
        this.selectedPosition = null,
        this.positionCellViews.forEach(function(t) {
            return t.dealloc()
        }),
        this.positionCellViews = []
    }
    ,
    UTApplicablePositionSelectView.prototype.generatePositionCell = function(t) {
        var e = this
          , i = new UTPlayerPositionCellView({
            localization: this.loc
        });
        i.init(),
        i.setPosition(this.currentPosition, t),
        i.addTarget(this, function() {
            return e.onPositionSelected(i, EventType.TAP, {
                newPosition: t
            })
        }, EventType.TAP),
        this.positionCellViews.push(i),
        this.addSubview(i, this.__table)
    }
    ,
    UTApplicablePositionSelectView.prototype.setPositions = function(t) {
        this.clearPositionCells(),
        t.forEach(this.generatePositionCell, this),
        this.layoutSubviews()
    }
    ,
    UTApplicablePositionSelectView.prototype.onDismissButtonSelected = function(t, e, i) {
        this.isInteractionEnabled() && this._triggerActions(UTApplicablePositionSelectView.Event.DISMISS)
    }
    ,
    UTApplicablePositionSelectView.prototype.onPositionSelected = function(t, e, i) {
        this.isInteractionEnabled() && (this.selectedPosition = i.newPosition,
        this.positionCellViews.forEach(function(t) {
            return t.toggleSelected(!1)
        }),
        t.toggleSelected(!0),
        this._btnConfirm.setInteractionState(!0))
    }
    ,
    UTApplicablePositionSelectView.prototype.onConfirmButtonSelected = function(t, e, i) {
        this.isInteractionEnabled() && JSUtils.isNumber(this.selectedPosition) && (this.setInteractionState(!1),
        this._triggerActions(UTApplicablePositionSelectView.Event.POSITION_SELECTED, {
            id: this.selectedPosition
        }))
    }
    ,
    UTApplicablePositionSelectView.Event = Object.freeze({
        DISMISS: "UTApplicablePositionSelectView.DISMISS",
        POSITION_SELECTED: "UTApplicablePositionSelectView.POSITION_SELECTED"
    }),
    UTApplicablePositionSelectView
}(EATargetActionView);
UTApplicablePositionSelectView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-applicable-position-select-view");
        var e = document.createElement("header");
        this.__title = document.createElement("h1"),
        this.__title.classList.add("ut-applicable-position-select-view--title"),
        e.appendChild(this.__title),
        this._btnExit = new UTImageButtonControl,
        this._btnExit.getRootElement().classList.add("exit-btn"),
        e.appendChild(this._btnExit.getRootElement()),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("ut-applicable-position-select-view--description"),
        this.__description = document.createElement("p"),
        i.appendChild(this.__description),
        t.appendChild(i),
        this.__table = document.createElement("div"),
        this.__table.classList.add("ut-applicable-position-select-view--table"),
        t.appendChild(this.__table);
        var r = document.createElement("div");
        r.classList.add("ut-button-group"),
        this._btnConfirm = new UTGroupButtonControl,
        r.appendChild(this._btnConfirm.getRootElement()),
        this._btnCancel = new UTGroupButtonControl,
        this._btnCancel.getRootElement().classList.add("negative"),
        r.appendChild(this._btnCancel.getRootElement()),
        t.appendChild(r),
        this.__root = t,
        this._generated = !0
    }
}
,
UTApplicablePositionSelectView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this._btnExit.destroy(),
    this.__description = null,
    this.__table = null,
    this._btnConfirm.destroy(),
    this._btnCancel.destroy()
}
,
UTApplicablePositionSelectView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTApplicablePositionSelectViewController = function(r) {
    function UTApplicablePositionSelectViewController(t, e) {
        var i = r.call(this) || this;
        return i.challenge = null,
        i.consumable = e,
        i.squad = null,
        i.targetItem = t,
        i
    }
    return __extends(UTApplicablePositionSelectViewController, r),
    UTApplicablePositionSelectViewController.prototype.initWithSquad = function(t) {
        this.initialized || (this.squad = t,
        this.init())
    }
    ,
    UTApplicablePositionSelectViewController.prototype.initWithSBCChallenge = function(t) {
        this.initialized || (this.challenge = t,
        this.challenge.squad && this.initWithSquad(this.challenge.squad))
    }
    ,
    UTApplicablePositionSelectViewController.prototype.dealloc = function() {
        r.prototype.dealloc.call(this),
        this.squad = null,
        this.challenge = null
    }
    ,
    UTApplicablePositionSelectViewController.prototype._getViewInstanceFromData = function() {
        return new UTApplicablePositionSelectView(this.targetItem.preferredPosition,{
            localization: services.Localization
        })
    }
    ,
    UTApplicablePositionSelectViewController.prototype.viewDidAppear = function() {
        var e = this
          , t = this.getView();
        r.prototype.viewDidAppear.call(this),
        t.setPositions(this.targetItem.possiblePositions.filter(function(t) {
            return t !== e.targetItem.preferredPosition
        })),
        t.addTarget(this, this.onDismissSelected, UTApplicablePositionSelectView.Event.DISMISS),
        t.addTarget(this, this.onPositionSelect, UTApplicablePositionSelectView.Event.POSITION_SELECTED)
    }
    ,
    UTApplicablePositionSelectViewController.prototype.viewWillDisappear = function() {
        var t = this.getView();
        r.prototype.viewWillDisappear.call(this),
        t.removeTarget(this, this.onDismissSelected, UTApplicablePositionSelectView.Event.DISMISS),
        t.removeTarget(this, this.onPositionSelect, UTApplicablePositionSelectView.Event.POSITION_SELECTED)
    }
    ,
    UTApplicablePositionSelectViewController.prototype.onDismissSelected = function(t, e, i) {
        this.closePopup()
    }
    ,
    UTApplicablePositionSelectViewController.prototype.onPositionSelect = function(t, e, i) {
        var r = this;
        this.getParentViewController();
        this.getView().setInteractionState(!1);
        services.Item.applyTo(this.consumable, this.targetItem, i.id).observe(this, function(t, e) {
            if (t.unobserve(r),
            e.success) {
                r.challenge ? r.challenge.squad : r.squad;
                services.Notification.queue([services.Localization.localize("notification.item.appliedConsumable"), UINotificationType.NEUTRAL]),
                r.challenge ? services.SBC.saveChallenge(r.challenge).observe(r, r._onSBCSaveComplete) : r.squad && r.squad.save()
            } else
                NetworkErrorManager.handleStatus(e.status);
            r.closePopup()
        })
    }
    ,
    UTApplicablePositionSelectViewController.prototype._onSBCSaveComplete = function(t, e) {
        var i;
        if (t.unobserve(this),
        !e.success) {
            var r = "notification.sbcChallenges.failedToSave";
            (null === (i = this.challenge) || void 0 === i ? void 0 : i.hasExpired()) ? r = "notification.sbcChallenges.expired" : e.error && e.error.code === UtasErrorCode.SERVICE_IS_DISABLED && (r = "sbc.notification.disabled"),
            services.Notification.queue([services.Localization.localize(r), UINotificationType.NEGATIVE])
        }
    }
    ,
    UTApplicablePositionSelectViewController
}(BasePopupViewController)
  , UTConsumableCategoriesViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function UTConsumableCategoriesViewController() {
        var t = i.call(this) || this;
        return t.challenge = null,
        t.item = null,
        t.squad = null,
        t.viewmodel = null,
        t
    }
    return __extends(UTConsumableCategoriesViewController, i),
    UTConsumableCategoriesViewController.prototype.init = function() {
        if (!this.initialized) {
            i.prototype.init.call(this);
            var t = this.challenge ? TelemetryManager.Sections.SBC : TelemetryManager.Sections.SQUADS
              , e = (this.challenge ? "SBC" : "Active") + " Squad - Apply Consumables";
            TelemetryManager.trackPage(t, e),
            services.PIN.sendData(PINEventType.PAGE_VIEW, {
                type: PIN_PAGEVIEW_EVT_TYPE,
                pgid: e
            }),
            this.getView().addTarget(this, this._eCategorySelected, EventType.TAP)
        }
    }
    ,
    UTConsumableCategoriesViewController.prototype.initWithItem = function(t) {
        this.initialized || (DebugUtils.Assert(t instanceof UTItemEntity, "Initialization expected an item entity."),
        this.item = t,
        this.init())
    }
    ,
    UTConsumableCategoriesViewController.prototype.initWithSquad = function(t, e) {
        if (!this.initialized) {
            DebugUtils.Assert(t instanceof UTSquadEntity, "Initialization expected a squad entity."),
            DebugUtils.Assert(JSUtils.isNumber(e), "Initialization expected a number for current squad slot.");
            var i = (this.squad = t).getSlot(e).getItem();
            DebugUtils.Assert(i.isValid(), "Initialization expected a valid item in the current squad slot."),
            this.initWithItem(i)
        }
    }
    ,
    UTConsumableCategoriesViewController.prototype.initWithSBCChallenge = function(t, e) {
        this.initialized || (DebugUtils.Assert(t instanceof UTSBCChallengeEntity, "Initialization expected a challenge entity."),
        DebugUtils.Assert(JSUtils.isNumber(e), "Initialization expected a number for current squad slot."),
        this.challenge = t,
        this.challenge.squad && this.initWithSquad(this.challenge.squad, e))
    }
    ,
    UTConsumableCategoriesViewController.prototype.dealloc = function() {
        i.prototype.dealloc.call(this),
        this.challenge = null,
        this.item = null,
        this.squad = null,
        this.viewmodel = null
    }
    ,
    UTConsumableCategoriesViewController.prototype._getViewInstanceFromData = function() {
        return new UTConsumableCategoriesView
    }
    ,
    UTConsumableCategoriesViewController.prototype.viewDidAppear = function() {
        var t;
        null === (t = this.getNavigationController()) || void 0 === t || t.setNavigationVisibility(!0, !0),
        this._refreshView(),
        i.prototype.viewDidAppear.call(this)
    }
    ,
    UTConsumableCategoriesViewController.prototype.getNavigationTitle = function() {
        return services.Localization.localize("panel.applyitem.button")
    }
    ,
    UTConsumableCategoriesViewController.prototype._refreshView = function() {
        var o = this
          , n = this.getView();
        if (this.item && n.setPinnedItem(this.item),
        this.viewmodel && this.item)
            n.setCategoryValues(this.viewmodel.getTotals(this.item, JSUtils.isValid(this.squad)));
        else {
            var t = new UTSearchCriteriaDTO;
            t.type = SearchType.CONSUMABLES_DEVELOPMENT,
            t.category = SearchCategory.ANY,
            services.Club.search(t).observe(this, function(t, e) {
                var i;
                if (t.unobserve(o),
                e.success && JSUtils.isObject(e.response))
                    o.viewmodel = new UTConsumableCategoriesViewModel(e.response.items),
                    n.setCategoryValues(o.viewmodel.getTotals(null !== (i = o.item) && void 0 !== i ? i : void 0, JSUtils.isValid(o.squad)));
                else {
                    services.Notification.queue([services.Localization.localize("notification.error.loadConsumables"), UINotificationType.NEGATIVE]);
                    var r = o.getNavigationController();
                    r && r.popViewController()
                }
            })
        }
    }
    ,
    UTConsumableCategoriesViewController.prototype._eCategorySelected = function(t, e, i) {
        var r, o, n;
        if (JSUtils.isNumber(i.category) && this.item) {
            var a = null !== (o = null === (r = this.viewmodel) || void 0 === r ? void 0 : r.getItems(i.category, this.item)) && void 0 !== o ? o : []
              , s = new UTApplicableConsumableListViewController;
            this.challenge ? s.initWithItemsAndSBCChallenge(a, this.item, this.challenge) : this.squad ? s.initWithItemsAndSquad(a, this.item, this.squad) : this.item ? s.initWithItems(a, this.item) : s.init(),
            s && (null === (n = this.getNavigationController()) || void 0 === n || n.pushViewController(s))
        }
    }
    ,
    UTConsumableCategoriesViewController
}(EAViewController))
  , UTItemActionController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTItemActionController() {
        return t.call(this) || this
    }
    return __extends(UTItemActionController, t),
    UTItemActionController.prototype.bid = function(t, e) {
        var i = this
          , r = services.Localization
          , o = services.Item.bid(t, e);
        return o.observe(this, function(t, e) {
            if (t.unobserve(i),
            e.status === HttpStatusCode.RATE_LIMIT)
                services.Notification.queue([r.localize("popup.error.RateLimitBody"), UINotificationType.NEGATIVE]);
            else if (e.error)
                switch (e.error.code) {
                case UtasErrorCode.PERMISSION_DENIED:
                    services.Notification.queue([r.localize("popup.error.item.bidDenied"), UINotificationType.NEGATIVE]);
                    break;
                case UtasErrorCode.STATE_INVALID:
                case UtasErrorCode.NO_TRADE_EXISTS:
                    services.Notification.queue([r.localize("popup.error.item.InvalidState"), UINotificationType.NEGATIVE]);
                    break;
                case UtasErrorCode.INVALID_OWNER:
                    services.Notification.queue([r.localize("popup.error.tradetoken.BidYourCard"), UINotificationType.NEGATIVE]);
                    break;
                case UtasErrorCode.CARD_IN_TRADE:
                    services.Notification.queue([r.localize("popup.error.tradetoken.ItemInTradeOffer"), UINotificationType.NEGATIVE]);
                    break;
                case UtasErrorCode.NOT_ENOUGH_CREDIT:
                    services.Notification.queue([r.localize("popup.error.auctionInsufficientCoins"), UINotificationType.NEGATIVE]);
                    break;
                case UtasErrorCode.SERVICE_IS_DISABLED:
                    services.Notification.queue([r.localize("popup.error.auctioninfo.tradingdisabled"), UINotificationType.NEGATIVE])
                }
        }),
        o
    }
    ,
    UTItemActionController.prototype.combineLoans = function(t) {
        var i = this
          , r = services.Localization
          , e = services.Item.combineLoans(t);
        return e.observe(this, function(t, e) {
            t.unobserve(i),
            e.success || services.Notification.queue([r.localize("notification.error.item.combineLoans"), UINotificationType.NEGATIVE])
        }),
        e
    }
    ,
    UTItemActionController.prototype.discard = function(t, e) {
        var i = this
          , r = services.Item.discard(t, e);
        return r.observe(this, function(t, e) {
            t.unobserve(i),
            e.success || services.Notification.queue([services.Localization.localize("notification.error.item.discard"), UINotificationType.NEGATIVE])
        }),
        r
    }
    ,
    UTItemActionController.prototype.move = function(c, u) {
        var p = this
          , t = services.Item.move(c, u);
        return t.observe(this, function(t, e) {
            var i = services.Localization;
            if (t.unobserve(p),
            e.success && JSUtils.isObject(e.data)) {
                var r = e.data
                  , o = Array.isArray(c) ? c.filter(function(t) {
                    return 0 <= r.itemIds.indexOf(t.id)
                }) : [c]
                  , n = o.length
                  , a = "";
                if (1 < n) {
                    var s = "";
                    switch (u) {
                    case ItemPile.TRANSFER:
                        s = "notification.item.allToTradePile";
                        break;
                    case ItemPile.STORAGE:
                        s = "notification.item.allToStorage";
                        break;
                    default:
                        s = "notification.item.allToClub"
                    }
                    a = i.localize(s, [n.toString()])
                } else if (1 === n)
                    if (u === ItemPile.TRANSFER) {
                        var l = o[0];
                        a = l.isManager() ? i.localize("notification.manager.toTradePile") : l.isPlayer() ? i.localize("notification.player.toTradePile", [], {
                            gender: l.gender
                        }) : i.localize("notification.item.oneToTradePile")
                    } else
                        u === ItemPile.CLUB ? a = i.localize("notification.item.oneToClub") : u === ItemPile.STORAGE && (a = i.localize("notification.item.oneToStorage"));
                else
                    a = i.localize("notification.item.noneToTradePile"),
                    u === ItemPile.CLUB ? a = i.localize("notification.item.noneToClub") : u === ItemPile.STORAGE && (a = i.localize("notification.item.noneToStorage"));
                services.Notification.queue([a, UINotificationType.NEUTRAL])
            } else
                e.error && NetworkErrorManager.checkCriticalStatus(e.error.code) ? NetworkErrorManager.handleStatus(e.error.code) : NetworkErrorManager.checkCriticalStatus(e.status) ? NetworkErrorManager.handleStatus(e.status) : services.Notification.queue([i.localize("notification.item.moveFailed"), UINotificationType.NEGATIVE])
        }),
        t
    }
    ,
    UTItemActionController.prototype.target = function(t) {
        var r = this
          , o = services.Localization
          , e = services.Item.target(t);
        return e.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            e.success ? services.Notification.queue([o.localize("notification.item.watched"), UINotificationType.NEUTRAL]) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.PERMISSION_DENIED ? services.Notification.queue([o.localize("popup.error.watch.PermissionDenied"), UINotificationType.NEGATIVE]) : e.status === HttpStatusCode.CONFLICT && services.Notification.queue([o.localize("popup.error.watch.ItemNoLongerAvailable"), UINotificationType.NEGATIVE])
        }),
        e
    }
    ,
    UTItemActionController.prototype.untarget = function(t) {
        var r = this
          , o = services.Localization
          , e = services.Item.untarget(t);
        return e.observe(this, function(t, e) {
            var i;
            t.unobserve(r),
            e.success ? services.Notification.queue([o.localize("notification.item.unwatched"), UINotificationType.NEUTRAL]) : (null === (i = e.error) || void 0 === i ? void 0 : i.code) === UtasErrorCode.PERMISSION_DENIED && services.Notification.queue([o.localize("popup.error.unwatch.PermissionDenied"), UINotificationType.NEGATIVE])
        }),
        e
    }
    ,
    UTItemActionController
}(EAObject))
  , EAFilterBarItemView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(i) {
    function EAFilterBarItemView(t) {
        var e = i.call(this) || this;
        return e.id = t,
        e
    }
    return __extends(EAFilterBarItemView, i),
    EAFilterBarItemView.prototype.removeNotificationBubble = function() {
        this.notifBubble && (this.notifBubble.dealloc(),
        this.notifBubble = null)
    }
    ,
    EAFilterBarItemView.prototype.addNotificationBubble = function(t) {
        this.notifBubble ? t && this.notifBubble.setNumber(t) : (this.notifBubble = new UTTabBarItemNotificationView,
        t && this.notifBubble.setNumber(t),
        this.addSubview(this.notifBubble),
        this.layoutSubviews())
    }
    ,
    EAFilterBarItemView
}(UTButtonControl));
EAFilterBarItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("button");
        t.classList.add("ea-filter-bar-item-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
EAFilterBarItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
EAFilterBarItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var EAFilterBarView = function(e) {
    function EAFilterBarView() {
        var t = e.call(this) || this;
        return t.items = [],
        t.selectedItemId = 0,
        t
    }
    return __extends(EAFilterBarView, e),
    EAFilterBarView.prototype.dealloc = function() {
        this.clearTabs(),
        e.prototype.dealloc.call(this)
    }
    ,
    EAFilterBarView.prototype.setInteractionState = function(e) {
        this._setInteractionStateFlag(e),
        this.items.forEach(function(t) {
            return t.setInteractionState(e)
        })
    }
    ,
    EAFilterBarView.prototype.slideToFilterItem = function(t) {
        var e = this.getRootElement()
          , i = this.getBoundingClientRect()
          , r = t.getBoundingClientRect()
          , o = this.getRootElement().scrollLeft;
        if (r.left < i.left) {
            var n = r.left - i.left
              , a = o + Math.round(n);
            e.scroll({
                left: a,
                behavior: "smooth"
            })
        } else if (Math.round(r.right) > i.right) {
            var s = r.right - i.right;
            a = o + Math.round(s);
            e.scroll({
                left: a,
                behavior: "smooth"
            })
        }
    }
    ,
    EAFilterBarView.prototype.updateFilterItemState = function() {
        var i = this
          , r = null;
        this.items.forEach(function(t) {
            var e = t.id === i.selectedItemId;
            t.toggleClass(enums.UIState.SELECTED, e),
            e && (r = t)
        }),
        r && this.slideToFilterItem(r)
    }
    ,
    EAFilterBarView.prototype.clearTabs = function() {
        this.items.forEach(function(t) {
            return t.dealloc()
        }),
        this.items = []
    }
    ,
    EAFilterBarView.prototype.setActiveTab = function(t) {
        t !== this.selectedItemId && (this.selectedItemId = t,
        this.updateFilterItemState())
    }
    ,
    EAFilterBarView.prototype.getActiveTab = function() {
        return this.selectedItemId
    }
    ,
    EAFilterBarView.prototype.addTab = function(t, e) {
        var i = new EAFilterBarItemView(t);
        i.init(),
        i.setText(e),
        i.addTarget(this, this.onItemTapped, EventType.TAP),
        this.addSubview(i, this.__menuContainer),
        this.items.push(i),
        1 === this.items.length && (this.selectedItemId = t,
        this.updateFilterItemState())
    }
    ,
    EAFilterBarView.prototype.setTabInteractionState = function(e, t) {
        if (t || e !== this.selectedItemId) {
            var i = JSUtils.find(this.items, function(t) {
                return t.id === e
            });
            i && (i.toggleClass(enums.UIState.DISABLED, !t),
            i.setInteractionState(t))
        }
    }
    ,
    EAFilterBarView.prototype.toggleItemNotification = function(t, e) {
        var i = this.items[t];
        i && (0 < e ? i.addNotificationBubble(e) : i.removeNotificationBubble())
    }
    ,
    EAFilterBarView.prototype.onItemTapped = function(t) {
        t.id !== this.selectedItemId && (this.setActiveTab(t.id),
        this._triggerActions(EventType.TAP, {
            tab: t,
            id: t.id,
            index: this.items.indexOf(t)
        }))
    }
    ,
    EAFilterBarView
}(EATargetActionView);
EAFilterBarView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ea-filter-bar-view"),
        this.__menuContainer = document.createElement("div"),
        this.__menuContainer.classList.add("menu-container"),
        t.appendChild(this.__menuContainer),
        this.__root = t,
        this._generated = !0
    }
}
,
EAFilterBarView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__menuContainer = null
}
,
EAFilterBarView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTProgressListItemView = function(e) {
    function UTProgressListItemView() {
        var t = e.call(this) || this;
        return t.title = "",
        t.value = "",
        t
    }
    return __extends(UTProgressListItemView, e),
    UTProgressListItemView.prototype.setProgress = function(t) {
        t = Math.min(Math.max(t, 0), 100),
        this._progressBar.setProgress(t),
        71 <= t ? this._progressBar.setFeedbackState(enums.UIFeedbackState.HIGH) : 51 <= t ? this._progressBar.setFeedbackState(enums.UIFeedbackState.MEDIUM) : this._progressBar.setFeedbackState(enums.UIFeedbackState.LOW)
    }
    ,
    UTProgressListItemView.prototype.render = function() {
        this.__value.textContent = this.value.toString(),
        this.__title.textContent = this.title
    }
    ,
    UTProgressListItemView
}(EAView);
UTProgressListItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-progress-list-view");
        var e = document.createElement("div");
        e.classList.add("bar-container"),
        this.__title = document.createElement("span"),
        this.__title.classList.add("title"),
        e.appendChild(this.__title),
        this._progressBar = new UTProgressBarView,
        this._progressBar.getRootElement().classList.add("rounded"),
        this._progressBar.getRootElement().classList.add("mini"),
        e.appendChild(this._progressBar.getRootElement()),
        t.appendChild(e),
        this.__value = document.createElement("span"),
        this.__value.classList.add("value"),
        t.appendChild(this.__value),
        this.__root = t,
        this._generated = !0
    }
}
,
UTProgressListItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this._progressBar.destroy(),
    this.__value = null
}
,
UTProgressListItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTDonutGraphView = function(e) {
    function UTDonutGraphView() {
        var t = e.call(this) || this;
        return t.ctx = null,
        t.donutState = UTDonutGraphView.State.NONE,
        t.donutType = UTDonutGraphView.Type.HALF,
        t.isRTL = !1,
        t.lineWidth = 0,
        t.selectedLineWidth = 0,
        t
    }
    return __extends(UTDonutGraphView, e),
    UTDonutGraphView.prototype.init = function() {
        e.prototype.init.call(this),
        this.ctx = this.__graphCanvas.getContext("2d"),
        this.setTypeClass(this.donutType),
        this.isRTL = services.Localization.locale.isRTL(),
        this.toggleLabelDisplay(!1),
        this.setWidth(this.width)
    }
    ,
    UTDonutGraphView.prototype.dealloc = function() {
        var t = this.getRootElement();
        t && (t.width = 0,
        t.height = 0),
        this.ctx = null,
        e.prototype.dealloc.call(this)
    }
    ,
    UTDonutGraphView.prototype.setWidth = function(t) {
        this.lineWidth = t / 8,
        this.selectedLineWidth = 1.5 * this.lineWidth;
        var e = this.getRootElement();
        this.width = 0 < t ? t : this.width;
        var i = this.donutType === UTDonutGraphView.Type.HALF ? this.width / 2 : this.width
          , r = this.width + "px"
          , o = i + "px";
        e.style.width = r,
        e.style.height = o,
        this.__graphCanvas.style.width = r,
        this.__graphCanvas.style.height = o,
        200 <= this.width ? this.addClass(UTDonutGraphView.LabelSize.LARGE) : this.removeClass(UTDonutGraphView.LabelSize.LARGE)
    }
    ,
    UTDonutGraphView.prototype.setData = function(t, e) {
        if (this.__graphCanvas.width = this.width,
        this.__graphCanvas.height = this.donutType === UTDonutGraphView.Type.HALF ? this.width / 2 : this.width,
        this.ctx) {
            var i = this.__graphCanvas.width
              , r = this.__graphCanvas.height
              , o = i / 2
              , n = this.donutType === UTDonutGraphView.Type.HALF ? r : r / 2
              , a = (i - this.selectedLineWidth) / 2
              , s = this.donutType === UTDonutGraphView.Type.HALF ? 1 : 2;
            this.ctx.beginPath(),
            this.ctx.lineWidth = this.lineWidth,
            this.ctx.strokeStyle = UTDonutGraphView.BACKGROUND_COLOR,
            this.ctx.arc(o, n, a, Math.PI * s, 0 * Math.PI),
            this.ctx.stroke();
            for (var l = this.isRTL ? 0 * Math.PI : 1 * Math.PI, c = t.length, u = 0; u < c; u++) {
                var p = this.isRTL ? l - Math.PI * s * (t[u] / 100) : l + Math.PI * s * (t[u] / 100);
                this.ctx.lineWidth = JSUtils.isNumber(e) && u === e ? this.selectedLineWidth : this.lineWidth,
                this.ctx.beginPath(),
                this.ctx.strokeStyle = this.getColor(u),
                this.ctx.arc(o, n, a, l, p, this.isRTL),
                this.ctx.stroke(),
                l = p
            }
        }
    }
    ,
    UTDonutGraphView.prototype.getColor = function(t) {
        switch (DebugUtils.Assert(0 <= t, "Expected a positive integer."),
        this.donutState) {
        case UTDonutGraphView.State.CAPPED:
        case UTDonutGraphView.State.NEGATIVE:
            return UTDonutGraphView.COLORS[3];
        case UTDonutGraphView.State.POSITIVE:
            return UTDonutGraphView.COLORS[2];
        case UTDonutGraphView.State.NEUTRAL:
            return UTDonutGraphView.COLORS[1];
        case UTDonutGraphView.State.WARNING:
            return UTDonutGraphView.COLORS[4];
        default:
            return UTDonutGraphView.COLORS[Math.abs(t) % UTDonutGraphView.COLORS.length]
        }
    }
    ,
    UTDonutGraphView.prototype.setLabel = function(t, e) {
        this.__titleLabel.textContent = t,
        this.__titleValue.textContent = e
    }
    ,
    UTDonutGraphView.prototype.toggleLabelDisplay = function(t) {
        this.toggleClass("has-labels", t)
    }
    ,
    UTDonutGraphView.prototype.setStartLabel = function(t, e) {
        this.__startLabel.textContent = t,
        this.__startValue.textContent = e
    }
    ,
    UTDonutGraphView.prototype.setEndLabel = function(t, e) {
        this.__endLabel.textContent = t,
        this.__endValue.textContent = e
    }
    ,
    UTDonutGraphView.prototype.setState = function(t) {
        t !== this.donutState && (this.donutState = t,
        this.removeClass(JSUtils.getObjectValues(UTDonutGraphView.State).join(" ")),
        this.addClass(t))
    }
    ,
    UTDonutGraphView.prototype.setTypeClass = function(t) {
        this.donutType = t,
        this.removeClass(JSUtils.getObjectValues(UTDonutGraphView.Type).join(" ")),
        this.addClass(t)
    }
    ,
    UTDonutGraphView.prototype.setType = function(t) {
        t !== this.donutType && this.setTypeClass(t)
    }
    ,
    UTDonutGraphView.State = {
        NONE: "",
        NEUTRAL: "neutral",
        WARNING: "warning",
        POSITIVE: "positive",
        NEGATIVE: "negative",
        CAPPED: "capped"
    },
    UTDonutGraphView.Type = {
        HALF: "half",
        FULL: "full"
    },
    UTDonutGraphView.LabelSize = {
        DEFAULT: "default",
        LARGE: "large"
    },
    UTDonutGraphView.COLORS = ["#07f468", "#0b96ff", "#36b84b", "#d31332", "#f7b702", "#8813d3", "#306eff", "#3f9def", "#f87e0b", "#da0fbb", "#92bdd4", "#c17b57", "#fcfcf7"],
    UTDonutGraphView.BACKGROUND_COLOR = "#30312f",
    UTDonutGraphView
}(EAView);
UTDonutGraphView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("half"),
        t.classList.add("ut-donut-graph-view"),
        this.__graphContainer = document.createElement("div"),
        this.__graphContainer.classList.add("ut-donut-graph-view--graph");
        var e = document.createElement("div");
        e.classList.add("ut-donut-graph-view--title"),
        this.__titleValue = document.createElement("span"),
        this.__titleValue.classList.add("ut-donut-graph-view--value"),
        e.appendChild(this.__titleValue),
        this.__titleLabel = document.createElement("span"),
        this.__titleLabel.classList.add("ut-donut-graph-view--label"),
        e.appendChild(this.__titleLabel),
        this.__graphContainer.appendChild(e),
        this.__progressContainer = document.createElement("div"),
        this.__progressContainer.classList.add("ut-donut-graph-view--progress"),
        this.__graphCanvas = document.createElement("canvas"),
        this.__progressContainer.appendChild(this.__graphCanvas),
        this.__graphContainer.appendChild(this.__progressContainer),
        t.appendChild(this.__graphContainer);
        var i = document.createElement("div");
        i.classList.add("ut-donut-graph-view--labels");
        var r = document.createElement("div");
        this.__startValue = document.createElement("span"),
        this.__startValue.classList.add("ut-donut-graph-view--value"),
        r.appendChild(this.__startValue),
        this.__startLabel = document.createElement("span"),
        this.__startLabel.classList.add("ut-donut-graph-view--label"),
        r.appendChild(this.__startLabel),
        i.appendChild(r);
        var o = document.createElement("div");
        this.__endValue = document.createElement("span"),
        this.__endValue.classList.add("ut-donut-graph-view--value"),
        o.appendChild(this.__endValue),
        this.__endLabel = document.createElement("span"),
        this.__endLabel.classList.add("ut-donut-graph-view--label"),
        o.appendChild(this.__endLabel),
        i.appendChild(o),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTDonutGraphView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__graphContainer = null,
    this.__titleValue = null,
    this.__titleLabel = null,
    this.__progressContainer = null,
    this.__graphCanvas = null,
    this.__startValue = null,
    this.__startLabel = null,
    this.__endValue = null,
    this.__endLabel = null
}
,
UTDonutGraphView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTDonutListItemView = function(e) {
    function UTDonutListItemView() {
        var t = e.call(this) || this;
        return t.title = "",
        t
    }
    return __extends(UTDonutListItemView, e),
    UTDonutListItemView.prototype.init = function() {
        e.prototype.init.call(this),
        this._donut.init(),
        this._donut.setType(UTDonutGraphView.Type.HALF),
        this._donut.setWidth(50),
        this._donut.toggleLabelDisplay(!1)
    }
    ,
    UTDonutListItemView.prototype.setValue = function(t) {
        this._donut.setLabel("", t.toString())
    }
    ,
    UTDonutListItemView.prototype.setProgress = function(t) {
        75 <= (t = Math.min(Math.max(t, 0), 100)) ? this._donut.setState(UTDonutGraphView.State.POSITIVE) : 25 <= t ? this._donut.setState(UTDonutGraphView.State.WARNING) : this._donut.setState(UTDonutGraphView.State.NEGATIVE),
        this._donut.setData([t])
    }
    ,
    UTDonutListItemView.prototype.render = function() {
        this.__title.textContent = this.title
    }
    ,
    UTDonutListItemView
}(EAView);
UTDonutListItemView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-donut-list-view");
        var e = document.createElement("div");
        e.classList.add("bar-container"),
        this.__title = document.createElement("span"),
        this.__title.classList.add("title"),
        e.appendChild(this.__title),
        this._donut = new UTDonutGraphView,
        e.appendChild(this._donut.getRootElement()),
        t.appendChild(e),
        this.__value = document.createElement("span"),
        this.__value.classList.add("value"),
        t.appendChild(this.__value),
        this.__root = t,
        this._generated = !0
    }
}
,
UTDonutListItemView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this._donut.destroy(),
    this.__value = null
}
,
UTDonutListItemView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTraitTableCellView = function(e) {
    function UTTraitTableCellView() {
        return null !== e && e.apply(this, arguments) || this
    }
    return __extends(UTTraitTableCellView, e),
    UTTraitTableCellView.prototype.init = function() {
        e.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTTraitTableCellView.prototype.setTraitName = function(t, e) {
        this.__trait.textContent = t,
        DOMKit.toggleClass(this.__trait, "plus", e)
    }
    ,
    UTTraitTableCellView.prototype.setIconImage = function(t) {
        this._icon.src = t
    }
    ,
    UTTraitTableCellView.prototype._touchStarted = function(t) {
        e.prototype._touchStarted.call(this, t),
        this.addClass(enums.UIState.ACTIVE)
    }
    ,
    UTTraitTableCellView.prototype._touchMoved = function(t) {
        e.prototype._touchMoved.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTTraitTableCellView.prototype._touchEnded = function(t) {
        e.prototype._touchEnded.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTTraitTableCellView.prototype._touchCancelled = function(t) {
        e.prototype._touchCancelled.call(this, t),
        this.removeClass(enums.UIState.ACTIVE)
    }
    ,
    UTTraitTableCellView.prototype._mouseLeave = function(t) {
        e.prototype._mouseLeave.call(this, t),
        this.removeClass(enums.UIState.ACTIVE),
        this.removeClass(enums.UIState.HOVER)
    }
    ,
    UTTraitTableCellView.prototype._mouseEnter = function(t) {
        e.prototype._mouseEnter.call(this, t),
        this.addClass(enums.UIState.HOVER)
    }
    ,
    UTTraitTableCellView.prototype._tapDetected = function(t) {
        e.prototype._tapDetected.call(this, t),
        this._triggerActions(EventType.TAP)
    }
    ,
    UTTraitTableCellView
}(EATargetActionView);
UTTraitTableCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-trait-table-cell-view");
        var e = document.createElement("h1");
        this._icon = new EAImageView,
        e.appendChild(this._icon.getRootElement()),
        this.__trait = document.createElement("span"),
        e.appendChild(this.__trait),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTraitTableCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this._icon.destroy(),
    this.__trait = null
}
,
UTTraitTableCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTraitListView = function(e) {
    function UTTraitListView() {
        var t = null !== e && e.apply(this, arguments) || this;
        return t.rows = new Map,
        t
    }
    return __extends(UTTraitListView, e),
    UTTraitListView.prototype.init = function() {
        e.prototype.init.call(this),
        this.setInteractionState(!0)
    }
    ,
    UTTraitListView.prototype.render = function(t, n) {
        var a = this
          , s = services.Localization;
        this.rows = new Map(t.map(function(t, e) {
            var i = new UTTraitTableCellView
              , r = s.localize("extendedPlayerInfo.signatureAbility.name." + t.traitId, [], {
                gender: n.gender
            })
              , o = "images/traits/bio/" + (t.isIcon ? "icon" : "base") + "trait" + t.traitId + ".png";
            return i.init(),
            i.setTraitName(r, t.isIcon),
            i.setIconImage(o),
            i.addTarget(a, a.onRowTapped, EventType.TAP),
            i
        }).map(function(t, e) {
            return [t, e]
        })),
        this.rows.forEach(function(t, e) {
            return a.addSubview(e, a.__traitRows)
        }),
        this.layoutSubviews()
    }
    ,
    UTTraitListView.prototype.onRowTapped = function(t) {
        this._triggerActions(EventType.TAP, {
            index: this.rows.get(t)
        })
    }
    ,
    UTTraitListView
}(EATargetActionView);
UTTraitListView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        this.__traitRows = document.createElement("ul"),
        this.__traitRows.classList.add("ut-trait-list-view"),
        t.appendChild(this.__traitRows),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTraitListView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__traitRows = null
}
,
UTTraitListView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerBioTemporaryItemRowView = function(t) {
    function UTPlayerBioTemporaryItemRowView() {
        return null !== t && t.apply(this, arguments) || this
    }
    return __extends(UTPlayerBioTemporaryItemRowView, t),
    UTPlayerBioTemporaryItemRowView.prototype.renderAlternativeValue = function(t) {
        var e = ""
          , i = services.Localization;
        switch (t.limitedUseType) {
        case LimitedUseType.MATCH_LOAN:
            e = i.localize("playerInfo.matchesRemaining", [t.loans.toString()]);
            break;
        case LimitedUseType.GLOBAL_TIME_LIMIT_LOAN:
        case LimitedUseType.USER_TIME_LIMIT_LOAN:
            var r = Math.floor(Date.now() / MS_PER_SECOND)
              , o = Math.max(t.endTime - r, 0);
            e = i.localize("playerInfo.timeRemaining", [i.localizeTimeRemaining(o)]);
            break;
        default:
            DebugUtils.Assert(!1, "Unsupported limited use type"),
            e = BLANK_STR
        }
        return e
    }
    ,
    UTPlayerBioTemporaryItemRowView.prototype.render = function(t) {
        var e = this.renderAlternativeValue(t);
        this.__description.innerHTML = e
    }
    ,
    UTPlayerBioTemporaryItemRowView
}(EAView);
UTPlayerBioTemporaryItemRowView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-temporary-item-row"),
        this.__title = document.createElement("h1"),
        t.appendChild(this.__title),
        this.__description = document.createElement("p"),
        t.appendChild(this.__description),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerBioTemporaryItemRowView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__title = null,
    this.__description = null
}
,
UTPlayerBioTemporaryItemRowView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerBioRoleCellView = function(t) {
    function UTPlayerBioRoleCellView() {
        return t.call(this) || this
    }
    return __extends(UTPlayerBioRoleCellView, t),
    UTPlayerBioRoleCellView.prototype.setBaseRole = function(t, e) {
        this.__role.textContent = UTLocalizationUtil.mapTacticRoleToLocString(t, e),
        this.__familiarity.textContent = ""
    }
    ,
    UTPlayerBioRoleCellView.prototype.setPlusRole = function(t, e) {
        this.__role.textContent = UTLocalizationUtil.mapTacticRoleToLocString(t, e),
        this.__familiarity.textContent = "+"
    }
    ,
    UTPlayerBioRoleCellView.prototype.setPlusPlusRole = function(t, e) {
        this.__role.textContent = UTLocalizationUtil.mapTacticRoleToLocString(t, e),
        this.__familiarity.textContent = "++"
    }
    ,
    UTPlayerBioRoleCellView
}(EAView);
UTPlayerBioRoleCellView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("span");
        t.classList.add("ut-player-bio-role-cell-view"),
        this.__role = document.createElement("p"),
        this.__role.classList.add("ut-player-bio-role-cell-view--role"),
        t.appendChild(this.__role),
        this.__familiarity = document.createElement("p"),
        this.__familiarity.classList.add("ut-player-bio-role-cell-view--familiarity"),
        t.appendChild(this.__familiarity),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerBioRoleCellView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__role = null,
    this.__familiarity = null
}
,
UTPlayerBioRoleCellView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerBioRoleRowView = function(e) {
    function UTPlayerBioRoleRowView() {
        var t = e.call(this) || this;
        return t.plusRolesRows = [],
        t.plusPlusRolesRows = [],
        t.baseRows = [],
        t
    }
    return __extends(UTPlayerBioRoleRowView, e),
    UTPlayerBioRoleRowView.prototype.dealloc = function() {
        this.plusRolesRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.plusPlusRolesRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.baseRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.plusRolesRows = [],
        this.plusPlusRolesRows = [],
        this.baseRows = [],
        e.prototype.dealloc.call(this)
    }
    ,
    UTPlayerBioRoleRowView.prototype.setPosition = function(t) {
        this.__position.textContent = t
    }
    ,
    UTPlayerBioRoleRowView.prototype.setBaseRoles = function(t, i) {
        var r = this;
        0 === t.length && (this.baseRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.baseRows = [],
        this.__baseRoles.remove()),
        t.forEach(function(t) {
            var e = new UTPlayerBioRoleCellView;
            e.setBaseRole(t, i),
            r.baseRows.push(e),
            r.addSubview(e, r.__baseRoles)
        }),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioRoleRowView.prototype.setPlusRoles = function(t, i) {
        var r = this;
        0 === t.length && (this.plusRolesRows.forEach(function(t) {
            return t.dealloc()
        }),
        this.plusRolesRows = [],
        this.__plusRoles.remove()),
        t.forEach(function(t) {
            var e = new UTPlayerBioRoleCellView;
            e.setPlusRole(t, i),
            r.plusRolesRows.push(e),
            r.addSubview(e, r.__plusRoles)
        }),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioRoleRowView.prototype.setPlusPlusRoles = function(t, i) {
        var r = this;
        if (0 === t.length)
            return this.plusPlusRolesRows.forEach(function(t) {
                return t.dealloc()
            }),
            this.plusPlusRolesRows = [],
            void this.__plusPlusRoles.remove();
        t.forEach(function(t) {
            var e = new UTPlayerBioRoleCellView;
            e.setPlusPlusRole(t, i),
            r.plusPlusRolesRows.push(e),
            r.addSubview(e, r.__plusPlusRoles)
        }),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioRoleRowView
}(EAView);
UTPlayerBioRoleRowView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-player-bio-role-row-view"),
        this.__position = document.createElement("p"),
        this.__position.classList.add("ut-player-bio-role-row-view--position"),
        t.appendChild(this.__position);
        var e = document.createElement("div");
        e.classList.add("ut-player-bio-role-row-view--role-container"),
        this.__plusPlusRoles = document.createElement("div"),
        this.__plusPlusRoles.classList.add("ut-player-bio-role-row-view--roles"),
        e.appendChild(this.__plusPlusRoles),
        this.__plusRoles = document.createElement("div"),
        this.__plusRoles.classList.add("ut-player-bio-role-row-view--roles"),
        e.appendChild(this.__plusRoles),
        this.__baseRoles = document.createElement("div"),
        this.__baseRoles.classList.add("ut-player-bio-role-row-view--roles"),
        e.appendChild(this.__baseRoles),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerBioRoleRowView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__position = null,
    this.__plusPlusRoles = null,
    this.__plusRoles = null,
    this.__baseRoles = null
}
,
UTPlayerBioRoleRowView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var EAParagraphTextView = function(t) {
    function EAParagraphTextView() {
        return t.call(this) || this
    }
    return __extends(EAParagraphTextView, t),
    EAParagraphTextView.prototype.setText = function(t) {
        this.getRootElement().textContent = t
    }
    ,
    EAParagraphTextView
}(EAView);
EAParagraphTextView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("p");
        t.classList.add("ea-paragraph-text-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
EAParagraphTextView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
EAParagraphTextView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemBioRowView = function(t) {
    function UTItemBioRowView() {
        return t.call(this) || this
    }
    return __extends(UTItemBioRowView, t),
    UTItemBioRowView.prototype.setLabel = function(t) {
        this.__label.textContent = t
    }
    ,
    UTItemBioRowView.prototype.setValue = function(t) {
        this.__value.textContent = t
    }
    ,
    UTItemBioRowView.prototype.setClass = function(t) {
        DOMKit.toggleClass(this.getRootElement(), t)
    }
    ,
    UTItemBioRowView
}(EAView);
UTItemBioRowView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("li");
        t.classList.add("ut-item-bio-row-view"),
        this.__label = document.createElement("h1"),
        t.appendChild(this.__label),
        this.__value = document.createElement("h2"),
        this.__value.classList.add("label"),
        t.appendChild(this.__value),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemBioRowView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__label = null,
    this.__value = null
}
,
UTItemBioRowView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTItemBioListView = function(e) {
    function UTItemBioListView() {
        var t = e.call(this) || this;
        return t.rows = [],
        t
    }
    return __extends(UTItemBioListView, e),
    UTItemBioListView.prototype.dealloc = function() {
        this.rows.forEach(function(t) {
            return t.dealloc()
        }),
        this.rows = [],
        e.prototype.dealloc.call(this)
    }
    ,
    UTItemBioListView.prototype.addRow = function(t) {
        this.rows.push(t),
        this.addSubview(t)
    }
    ,
    UTItemBioListView.prototype.render = function() {
        this.layoutSubviews()
    }
    ,
    UTItemBioListView.prototype.setClass = function(t, e) {
        this.toggleClass(t, e)
    }
    ,
    UTItemBioListView
}(EAView);
UTItemBioListView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("ul");
        t.classList.add("ut-item-bio-list-view"),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemBioListView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
UTItemBioListView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTHeaderView = function(e) {
    function UTHeaderView() {
        return null !== e && e.apply(this, arguments) || this
    }
    return __extends(UTHeaderView, e),
    UTHeaderView.prototype._generate = function() {
        var t;
        e.prototype._generate.call(this),
        this.header = document.createElement("header"),
        this.header.className = "ut-header-view",
        this.text = document.createElement("h2"),
        this.text.className = "ut-header-view--text",
        this.header.appendChild(this.text),
        null === (t = this.__root) || void 0 === t || t.appendChild(this.header)
    }
    ,
    UTHeaderView.prototype.destroyGeneratedElements = function() {
        DOMKit.remove(this.text),
        DOMKit.remove(this.header),
        e.prototype.destroyGeneratedElements.call(this)
    }
    ,
    UTHeaderView.prototype.setHeader = function(t) {
        this.text.textContent = t
    }
    ,
    UTHeaderView
}(EAView)
  , UTItemBioView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function UTItemBioView() {
        var t = e.call(this) || this;
        return t.headers = [],
        t.lists = [],
        t.tables = [],
        t.others = [],
        t.pinnedRow = null,
        t
    }
    return __extends(UTItemBioView, e),
    UTItemBioView.prototype.dealloc = function() {
        this.clearComponentList(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTItemBioView.prototype.createHeader = function(t, e) {
        var i = new UTSectionedTableHeaderView;
        i.init(),
        i.hideActionButton(),
        i.hideBulkActionButton(),
        i.setText(e),
        this.headers.push(i),
        this.addSubview(i, t)
    }
    ,
    UTItemBioView.prototype.createLegendHeader = function(t, e) {
        var i = new UTHeaderView;
        i.init(),
        i.setHeader(e),
        this.headers.push(i),
        this.addSubview(i, t)
    }
    ,
    UTItemBioView.prototype.createItemBioListView = function(t) {
        var e = new UTItemBioListView;
        return e.init(),
        this.addSubview(e, t),
        this.lists.push(e),
        e
    }
    ,
    UTItemBioView.prototype.createItemBioRowView = function(t, e, i) {
        var r = new UTItemBioRowView;
        r.init(),
        r.setLabel(e),
        r.setValue(i),
        t.addRow(r)
    }
    ,
    UTItemBioView.prototype.clearComponentList = function() {
        this.headers.forEach(function(t) {
            t.dealloc()
        }),
        this.tables.forEach(function(t) {
            t.dealloc()
        }),
        this.lists.forEach(function(t) {
            t.dealloc()
        }),
        this.others.forEach(function(t) {
            t.dealloc()
        }),
        this.tables = [],
        this.headers = [],
        this.lists = [],
        this.others = [],
        this.pinnedRow = null
    }
    ,
    UTItemBioView.prototype.appendPinnedItemView = function(t) {
        this.pinnedRow = t,
        this.addSubview(t, this.__pinnedDiv)
    }
    ,
    UTItemBioView.prototype.calculateHeights = function() {
        this.pinnedRow && (this.__scrollerDiv.style.top = this.pinnedRow.getRootElement().clientHeight + "px")
    }
    ,
    UTItemBioView
}(EATargetActionView));
UTItemBioView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("article");
        t.classList.add("ut-pinned-list-container"),
        t.classList.add("ut-item-bio-view"),
        this.__pinnedDiv = document.createElement("div"),
        t.appendChild(this.__pinnedDiv),
        this.__scrollerDiv = document.createElement("div"),
        this.__scrollerDiv.classList.add("ut-pinned-list"),
        this._navigation = new EAFilterBarView,
        this.__scrollerDiv.appendChild(this._navigation.getRootElement()),
        this.__dataDisplay = document.createElement("div"),
        this.__scrollerDiv.appendChild(this.__dataDisplay),
        t.appendChild(this.__scrollerDiv),
        this.__root = t,
        this._generated = !0
    }
}
,
UTItemBioView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__pinnedDiv = null,
    this.__scrollerDiv = null,
    this._navigation.destroy(),
    this.__dataDisplay = null
}
,
UTItemBioView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTraitNoPlayStylesView = function(e) {
    function UTTraitNoPlayStylesView() {
        return e.call(this) || this
    }
    return __extends(UTTraitNoPlayStylesView, e),
    UTTraitNoPlayStylesView.prototype.init = function() {
        var t = services.Localization;
        this.setHeading(t.localize("item.view.traits.empty-traits")),
        this.setDescription(t.localize("item.view.traits.empty-traits-description")),
        this.setIconClass("no-play-styles"),
        e.prototype.init.call(this)
    }
    ,
    UTTraitNoPlayStylesView
}(BaseNoResultsView);
BaseNoResultsView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("base-no-results-view");
        var e = document.createElement("div");
        e.classList.add("contents"),
        this.__icon = document.createElement("span"),
        this.__icon.classList.add("base-no-results-icon"),
        e.appendChild(this.__icon),
        this.__title = document.createElement("h2"),
        this.__title.classList.add("base-no-results-title"),
        e.appendChild(this.__title),
        this.__description = document.createElement("p"),
        this.__description.classList.add("base-no-results-description"),
        e.appendChild(this.__description),
        t.appendChild(e),
        this.__root = t,
        this._generated = !0
    }
}
,
BaseNoResultsView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__icon = null,
    this.__title = null,
    this.__description = null
}
,
BaseNoResultsView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTPlayerBioStoryView = function(e) {
    function UTPlayerBioStoryView() {
        return null !== e && e.apply(this, arguments) || this
    }
    return __extends(UTPlayerBioStoryView, e),
    UTPlayerBioStoryView.prototype._generate = function() {
        var t;
        e.prototype._generate.call(this),
        this.story = document.createElement("p"),
        this.story.className = UTPlayerBioView.CLASS.ISOLATED_SECTION,
        null === (t = this.__root) || void 0 === t || t.appendChild(this.story)
    }
    ,
    UTPlayerBioStoryView.prototype.destroyGeneratedElements = function() {
        DOMKit.remove(this.story),
        e.prototype.destroyGeneratedElements.call(this)
    }
    ,
    UTPlayerBioStoryView.prototype.setStory = function(t) {
        this.story.innerHTML = t
    }
    ,
    UTPlayerBioStoryView
}(EAView)
  , UTPlayerBioView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(t) {
    function UTPlayerBioView() {
        return t.call(this) || this
    }
    return __extends(UTPlayerBioView, t),
    UTPlayerBioView.prototype.setupNavigation = function(t, e) {
        var i = services.Localization;
        this._navigation.clearTabs(),
        this._navigation.addTab(PlayerBioDisplayGroup.INFO, i.localize("extendedPlayerInfo.tab.general")),
        this._navigation.addTab(PlayerBioDisplayGroup.ATTRIBUTES, i.localize("extendedPlayerInfo.tab.stats")),
        this._navigation.addTab(PlayerBioDisplayGroup.TRAITS, i.localize("extendedPlayerInfo.tab.traits")),
        this._navigation.addTab(PlayerBioDisplayGroup.ROLES, i.localize("extendedPlayerInfo.tab.roles"));
        var r = getAppMain().getConfigRepository().getConfigArray("disableBioProfileRarityIds")
          , o = getAppMain().getConfigRepository().getConfigArray("enableProfileRarityIds");
        if (!e.isLegend() && !e.isLeagueHeroItem() || r.includes(e.rareflag))
            o.includes(e.rareflag) && this._navigation.addTab(PlayerBioDisplayGroup.PROFILE, i.localize("extendedPlayerInfo.tab.profile"));
        else {
            var n = i.localize("item.raretype" + e.rareflag)
              , a = i.localize("extendedPlayerInfo.tab.rarityInfo", [n], {
                gender: e.gender
            });
            this._navigation.addTab(PlayerBioDisplayGroup.LEGENDS, a)
        }
        this._navigation.setActiveTab(PlayerBioDisplayGroup.INFO),
        this._navigation.addTarget(this, t, EventType.TAP),
        this._navigation.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.render = function(t, e, i) {
        switch (this.clearComponentList(),
        DOMKit.empty(this.__dataDisplay),
        t) {
        case PlayerBioDisplayGroup.INFO:
            this.renderInfo(e, i);
            break;
        case PlayerBioDisplayGroup.ATTRIBUTES:
            this.renderAttributes(e);
            break;
        case PlayerBioDisplayGroup.LEGENDS:
            this.renderLegends(e);
            break;
        case PlayerBioDisplayGroup.TRAITS:
            this.renderPlayerTraits(e);
            break;
        case PlayerBioDisplayGroup.PROFILE:
            this.renderPlayerProfile(e)
        }
    }
    ,
    UTPlayerBioView.prototype.renderInfo = function(e, t) {
        var i = e.getYellowCards()
          , r = e.getTotalYellowCards()
          , o = e.getRedCards()
          , n = e.getTotalRedCards()
          , a = e.getStaticData()
          , s = e.getMetaData()
          , l = services.Localization
          , c = l.localize("extendedPlayerInfo.details.cards", [r.toString(), Math.max(0, r - i).toString(), i.toString()])
          , u = l.localize("extendedPlayerInfo.details.cards", [n.toString(), Math.max(0, n - o).toString(), o.toString()])
          , p = "extendedPlayerInfo.stats." + (e.isLeftFoot() ? "Left" : "Right")
          , d = l.localize("extendedPlayerInfo.header", [], {
            gender: e.gender
        });
        this.createHeader(this.__dataDisplay, d);
        var h, y = this.createItemBioListView(this.__dataDisplay), _ = (e.isSpecial() ? "" : l.localize("search.cardLevels.cardLevel" + e.getTier()) + " ") + l.localize("item.raretype" + e.rareflag);
        h = s ? t === MeasurementSystem.IMPERIAL ? TextUtils.centimetersToFeet(s.height) : l.localize("extendedPlayerInfo.general.height.cm", [s.height.toString()]) : l.localize("extendedPlayerInfo.general.height.cm", ["0"]),
        !e.isTimeLimited() && e.limitedUseType !== LimitedUseType.MATCH_LOAN || this.createTemporaryItemRow(y, e),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.rarity"), _),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.firstName"), a.firstName + " " + a.lastName);
        var m = l.localize("extendedPlayerInfo.general.knownAs", [], {
            gender: e.gender
        });
        if (this.createItemBioRowView(y, m, a.knownAs),
        s) {
            var T = new Date(1e3 * s.birthday);
            this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.dateOfBirth"), l.localize("date.mmddyyyy", [(T.getUTCMonth() + 1).toString(), T.getUTCDate().toString(), T.getUTCFullYear().toString()]))
        } else
            this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.dateOfBirth"), "---");
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.height"), h),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.preferredPosition"), UTLocalizationUtil.positionIdToName(e.preferredPosition, l, e.gender)),
        1 < e.possiblePositions.length && this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.alternatePositions"), e.possiblePositions.filter(function(t) {
            return t !== e.preferredPosition
        }).map(function(t) {
            return UTLocalizationUtil.positionIdToName(t, l, e.gender)
        }).join(", "));
        var f = l.localize("extendedPlayerInfo.general.preferredFoot", [], {
            gender: e.gender
        })
          , g = l.localize("extendedPlayerInfo.stats.weakfoot", [], {
            gender: e.gender
        });
        this.createItemBioRowView(y, f, l.localize(p)),
        this.createRatingRow(y, g, e.getWeakFoot()),
        this.createRatingRow(y, l.localize("extendedPlayerInfo.stats.skillmoves"), e.getSkillMoves()),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.nation"), UTLocalizationUtil.nationIdToName(e.nationId, l)),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.club"), UTLocalizationUtil.teamIdToAbbr15(e.teamId, l)),
        this.createItemBioRowView(y, l.localize("extendedPlayerInfo.general.league"), UTLocalizationUtil.leagueIdToName(e.leagueId, l)),
        y.layoutSubviews(),
        this.createHeader(this.__dataDisplay, l.localize("extendedPlayerInfo.general.itemDetails"));
        var E = this.createItemBioListView(this.__dataDisplay);
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.playstyle"), UTLocalizationUtil.playStyleIdToName(e.playStyle, l, e.gender)),
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.numberOfOwners"), e.owners.toString()),
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.gamesPlayed"), e.getTotalGamesPlayed().toString()),
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.goalsScored"), e.getTotalGoals().toString()),
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.totalYellowCards"), c),
        this.createItemBioRowView(E, l.localize("extendedPlayerInfo.general.totalRedCards"), u),
        E.render(),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.renderAttributes = function(r) {
        var o = this
          , i = r.isGK() ? ["extendedPlayerInfo.stats.diving", "extendedPlayerInfo.stats.handling", "extendedPlayerInfo.stats.kicking", "extendedPlayerInfo.stats.reflexes", "extendedPlayerInfo.stats.acceleration", "extendedPlayerInfo.stats.positioning"] : ["extendedPlayerInfo.stats.pace", "extendedPlayerInfo.stats.shooting", "extendedPlayerInfo.stats.passing", "extendedPlayerInfo.stats.dribbling", "extendedPlayerInfo.stats.defending", "extendedPlayerInfo.stats.heading"]
          , n = services.Localization;
        this.createHeader(this.__dataDisplay, n.localize("extendedPlayerInfo.tab.stats"));
        var a = this.createItemBioListView(this.__dataDisplay);
        this.createProgressListRow(a, n.localize("extendedPlayerInfo.general.overall"), r.rating, r.rating),
        r.getAttributes().forEach(function(t, e) {
            o.createDonutListRow(a, n.localize(i[e]), t, t / 99 * 100),
            r.getSubAttributesByParent(e).forEach(function(t, e) {
                var i = r.getSubAttribute(t);
                i && o.createProgressListRow(a, n.localize("item.subattribute." + ItemSubAttribute[i.type]), i.value(), i.value() / 99 * 100)
            })
        }, this),
        a.render(),
        this.createHeader(this.__dataDisplay, n.localize("extendedPlayerInfo.stats.status"));
        var t = this.createItemBioListView(this.__dataDisplay);
        this.createItemBioRowView(t, n.localize("extendedPlayerInfo.general.injury"), n.localize("extendedPlayerInfo.general.injury." + r.injuryType)),
        this.createItemBioRowView(t, n.localize("extendedPlayerInfo.general.injuryDuration"), r.injuryGames.toString()),
        this.createItemBioRowView(t, n.localize("extendedPlayerInfo.currentYellowCards"), r.getYellowCards().toString()),
        this.createItemBioRowView(t, n.localize("extendedPlayerInfo.currentRedCards"), r.getRedCards().toString()),
        t.render(),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.renderPlayerTraits = function(t) {
        var e = services.Localization
          , i = t.getPlayStyles()
          , r = []
          , o = []
          , n = []
          , a = []
          , s = []
          , l = [];
        0 === i.length && this.renderNoPlayerTraits(),
        i.forEach(function(t) {
            var e = t.category;
            e === TraitDomain.FINISHING ? r.push(t) : e === TraitDomain.PASSING ? o.push(t) : e === TraitDomain.DEFENDING ? n.push(t) : e === TraitDomain.BALL_CONTROL ? a.push(t) : e === TraitDomain.PHYSICAL ? s.push(t) : e === TraitDomain.GOAL_KEEPER && l.push(t)
        }),
        0 < r.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.finishing")),
        this.renderTraitsDomainList(r, t, TraitDomain.FINISHING)),
        0 < o.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.passing")),
        this.renderTraitsDomainList(o, t, TraitDomain.PASSING)),
        0 < n.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.defending")),
        this.renderTraitsDomainList(n, t, TraitDomain.DEFENDING)),
        0 < a.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.ballcontrol")),
        this.renderTraitsDomainList(a, t, TraitDomain.BALL_CONTROL)),
        0 < s.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.physical")),
        this.renderTraitsDomainList(s, t, TraitDomain.PHYSICAL)),
        0 < l.length && (this.createHeader(this.__dataDisplay, e.localize("extendedplayerInfo.traits.goalkeeper")),
        this.renderTraitsDomainList(l, t, TraitDomain.GOAL_KEEPER)),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.renderNoPlayerTraits = function() {
        var t = new UTTraitNoPlayStylesView;
        this.others.push(t),
        t.init(),
        this.addSubview(t, this.__scrollerDiv)
    }
    ,
    UTPlayerBioView.prototype.renderTraitsDomainList = function(t, e, r) {
        var o = this
          , i = new UTTraitListView;
        i.render(t, e),
        i.addTarget(this, function(t, e, i) {
            return o.traitTapped(i.index, r)
        }, EventType.TAP),
        this.lists.push(i),
        this.addSubview(i, this.__dataDisplay),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.traitTapped = function(t, e) {
        var i = UTPlayerBioView.EVENT.BALL_CONTROL_TRAIT_TAP;
        switch (e) {
        case TraitDomain.FINISHING:
            i = UTPlayerBioView.EVENT.FINISHING_TRAIT_TAP;
            break;
        case TraitDomain.PASSING:
            i = UTPlayerBioView.EVENT.PASSING_TRAIT_TAP;
            break;
        case TraitDomain.GOAL_KEEPER:
            i = UTPlayerBioView.EVENT.GOAL_KEEPER_TRAIT_TAP;
            break;
        case TraitDomain.PHYSICAL:
            i = UTPlayerBioView.EVENT.PHYSICAL_TRAIT_TAP;
            break;
        case TraitDomain.DEFENDING:
            i = UTPlayerBioView.EVENT.DEFENDING_TRAIT_TAP
        }
        this._triggerActions(i, {
            index: t
        })
    }
    ,
    UTPlayerBioView.prototype.renderLegends = function(t) {
        var e, i = null === (e = t.getMetaData()) || void 0 === e ? void 0 : e.legendBio, r = services.Localization;
        this.createLegendHeader(this.__dataDisplay, r.localize("extendedPlayerInfo.legend.story"));
        var o = new UTPlayerBioStoryView;
        this.others.push(o),
        o.setStory(TextUtils.nltobr(r.localize("FUT_LEGEND_DESCR_" + t.definitionId))),
        this.addSubview(o, this.__dataDisplay),
        this.createLegendHeader(this.__dataDisplay, r.localize("extendedPlayerInfo.legend.clubCareerTitle"));
        var n = new UTPseudoTableView;
        this.tables.push(n),
        this.addSubview(n, this.__dataDisplay),
        n.addRowGroup([r.localize("extendedPlayerInfo.legend.years"), r.localize("extendedPlayerInfo.legend.team"), r.localize("extendedPlayerInfo.legend.appearances"), r.localize("extendedPlayerInfo.legend.goals")]),
        null == i || i.clubCareer.forEach(function(t, e) {
            n.addRowData([(t.endYear - t.startYear).toString(), function getTeamName(t, e) {
                var i = services.Localization;
                if ((!e || JSUtils.isNumber(e) && e > APP_YEAR) && (e = APP_YEAR),
                e <= 2009)
                    return BLANK_STR;
                var r = UTLocalizationUtil.teamIdToAbbr15(t, i);
                return -1 !== r.indexOf("*") ? getTeamName(t, e - 1) : r
            }(t.teamId, APP_YEAR), t.matches.toString(), t.goals.toString()])
        }),
        this.createLegendHeader(this.__dataDisplay, r.localize("extendedPlayerInfo.legend.nationalCareerTitle")),
        n = new UTPseudoTableView,
        this.tables.push(n),
        this.addSubview(n, this.__dataDisplay),
        n.addRowGroup([r.localize("extendedPlayerInfo.legend.years"), r.localize("extendedPlayerInfo.legend.team"), r.localize("extendedPlayerInfo.legend.appearances"), r.localize("extendedPlayerInfo.legend.goals")]),
        null == i || i.nationalCareer.forEach(function(t, e) {
            n.addRowData([(t.endYear - t.startYear).toString(), UTLocalizationUtil.teamIdToAbbr15(t.teamId, r), t.matches.toString(), t.goals.toString()])
        }),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.renderPlayerProfile = function(t) {
        var e = services.Localization;
        this.createLegendHeader(this.__dataDisplay, e.localize("FUT_PROFILE_PANEL_TITLE_" + t.rareflag));
        var i = new UTPlayerBioStoryView;
        i.setStory(TextUtils.nltobr(e.localize("FUT_PROFILE_DESCR_" + t.definitionId))),
        this.others.push(i),
        this.addSubview(i, this.__dataDisplay),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.renderPlayerRoles = function(r) {
        this.clearComponentList(),
        DOMKit.empty(this.__dataDisplay);
        var o = services.Localization
          , t = this.createItemBioListView(this.__dataDisplay)
          , e = new EAParagraphTextView;
        e.setText(o.localize("extendedPlayerInfo.roles.description")),
        t.addRow(e),
        t.render(),
        this.createHeader(this.__dataDisplay, o.localize("extendedPlayerInfo.roles.positionHeading"));
        var n = this.createItemBioListView(this.__dataDisplay);
        r.positions.forEach(function(t) {
            var e = new UTPlayerBioRoleRowView
              , i = UTLocalizationUtil.positionIdToName(t.id, o);
            e.setPosition(i),
            e.setBaseRoles(t.baseRoles, r.gender),
            e.setPlusRoles(t.plusRoles, r.gender),
            e.setPlusPlusRoles(t.plusPlusRoles, r.gender),
            n.addSubview(e)
        }),
        n.render(),
        this.layoutSubviews()
    }
    ,
    UTPlayerBioView.prototype.createDonutListRow = function(t, e, i, r) {
        var o = new UTDonutListItemView;
        o.init(),
        o.title = e,
        o.setValue(i),
        o.setProgress(r),
        o.render(),
        t.addRow(o)
    }
    ,
    UTPlayerBioView.prototype.createProgressListRow = function(t, e, i, r) {
        var o = new UTProgressListItemView;
        o.value = i,
        o.title = e,
        o.setProgress(r),
        o.render(),
        t.addRow(o)
    }
    ,
    UTPlayerBioView.prototype.createTemporaryItemRow = function(t, e) {
        var i = new UTPlayerBioTemporaryItemRowView;
        i.render(e),
        t.addRow(i)
    }
    ,
    UTPlayerBioView.prototype.createRatingRow = function(t, e, i) {
        var r = new UTItemBioRowView;
        r.init(),
        r.setLabel(e);
        var o = new UTStarRatingView;
        o.setRatingPercent(i / 5 * 100),
        r.addSubview(o),
        r.layoutSubviews(),
        t.addRow(r)
    }
    ,
    UTPlayerBioView.CLASS = {
        ISOLATED_SECTION: "isolated-section"
    },
    UTPlayerBioView.EVENT = {
        FINISHING_TRAIT_TAP: "finishing-trait-tap",
        PASSING_TRAIT_TAP: "passing-trait-tap",
        DEFENDING_TRAIT_TAP: "defending-trait-tap",
        BALL_CONTROL_TRAIT_TAP: "ball-control-trait-tap",
        PHYSICAL_TRAIT_TAP: "physical-trait-tap",
        GOAL_KEEPER_TRAIT_TAP: "goalkeeper-trait-tap"
    },
    UTPlayerBioView
}(UTItemBioView));
UTPlayerBioView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("article");
        t.classList.add("ut-pinned-list-container"),
        t.classList.add("ut-player-bio-view"),
        this.__pinnedDiv = document.createElement("div"),
        t.appendChild(this.__pinnedDiv),
        this._navigation = new EAFilterBarView,
        t.appendChild(this._navigation.getRootElement()),
        this.__scrollerDiv = document.createElement("div"),
        this.__scrollerDiv.classList.add("ut-pinned-list"),
        this.__dataDisplay = document.createElement("div"),
        this.__scrollerDiv.appendChild(this.__dataDisplay),
        t.appendChild(this.__scrollerDiv),
        this.__root = t,
        this._generated = !0
    }
}
,
UTPlayerBioView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__pinnedDiv = null,
    this._navigation.destroy(),
    this.__scrollerDiv = null,
    this.__dataDisplay = null
}
,
UTPlayerBioView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTraitDetailPopupView = function(e) {
    function UTTraitDetailPopupView() {
        var t = null !== e && e.apply(this, arguments) || this;
        return t.onComplete = new EAObservable,
        t
    }
    return __extends(UTTraitDetailPopupView, e),
    UTTraitDetailPopupView.prototype.init = function() {
        var t = this;
        e.prototype.init.call(this);
        services.Localization;
        this._exitButton.init(),
        this._exitButton.addTarget(this, function() {
            return t.onComplete.notify()
        }, EventType.TAP)
    }
    ,
    UTTraitDetailPopupView.prototype.dealloc = function() {
        this.onComplete.dealloc(),
        e.prototype.dealloc.call(this)
    }
    ,
    UTTraitDetailPopupView.prototype.render = function(t, e, i) {
        var r = services.Localization
          , o = "images/traits/bio/" + (e ? "icon" : "base") + "trait" + t + ".png"
          , n = "extendedPlayerInfo.signatureAbility"
          , a = e ? "iconTrait" : "baseTrait"
          , s = n + ".name." + t
          , l = n + ".desc." + t + "." + a
          , c = n + "." + a
          , u = r.localize(c)
          , p = r.localize(s, [], {
            gender: i
        })
          , d = r.localize(l, [], {
            gender: i
        });
        this._traitImage.src = o,
        this.__traitTitle.textContent = u + ": " + p,
        this.__description.textContent = d
    }
    ,
    UTTraitDetailPopupView
}(EAView);
UTTraitDetailPopupView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("ut-trait-detail-popup-view");
        var e = document.createElement("header");
        this.__traitTitle = document.createElement("h1"),
        this.__traitTitle.classList.add("ut-trait-detail-popup-view-trait-title"),
        e.appendChild(this.__traitTitle),
        this._exitButton = new UTImageButtonControl,
        this._exitButton.getRootElement().classList.add("exit-btn"),
        e.appendChild(this._exitButton.getRootElement()),
        t.appendChild(e);
        var i = document.createElement("div");
        i.classList.add("ut-trait-detail-popup-view-body"),
        this._traitImage = new EAImageView,
        i.appendChild(this._traitImage.getRootElement()),
        this.__description = document.createElement("p"),
        this.__description.classList.add("ut-trait-detail-popup-view-description"),
        i.appendChild(this.__description),
        t.appendChild(i),
        this.__root = t,
        this._generated = !0
    }
}
,
UTTraitDetailPopupView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null,
    this.__traitTitle = null,
    this._exitButton.destroy(),
    this._traitImage.destroy(),
    this.__description = null
}
,
UTTraitDetailPopupView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var UTTraitDetailViewController = function(r) {
    function UTTraitDetailViewController(t, e) {
        var i = r.call(this) || this;
        return i.traitId = t.traitId,
        i.isIcon = t.isIcon,
        i.gender = e,
        i
    }
    return __extends(UTTraitDetailViewController, r),
    UTTraitDetailViewController.prototype.init = function() {
        var t = this;
        r.prototype.init.call(this);
        var e = this.getView();
        e.render(this.traitId, this.isIcon, this.gender),
        e.onComplete.observe(this, function() {
            return t.onExit.notify()
        }),
        TelemetryManager.trackPage(TelemetryManager.Sections.MISC, "Trait Detail")
    }
    ,
    UTTraitDetailViewController.prototype._getViewInstanceFromData = function() {
        return new UTTraitDetailPopupView
    }
    ,
    UTTraitDetailViewController
}(BasePopupViewController)
  , UTPlayerBioViewController = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(r) {
    function UTPlayerBioViewController() {
        var t = r.call(this) || this;
        return t.pinnedItem = null,
        t.pinnedItemController = new UTPinnedItemViewController,
        t.viewModel = new UTItemListViewModel([]),
        t
    }
    return __extends(UTPlayerBioViewController, r),
    UTPlayerBioViewController.prototype.init = function() {
        this.initialized || (r.prototype.init.call(this),
        TelemetryManager.trackPage(TelemetryManager.Sections.MISC, "PlayerBio"))
    }
    ,
    UTPlayerBioViewController.prototype.initWithItem = function(t) {
        var e, i;
        this.initialized || (DebugUtils.Assert(t instanceof UTItemEntity, "Initialization expected an item entity."),
        this.pinnedItem = t,
        null === (e = this.viewModel) || void 0 === e || e.add(t),
        null === (i = this.pinnedItemController) || void 0 === i || i.initWithItem(t),
        this.init())
    }
    ,
    UTPlayerBioViewController.prototype.initWithSlot = function(t) {
        var e, i;
        if (!this.initialized) {
            var r = t.item;
            this.pinnedItem = r,
            null === (e = this.viewModel) || void 0 === e || e.add(r),
            null === (i = this.pinnedItemController) || void 0 === i || i.initWithSlot(t),
            this.init()
        }
    }
    ,
    UTPlayerBioViewController.prototype.dealloc = function() {
        var t, e, i;
        null === (t = this.pinnedItemController) || void 0 === t || t.dealloc(),
        null === (e = this.viewModel) || void 0 === e || e.resetCollection([]),
        null === (i = this.viewModel) || void 0 === i || i.stopAuctionUpdates(),
        this.pinnedItemController = null,
        this.pinnedItem = null,
        this.viewModel = null,
        r.prototype.dealloc.call(this)
    }
    ,
    UTPlayerBioViewController.prototype.viewDidAppear = function() {
        var i = this;
        r.prototype.viewDidAppear.call(this),
        this.pinnedItem && this.pinnedItem.isPlayer() && this.pinnedItem.isSpecial() ? (gClickShield.showShield(EAClickShieldView.Shield.LOADING),
        services.PlayerMetaData.updateItemPlayerMeta([this.pinnedItem]).observe(this, function(t, e) {
            gClickShield.hideShield(EAClickShieldView.Shield.LOADING),
            i.render()
        })) : this.render(),
        getDefaultDispatcher().addObserver(AppNotification.ACADEMY_ITEM_SELECTED, this, this.onUpdateSlotView)
    }
    ,
    UTPlayerBioViewController.prototype.viewWillDisappear = function() {
        var t;
        r.prototype.viewWillDisappear.call(this);
        var e = this.getView();
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.FINISHING_TRAIT_TAP),
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.BALL_CONTROL_TRAIT_TAP),
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.PHYSICAL_TRAIT_TAP),
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.PASSING_TRAIT_TAP),
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.GOAL_KEEPER_TRAIT_TAP),
        e.removeTarget(this, this.showTrait, UTPlayerBioView.EVENT.DEFENDING_TRAIT_TAP),
        null === (t = this.viewModel) || void 0 === t || t.stopAuctionUpdates(),
        getDefaultDispatcher().removeObserver(AppNotification.ACADEMY_ITEM_SELECTED, this)
    }
    ,
    UTPlayerBioViewController.prototype._getViewInstanceFromData = function() {
        return new UTPlayerBioView
    }
    ,
    UTPlayerBioViewController.prototype.getNavigationTitle = function() {
        var t, e, i = null !== (e = null === (t = this.pinnedItem) || void 0 === t ? void 0 : t.gender) && void 0 !== e ? e : GrammaticalGender.NEUTER;
        return services.Localization.localize("navbar.label.playerBio", [], {
            gender: i
        })
    }
    ,
    UTPlayerBioViewController.prototype.render = function() {
        var t, e, i, r = this.getView();
        if (this.pinnedItem && this.pinnedItem.isPlayer() && this.pinnedItem.getMetaData()) {
            if (r.setupNavigation(this.eNavSelected.bind(this), this.pinnedItem),
            this.pinnedItemController) {
                var o = services.Localization.locale.region === RegionEnum.USA ? MeasurementSystem.IMPERIAL : MeasurementSystem.METRIC
                  , n = services.UserSettings.getMeasurementSystem(o);
                r.appendPinnedItemView(this.pinnedItemController.getView()),
                r.render(PlayerBioDisplayGroup.INFO, this.pinnedItem, n)
            }
        } else
            DebugUtils.Assert(!1, "UTPlayerBioViewController::viewDidAppear.Requires a player item withproper meta data to be initialized with."),
            services.Notification.queue([services.Localization.localize("playerbio.unavailable"), UINotificationType.NEGATIVE]),
            null === (t = this.getNavigationController()) || void 0 === t || t.popViewController();
        isPhone() && (null === (e = this.viewModel) || void 0 === e || e.startAuctionUpdates()),
        r.layoutSubviews(),
        r.calculateHeights(),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.FINISHING_TRAIT_TAP),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.BALL_CONTROL_TRAIT_TAP),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.PHYSICAL_TRAIT_TAP),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.PASSING_TRAIT_TAP),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.GOAL_KEEPER_TRAIT_TAP),
        r.addTarget(this, this.showTrait, UTPlayerBioView.EVENT.DEFENDING_TRAIT_TAP),
        null === (i = this.getNavigationController()) || void 0 === i || i.setNavigationVisibility(!0)
    }
    ,
    UTPlayerBioViewController.prototype.showRolesTab = function(n) {
        var t = this.getView()
          , e = n.possiblePositions.map(function(e) {
            var t = services.Squad.getRoleIdsForPosition(e)
              , i = []
              , r = []
              , o = [];
            return t.forEach(function(t) {
                n.hasPlusPlusRolesForPositionRole(t, e) ? o.push(t) : n.hasPlusRolesForPositionRole(t, e) ? r.push(t) : i.push(t)
            }),
            {
                id: e,
                baseRoles: i,
                plusRoles: r,
                plusPlusRoles: o
            }
        });
        t.renderPlayerRoles({
            gender: n.gender,
            positions: e
        })
    }
    ,
    UTPlayerBioViewController.prototype.eNavSelected = function(t, e, i) {
        if (this.pinnedItem) {
            var r = Number(i.id);
            if (r === PlayerBioDisplayGroup.ROLES)
                this.showRolesTab(this.pinnedItem);
            else {
                var o = this.getView()
                  , n = services.Localization.locale.region === RegionEnum.USA ? MeasurementSystem.IMPERIAL : MeasurementSystem.METRIC
                  , a = services.UserSettings.getMeasurementSystem(n);
                o.render(r, this.pinnedItem, a)
            }
        }
    }
    ,
    UTPlayerBioViewController.prototype.showTrait = function(t, e, i) {
        var r, o, n, a, s, l = null !== (o = null === (r = this.pinnedItem) || void 0 === r ? void 0 : r.getPlayStyles()) && void 0 !== o ? o : [];
        switch (e) {
        case UTPlayerBioView.EVENT.PHYSICAL_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.PHYSICAL
            })[i.index];
            break;
        case UTPlayerBioView.EVENT.DEFENDING_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.DEFENDING
            })[i.index];
            break;
        case UTPlayerBioView.EVENT.BALL_CONTROL_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.BALL_CONTROL
            })[i.index];
            break;
        case UTPlayerBioView.EVENT.GOAL_KEEPER_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.GOAL_KEEPER
            })[i.index];
            break;
        case UTPlayerBioView.EVENT.PASSING_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.PASSING
            })[i.index];
            break;
        case UTPlayerBioView.EVENT.FINISHING_TRAIT_TAP:
            s = l.filter(function(t) {
                return t.category === TraitDomain.FINISHING
            })[i.index]
        }
        if (s) {
            var c = new UTTraitDetailViewController(s,null !== (a = null === (n = this.pinnedItem) || void 0 === n ? void 0 : n.gender) && void 0 !== a ? a : 0);
            c.modalDisplayDimensions.width = "24em",
            gPopupClickShield.setActivePopup(c)
        }
    }
    ,
    UTPlayerBioViewController.prototype.onUpdateSlotView = function(t, e, i) {
        var r, o, n, a, s = null === (r = null == i ? void 0 : i.updatedSlot) || void 0 === r ? void 0 : r.levels[(null === (o = null == i ? void 0 : i.updatedSlot) || void 0 === o ? void 0 : o.levels.length) - 1].boostedPlayer;
        s && s.isPlayer() && (this.pinnedItem = s,
        null === (n = this.viewModel) || void 0 === n || n.add(s),
        null === (a = this.pinnedItemController) || void 0 === a || a.initWithItem(s),
        this.render())
    }
    ,
    UTPlayerBioViewController
}(EAViewController))
  , TNSPropertiesDTO = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function TNSPropertiesDTO() {
        var t = e.call(this) || this;
        return t.nav = !1,
        t.controls = !0,
        t.loop = !1,
        t.textDirection = services.Localization.locale.isRTL() ? LanguageDirectionEnum.RTL : LanguageDirectionEnum.LTR,
        t.touch = !0,
        t.mouseDrag = !0,
        t.startIndex = 0,
        t.speed = 300,
        t.autoplay = !1,
        t.autoplaySpeed = 5e3,
        t.prevButton = !1,
        t.nextButton = !1,
        t.controlsText = ["", ""],
        t.autoplayText = ["", ""],
        t.items = 1,
        t.navPosition = "bottom",
        t.container = ".slider",
        t.preventActionWhenRunning = !1,
        t
    }
    return __extends(TNSPropertiesDTO, e),
    TNSPropertiesDTO
}(EAObject))
  , TNSContainerView = (__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}(),
function(e) {
    function TNSContainerView() {
        var t = e.call(this) || this;
        return t.afterChangeCb = null,
        t.eventHandler = t.handleSliderEvent.bind(t),
        t.properties = null,
        t.slider = null,
        t
    }
    return __extends(TNSContainerView, e),
    TNSContainerView.prototype.dealloc = function() {
        this.afterChangeCb = null,
        this.destroySlider(),
        e.prototype.dealloc.call(this)
    }
    ,
    TNSContainerView.prototype.destroySlider = function(t) {
        this.isOn() && (this.slider && (this.slider.destroy(),
        this.slider = null),
        t && (this.__root = t.getElementsByClassName("slider")[0]))
    }
    ,
    TNSContainerView.prototype.setup = function(t) {
        DebugUtils.Assert(!JSUtils.isValid(this.slider), "Trying to setup a TNSContainer when it has already been setup."),
        this.properties = t,
        this.slider = tns(this.properties),
        this.slider.events.on("indexChanged", this.eventHandler)
    }
    ,
    TNSContainerView.prototype.teardown = function(t) {
        this.isOn() && this.destroySlider(t),
        this.emptyCarousel()
    }
    ,
    TNSContainerView.prototype.emptyCarousel = function() {
        DOMKit.empty(this.getRootElement())
    }
    ,
    TNSContainerView.prototype.isOn = function() {
        return !!this.slider && !!this.slider.isOn
    }
    ,
    TNSContainerView.prototype.getCurrentSlide = function() {
        return this.slider && this.slider.isOn ? this.slider.getInfo().displayIndex - 1 : -1
    }
    ,
    TNSContainerView.prototype.getNumOfSlides = function() {
        return this.slider && this.slider.isOn ? this.slider.getInfo().slideCountNew : 0
    }
    ,
    TNSContainerView.prototype.afterChange = function(t) {
        this.afterChangeCb = t
    }
    ,
    TNSContainerView.prototype.goTo = function(t) {
        this.slider && this.slider.isOn && this.getCurrentSlide() !== t && this.slider.goTo(t)
    }
    ,
    TNSContainerView.prototype.appendElem = function(t, e) {
        var i = document.createElement("div");
        !JSUtils.isEmpty(e) && e && DOMKit.addClass(i, e),
        JSUtils.valToArray(t).forEach(function(t) {
            return i.appendChild(t)
        }),
        this.getRootElement().appendChild(i)
    }
    ,
    TNSContainerView.prototype.dynamicSlideChange = function(t, e) {
        var i = this.getRootElement().children[t];
        if (i) {
            var r = i.childNodes[0];
            if (r)
                return void i.replaceChild(e, r);
            DebugUtils.Assert(!1, "Can't find the slide that belongs to the provided index. Nothing being replaced.")
        }
    }
    ,
    TNSContainerView.prototype.handleSliderEvent = function(t, e) {
        "indexChanged" === e && this.afterChangeCb && this.afterChangeCb(t.index)
    }
    ,
    TNSContainerView
}(EAView));
TNSContainerView.prototype._generate = function _generate() {
    if (!this._generated) {
        var t = document.createElement("div");
        t.classList.add("slider"),
        this.__root = t,
        this._generated = !0
    }
}
,
TNSContainerView.prototype.destroyGeneratedElements = function destroyGeneratedElements() {
    DOMKit.remove(this.__root),
    this.__root = null
}
,
TNSContainerView.prototype.getRootElement = function getRootElement() {
    return this.__root
}
;
__extends = this && this.__extends || function() {
    var i = function(t, e) {
        return (i = Object.setPrototypeOf || {
            __proto__: []
        }instanceof Array && function(t, e) {
            t.__proto__ = e
        }
        || function(t, e) {
            for (var i in e)
                Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i])
        }
        )(t, e)
    };
    return function(t, e) {
        function __() {
            this.constructor = t
        }
        i(t, e),
        t.prototype = null === e ? Object.create(e) : (__.prototype = e.prototype,
        new __)
    }
}();
var _a, EANumberDrawBox = function(i) {
    function EANumberDrawBox(t) {
        var e = i.call(this) || this;
        return e.currentCollection = [],
        e.lastDrawnIndex = -1,
        e.originalCollection = Array.isArray(t) ? t : e.createCollection(t),
        e
    }
    return __extends(EANumberDrawBox, i),
    EANumberDrawBox.prototype.reset = function() {
        var r = this;
        1 < this.originalCollection.length ? this.currentCollection = this.originalCollection.reduce(function(t, e, i) {
            return r.lastDrawnIndex !== i && t.push(e),
            t
        }, []) : this.currentCollection = this.originalCollection.slice()
    }
    ,
    EANumberDrawBox.prototype.createCollection = function(t) {
        for (var e = [], i = 0; i < t; ++i)
            e.push(i);
        return e
    }
    ,
    EANumberDrawBox.prototype.draw = function() {
        var t = 0;
        return 0 < this.originalCollection.length && (0 === this.currentCollection.length && this.reset(),
        t = this.currentCollection.splice(Math.floor(Math.random() * this.currentCollection.length), 1)[0],
        0 <= this.lastDrawnIndex ? (this.currentCollection.push(this.originalCollection[this.lastDrawnIndex]),
        this.lastDrawnIndex = -1) : 0 === this.currentCollection.length && (this.lastDrawnIndex = this.originalCollection.indexOf(t))),
        t
    }
    ,
    EANumberDrawBox
}(EAObject), PackUtils = function() {
    function PackUtils() {}
    return PackUtils.hasForeground = function(t) {
        return JSUtils.isValid(PackUtils.foregroundAssetIdRandomizer[t])
    }
    ,
    PackUtils.getForegroundId = function(t) {
        var e = PackUtils.foregroundAssetIdRandomizer[t];
        return e ? e.draw() : -1
    }
    ,
    PackUtils.foregroundAssetIdRandomizer = ((_a = {})[PurchasePackTier.BRONZE] = new EANumberDrawBox(4),
    _a[PurchasePackTier.SILVER] = new EANumberDrawBox(4),
    _a[PurchasePackTier.GOLD] = new EANumberDrawBox(4),
    _a[PurchasePackTier.SPECIAL] = new EANumberDrawBox(1),
    _a),
    PackUtils
}();
